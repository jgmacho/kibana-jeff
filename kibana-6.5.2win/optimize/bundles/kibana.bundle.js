/*! Copyright Elasticsearch B.V. and/or license to Elasticsearch B.V. under one or more contributor license agreements
 * Licensed under the Elastic License; you may not use this file except in compliance with the Elastic License. */
webpackJsonp([1],{104:function(module,exports,__webpack_require__){"use strict";var YAMLException=__webpack_require__(642);var TYPE_CONSTRUCTOR_OPTIONS=["kind","resolve","construct","instanceOf","predicate","represent","defaultStyle","styleAliases"];var YAML_NODE_KINDS=["scalar","sequence","mapping"];function compileStyleAliases(map){var result={};null!==map&&Object.keys(map).forEach(function(style){map[style].forEach(function(alias){result[String(alias)]=style})});return result}function Type(tag,options){options=options||{};Object.keys(options).forEach(function(name){if(-1===TYPE_CONSTRUCTOR_OPTIONS.indexOf(name))throw new YAMLException('Unknown option "'+name+'" is met in definition of "'+tag+'" YAML type.')});this.tag=tag;this.kind=options["kind"]||null;this.resolve=options["resolve"]||function(){return true};this.construct=options["construct"]||function(data){return data};this.instanceOf=options["instanceOf"]||null;this.predicate=options["predicate"]||null;this.represent=options["represent"]||null;this.defaultStyle=options["defaultStyle"]||null;this.styleAliases=compileStyleAliases(options["styleAliases"]||null);if(-1===YAML_NODE_KINDS.indexOf(this.kind))throw new YAMLException('Unknown kind "'+this.kind+'" is specified for "'+tag+'" YAML type.')}module.exports=Type},121:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _clear_cache_indices=__webpack_require__(6899);Object.keys(_clear_cache_indices).forEach(function(key){if("default"===key||"__esModule"===key)return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _clear_cache_indices[key]}})});var _clear_row_status=__webpack_require__(6903);Object.keys(_clear_row_status).forEach(function(key){if("default"===key||"__esModule"===key)return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _clear_row_status[key]}})});var _close_indices=__webpack_require__(6904);Object.keys(_close_indices).forEach(function(key){if("default"===key||"__esModule"===key)return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _close_indices[key]}})});var _delete_indices=__webpack_require__(2201);Object.keys(_delete_indices).forEach(function(key){if("default"===key||"__esModule"===key)return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _delete_indices[key]}})});var _flush_indices=__webpack_require__(6905);Object.keys(_flush_indices).forEach(function(key){if("default"===key||"__esModule"===key)return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _flush_indices[key]}})});var _forcemerge_indices=__webpack_require__(6906);Object.keys(_forcemerge_indices).forEach(function(key){if("default"===key||"__esModule"===key)return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _forcemerge_indices[key]}})});var _load_indices=__webpack_require__(6907);Object.keys(_load_indices).forEach(function(key){if("default"===key||"__esModule"===key)return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _load_indices[key]}})});var _load_index_data=__webpack_require__(1259);Object.keys(_load_index_data).forEach(function(key){if("default"===key||"__esModule"===key)return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _load_index_data[key]}})});var _open_indices=__webpack_require__(6908);Object.keys(_open_indices).forEach(function(key){if("default"===key||"__esModule"===key)return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _open_indices[key]}})});var _refresh_indices=__webpack_require__(6909);Object.keys(_refresh_indices).forEach(function(key){if("default"===key||"__esModule"===key)return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _refresh_indices[key]}})});var _reload_indices=__webpack_require__(2202);Object.keys(_reload_indices).forEach(function(key){if("default"===key||"__esModule"===key)return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _reload_indices[key]}})});var _table_state=__webpack_require__(6911);Object.keys(_table_state).forEach(function(key){if("default"===key||"__esModule"===key)return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _table_state[key]}})});var _edit_index_settings=__webpack_require__(6912);Object.keys(_edit_index_settings).forEach(function(key){if("default"===key||"__esModule"===key)return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _edit_index_settings[key]}})});var _update_index_settings=__webpack_require__(2203);Object.keys(_update_index_settings).forEach(function(key){if("default"===key||"__esModule"===key)return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _update_index_settings[key]}})});var _detail_panel=__webpack_require__(2204);Object.keys(_detail_panel).forEach(function(key){if("default"===key||"__esModule"===key)return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _detail_panel[key]}})})},1250:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _number=__webpack_require__(6775);Object.defineProperty(exports,"NumberFormatEditor",{enumerable:true,get:function get(){return _number.NumberFormatEditor}})},1251:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var provider_1=__webpack_require__(6810);exports.BreadcrumbProvider=provider_1.BreadcrumbProvider;var consumer_1=__webpack_require__(2188);exports.BreadcrumbConsumer=consumer_1.BreadcrumbConsumer;var route_with_breadcrumb_1=__webpack_require__(6811);exports.RouteWithBreadcrumb=route_with_breadcrumb_1.RouteWithBreadcrumb},1252:function(module,exports,__webpack_require__){"use strict";var Schema=__webpack_require__(539);module.exports=new Schema({explicit:[__webpack_require__(6825),__webpack_require__(6826),__webpack_require__(6827)]})},1253:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var react_1=tslib_1.__importDefault(__webpack_require__(0));var react_router_dom_1=__webpack_require__(49);var eui_1=__webpack_require__(2);exports.PrimaryLayout=react_router_dom_1.withRouter(function(_ref){var actionSection=_ref.actionSection,title=_ref.title,modalRender=_ref.modalRender,modalClosePath=_ref.modalClosePath,children=_ref.children,history=_ref.history;var modalContent=modalRender&&modalRender();return react_1.default.createElement(eui_1.EuiPage,null,react_1.default.createElement(eui_1.EuiPageBody,null,react_1.default.createElement(eui_1.EuiPageHeader,null,react_1.default.createElement(eui_1.EuiPageHeaderSection,null,react_1.default.createElement(eui_1.EuiTitle,null,react_1.default.createElement("h1",null,title))),react_1.default.createElement(eui_1.EuiPageHeaderSection,null," ",actionSection)),react_1.default.createElement(eui_1.EuiPageContent,null,react_1.default.createElement(eui_1.EuiPageContentBody,null,children))),modalContent&&react_1.default.createElement(eui_1.EuiOverlayMask,null,react_1.default.createElement(eui_1.EuiModal,{onClose:function onClose(){history.push(modalClosePath)},style:{width:"640px"}},modalContent)))})},1254:function(module,exports,__webpack_require__){"use strict";var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};function _objectWithoutProperties(obj,keys){var target={};for(var i in obj){if(keys.indexOf(i)>=0)continue;if(!Object.prototype.hasOwnProperty.call(obj,i))continue;target[i]=obj[i]}return target}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var react_1=tslib_1.__importDefault(__webpack_require__(0));var eui_1=__webpack_require__(2);var react_router_dom_1=__webpack_require__(49);function ConnectedLinkComponent(_ref){var location=_ref.location,path=_ref.path,query=_ref.query,disabled=_ref.disabled,props=_objectWithoutProperties(_ref,["location","path","query","disabled"]);if(disabled)return react_1.default.createElement(eui_1.EuiLink,Object.assign({"aria-disabled":"true"},props));var pathname=path||_.get(props.to,"pathname")||location.pathname;return react_1.default.createElement(react_router_dom_1.Link,Object.assign({},props,{to:_extends({},location,props.to,{pathname:pathname,query:query}),className:"euiLink euiLink--primary "+(props.className||"")}))}exports.ConnectedLinkComponent=ConnectedLinkComponent;exports.ConnectedLink=react_router_dom_1.withRouter(ConnectedLinkComponent)},1255:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var eui_1=__webpack_require__(2);var react_1=tslib_1.__importDefault(__webpack_require__(0));var constants_1=__webpack_require__(390);var disabled_tag_badge_1=__webpack_require__(6850);exports.TagBadge=function(props){var iconType=props.iconType,onClick=props.onClick,onClickAriaLabel=props.onClickAriaLabel,_props$tag=props.tag,color=_props$tag.color,disabled=_props$tag.disabled,id=_props$tag.id;var maxIdRenderSize=props.maxIdRenderSize||constants_1.TABLE_CONFIG.TRUNCATE_TAG_LENGTH;var idToRender=id.length>maxIdRenderSize?id.substring(0,maxIdRenderSize)+"...":id;return disabled?react_1.default.createElement(disabled_tag_badge_1.DisabledTagBadge,{maxIdRenderSize:props.maxIdRenderSize,id:id}):react_1.default.createElement(eui_1.EuiBadge,{color:color||"primary",iconType:iconType,onClick:onClick,onClickAriaLabel:onClickAriaLabel},idToRender)}},1256:function(module,exports){ace.define("ace/mode/yaml_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],function(acequire,exports,module){"use strict";var oop=acequire("../lib/oop");var TextHighlightRules=acequire("./text_highlight_rules").TextHighlightRules;var YamlHighlightRules=function(){this.$rules={start:[{token:"comment",regex:"#.*$"},{token:"list.markup",regex:/^(?:-{3}|\.{3})\s*(?=#|$)/},{token:"list.markup",regex:/^\s*[\-?](?:$|\s)/},{token:"constant",regex:"!![\\w//]+"},{token:"constant.language",regex:"[&\\*][a-zA-Z0-9-_]+"},{token:["meta.tag","keyword"],regex:/^(\s*\w.*?)(:(?=\s|$))/},{token:["meta.tag","keyword"],regex:/(\w+?)(\s*:(?=\s|$))/},{token:"keyword.operator",regex:"<<\\w*:\\w*"},{token:"keyword.operator",regex:"-\\s*(?=[{])"},{token:"string",regex:'["](?:(?:\\\\.)|(?:[^"\\\\]))*?["]'},{token:"string",regex:/[|>][-+\d\s]*$/,onMatch:function(val,state,stack,line){var indent=/^\s*/.exec(line)[0];stack.length<1?stack.push(this.next):stack[0]="mlString";stack.length<2?stack.push(indent.length):stack[1]=indent.length;return this.token},next:"mlString"},{token:"string",regex:"['](?:(?:\\\\.)|(?:[^'\\\\]))*?[']"},{token:"constant.numeric",regex:/(\b|[+\-\.])[\d_]+(?:(?:\.[\d_]*)?(?:[eE][+\-]?[\d_]+)?)(?=[^\d-\w]|$)/},{token:"constant.numeric",regex:/[+\-]?\.inf\b|NaN\b|0x[\dA-Fa-f_]+|0b[10_]+/},{token:"constant.language.boolean",regex:"\\b(?:true|false|TRUE|FALSE|True|False|yes|no)\\b"},{token:"paren.lparen",regex:"[[({]"},{token:"paren.rparen",regex:"[\\])}]"},{token:"text",regex:/[^\s,:\[\]\{\}]+/}],mlString:[{token:"indent",regex:/^\s*$/},{token:"indent",regex:/^\s*/,onMatch:function(val,state,stack){var curIndent=stack[1];if(curIndent>=val.length){this.next="start";stack.splice(0)}else this.next="mlString";return this.token},next:"mlString"},{token:"string",regex:".+"}]};this.normalizeRules()};oop.inherits(YamlHighlightRules,TextHighlightRules);exports.YamlHighlightRules=YamlHighlightRules});ace.define("ace/mode/matching_brace_outdent",["require","exports","module","ace/range"],function(acequire,exports,module){"use strict";var Range=acequire("../range").Range;var MatchingBraceOutdent=function(){};(function(){this.checkOutdent=function(line,input){if(!/^\s+$/.test(line))return false;return/^\s*\}/.test(input)};this.autoOutdent=function(doc,row){var line=doc.getLine(row);var match=line.match(/^(\s*\})/);if(!match)return 0;var column=match[1].length;var openBracePos=doc.findMatchingBracket({row:row,column:column});if(!openBracePos||openBracePos.row==row)return 0;var indent=this.$getIndent(doc.getLine(openBracePos.row));doc.replace(new Range(row,0,row,column-1),indent)};this.$getIndent=function(line){return line.match(/^\s*/)[0]}}).call(MatchingBraceOutdent.prototype);exports.MatchingBraceOutdent=MatchingBraceOutdent});ace.define("ace/mode/folding/coffee",["require","exports","module","ace/lib/oop","ace/mode/folding/fold_mode","ace/range"],function(acequire,exports,module){"use strict";var oop=acequire("../../lib/oop");var BaseFoldMode=acequire("./fold_mode").FoldMode;var Range=acequire("../../range").Range;var FoldMode=exports.FoldMode=function(){};oop.inherits(FoldMode,BaseFoldMode);(function(){this.getFoldWidgetRange=function(session,foldStyle,row){var range=this.indentationBlock(session,row);if(range)return range;var re=/\S/;var line=session.getLine(row);var startLevel=line.search(re);if(-1==startLevel||"#"!=line[startLevel])return;var startColumn=line.length;var maxRow=session.getLength();var startRow=row;var endRow=row;while(++row<maxRow){line=session.getLine(row);var level=line.search(re);if(-1==level)continue;if("#"!=line[level])break;endRow=row}if(endRow>startRow){var endColumn=session.getLine(endRow).length;return new Range(startRow,startColumn,endRow,endColumn)}};this.getFoldWidget=function(session,foldStyle,row){var line=session.getLine(row);var indent=line.search(/\S/);var next=session.getLine(row+1);var prev=session.getLine(row-1);var prevIndent=prev.search(/\S/);var nextIndent=next.search(/\S/);if(-1==indent){session.foldWidgets[row-1]=-1!=prevIndent&&prevIndent<nextIndent?"start":"";return""}if(-1==prevIndent){if(indent==nextIndent&&"#"==line[indent]&&"#"==next[indent]){session.foldWidgets[row-1]="";session.foldWidgets[row+1]="";return"start"}}else if(prevIndent==indent&&"#"==line[indent]&&"#"==prev[indent]&&-1==session.getLine(row-2).search(/\S/)){session.foldWidgets[row-1]="start";session.foldWidgets[row+1]="";return""}session.foldWidgets[row-1]=-1!=prevIndent&&prevIndent<indent?"start":"";return indent<nextIndent?"start":""}}).call(FoldMode.prototype)});ace.define("ace/mode/yaml",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/yaml_highlight_rules","ace/mode/matching_brace_outdent","ace/mode/folding/coffee"],function(acequire,exports,module){"use strict";var oop=acequire("../lib/oop");var TextMode=acequire("./text").Mode;var YamlHighlightRules=acequire("./yaml_highlight_rules").YamlHighlightRules;var MatchingBraceOutdent=acequire("./matching_brace_outdent").MatchingBraceOutdent;var FoldMode=acequire("./folding/coffee").FoldMode;var Mode=function(){this.HighlightRules=YamlHighlightRules;this.$outdent=new MatchingBraceOutdent;this.foldingRules=new FoldMode;this.$behaviour=this.$defaultBehaviour};oop.inherits(Mode,TextMode);(function(){this.lineCommentStart=["#","//"];this.getNextLineIndent=function(state,line,tab){var indent=this.$getIndent(line);if("start"==state){var match=line.match(/^.*[\{\(\[]\s*$/);match&&(indent+=tab)}return indent};this.checkOutdent=function(state,line,input){return this.$outdent.checkOutdent(line,input)};this.autoOutdent=function(state,doc,row){this.$outdent.autoOutdent(doc,row)};this.$id="ace/mode/yaml"}).call(Mode.prototype);exports.Mode=Mode})},1257:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var table_1=__webpack_require__(844);exports.beatsListAssignmentOptions=[{grow:false,name:"Unenroll selected",showWarning:true,warningHeading:"Unenroll selected beats?",warningMessage:"The selected Beats will no longer use central management",action:table_1.AssignmentActionType.Delete,danger:true},{name:"Set tags",grow:false,lazyLoad:true,panel:{id:1,name:"Assign tags"}}];exports.tagListAssignmentOptions=[{danger:true,grow:false,name:"Remove tag(s)",showWarning:true,warningHeading:"Remove tag(s)",warningMessage:"Remove the tag?",action:table_1.AssignmentActionType.Delete}];exports.tagConfigAssignmentOptions=[{danger:true,grow:false,name:"Remove tag(s)",showWarning:true,warningHeading:"Remove tag(s)",warningMessage:"Remove the tag from the selected beat(s)?",action:table_1.AssignmentActionType.Delete}]},1258:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _index_actions_context_menu=__webpack_require__(6895);Object.defineProperty(exports,"IndexActionsContextMenu",{enumerable:true,get:function get(){return _index_actions_context_menu.IndexActionsContextMenu}});var _index_list=__webpack_require__(2200);Object.defineProperty(exports,"IndexList",{enumerable:true,get:function get(){return _index_list.IndexList}});var _detail_panel=__webpack_require__(6913);Object.defineProperty(exports,"DetailPanel",{enumerable:true,get:function get(){return _detail_panel.DetailPanel}});var _index_table=__webpack_require__(6929);Object.defineProperty(exports,"IndexTable",{enumerable:true,get:function get(){return _index_table.IndexTable}})},1259:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.loadIndexData=exports.loadIndexDataSuccess=void 0;var _services=__webpack_require__(131);var _reduxActions=__webpack_require__(29);var _notify=__webpack_require__(11);function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}var loadIndexDataSuccess=exports.loadIndexDataSuccess=(0,_reduxActions.createAction)("INDEX_MANAGEMENT_LOAD_INDEX_DATA_SUCCESS");exports.loadIndexData=function loadIndexData(_ref){var indexName=_ref.indexName,dataType=_ref.dataType;return _ref2=_asyncToGenerator(regeneratorRuntime.mark(function _callee(dispatch){var data;return regeneratorRuntime.wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:data=void 0;_context.prev=1;_context.next=4;return(0,_services.loadIndexData)(dataType,indexName);case 4:data=_context.sent;_context.next=10;break;case 7:_context.prev=7;_context.t0=_context["catch"](1);return _context.abrupt("return",_notify.toastNotifications.addDanger(_context.t0.data.message));case 10:dispatch(loadIndexDataSuccess({data:data,indexName:indexName}));case 11:case"end":return _context.stop()}},_callee,void 0,[[1,7]])})),function(_x){return _ref2.apply(this,arguments)};var _ref2}},1260:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.putLicense=putLicense;exports.startBasic=startBasic;exports.startTrial=startTrial;exports.canStartTrial=canStartTrial;var _chrome=__webpack_require__(9);var _chrome2=_interopRequireDefault(_chrome);var _jquery=__webpack_require__(16);var _jquery2=_interopRequireDefault(_jquery);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function putLicense(license,acknowledge){var options={url:_chrome2.default.addBasePath("/api/license")+(acknowledge?"?acknowledge=true":""),data:license,contentType:"application/json",cache:false,crossDomain:true,type:"PUT"};return _jquery2.default.ajax(options)}function startBasic(acknowledge){var options={url:_chrome2.default.addBasePath("/api/license/start_basic")+(acknowledge?"?acknowledge=true":""),contentType:"application/json",cache:false,crossDomain:true,type:"POST"};return _jquery2.default.ajax(options)}function startTrial(){var options={url:_chrome2.default.addBasePath("/api/license/start_trial"),contentType:"application/json",cache:false,crossDomain:true,type:"POST"};return _jquery2.default.ajax(options)}function canStartTrial(){var options={url:_chrome2.default.addBasePath("/api/license/start_trial"),contentType:"application/json",cache:false,crossDomain:true,type:"GET"};return _jquery2.default.ajax(options)}},1261:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.addUploadErrorMessage=void 0;var _reduxActions=__webpack_require__(29);exports.addUploadErrorMessage=(0,_reduxActions.createAction)("LICENSE_MANAGEMENT_ADD_UPLOAD_ERROR_MESSAGE")},1262:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.refreshJobs=void 0;var _i18n=__webpack_require__(18);var _services=__webpack_require__(81);var _action_types=__webpack_require__(248);function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}exports.refreshJobs=function refreshJobs(){return _ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee(dispatch){var jobs;return regeneratorRuntime.wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:jobs=void 0;_context.prev=1;_context.next=4;return(0,_services.loadJobs)();case 4:jobs=_context.sent;_context.next=10;break;case 7:_context.prev=7;_context.t0=_context["catch"](1);return _context.abrupt("return",(0,_services.showApiWarning)(_context.t0,_i18n.i18n.translate("xpack.rollupJobs.refreshAction.errorTitle",{defaultMessage:"Error refreshing rollup jobs"})));case 10:dispatch({type:_action_types.REFRESH_JOBS_SUCCESS,payload:{jobs:(0,_services.deserializeJobs)(jobs)}});case 11:case"end":return _context.stop()}},_callee,void 0,[[1,7]])})),function(_x){return _ref.apply(this,arguments)};var _ref}},1263:function(module,exports,__webpack_require__){"use strict";__webpack_require__(728);var _lodash=__webpack_require__(1);var _angular=__webpack_require__(22);var _angular2=_interopRequireDefault(_angular);var _modules=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _module=_modules.uiModules.get("security",["ngResource"]);_module.service("ShieldRole",function($resource,chrome){return $resource(chrome.addBasePath("/api/security/role/:name"),{name:"@name"},{save:{method:"PUT",transformRequest:function transformRequest(data){return _angular2.default.toJson((0,_lodash.omit)(data,"name","transient_metadata","_unrecognized_applications"))}}})})},1264:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.BaseWatch=void 0;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _get_search_value=__webpack_require__(7276);var _lodash=__webpack_require__(1);var _action=__webpack_require__(2253);var _watch_status=__webpack_require__(1265);var _create_action_id=__webpack_require__(7287);var _check_action_id_collision=__webpack_require__(7289);var _i18n=__webpack_require__(18);function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var BaseWatch=exports.BaseWatch=function(){function BaseWatch(){var props=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,BaseWatch);_initialiseProps.call(this);this.id=(0,_lodash.get)(props,"id");this.type=(0,_lodash.get)(props,"type");this.isNew=(0,_lodash.get)(props,"isNew",true);this.name=(0,_lodash.get)(props,"name","");this.isSystemWatch=Boolean((0,_lodash.get)(props,"isSystemWatch"));this.watchStatus=_watch_status.WatchStatus.fromUpstreamJson((0,_lodash.get)(props,"watchStatus"));var actions=(0,_lodash.get)(props,"actions",[]);this.actions=actions.map(_action.Action.fromUpstreamJson)}_createClass(BaseWatch,[{key:"displayName",get:function get(){return this.isNew?_i18n.i18n.translate("xpack.watcher.models.baseWatch.displayName",{defaultMessage:"New Watch"}):this.name?this.name:this.id}},{key:"searchValue",get:function get(){return(0,_get_search_value.getSearchValue)(this,["id","name"])}},{key:"typeName",get:function get(){return this.constructor.typeName}},{key:"iconClass",get:function get(){return this.constructor.iconClass}},{key:"selectMessage",get:function get(){return this.constructor.selectMessage}},{key:"selectSortOrder",get:function get(){return this.constructor.selectSortOrder}},{key:"upstreamJson",get:function get(){return{id:this.id,name:this.name,type:this.type,actions:(0,_lodash.map)(this.actions,function(action){return action.upstreamJson})}}}]);return BaseWatch}();BaseWatch.typeName=_i18n.i18n.translate("xpack.watcher.models.baseWatch.typeName",{defaultMessage:"Watch"});BaseWatch.iconClass="";BaseWatch.selectMessage=_i18n.i18n.translate("xpack.watcher.models.baseWatch.selectMessageText",{defaultMessage:"Set up a new watch."});BaseWatch.isCreatable=true;BaseWatch.selectSortOrder=0;var _initialiseProps=function _initialiseProps(){var _this=this;this.updateWatchStatus=function(watchStatus){_this.watchStatus=watchStatus};this.createAction=function(type,defaults){var ActionTypes=_action.Action.getActionTypes();var ActionType=ActionTypes[type];if(!Boolean(ActionType))throw new Error(_i18n.i18n.translate("xpack.watcher.models.baseWatch.createUnknownActionTypeErrorMessage",{defaultMessage:"Attempted to create unknown action type {type}.",values:{type:type}}));var id=(0,_create_action_id.createActionId)(_this.actions,type);var props=(0,_lodash.merge)({},defaults,{id:id,type:type});var action=new ActionType(props);_this.addAction(action)};this.addAction=function(action){(0,_check_action_id_collision.checkActionIdCollision)(_this.actions,action)&&(action.id=(0,_create_action_id.createActionId)(_this.actions,action.type));_this.actions.push(action)};this.deleteAction=function(action){(0,_lodash.remove)(_this.actions,action)};this.isEqualTo=function(otherWatch){var cleanWatch=_extends({},_this);var cleanOtherWatch=_extends({},otherWatch);return(0,_lodash.isEqual)(cleanWatch,cleanOtherWatch)}}},1265:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _watch_status=__webpack_require__(7283);Object.defineProperty(exports,"WatchStatus",{enumerable:true,get:function get(){return _watch_status.WatchStatus}})},1266:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _get_moment=__webpack_require__(7284);Object.defineProperty(exports,"getMoment",{enumerable:true,get:function get(){return _get_moment.getMoment}})},1267:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _time_units=__webpack_require__(7294);Object.defineProperty(exports,"TIME_UNITS",{enumerable:true,get:function get(){return _time_units.TIME_UNITS}})},1268:function(module,exports,__webpack_require__){"use strict";__webpack_require__(7299)},1269:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _update_watch_sections=__webpack_require__(7320);Object.defineProperty(exports,"updateWatchSections",{enumerable:true,get:function get(){return _update_watch_sections.updateWatchSections}});var _update_history_section=__webpack_require__(7321);Object.defineProperty(exports,"updateHistorySection",{enumerable:true,get:function get(){return _update_history_section.updateHistorySection}})},1270:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _watch_action_controller_base=__webpack_require__(7443);Object.defineProperty(exports,"WatchActionControllerBase",{enumerable:true,get:function get(){return _watch_action_controller_base.WatchActionControllerBase}})},1271:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.IndexPatternCreationConfigRegistry=void 0;var _registry=__webpack_require__(92);exports.IndexPatternCreationConfigRegistry=(0,_registry.uiRegistry)({name:"indexPatternCreation",index:["name"],order:["order"]})},1272:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.IndexPatternListConfigRegistry=void 0;var _registry=__webpack_require__(92);exports.IndexPatternListConfigRegistry=(0,_registry.uiRegistry)({name:"indexPatternList",index:["name"],order:["order"]})},1273:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.useResizeChecker=useResizeChecker;var _resize_checker=__webpack_require__(1065);function useResizeChecker($scope,$el){for(var _len=arguments.length,editors=Array(_len>2?_len-2:0),_key=2;_key<_len;_key++)editors[_key-2]=arguments[_key];var checker=new _resize_checker.ResizeChecker($el);checker.on("resize",function(){return editors.forEach(function(e){return e.resize()})});$scope.$on("$destroy",function(){return checker.destroy()})}},1274:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getVersion=getVersion;exports.getContentType=getContentType;exports.send=send;exports.constructESUrl=constructESUrl;var _querystring=__webpack_require__(351);var _jquery=__webpack_require__(16);var _jquery2=_interopRequireDefault(_jquery);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var esVersion=[];function getVersion(){return esVersion}function getContentType(body){if(!body)return;return"application/json"}function send(method,path,data){var wrappedDfd=_jquery2.default.Deferred();var isGetRequest=/^get$/i.test(method);data&&isGetRequest&&(method="POST");var options={url:"../api/console/proxy?"+(0,_querystring.stringify)({path:path,method:method}),data:data,contentType:getContentType(data),cache:false,crossDomain:true,type:"POST",dataType:"text"};_jquery2.default.ajax(options).then(function(data,textStatus,jqXHR){wrappedDfd.resolveWith(this,[data,textStatus,jqXHR])},function(jqXHR,textStatus,errorThrown){0===jqXHR.status&&(jqXHR.responseText="\n\nFailed to connect to Console's backend.\nPlease check the Kibana server is up and running");wrappedDfd.rejectWith(this,[jqXHR,textStatus,errorThrown])});return wrappedDfd}function constructESUrl(baseUri,path){baseUri=baseUri.replace(/\/+$/,"");path=path.replace(/^\/+/,"");return baseUri+"/"+path}},1275:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _lodash=__webpack_require__(1);var _lodash2=_interopRequireDefault(_lodash);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var utils={};utils.textFromRequest=function(request){var data=request.data;"string"!==typeof data&&(data=data.join("\n"));return request.method+" "+request.url+"\n"+data};utils.jsonToString=function(data,indent){return JSON.stringify(data,null,indent?2:0)};utils.reformatData=function(data,indent){var changed=false;var formattedData=[];for(var i=0;i<data.length;i++){var curDoc=data[i];try{var newDoc=utils.jsonToString(JSON.parse(utils.collapseLiteralStrings(curDoc)),indent?2:0);indent&&(newDoc=utils.expandLiteralStrings(newDoc));changed=changed||newDoc!==curDoc;formattedData.push(newDoc)}catch(e){console.log(e);formattedData.push(curDoc)}}return{changed:changed,data:formattedData}};utils.collapseLiteralStrings=function(data){return data.replace(/"""(?:\s*\r?\n)?((?:.|\r?\n)*?)(?:\r?\n\s*)?"""/g,function(match,literal){return JSON.stringify(literal)})};utils.expandLiteralStrings=function(data){return data.replace(/("(?:\\"|[^"])*?")/g,function(match,string){if(string.split(/\\./).length>2){string=JSON.parse(string).replace("^s*\n","").replace("\ns*^","");var append=string.includes("\n")?"\n":"";return'"""'+append+string+append+'"""'}return string})};utils.extractDeprecationMessages=function(warnings){var re=/\d{3} [0-9a-zA-Z!#$%&'*+-.^_`|~]+ \"((?:\t| |!|[\x23-\x5b]|[\x5d-\x7e]|[\x80-\xff]|\\\\|\\")*)\"(?: \"[^"]*\")/;return _lodash2.default.map(utils.splitOnUnquotedCommaSpace(warnings),function(warning){var match=re.exec(warning);return"#! Deprecation: "+(null!==match?utils.unescape(match[1]):warning)})};utils.unescape=function(s){return s.replace(/\\\\/g,"\\").replace(/\\"/g,'"')};utils.splitOnUnquotedCommaSpace=function(s){var quoted=false;var arr=[];var buffer="";var i=0;while(i<s.length){var token=s.charAt(i++);"\\"===token&&i<s.length?token+=s.charAt(i++):","===token&&i<s.length&&" "===s.charAt(i)&&(token+=s.charAt(i++));if('"'===token)quoted=!quoted;else if(!quoted&&", "===token){arr.push(buffer);buffer="";continue}buffer+=token}arr.push(buffer);return arr};exports.default=utils;module.exports=exports["default"]},1276:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _typeof="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"===typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};exports.default=SenseEditor;var _chrome=__webpack_require__(9);var _chrome2=_interopRequireDefault(_chrome);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _=__webpack_require__(1);var ace=__webpack_require__(111);var $=__webpack_require__(16);var curl=__webpack_require__(7551);var RowParser=__webpack_require__(7552);var InputMode=__webpack_require__(7553);var utils=__webpack_require__(1275);var es=__webpack_require__(1274);var smartResize=__webpack_require__(2270);function createInstance($el){var aceEditor=ace.edit($el[0]);var CustomSenseEditor=function CustomSenseEditor(){};CustomSenseEditor.prototype={};function bindProp(key){Object.defineProperty(CustomSenseEditor.prototype,key,{get:function get(){return aceEditor[key]},set:function set(val){aceEditor[key]=val}})}for(var key in aceEditor)switch(_typeof(aceEditor[key])){case"function":CustomSenseEditor.prototype[key]=_.bindKey(aceEditor,key);break;default:bindProp(key)}var editor=new CustomSenseEditor;editor.__ace=aceEditor;return editor}function SenseEditor($el){var editor=createInstance($el);var CURRENT_REQ_RANGE=null;editor.$el=$el;editor.$actions=null;editor.parser=new RowParser(editor);editor.resize=smartResize(editor);var onceDoneTokenizing=function onceDoneTokenizing(func,cancelAlreadyScheduledCalls){var session=editor.getSession();var timer=false;var checkInterval=25;return function(){var self=this;var args=[].slice.call(arguments,0);cancelAlreadyScheduledCalls&&(timer=clearTimeout(timer));setTimeout(function check(){session.bgTokenizer.running?timer=setTimeout(check,checkInterval):func.apply(self,args)})}};editor.setShowPrintMargin(false);(function(session){session.setMode(new InputMode.Mode);session.setFoldStyle("markbeginend");session.setTabSize(2);session.setUseWrapMode(true)})(editor.getSession());editor.prevRequestStart=function(rowOrPos){rowOrPos=_.isUndefined(rowOrPos)||null===rowOrPos?editor.getCursorPosition():rowOrPos;var curRow=_.isObject(rowOrPos)?rowOrPos.row:rowOrPos;while(curRow>0&&!editor.parser.isStartRequestRow(curRow,editor))curRow--;return{row:curRow,column:0}};editor.nextRequestStart=function(rowOrPos){rowOrPos=_.isUndefined(rowOrPos)||null===rowOrPos?editor.getCursorPosition():rowOrPos;var session=editor.getSession();var curRow=_.isObject(rowOrPos)?rowOrPos.row:rowOrPos;var maxLines=session.getLength();for(;curRow<maxLines-1;curRow++)if(editor.parser.isStartRequestRow(curRow,editor))break;return{row:curRow,column:0}};editor.autoIndent=onceDoneTokenizing(function(){editor.getRequestRange(function(reqRange){if(!reqRange)return;editor.getRequest(function(parsedReq){if(parsedReq.data&&parsedReq.data.length>0){var indent=1===parsedReq.data.length;var formattedData=utils.reformatData(parsedReq.data,indent);if(!formattedData.changed){indent=!indent;formattedData=utils.reformatData(parsedReq.data,indent)}parsedReq.data=formattedData.data;editor.replaceRequestRange(parsedReq,reqRange)}})})},true);editor.update=function(data,callback){callback="function"===typeof callback?callback:null;var session=editor.getSession();session.setValue(data);callback&&setTimeout(function(){var i=void 0;for(i=0;i<session.getLength();i++)session.getTokens(i);callback()})};editor.replaceRequestRange=function(newRequest,requestRange){var text=utils.textFromRequest(newRequest);if(requestRange){var pos=editor.getCursorPosition();editor.getSession().replace(requestRange,text);var maxRow=Math.max(requestRange.start.row+text.split("\n").length-1,0);pos.row=Math.min(pos.row,maxRow);editor.moveCursorToPosition(pos);editor.clearSelection()}else editor.insert(text)};editor.iterForCurrentLoc=function(){var pos=editor.getCursorPosition();return editor.iterForPosition(pos.row,pos.column,editor)};editor.iterForPosition=function(row,column){return new(ace.acequire("ace/token_iterator").TokenIterator)(editor.getSession(),row,column)};editor.getRequestRange=onceDoneTokenizing(function(row,cb){if(_.isUndefined(cb)){cb=row;row=null}if("function"!==typeof cb)return;if(editor.parser.isInBetweenRequestsRow(row)){cb(null);return}var reqStart=editor.prevRequestStart(row,editor);var reqEnd=editor.nextRequestEnd(reqStart,editor);cb(new(ace.acequire("ace/range").Range)(reqStart.row,reqStart.column,reqEnd.row,reqEnd.column))});editor.getEngulfingRequestsRange=onceDoneTokenizing(function(range,cb){if(_.isUndefined(cb)){cb=range;range=null}range=range||editor.getSelectionRange();var session=editor.getSession();var startRow=range.start.row;var endRow=range.end.row;var maxLine=Math.max(0,session.getLength()-1);if(editor.parser.isInBetweenRequestsRow(startRow));else for(;startRow>=0;startRow--)if(editor.parser.isStartRequestRow(startRow))break;if(startRow<0||startRow>endRow){cb(null);return}if(editor.parser.isInBetweenRequestsRow(endRow)){for(;endRow>=startRow;endRow--)if(editor.parser.isEndRequestRow(endRow))break}else for(;endRow<=maxLine;endRow++)if(editor.parser.isEndRequestRow(endRow))break;if(endRow<startRow||endRow>maxLine){cb(null);return}var endColumn=(session.getLine(endRow)||"").replace(/\s+$/,"").length;cb(new(ace.acequire("ace/range").Range)(startRow,0,endRow,endColumn))});editor.getRequestInRange=onceDoneTokenizing(function(range,cb){if(!range)return;var request={method:"",data:[],url:null,range:range};var pos=range.start;var tokenIter=editor.iterForPosition(pos.row,pos.column,editor);var t=tokenIter.getCurrentToken();editor.parser.isEmptyToken(t)&&(t=editor.parser.nextNonEmptyToken(tokenIter));request.method=t.value;t=editor.parser.nextNonEmptyToken(tokenIter);if(!t||"method"===t.type)return null;request.url="";while(t&&t.type&&0===t.type.indexOf("url")){request.url+=t.value;t=tokenIter.stepForward()}editor.parser.isEmptyToken(t)&&(t=editor.parser.nextNonEmptyToken(tokenIter));var bodyStartRow=(t?0:1)+tokenIter.getCurrentTokenRow();var dataEndPos=void 0;while(bodyStartRow<range.end.row||bodyStartRow===range.end.row&&0<range.end.column){dataEndPos=editor.nextDataDocEnd({row:bodyStartRow,column:0});var bodyRange=new(ace.acequire("ace/range").Range)(bodyStartRow,0,dataEndPos.row,dataEndPos.column);var data=editor.getSession().getTextRange(bodyRange);request.data.push(data.trim());bodyStartRow=dataEndPos.row+1}cb(request)});editor.getRequestsInRange=function(range,includeNonRequestBlocks,cb){if(_.isUndefined(includeNonRequestBlocks)){includeNonRequestBlocks=false;cb=range;range=null}else if(_.isUndefined(cb)){cb=includeNonRequestBlocks;includeNonRequestBlocks=false}function explicitRangeToRequests(requestsRange,tempCb){if(!requestsRange){tempCb([]);return}var startRow=requestsRange.start.row;var endRow=requestsRange.end.row;var currentRow=startRow;for(;currentRow<=endRow;currentRow++)if(editor.parser.isStartRequestRow(currentRow))break;var nonRequestPrefixBlock=null;includeNonRequestBlocks&&currentRow!==startRow&&(nonRequestPrefixBlock=editor.getSession().getLines(startRow,currentRow-1).join("\n"));if(currentRow>endRow){tempCb(nonRequestPrefixBlock?[nonRequestPrefixBlock]:[]);return}editor.getRequest(currentRow,function(request){if(!request)return;explicitRangeToRequests({start:{row:request.range.end.row+1},end:{row:requestsRange.end.row}},function(restOfRequests){restOfRequests.unshift(request);null!==nonRequestPrefixBlock&&restOfRequests.unshift(nonRequestPrefixBlock);tempCb(restOfRequests)})})}editor.getEngulfingRequestsRange(range,function(requestRange){explicitRangeToRequests(requestRange,cb)})};editor.getRequest=onceDoneTokenizing(function(row,cb){if(_.isUndefined(cb)){cb=row;row=null}if("function"!==typeof cb)return;if(editor.parser.isInBetweenRequestsRow(row)){cb(null);return}editor.getRequestRange(row,function(range){editor.getRequestInRange(range,cb)})});editor.moveToPreviousRequestEdge=onceDoneTokenizing(function(){var pos=editor.getCursorPosition();for(pos.row--;pos.row>0&&!editor.parser.isRequestEdge(pos.row);pos.row--);editor.moveCursorTo(pos.row,0)});editor.moveToNextRequestEdge=onceDoneTokenizing(function(moveOnlyIfNotOnEdge){var pos=editor.getCursorPosition();var maxRow=editor.getSession().getLength();moveOnlyIfNotOnEdge||pos.row++;for(;pos.row<maxRow&&!editor.parser.isRequestEdge(pos.row);pos.row++);editor.moveCursorTo(pos.row,0)});editor.nextRequestEnd=function(pos){pos=pos||editor.getCursorPosition();var session=editor.getSession();var curRow=pos.row;var maxLines=session.getLength();for(;curRow<maxLines-1;curRow++){var curRowMode=editor.parser.getRowParseMode(curRow,editor);if((curRowMode&editor.parser.MODE.REQUEST_END)>0)break;if(curRow!==pos.row&&(curRowMode&editor.parser.MODE.REQUEST_START)>0)break}var column=(session.getLine(curRow)||"").replace(/\s+$/,"").length;return{row:curRow,column:column}};editor.nextDataDocEnd=function(pos){pos=pos||editor.getCursorPosition();var session=editor.getSession();var curRow=pos.row;var maxLines=session.getLength();for(;curRow<maxLines-1;curRow++){var curRowMode=editor.parser.getRowParseMode(curRow,editor);if((curRowMode&RowParser.REQUEST_END)>0)break;if((curRowMode&editor.parser.MODE.MULTI_DOC_CUR_DOC_END)>0)break;if(curRow!==pos.row&&(curRowMode&editor.parser.MODE.REQUEST_START)>0)break}var column=(session.getLine(curRow)||"").length;return{row:curRow,column:column}};var origOnPaste=editor.__ace.onPaste;editor.__ace.onPaste=function(text){if(text&&curl.detectCURL(text)){editor.handleCURLPaste(text);return}origOnPaste.call(this,text)};editor.handleCURLPaste=function(text){var curlInput=curl.parseCURL(text);editor.insert(curlInput)};editor.highlightCurrentRequestsAndUpdateActionBar=onceDoneTokenizing(function(){var session=editor.getSession();editor.getEngulfingRequestsRange(function(newCurrentReqRange){if(null===newCurrentReqRange&&null===CURRENT_REQ_RANGE)return;if(null!==newCurrentReqRange&&null!==CURRENT_REQ_RANGE&&newCurrentReqRange.start.row===CURRENT_REQ_RANGE.start.row&&newCurrentReqRange.end.row===CURRENT_REQ_RANGE.end.row){var cursorRow=editor.getCursorPosition().row;cursorRow===CURRENT_REQ_RANGE.start.row&&editor.updateActionsBar();return}CURRENT_REQ_RANGE&&session.removeMarker(CURRENT_REQ_RANGE.marker_id);CURRENT_REQ_RANGE=newCurrentReqRange;CURRENT_REQ_RANGE&&(CURRENT_REQ_RANGE.marker_id=session.addMarker(CURRENT_REQ_RANGE,"ace_snippet-marker","fullLine"));editor.updateActionsBar()})},true);editor.getRequestsAsCURL=function(range,cb){if(_.isUndefined(cb)){cb=range;range=null}_.isUndefined(cb)&&(cb=$.noop);editor.getRequestsInRange(range,true,function(requests){var result=_.map(requests,function requestToCurl(req){if("string"===typeof req)return req;var esPath=req.url;var esMethod=req.method;var esData=req.data;var elasticsearchBaseUrl=_chrome2.default.getInjected("elasticsearchUrl");var url=es.constructESUrl(elasticsearchBaseUrl,esPath);var ret="curl -X"+esMethod+' "'+url+'"';if(esData&&esData.length){ret+=" -H 'Content-Type: application/json' -d'\n";var dataAsString=utils.collapseLiteralStrings(esData.join("\n"));ret+=dataAsString.replace(/'/g,'\\"');esData.length>1&&(ret+="\n");ret+="'"}return ret});cb(result.join("\n"))})};editor.getSession().on("tokenizerUpdate",function(){editor.highlightCurrentRequestsAndUpdateActionBar()});editor.getSession().selection.on("changeCursor",function(){editor.highlightCurrentRequestsAndUpdateActionBar()});editor.updateActionsBar=(set=function set(top){null===top?editor.$actions.css("visibility","hidden"):editor.$actions.css({top:top,visibility:"visible"})},hide=function hide(){set()},function(){if(!editor.$actions)return;if(CURRENT_REQ_RANGE){var offsetFromPage=editor.$el.offset().top;var startRow=CURRENT_REQ_RANGE.start.row;var startColumn=CURRENT_REQ_RANGE.start.column;var session=editor.session;var firstLine=session.getLine(startRow);firstLine.length>session.getWrapLimit()-5&&(startRow>0?startRow--:startRow++);var topOfReq=editor.renderer.textToScreenCoordinates(startRow,startColumn).pageY-offsetFromPage;if(topOfReq>=0)return set(topOfReq);var bottomOfReq=editor.renderer.textToScreenCoordinates(CURRENT_REQ_RANGE.end.row,CURRENT_REQ_RANGE.end.column).pageY-offsetFromPage;if(bottomOfReq>=0)return set(0)}hide()});var set,hide;editor.getSession().on("changeScrollTop",editor.updateActionsBar);return editor}module.exports=exports["default"]},1277:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var $=__webpack_require__(16);var storage=__webpack_require__(653);var history={restoreFromHistory:function restoreFromHistory(){throw new Error("not implemented")},getHistoryKeys:function getHistoryKeys(){return storage.keys().filter(function(key){return 0===key.indexOf("hist_elem")}).sort().reverse()},getHistory:function getHistory(){return history.getHistoryKeys().map(function(key){return storage.get(key)})},addToHistory:function addToHistory(endpoint,method,data){var keys=history.getHistoryKeys();keys.splice(0,500);$.each(keys,function(i,k){storage.delete(k)});var timestamp=(new Date).getTime();var k="hist_elem_"+timestamp;storage.set(k,{time:timestamp,endpoint:endpoint,method:method,data:data})},updateCurrentState:function updateCurrentState(content){var timestamp=(new Date).getTime();storage.set("editor_state",{time:timestamp,content:content})},getSavedEditorState:function getSavedEditorState(){var saved=storage.get("editor_state");if(!saved)return;var time=saved.time,content=saved.content;return{time:time,content:content}},clearHistory:function clearHistory(){history.getHistoryKeys().forEach(function(key){return storage.delete(key)})}};exports.default=history;module.exports=exports["default"]},1278:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Synopsis=Synopsis;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(6);var _propTypes2=_interopRequireDefault(_propTypes);var _eui=__webpack_require__(2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function Synopsis(_ref){var description=_ref.description,iconUrl=_ref.iconUrl,iconType=_ref.iconType,title=_ref.title,url=_ref.url,wrapInPanel=_ref.wrapInPanel,onClick=_ref.onClick,isBeta=_ref.isBeta;var optionalImg=void 0;iconUrl?optionalImg=_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement("img",{className:"synopsisIcon",src:iconUrl,alt:""})):iconType&&(optionalImg=_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiIcon,{type:iconType,color:"primary",size:"xl"})));var content=_react2.default.createElement(_eui.EuiFlexGroup,null,optionalImg,_react2.default.createElement(_eui.EuiFlexItem,{className:"synopsisContent"},_react2.default.createElement(_eui.EuiTitle,{size:"s",className:"synopsisTitle"},_react2.default.createElement("h4",null,title)),_react2.default.createElement(_eui.EuiText,{className:"synopsisBody"},_react2.default.createElement("p",null,_react2.default.createElement(_eui.EuiTextColor,{color:"subdued"},description)))));var synopsisDisplay=content;wrapInPanel&&(synopsisDisplay=_react2.default.createElement(_eui.EuiPanel,{className:"synopsisPanel",betaBadgeLabel:isBeta?"BETA":null},content));if(onClick)return _react2.default.createElement("span",{onClick:onClick,className:"euiLink synopsis","data-test-subj":"homeSynopsisLink"+title.toLowerCase()},synopsisDisplay);return _react2.default.createElement("a",{href:url,className:"euiLink synopsis","data-test-subj":"homeSynopsisLink"+title.toLowerCase()},synopsisDisplay)}Synopsis.propTypes={description:_propTypes2.default.string.isRequired,iconUrl:_propTypes2.default.string,iconType:_propTypes2.default.string,title:_propTypes2.default.string.isRequired,url:_propTypes2.default.string,onClick:_propTypes2.default.func,isBeta:_propTypes2.default.bool};Synopsis.defaultProps={isBeta:false}},1279:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Content=Content;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(6);var _propTypes2=_interopRequireDefault(_propTypes);var _markdown=__webpack_require__(1863);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var whiteListedRules=["backticks","emphasis","link","list"];function Content(_ref){var text=_ref.text;return _react2.default.createElement(_markdown.Markdown,{className:"euiText",markdown:text,openLinksInNewTab:true,whiteListedRules:whiteListedRules})}Content.propTypes={text:_propTypes2.default.string.isRequired}},1280:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _can_append_wildcard=__webpack_require__(7724);Object.defineProperty(exports,"canAppendWildcard",{enumerable:true,get:function get(){return _can_append_wildcard.canAppendWildcard}});var _ensure_minimum_time=__webpack_require__(7725);Object.defineProperty(exports,"ensureMinimumTime",{enumerable:true,get:function get(){return _ensure_minimum_time.ensureMinimumTime}});var _get_indices=__webpack_require__(7726);Object.defineProperty(exports,"getIndices",{enumerable:true,get:function get(){return _get_indices.getIndices}});var _get_matched_indices=__webpack_require__(7727);Object.defineProperty(exports,"getMatchedIndices",{enumerable:true,get:function get(){return _get_matched_indices.getMatchedIndices}});var _contains_illegal_characters=__webpack_require__(7728);Object.defineProperty(exports,"containsIllegalCharacters",{enumerable:true,get:function get(){return _contains_illegal_characters.containsIllegalCharacters}});var _extract_time_fields=__webpack_require__(7729);Object.defineProperty(exports,"extractTimeFields",{enumerable:true,get:function get(){return _extract_time_fields.extractTimeFields}})},1281:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.FAILURE_REASONS={UNKNOWN:"unknown",INVALID_TIEBREAKER:"invalid_tiebreaker"};exports.LOADING_STATUS={FAILED:"failed",LOADED:"loaded",LOADING:"loading",UNINITIALIZED:"uninitialized"}},131:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _api=__webpack_require__(2199);Object.keys(_api).forEach(function(key){if("default"===key||"__esModule"===key)return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _api[key]}})});var _sort_table=__webpack_require__(6900);Object.defineProperty(exports,"sortTable",{enumerable:true,get:function get(){return _sort_table.sortTable}});var _filter_items=__webpack_require__(6901);Object.defineProperty(exports,"filterItems",{enumerable:true,get:function get(){return _filter_items.filterItems}});var _health_to_color=__webpack_require__(6902);Object.defineProperty(exports,"healthToColor",{enumerable:true,get:function get(){return _health_to_color.healthToColor}})},2185:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.RegistryFieldFormatEditorsProvider=void 0;var _registry=__webpack_require__(92);exports.RegistryFieldFormatEditorsProvider=(0,_registry.uiRegistry)({name:"fieldFormatEditors",index:["formatId"],constructor:function constructor(){this.getEditor=function(formatId){return this.byFormatId[formatId]}}})},2186:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.INDEX_NAMES={BEATS:".management-beats"}},2187:function(module,exports,__webpack_require__){"use strict";var _a;Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var react_1=tslib_1.__importDefault(__webpack_require__(0));var defaultContext={breadcrumbs:[],addCrumb:function addCrumb(crumb){return null},removeCrumb:function removeCrumb(crumb){return null}};_a=react_1.default.createContext(defaultContext),exports.Provider=_a.Provider,exports.Consumer=_a.Consumer},2188:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var context_1=__webpack_require__(2187);exports.BreadcrumbConsumer=context_1.Consumer},2189:function(module,exports,__webpack_require__){"use strict";var yaml=__webpack_require__(6822);module.exports=yaml},2190:function(module,exports,__webpack_require__){"use strict";var Schema=__webpack_require__(539);module.exports=new Schema({include:[__webpack_require__(2191)]})},2191:function(module,exports,__webpack_require__){"use strict";var Schema=__webpack_require__(539);module.exports=new Schema({include:[__webpack_require__(1252)],implicit:[__webpack_require__(6828),__webpack_require__(6829),__webpack_require__(6830),__webpack_require__(6831)]})},2192:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var eui_1=__webpack_require__(2);var react_1=tslib_1.__importDefault(__webpack_require__(0));var index_1=__webpack_require__(6853);var table_controls_1=__webpack_require__(6856);function ControlBar(props){var _props$assignmentOpti=props.assignmentOptions,actionHandler=_props$assignmentOpti.actionHandler,items=_props$assignmentOpti.items,schema=_props$assignmentOpti.schema,type=_props$assignmentOpti.type,kueryBarProps=props.kueryBarProps,selectionCount=props.selectionCount;if("none"===type)return null;return react_1.default.createElement(eui_1.EuiFlexGroup,{alignItems:"center",justifyContent:"spaceBetween"},react_1.default.createElement(eui_1.EuiFlexItem,{grow:false},react_1.default.createElement(table_controls_1.OptionControl,{itemType:props.itemType,schema:schema,selectionCount:selectionCount,actionHandler:actionHandler,items:items})),kueryBarProps&&react_1.default.createElement(eui_1.EuiFlexItem,null,react_1.default.createElement(index_1.AutocompleteField,Object.assign({},kueryBarProps,{placeholder:"Filter results"}))))}exports.ControlBar=ControlBar},2193:function(module,exports,__webpack_require__){"use strict";var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();function _defineProperty(obj,key,value){key in obj?Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true}):obj[key]=value;return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var eui_1=__webpack_require__(2);var react_1=tslib_1.__importDefault(__webpack_require__(0));var config_schemas_1=__webpack_require__(841);var config_form_1=__webpack_require__(6862);var ConfigView=function(_react_1$default$Comp){_inherits(ConfigView,_react_1$default$Comp);function ConfigView(props){_classCallCheck(this,ConfigView);var _this=_possibleConstructorReturn(this,(ConfigView.__proto__||Object.getPrototypeOf(ConfigView)).call(this,props));_this.form=react_1.default.createRef();_this.onValueChange=function(field){return function(e){var value=e.currentTarget?e.currentTarget.value:e;_this.setState(function(state){return{configBlock:_extends({},state.configBlock,_defineProperty({},field,value))}})}};_this.editMode=void 0!==props.configBlock;_this.state={valid:false,configBlock:props.configBlock||{type:config_schemas_1.supportedConfigs[0].value}};return _this}_createClass(ConfigView,[{key:"render",value:function render(){var _this2=this;return react_1.default.createElement(eui_1.EuiFlyout,{onClose:this.props.onClose},react_1.default.createElement(eui_1.EuiFlyoutHeader,null,react_1.default.createElement(eui_1.EuiTitle,{size:"m"},react_1.default.createElement("h2",null,this.editMode?this.props.onSave?"Edit configuration block":"View configuration block":"Add configuration block"))),react_1.default.createElement(eui_1.EuiFlyoutBody,null,react_1.default.createElement(eui_1.EuiFormRow,{label:"Type"},react_1.default.createElement(eui_1.EuiSelect,{options:config_schemas_1.supportedConfigs,value:this.state.configBlock.type,disabled:this.editMode,onChange:this.onValueChange("type")})),react_1.default.createElement(eui_1.EuiFormRow,{label:"Description"},react_1.default.createElement(eui_1.EuiFieldText,{value:this.state.configBlock.description,disabled:!this.props.onSave,onChange:this.onValueChange("description"),placeholder:"Description (optional)"})),react_1.default.createElement("h3",null,config_schemas_1.supportedConfigs.find(function(config){return _this2.state.configBlock.type===config.value}).text,"configuration"),react_1.default.createElement(eui_1.EuiHorizontalRule,null),react_1.default.createElement(config_form_1.ConfigForm,{onSubmit:this.props.onSave?function(data){_this2.props.onSave&&_this2.props.onSave(_extends({},_this2.state.configBlock,{configs:[data]}));_this2.props.onClose()}:void 0,canSubmit:function canSubmit(canIt){return _this2.setState({valid:canIt})},ref:this.form,values:this.state.configBlock,id:config_schemas_1.supportedConfigs.find(function(config){return _this2.state.configBlock.type===config.value}).value,schema:config_schemas_1.supportedConfigs.find(function(config){return _this2.state.configBlock.type===config.value}).config})),react_1.default.createElement(eui_1.EuiFlyoutFooter,null,react_1.default.createElement(eui_1.EuiFlexGroup,{justifyContent:"spaceBetween"},react_1.default.createElement(eui_1.EuiFlexItem,{grow:false},react_1.default.createElement(eui_1.EuiButtonEmpty,{iconType:"cross",onClick:this.props.onClose},"Close")),this.props.onSave&&react_1.default.createElement(eui_1.EuiFlexItem,{grow:false},react_1.default.createElement(eui_1.EuiButton,{disabled:!this.state.valid,fill:true,onClick:function onClick(){_this2.form.current&&_this2.form.current.submit()}},"Save")))))}}]);return ConfigView}(react_1.default.Component);exports.ConfigView=ConfigView},2194:function(module,exports,__webpack_require__){false;module.exports=__webpack_require__(6864)()},2195:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _typeof="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"===typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};exports.default={arraysDiffer:function arraysDiffer(a,b){var _this=this;var isDifferent=false;a.length!==b.length?isDifferent=true:a.forEach(function(item,index){_this.isSame(item,b[index])||(isDifferent=true)},this);return isDifferent},objectsDiffer:function objectsDiffer(a,b){var _this2=this;var isDifferent=false;Object.keys(a).length!==Object.keys(b).length?isDifferent=true:Object.keys(a).forEach(function(key){_this2.isSame(a[key],b[key])||(isDifferent=true)},this);return isDifferent},isSame:function isSame(a,b){if(("undefined"===typeof a?"undefined":_typeof(a))!==("undefined"===typeof b?"undefined":_typeof(b)))return false;if(Array.isArray(a)&&Array.isArray(b))return!this.arraysDiffer(a,b);if("function"===typeof a)return a.toString()===b.toString();if("object"===("undefined"===typeof a?"undefined":_typeof(a))&&null!==a&&null!==b)return!this.objectsDiffer(a,b);return a===b},find:function find(collection,fn){for(var i=0,l=collection.length;i<l;i+=1){var item=collection[i];if(fn(item))return item}return null},runRules:function runRules(value,currentValues,validations,validationRules){var results={errors:[],failed:[],success:[]};Object.keys(validations).length&&Object.keys(validations).forEach(function(validationMethod){if(validationRules[validationMethod]&&"function"===typeof validations[validationMethod])throw new Error("Formsy does not allow you to override default validations: "+validationMethod);if(!validationRules[validationMethod]&&"function"!==typeof validations[validationMethod])throw new Error("Formsy does not have the validation rule: "+validationMethod);if("function"===typeof validations[validationMethod]){var validation=validations[validationMethod](currentValues,value);if("string"===typeof validation){results.errors.push(validation);results.failed.push(validationMethod)}else validation||results.failed.push(validationMethod);return}if("function"!==typeof validations[validationMethod]){var _validation=validationRules[validationMethod](currentValues,value,validations[validationMethod]);if("string"===typeof _validation){results.errors.push(_validation);results.failed.push(validationMethod)}else _validation?results.success.push(validationMethod):results.failed.push(validationMethod);return}results.success.push(validationMethod)});return results}}},2196:function(module,exports,__webpack_require__){"use strict";var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var react_1=tslib_1.__importDefault(__webpack_require__(0));var WithKueryAutocompletion=function(_react_1$default$Comp){_inherits(WithKueryAutocompletion,_react_1$default$Comp);function WithKueryAutocompletion(){var _this2=this;_classCallCheck(this,WithKueryAutocompletion);var _this=_possibleConstructorReturn(this,(WithKueryAutocompletion.__proto__||Object.getPrototypeOf(WithKueryAutocompletion)).apply(this,arguments));_this.state={currentRequest:null,suggestions:[]};_this.loadSuggestions=(_ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee(expression,cursorPosition,maxSuggestions){var suggestions;return regeneratorRuntime.wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_this.setState({currentRequest:{expression:expression,cursorPosition:cursorPosition},suggestions:[]});suggestions=[];_context.prev=2;_context.next=5;return _this.props.libs.elasticsearch.getSuggestions(expression,cursorPosition,_this.props.fieldPrefix);case 5:suggestions=_context.sent;_context.next=11;break;case 8:_context.prev=8;_context.t0=_context["catch"](2);suggestions=[];case 11:_this.setState(function(state){return state.currentRequest&&state.currentRequest.expression!==expression&&state.currentRequest.cursorPosition!==cursorPosition?state:_extends({},state,{currentRequest:null,suggestions:maxSuggestions?suggestions.slice(0,maxSuggestions):suggestions})});case 12:case"end":return _context.stop()}},_callee,_this2,[[2,8]])})),function(_x,_x2,_x3){return _ref.apply(this,arguments)});var _ref;return _this}_createClass(WithKueryAutocompletion,[{key:"render",value:function render(){var _state=this.state,currentRequest=_state.currentRequest,suggestions=_state.suggestions;return this.props.children({isLoadingSuggestions:null!==currentRequest,loadSuggestions:this.loadSuggestions,suggestions:suggestions})}}]);return WithKueryAutocompletion}(react_1.default.Component);exports.WithKueryAutocompletion=WithKueryAutocompletion},2197:function(module,exports,__webpack_require__){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var eui_1=__webpack_require__(2);var lodash_1=__webpack_require__(1);var react_1=tslib_1.__importDefault(__webpack_require__(0));var with_url_state_1=__webpack_require__(540);var EnrollBeat=function(_react_1$default$Comp){_inherits(EnrollBeat,_react_1$default$Comp);function EnrollBeat(props){var _this2=this;_classCallCheck(this,EnrollBeat);var _this=_possibleConstructorReturn(this,(EnrollBeat.__proto__||Object.getPrototypeOf(EnrollBeat)).call(this,props));_this.pinging=false;_this.pingForBeatWithToken=(_ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee(libs,token){var beats,timeout;return regeneratorRuntime.wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return libs.beats.getBeatWithToken(token);case 3:beats=_context.sent;if(beats){_context.next=6;break}throw new Error("no beats");case 6:return _context.abrupt("return",beats);case 9:_context.prev=9;_context.t0=_context["catch"](0);if(!_this.pinging){_context.next=18;break}timeout=function timeout(ms){return new Promise(function(res){return setTimeout(res,ms)})};_context.next=15;return timeout(5e3);case 15:_context.next=17;return _this.pingForBeatWithToken(libs,token);case 17:return _context.abrupt("return",_context.sent);case 18:case"end":return _context.stop()}},_callee,_this2,[[0,9]])})),function(_x,_x2){return _ref.apply(this,arguments)});var _ref;_this.waitForToken=(_ref2=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(token){var enrolledBeat;return regeneratorRuntime.wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:if(!_this.pinging){_context2.next=2;break}return _context2.abrupt("return");case 2:_this.pinging=true;_context2.next=5;return _this.pingForBeatWithToken(_this.props.libs,token);case 5:enrolledBeat=_context2.sent;_this.setState({enrolledBeat:enrolledBeat});_this.pinging=false;case 8:case"end":return _context2.stop()}},_callee2,_this2)})),function(_x3){return _ref2.apply(this,arguments)});var _ref2;_this.state={enrolledBeat:null,command:"sudo filebeat",beatType:"filebeat"};return _this}_createClass(EnrollBeat,[{key:"componentDidMount",value:function(){var _ref3=_asyncToGenerator(regeneratorRuntime.mark(function _callee3(){var enrollmentToken;return regeneratorRuntime.wrap(function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:if(this.props.urlState.enrollmentToken){_context3.next=5;break}_context3.next=3;return this.props.libs.tokens.createEnrollmentToken();case 3:enrollmentToken=_context3.sent;this.props.setUrlState({enrollmentToken:enrollmentToken});case 5:case"end":return _context3.stop()}},_callee3,this)}));function componentDidMount(){return _ref3.apply(this,arguments)}return componentDidMount}()},{key:"render",value:function render(){var _this3=this;if(!this.props.urlState.enrollmentToken)return null;this.props.urlState.enrollmentToken&&!this.state.enrolledBeat&&this.waitForToken(this.props.urlState.enrollmentToken);var goTo=this.props.goTo;var actions=[];switch(this.props.location.pathname){case"/overview/initial/beats":actions.push({goTo:"/overview/initial/tag",name:"Continue"});break;case"/overview/beats/enroll":actions.push({goTo:"/overview/beats/enroll",name:"Enroll another Beat",newToken:true});actions.push({goTo:"/overview/beats",name:"Done",clearToken:true})}return react_1.default.createElement(react_1.default.Fragment,null,!this.state.enrolledBeat&&react_1.default.createElement(react_1.default.Fragment,null,react_1.default.createElement(eui_1.EuiFlexGroup,null,react_1.default.createElement(eui_1.EuiFlexItem,null,react_1.default.createElement(eui_1.EuiFlexGroup,{gutterSize:"s",alignItems:"center"},react_1.default.createElement(eui_1.EuiFlexItem,{grow:false},react_1.default.createElement(eui_1.EuiTitle,{size:"xs"},react_1.default.createElement("h3",null,"Beat type:")))),react_1.default.createElement(eui_1.EuiSelect,{value:this.state.beatType,options:[{value:"filebeat",text:"Filebeat"},{value:"metricbeat",text:"Metricbeat"}],onChange:function onChange(e){return _this3.setState({beatType:e.target.value})},fullWidth:true}))),react_1.default.createElement("br",null),react_1.default.createElement("br",null),react_1.default.createElement(eui_1.EuiFlexGroup,null,react_1.default.createElement(eui_1.EuiFlexItem,null,react_1.default.createElement(eui_1.EuiFlexGroup,{gutterSize:"s",alignItems:"center"},react_1.default.createElement(eui_1.EuiFlexItem,{grow:false},react_1.default.createElement(eui_1.EuiTitle,{size:"xs"},react_1.default.createElement("h3",null,"Platform:")))),react_1.default.createElement(eui_1.EuiSelect,{value:this.state.command,options:[{value:"sudo "+this.state.beatType,text:"DEB / RPM"},{value:"PS C:\\Program Files\\"+lodash_1.capitalize(this.state.beatType)+"> "+this.state.beatType+".exe",text:"Windows"},{value:"./"+this.state.beatType,text:"MacOS"}],onChange:function onChange(e){return _this3.setState({command:e.target.value})},fullWidth:true}))),react_1.default.createElement("br",null),react_1.default.createElement("br",null),this.state.command&&react_1.default.createElement(eui_1.EuiFlexGroup,null,react_1.default.createElement(eui_1.EuiFlexItem,null,react_1.default.createElement(eui_1.EuiFlexGroup,{gutterSize:"s",alignItems:"center"},react_1.default.createElement(eui_1.EuiFlexItem,{grow:false},react_1.default.createElement(eui_1.EuiTitle,{size:"xs"},react_1.default.createElement("h3",null,"On the host where your ",lodash_1.capitalize(this.state.beatType)," is installed, run:")))),react_1.default.createElement("div",{className:"euiFormControlLayout euiFormControlLayout--fullWidth"},react_1.default.createElement("div",{className:"euiFieldText euiFieldText--fullWidth",style:{textAlign:"left"}},"$ ",this.state.command," enroll ",window.location.protocol,"//",window.location.host,this.props.libs.framework.baseURLPath?this.props.libs.framework.baseURLPath:""," ",this.props.urlState.enrollmentToken)),react_1.default.createElement("br",null),react_1.default.createElement("br",null),react_1.default.createElement(eui_1.EuiFlexGroup,null,react_1.default.createElement(eui_1.EuiFlexItem,null,react_1.default.createElement(eui_1.EuiFlexGroup,{gutterSize:"s",alignItems:"center"},react_1.default.createElement(eui_1.EuiFlexItem,{grow:false},react_1.default.createElement(eui_1.EuiTitle,{size:"xs"},react_1.default.createElement("h3",null,"Waiting for ",lodash_1.capitalize(this.state.beatType)," to enroll...")))))),react_1.default.createElement("br",null),react_1.default.createElement(eui_1.EuiLoadingSpinner,{size:"l"})))),this.state.enrolledBeat&&react_1.default.createElement(eui_1.EuiModalBody,null,"The Beat is now enrolled in central management:",react_1.default.createElement("br",null),react_1.default.createElement("br",null),react_1.default.createElement("br",null),react_1.default.createElement(eui_1.EuiBasicTable,{items:[this.state.enrolledBeat],columns:[{field:"type",name:"Beat Type",sortable:false},{field:"version",name:"Version",sortable:false},{field:"host_name",name:"Hostname",sortable:false}]}),react_1.default.createElement("br",null),react_1.default.createElement("br",null),actions.map(function(action){return react_1.default.createElement(eui_1.EuiButton,{key:action.name,size:"s",color:"primary",style:{marginLeft:10},onClick:function(){var _ref4=_asyncToGenerator(regeneratorRuntime.mark(function _callee4(){var enrollmentToken;return regeneratorRuntime.wrap(function _callee4$(_context4){while(1)switch(_context4.prev=_context4.next){case 0:action.clearToken&&_this3.props.setUrlState({enrollmentToken:""});if(!action.newToken){_context4.next=7;break}_context4.next=4;return _this3.props.libs.tokens.createEnrollmentToken();case 4:enrollmentToken=_context4.sent;_this3.props.setUrlState({enrollmentToken:enrollmentToken});return _context4.abrupt("return",_this3.setState({enrolledBeat:null}));case 7:goTo(action.goTo);case 8:case"end":return _context4.stop()}},_callee4,_this3)}));function onClick(){return _ref4.apply(this,arguments)}return onClick}()},action.name)})))}}]);return EnrollBeat}(react_1.default.Component);exports.EnrollBeat=EnrollBeat;exports.EnrollBeatPage=with_url_state_1.withUrlState(EnrollBeat)},2198:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.BASE_PATH="/management/elasticsearch/index_management/"},2199:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.loadIndexData=exports.loadIndexMapping=exports.loadIndexStats=exports.updateIndexSettings=exports.loadIndexSettings=exports.clearCacheIndices=exports.forcemergeIndices=exports.flushIndices=exports.refreshIndices=exports.openIndices=exports.deleteIndices=exports.closeIndices=exports.reloadIndices=exports.loadIndices=exports.setHttpClient=void 0;exports.loadIndices=(_ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee(){var response;return regeneratorRuntime.wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return httpClient.get(apiPrefix+"/indices");case 2:response=_context.sent;return _context.abrupt("return",response.data);case 4:case"end":return _context.stop()}},_callee,this)})),function loadIndices(){return _ref.apply(this,arguments)});var _ref;exports.reloadIndices=(_ref2=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(indexNames){var body,response;return regeneratorRuntime.wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:body={indexNames:indexNames};_context2.next=3;return httpClient.post(apiPrefix+"/indices/reload",body);case 3:response=_context2.sent;return _context2.abrupt("return",response.data);case 5:case"end":return _context2.stop()}},_callee2,this)})),function reloadIndices(_x){return _ref2.apply(this,arguments)});var _ref2;exports.closeIndices=(_ref3=_asyncToGenerator(regeneratorRuntime.mark(function _callee3(indices){var body,response;return regeneratorRuntime.wrap(function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:body={indices:indices};_context3.next=3;return httpClient.post(apiPrefix+"/indices/close",body);case 3:response=_context3.sent;return _context3.abrupt("return",response.data);case 5:case"end":return _context3.stop()}},_callee3,this)})),function closeIndices(_x2){return _ref3.apply(this,arguments)});var _ref3;exports.deleteIndices=(_ref4=_asyncToGenerator(regeneratorRuntime.mark(function _callee4(indices){var body,response;return regeneratorRuntime.wrap(function _callee4$(_context4){while(1)switch(_context4.prev=_context4.next){case 0:body={indices:indices};_context4.next=3;return httpClient.post(apiPrefix+"/indices/delete",body);case 3:response=_context4.sent;return _context4.abrupt("return",response.data);case 5:case"end":return _context4.stop()}},_callee4,this)})),function deleteIndices(_x3){return _ref4.apply(this,arguments)});var _ref4;exports.openIndices=(_ref5=_asyncToGenerator(regeneratorRuntime.mark(function _callee5(indices){var body,response;return regeneratorRuntime.wrap(function _callee5$(_context5){while(1)switch(_context5.prev=_context5.next){case 0:body={indices:indices};_context5.next=3;return httpClient.post(apiPrefix+"/indices/open",body);case 3:response=_context5.sent;return _context5.abrupt("return",response.data);case 5:case"end":return _context5.stop()}},_callee5,this)})),function openIndices(_x4){return _ref5.apply(this,arguments)});var _ref5;exports.refreshIndices=(_ref6=_asyncToGenerator(regeneratorRuntime.mark(function _callee6(indices){var body,response;return regeneratorRuntime.wrap(function _callee6$(_context6){while(1)switch(_context6.prev=_context6.next){case 0:body={indices:indices};_context6.next=3;return httpClient.post(apiPrefix+"/indices/refresh",body);case 3:response=_context6.sent;return _context6.abrupt("return",response.data);case 5:case"end":return _context6.stop()}},_callee6,this)})),function refreshIndices(_x5){return _ref6.apply(this,arguments)});var _ref6;exports.flushIndices=(_ref7=_asyncToGenerator(regeneratorRuntime.mark(function _callee7(indices){var body,response;return regeneratorRuntime.wrap(function _callee7$(_context7){while(1)switch(_context7.prev=_context7.next){case 0:body={indices:indices};_context7.next=3;return httpClient.post(apiPrefix+"/indices/flush",body);case 3:response=_context7.sent;return _context7.abrupt("return",response.data);case 5:case"end":return _context7.stop()}},_callee7,this)})),function flushIndices(_x6){return _ref7.apply(this,arguments)});var _ref7;exports.forcemergeIndices=(_ref8=_asyncToGenerator(regeneratorRuntime.mark(function _callee8(indices,maxNumSegments){var body,response;return regeneratorRuntime.wrap(function _callee8$(_context8){while(1)switch(_context8.prev=_context8.next){case 0:body={indices:indices,maxNumSegments:maxNumSegments};_context8.next=3;return httpClient.post(apiPrefix+"/indices/forcemerge",body);case 3:response=_context8.sent;return _context8.abrupt("return",response.data);case 5:case"end":return _context8.stop()}},_callee8,this)})),function forcemergeIndices(_x7,_x8){return _ref8.apply(this,arguments)});var _ref8;exports.clearCacheIndices=(_ref9=_asyncToGenerator(regeneratorRuntime.mark(function _callee9(indices){var body,response;return regeneratorRuntime.wrap(function _callee9$(_context9){while(1)switch(_context9.prev=_context9.next){case 0:body={indices:indices};_context9.next=3;return httpClient.post(apiPrefix+"/indices/clear_cache",body);case 3:response=_context9.sent;return _context9.abrupt("return",response.data);case 5:case"end":return _context9.stop()}},_callee9,this)})),function clearCacheIndices(_x9){return _ref9.apply(this,arguments)});var _ref9;var loadIndexSettings=exports.loadIndexSettings=(_ref10=_asyncToGenerator(regeneratorRuntime.mark(function _callee10(indexName){var response;return regeneratorRuntime.wrap(function _callee10$(_context10){while(1)switch(_context10.prev=_context10.next){case 0:_context10.next=2;return httpClient.get(apiPrefix+"/settings/"+indexName);case 2:response=_context10.sent;return _context10.abrupt("return",response.data);case 4:case"end":return _context10.stop()}},_callee10,this)})),function loadIndexSettings(_x10){return _ref10.apply(this,arguments)});var _ref10;exports.updateIndexSettings=(_ref11=_asyncToGenerator(regeneratorRuntime.mark(function _callee11(indexName,settings){return regeneratorRuntime.wrap(function _callee11$(_context11){while(1)switch(_context11.prev=_context11.next){case 0:_context11.next=2;return httpClient.put(apiPrefix+"/settings/"+indexName,settings);case 2:return _context11.abrupt("return",_context11.sent);case 3:case"end":return _context11.stop()}},_callee11,this)})),function updateIndexSettings(_x11,_x12){return _ref11.apply(this,arguments)});var _ref11;var loadIndexStats=exports.loadIndexStats=(_ref12=_asyncToGenerator(regeneratorRuntime.mark(function _callee12(indexName){var response;return regeneratorRuntime.wrap(function _callee12$(_context12){while(1)switch(_context12.prev=_context12.next){case 0:_context12.next=2;return httpClient.get(apiPrefix+"/stats/"+indexName);case 2:response=_context12.sent;return _context12.abrupt("return",response.data);case 4:case"end":return _context12.stop()}},_callee12,this)})),function loadIndexStats(_x13){return _ref12.apply(this,arguments)});var _ref12;var loadIndexMapping=exports.loadIndexMapping=(_ref13=_asyncToGenerator(regeneratorRuntime.mark(function _callee13(indexName){var response;return regeneratorRuntime.wrap(function _callee13$(_context13){while(1)switch(_context13.prev=_context13.next){case 0:_context13.next=2;return httpClient.get(apiPrefix+"/mapping/"+indexName);case 2:response=_context13.sent;return _context13.abrupt("return",response.data);case 4:case"end":return _context13.stop()}},_callee13,this)})),function loadIndexMapping(_x14){return _ref13.apply(this,arguments)});var _ref13;exports.loadIndexData=(_ref14=_asyncToGenerator(regeneratorRuntime.mark(function _callee14(type,indexName){return regeneratorRuntime.wrap(function _callee14$(_context14){while(1)switch(_context14.prev=_context14.next){case 0:_context14.t0=type;_context14.next="Mapping"===_context14.t0?3:"Settings"===_context14.t0?4:"Stats"===_context14.t0?5:6;break;case 3:return _context14.abrupt("return",loadIndexMapping(indexName));case 4:return _context14.abrupt("return",loadIndexSettings(indexName));case 5:return _context14.abrupt("return",loadIndexStats(indexName));case 6:case"end":return _context14.stop()}},_callee14,this)})),function loadIndexData(_x15,_x16){return _ref14.apply(this,arguments)});var _ref14;var _chrome=__webpack_require__(9);var _chrome2=_interopRequireDefault(_chrome);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}var httpClient=void 0;exports.setHttpClient=function setHttpClient(client){httpClient=client};var apiPrefix=_chrome2.default.addBasePath("/api/index_management")},2200:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _index_list=__webpack_require__(6893);Object.defineProperty(exports,"IndexList",{enumerable:true,get:function get(){return _index_list.IndexList}})},2201:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.deleteIndices=exports.deleteIndicesSuccess=void 0;var _reduxActions=__webpack_require__(29);var _i18n=__webpack_require__(18);var _services=__webpack_require__(131);var _notify=__webpack_require__(11);var _actions=__webpack_require__(121);function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}var deleteIndicesSuccess=exports.deleteIndicesSuccess=(0,_reduxActions.createAction)("INDEX_MANAGEMENT_DELETE_INDICES_SUCCESS");exports.deleteIndices=function deleteIndices(_ref){var indexNames=_ref.indexNames;return _ref2=_asyncToGenerator(regeneratorRuntime.mark(function _callee(dispatch){return regeneratorRuntime.wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return(0,_services.deleteIndices)(indexNames);case 3:_context.next=9;break;case 5:_context.prev=5;_context.t0=_context["catch"](0);_notify.toastNotifications.addDanger(_context.t0.data.message);return _context.abrupt("return",dispatch((0,_actions.clearRowStatus)({indexNames:indexNames})));case 9:_notify.toastNotifications.addSuccess(_i18n.i18n.translate("xpack.idxMgmt.deleteIndicesAction.successfullyDeletedIndicesMessage",{defaultMessage:"Successfully deleted: [{indexNames}]",values:{indexNames:indexNames.join(", ")}}));dispatch(deleteIndicesSuccess({indexNames:indexNames}));case 11:case"end":return _context.stop()}},_callee,void 0,[[0,5]])})),function(_x){return _ref2.apply(this,arguments)};var _ref2}},2202:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.reloadIndices=exports.reloadIndicesSuccess=void 0;var _reduxActions=__webpack_require__(29);var _i18n=__webpack_require__(18);var _selectors=__webpack_require__(450);var _services=__webpack_require__(131);var _notify=__webpack_require__(11);function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}var reloadIndicesSuccess=exports.reloadIndicesSuccess=(0,_reduxActions.createAction)("INDEX_MANAGEMENT_RELOAD_INDICES_SUCCESS");exports.reloadIndices=function reloadIndices(indexNames){return _ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee(dispatch,getState){var indices;return regeneratorRuntime.wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:indices=void 0;indexNames=indexNames||(0,_selectors.getIndexNamesForCurrentPage)(getState());_context.prev=2;_context.next=5;return(0,_services.reloadIndices)(indexNames);case 5:indices=_context.sent;_context.next=11;break;case 8:_context.prev=8;_context.t0=_context["catch"](2);return _context.abrupt("return",_notify.toastNotifications.addDanger(_context.t0.data.message));case 11:if(!(indices&&indices.length>0)){_context.next=15;break}return _context.abrupt("return",dispatch(reloadIndicesSuccess({indices:indices})));case 15:return _context.abrupt("return",_notify.toastNotifications.addWarning(_i18n.i18n.translate("xpack.idxMgmt.reloadIndicesAction.indicesPageRefreshFailureMessage",{defaultMessage:"Failed to refresh current page of indices."})));case 16:case"end":return _context.stop()}},_callee,void 0,[[2,8]])})),function(_x,_x2){return _ref.apply(this,arguments)};var _ref}},2203:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.updateIndexSettings=exports.updateIndexSettingsError=exports.updateIndexSettingsSuccess=void 0;var _reduxActions=__webpack_require__(29);var _i18n=__webpack_require__(18);var _services=__webpack_require__(131);var _reload_indices=__webpack_require__(2202);var _notify=__webpack_require__(11);function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}var updateIndexSettingsSuccess=exports.updateIndexSettingsSuccess=(0,_reduxActions.createAction)("INDEX_MANAGEMENT_UPDATE_INDEX_SETTINGS_SUCCESS");var updateIndexSettingsError=exports.updateIndexSettingsError=(0,_reduxActions.createAction)("INDEX_MANAGEMENT_UPDATE_INDEX_SETTINGS_ERROR");exports.updateIndexSettings=function updateIndexSettings(_ref){var indexName=_ref.indexName,settings=_ref.settings;return _ref2=_asyncToGenerator(regeneratorRuntime.mark(function _callee(dispatch){var _ref3,error,message;return regeneratorRuntime.wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:if(!(0!==Object.keys(settings).length)){_context.next=14;break}_context.prev=1;_context.next=4;return(0,_services.updateIndexSettings)(indexName,settings);case 4:_ref3=_context.sent;error=_ref3.error;message=_ref3.message;if(!error){_context.next=9;break}return _context.abrupt("return",dispatch(updateIndexSettingsError({error:message})));case 9:_context.next=14;break;case 11:_context.prev=11;_context.t0=_context["catch"](1);return _context.abrupt("return",dispatch(updateIndexSettingsError({error:_context.t0.data.message})));case 14:dispatch(updateIndexSettingsSuccess());dispatch((0,_reload_indices.reloadIndices)([indexName]));_notify.toastNotifications.addSuccess(_i18n.i18n.translate("xpack.idxMgmt.updateIndexSettingsAction.settingsSuccessUpdateMessage",{defaultMessage:"Successfully updated settings for index {indexName}",values:{indexName:indexName}}));case 17:case"end":return _context.stop()}},_callee,void 0,[[1,11]])})),function(_x){return _ref2.apply(this,arguments)};var _ref2}},2204:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.closeDetailPanel=exports.openDetailPanel=void 0;var _reduxActions=__webpack_require__(29);exports.openDetailPanel=(0,_reduxActions.createAction)("INDEX_MANAGEMENT_OPEN_DETAIL_PANEL");exports.closeDetailPanel=(0,_reduxActions.createAction)("INDEX_MANAGEMENT_CLOSE_DETAIL_PANEL")},2205:function(module,exports){ace.define("ace/snippets",["require","exports","module","ace/lib/oop","ace/lib/event_emitter","ace/lib/lang","ace/range","ace/anchor","ace/keyboard/hash_handler","ace/tokenizer","ace/lib/dom","ace/editor"],function(acequire,exports,module){"use strict";var oop=acequire("./lib/oop");var EventEmitter=acequire("./lib/event_emitter").EventEmitter;var lang=acequire("./lib/lang");var Range=acequire("./range").Range;var Anchor=acequire("./anchor").Anchor;var HashHandler=acequire("./keyboard/hash_handler").HashHandler;var Tokenizer=acequire("./tokenizer").Tokenizer;var comparePoints=Range.comparePoints;var SnippetManager=function(){this.snippetMap={};this.snippetNameMap={}};(function(){oop.implement(this,EventEmitter);this.getTokenizer=function(){function TabstopToken(str,_,stack){str=str.substr(1);if(/^\d+$/.test(str)&&!stack.inFormatString)return[{tabstopId:parseInt(str,10)}];return[{text:str}]}function escape(ch){return"(?:[^\\\\"+ch+"]|\\\\.)"}SnippetManager.$tokenizer=new Tokenizer({start:[{regex:/:/,onMatch:function(val,state,stack){if(stack.length&&stack[0].expectIf){stack[0].expectIf=false;stack[0].elseBranch=stack[0];return[stack[0]]}return":"}},{regex:/\\./,onMatch:function(val,state,stack){var ch=val[1];"}"==ch&&stack.length?val=ch:-1!="`$\\".indexOf(ch)?val=ch:stack.inFormatString&&("n"==ch?val="\n":"t"==ch?val="\n":-1!="ulULE".indexOf(ch)&&(val={changeCase:ch,local:ch>"a"}));return[val]}},{regex:/}/,onMatch:function(val,state,stack){return[stack.length?stack.shift():val]}},{regex:/\$(?:\d+|\w+)/,onMatch:TabstopToken},{regex:/\$\{[\dA-Z_a-z]+/,onMatch:function(str,state,stack){var t=TabstopToken(str.substr(1),state,stack);stack.unshift(t[0]);return t},next:"snippetVar"},{regex:/\n/,token:"newline",merge:false}],snippetVar:[{regex:"\\|"+escape("\\|")+"*\\|",onMatch:function(val,state,stack){stack[0].choices=val.slice(1,-1).split(",")},next:"start"},{regex:"/("+escape("/")+"+)/(?:("+escape("/")+"*)/)(\\w*):?",onMatch:function(val,state,stack){var ts=stack[0];ts.fmtString=val;val=this.splitRegex.exec(val);ts.guard=val[1];ts.fmt=val[2];ts.flag=val[3];return""},next:"start"},{regex:"`"+escape("`")+"*`",onMatch:function(val,state,stack){stack[0].code=val.splice(1,-1);return""},next:"start"},{regex:"\\?",onMatch:function(val,state,stack){stack[0]&&(stack[0].expectIf=true)},next:"start"},{regex:"([^:}\\\\]|\\\\.)*:?",token:"",next:"start"}],formatString:[{regex:"/("+escape("/")+"+)/",token:"regex"},{regex:"",onMatch:function(val,state,stack){stack.inFormatString=true},next:"start"}]});SnippetManager.prototype.getTokenizer=function(){return SnippetManager.$tokenizer};return SnippetManager.$tokenizer};this.tokenizeTmSnippet=function(str,startState){return this.getTokenizer().getLineTokens(str,startState).tokens.map(function(x){return x.value||x})};this.$getDefaultValue=function(editor,name){if(/^[A-Z]\d+$/.test(name)){var i=name.substr(1);return(this.variables[name[0]+"__"]||{})[i]}if(/^\d+$/.test(name))return(this.variables.__||{})[name];name=name.replace(/^TM_/,"");if(!editor)return;var s=editor.session;switch(name){case"CURRENT_WORD":var r=s.getWordRange();case"SELECTION":case"SELECTED_TEXT":return s.getTextRange(r);case"CURRENT_LINE":return s.getLine(editor.getCursorPosition().row);case"PREV_LINE":return s.getLine(editor.getCursorPosition().row-1);case"LINE_INDEX":return editor.getCursorPosition().column;case"LINE_NUMBER":return editor.getCursorPosition().row+1;case"SOFT_TABS":return s.getUseSoftTabs()?"YES":"NO";case"TAB_SIZE":return s.getTabSize();case"FILENAME":case"FILEPATH":return"";case"FULLNAME":return"Ace"}};this.variables={};this.getVariableValue=function(editor,varName){if(this.variables.hasOwnProperty(varName))return this.variables[varName](editor,varName)||"";return this.$getDefaultValue(editor,varName)||""};this.tmStrFormat=function(str,ch,editor){var flag=ch.flag||"";var re=ch.guard;re=new RegExp(re,flag.replace(/[^gi]/,""));var fmtTokens=this.tokenizeTmSnippet(ch.fmt,"formatString");var _self=this;var formatted=str.replace(re,function(){_self.variables.__=arguments;var fmtParts=_self.resolveVariables(fmtTokens,editor);var gChangeCase="E";for(var i=0;i<fmtParts.length;i++){var ch=fmtParts[i];if("object"==typeof ch){fmtParts[i]="";if(ch.changeCase&&ch.local){var next=fmtParts[i+1];if(next&&"string"==typeof next){"u"==ch.changeCase?fmtParts[i]=next[0].toUpperCase():fmtParts[i]=next[0].toLowerCase();fmtParts[i+1]=next.substr(1)}}else ch.changeCase&&(gChangeCase=ch.changeCase)}else"U"==gChangeCase?fmtParts[i]=ch.toUpperCase():"L"==gChangeCase&&(fmtParts[i]=ch.toLowerCase())}return fmtParts.join("")});this.variables.__=null;return formatted};this.resolveVariables=function(snippet,editor){var result=[];for(var i=0;i<snippet.length;i++){var ch=snippet[i];if("string"==typeof ch)result.push(ch);else{if("object"!=typeof ch)continue;if(ch.skip)gotoNext(ch);else{if(ch.processed<i)continue;if(ch.text){var value=this.getVariableValue(editor,ch.text);value&&ch.fmtString&&(value=this.tmStrFormat(value,ch));ch.processed=i;if(null==ch.expectIf){if(value){result.push(value);gotoNext(ch)}}else value?ch.skip=ch.elseBranch:gotoNext(ch)}else null!=ch.tabstopId?result.push(ch):null!=ch.changeCase&&result.push(ch)}}}function gotoNext(ch){var i1=snippet.indexOf(ch,i+1);-1!=i1&&(i=i1)}return result};this.insertSnippetForSelection=function(editor,snippetText){var cursor=editor.getCursorPosition();var line=editor.session.getLine(cursor.row);var tabString=editor.session.getTabString();var indentString=line.match(/^\s*/)[0];cursor.column<indentString.length&&(indentString=indentString.slice(0,cursor.column));snippetText=snippetText.replace(/\r/g,"");var tokens=this.tokenizeTmSnippet(snippetText);tokens=this.resolveVariables(tokens,editor);tokens=tokens.map(function(x){if("\n"==x)return x+indentString;if("string"==typeof x)return x.replace(/\t/g,tabString);return x});var tabstops=[];tokens.forEach(function(p,i){if("object"!=typeof p)return;var id=p.tabstopId;var ts=tabstops[id];if(!ts){ts=tabstops[id]=[];ts.index=id;ts.value=""}if(-1!==ts.indexOf(p))return;ts.push(p);var i1=tokens.indexOf(p,i+1);if(-1===i1)return;var value=tokens.slice(i+1,i1);var isNested=value.some(function(t){return"object"===typeof t});isNested&&!ts.value?ts.value=value:!value.length||ts.value&&"string"===typeof ts.value||(ts.value=value.join(""))});tabstops.forEach(function(ts){ts.length=0});var expanding={};function copyValue(val){var copy=[];for(var i=0;i<val.length;i++){var p=val[i];if("object"==typeof p){if(expanding[p.tabstopId])continue;var j=val.lastIndexOf(p,i-1);p=copy[j]||{tabstopId:p.tabstopId}}copy[i]=p}return copy}for(var i=0;i<tokens.length;i++){var p=tokens[i];if("object"!=typeof p)continue;var id=p.tabstopId;var i1=tokens.indexOf(p,i+1);if(expanding[id]){expanding[id]===p&&(expanding[id]=null);continue}var ts=tabstops[id];var arg="string"==typeof ts.value?[ts.value]:copyValue(ts.value);arg.unshift(i+1,Math.max(0,i1-i));arg.push(p);expanding[id]=p;tokens.splice.apply(tokens,arg);-1===ts.indexOf(p)&&ts.push(p)}var row=0,column=0;var text="";tokens.forEach(function(t){if("string"===typeof t){var lines=t.split("\n");if(lines.length>1){column=lines[lines.length-1].length;row+=lines.length-1}else column+=t.length;text+=t}else t.start?t.end={row:row,column:column}:t.start={row:row,column:column}});var range=editor.getSelectionRange();var end=editor.session.replace(range,text);var tabstopManager=new TabstopManager(editor);var selectionId=editor.inVirtualSelectionMode&&editor.selection.index;tabstopManager.addTabstops(tabstops,range.start,end,selectionId)};this.insertSnippet=function(editor,snippetText){var self=this;if(editor.inVirtualSelectionMode)return self.insertSnippetForSelection(editor,snippetText);editor.forEachSelection(function(){self.insertSnippetForSelection(editor,snippetText)},null,{keepOrder:true});editor.tabstopManager&&editor.tabstopManager.tabNext()};this.$getScope=function(editor){var scope=editor.session.$mode.$id||"";scope=scope.split("/").pop();if("html"===scope||"php"===scope){"php"!==scope||editor.session.$mode.inlinePhp||(scope="html");var c=editor.getCursorPosition();var state=editor.session.getState(c.row);"object"===typeof state&&(state=state[0]);state.substring&&("js-"==state.substring(0,3)?scope="javascript":"css-"==state.substring(0,4)?scope="css":"php-"==state.substring(0,4)&&(scope="php"))}return scope};this.getActiveScopes=function(editor){var scope=this.$getScope(editor);var scopes=[scope];var snippetMap=this.snippetMap;snippetMap[scope]&&snippetMap[scope].includeScopes&&scopes.push.apply(scopes,snippetMap[scope].includeScopes);scopes.push("_");return scopes};this.expandWithTab=function(editor,options){var self=this;var result=editor.forEachSelection(function(){return self.expandSnippetForSelection(editor,options)},null,{keepOrder:true});result&&editor.tabstopManager&&editor.tabstopManager.tabNext();return result};this.expandSnippetForSelection=function(editor,options){var cursor=editor.getCursorPosition();var line=editor.session.getLine(cursor.row);var before=line.substring(0,cursor.column);var after=line.substr(cursor.column);var snippetMap=this.snippetMap;var snippet;this.getActiveScopes(editor).some(function(scope){var snippets=snippetMap[scope];snippets&&(snippet=this.findMatchingSnippet(snippets,before,after));return!!snippet},this);if(!snippet)return false;if(options&&options.dryRun)return true;editor.session.doc.removeInLine(cursor.row,cursor.column-snippet.replaceBefore.length,cursor.column+snippet.replaceAfter.length);this.variables.M__=snippet.matchBefore;this.variables.T__=snippet.matchAfter;this.insertSnippetForSelection(editor,snippet.content);this.variables.M__=this.variables.T__=null;return true};this.findMatchingSnippet=function(snippetList,before,after){for(var i=snippetList.length;i--;){var s=snippetList[i];if(s.startRe&&!s.startRe.test(before))continue;if(s.endRe&&!s.endRe.test(after))continue;if(!s.startRe&&!s.endRe)continue;s.matchBefore=s.startRe?s.startRe.exec(before):[""];s.matchAfter=s.endRe?s.endRe.exec(after):[""];s.replaceBefore=s.triggerRe?s.triggerRe.exec(before)[0]:"";s.replaceAfter=s.endTriggerRe?s.endTriggerRe.exec(after)[0]:"";return s}};this.snippetMap={};this.snippetNameMap={};this.register=function(snippets,scope){var snippetMap=this.snippetMap;var snippetNameMap=this.snippetNameMap;var self=this;snippets||(snippets=[]);function wrapRegexp(src){src&&!/^\^?\(.*\)\$?$|^\\b$/.test(src)&&(src="(?:"+src+")");return src||""}function guardedRegexp(re,guard,opening){re=wrapRegexp(re);guard=wrapRegexp(guard);if(opening){re=guard+re;re&&"$"!=re[re.length-1]&&(re+="$")}else{re+=guard;re&&"^"!=re[0]&&(re="^"+re)}return new RegExp(re)}function addSnippet(s){s.scope||(s.scope=scope||"_");scope=s.scope;if(!snippetMap[scope]){snippetMap[scope]=[];snippetNameMap[scope]={}}var map=snippetNameMap[scope];if(s.name){var old=map[s.name];old&&self.unregister(old);map[s.name]=s}snippetMap[scope].push(s);if(s.tabTrigger&&!s.trigger){!s.guard&&/^\w/.test(s.tabTrigger)&&(s.guard="\\b");s.trigger=lang.escapeRegExp(s.tabTrigger)}if(!s.trigger&&!s.guard&&!s.endTrigger&&!s.endGuard)return;s.startRe=guardedRegexp(s.trigger,s.guard,true);s.triggerRe=new RegExp(s.trigger,"",true);s.endRe=guardedRegexp(s.endTrigger,s.endGuard,true);s.endTriggerRe=new RegExp(s.endTrigger,"",true)}snippets&&snippets.content?addSnippet(snippets):Array.isArray(snippets)&&snippets.forEach(addSnippet);this._signal("registerSnippets",{scope:scope})};this.unregister=function(snippets,scope){var snippetMap=this.snippetMap;var snippetNameMap=this.snippetNameMap;function removeSnippet(s){var nameMap=snippetNameMap[s.scope||scope];if(nameMap&&nameMap[s.name]){delete nameMap[s.name];var map=snippetMap[s.scope||scope];var i=map&&map.indexOf(s);i>=0&&map.splice(i,1)}}snippets.content?removeSnippet(snippets):Array.isArray(snippets)&&snippets.forEach(removeSnippet)};this.parseSnippetFile=function(str){str=str.replace(/\r/g,"");var list=[],snippet={};var re=/^#.*|^({[\s\S]*})\s*$|^(\S+) (.*)$|^((?:\n*\t.*)+)/gm;var m;while(m=re.exec(str)){if(m[1])try{snippet=JSON.parse(m[1]);list.push(snippet)}catch(e){}if(m[4]){snippet.content=m[4].replace(/^\t/gm,"");list.push(snippet);snippet={}}else{var key=m[2],val=m[3];if("regex"==key){var guardRe=/\/((?:[^\/\\]|\\.)*)|$/g;snippet.guard=guardRe.exec(val)[1];snippet.trigger=guardRe.exec(val)[1];snippet.endTrigger=guardRe.exec(val)[1];snippet.endGuard=guardRe.exec(val)[1]}else if("snippet"==key){snippet.tabTrigger=val.match(/^\S*/)[0];snippet.name||(snippet.name=val)}else snippet[key]=val}}return list};this.getSnippetByName=function(name,editor){var snippetMap=this.snippetNameMap;var snippet;this.getActiveScopes(editor).some(function(scope){var snippets=snippetMap[scope];snippets&&(snippet=snippets[name]);return!!snippet},this);return snippet}}).call(SnippetManager.prototype);var TabstopManager=function(editor){if(editor.tabstopManager)return editor.tabstopManager;editor.tabstopManager=this;this.$onChange=this.onChange.bind(this);this.$onChangeSelection=lang.delayedCall(this.onChangeSelection.bind(this)).schedule;this.$onChangeSession=this.onChangeSession.bind(this);this.$onAfterExec=this.onAfterExec.bind(this);this.attach(editor)};(function(){this.attach=function(editor){this.index=0;this.ranges=[];this.tabstops=[];this.$openTabstops=null;this.selectedTabstop=null;this.editor=editor;this.editor.on("change",this.$onChange);this.editor.on("changeSelection",this.$onChangeSelection);this.editor.on("changeSession",this.$onChangeSession);this.editor.commands.on("afterExec",this.$onAfterExec);this.editor.keyBinding.addKeyboardHandler(this.keyboardHandler)};this.detach=function(){this.tabstops.forEach(this.removeTabstopMarkers,this);this.ranges=null;this.tabstops=null;this.selectedTabstop=null;this.editor.removeListener("change",this.$onChange);this.editor.removeListener("changeSelection",this.$onChangeSelection);this.editor.removeListener("changeSession",this.$onChangeSession);this.editor.commands.removeListener("afterExec",this.$onAfterExec);this.editor.keyBinding.removeKeyboardHandler(this.keyboardHandler);this.editor.tabstopManager=null;this.editor=null};this.onChange=function(delta){var isRemove="r"==delta.action[0];var start=delta.start;var end=delta.end;var startRow=start.row;var endRow=end.row;var lineDif=endRow-startRow;var colDiff=end.column-start.column;if(isRemove){lineDif=-lineDif;colDiff=-colDiff}if(!this.$inChange&&isRemove){var ts=this.selectedTabstop;var changedOutside=ts&&!ts.some(function(r){return comparePoints(r.start,start)<=0&&comparePoints(r.end,end)>=0});if(changedOutside)return this.detach()}var ranges=this.ranges;for(var i=0;i<ranges.length;i++){var r=ranges[i];if(r.end.row<start.row)continue;if(isRemove&&comparePoints(start,r.start)<0&&comparePoints(end,r.end)>0){this.removeRange(r);i--;continue}r.start.row==startRow&&r.start.column>start.column&&(r.start.column+=colDiff);r.end.row==startRow&&r.end.column>=start.column&&(r.end.column+=colDiff);r.start.row>=startRow&&(r.start.row+=lineDif);r.end.row>=startRow&&(r.end.row+=lineDif);comparePoints(r.start,r.end)>0&&this.removeRange(r)}ranges.length||this.detach()};this.updateLinkedFields=function(){var ts=this.selectedTabstop;if(!ts||!ts.hasLinkedRanges)return;this.$inChange=true;var session=this.editor.session;var text=session.getTextRange(ts.firstNonLinked);for(var i=ts.length;i--;){var range=ts[i];if(!range.linked)continue;var fmt=exports.snippetManager.tmStrFormat(text,range.original);session.replace(range,fmt)}this.$inChange=false};this.onAfterExec=function(e){e.command&&!e.command.readOnly&&this.updateLinkedFields()};this.onChangeSelection=function(){if(!this.editor)return;var lead=this.editor.selection.lead;var anchor=this.editor.selection.anchor;var isEmpty=this.editor.selection.isEmpty();for(var i=this.ranges.length;i--;){if(this.ranges[i].linked)continue;var containsLead=this.ranges[i].contains(lead.row,lead.column);var containsAnchor=isEmpty||this.ranges[i].contains(anchor.row,anchor.column);if(containsLead&&containsAnchor)return}this.detach()};this.onChangeSession=function(){this.detach()};this.tabNext=function(dir){var max=this.tabstops.length;var index=this.index+(dir||1);index=Math.min(Math.max(index,1),max);index==max&&(index=0);this.selectTabstop(index);0===index&&this.detach()};this.selectTabstop=function(index){this.$openTabstops=null;var ts=this.tabstops[this.index];ts&&this.addTabstopMarkers(ts);this.index=index;ts=this.tabstops[this.index];if(!ts||!ts.length)return;this.selectedTabstop=ts;if(this.editor.inVirtualSelectionMode)this.editor.selection.setRange(ts.firstNonLinked);else{var sel=this.editor.multiSelect;sel.toSingleRange(ts.firstNonLinked.clone());for(var i=ts.length;i--;){if(ts.hasLinkedRanges&&ts[i].linked)continue;sel.addRange(ts[i].clone(),true)}sel.ranges[0]&&sel.addRange(sel.ranges[0].clone())}this.editor.keyBinding.addKeyboardHandler(this.keyboardHandler)};this.addTabstops=function(tabstops,start,end){this.$openTabstops||(this.$openTabstops=[]);if(!tabstops[0]){var p=Range.fromPoints(end,end);moveRelative(p.start,start);moveRelative(p.end,start);tabstops[0]=[p];tabstops[0].index=0}var i=this.index;var arg=[i+1,0];var ranges=this.ranges;tabstops.forEach(function(ts,index){var dest=this.$openTabstops[index]||ts;for(var i=ts.length;i--;){var p=ts[i];var range=Range.fromPoints(p.start,p.end||p.start);movePoint(range.start,start);movePoint(range.end,start);range.original=p;range.tabstop=dest;ranges.push(range);dest!=ts?dest.unshift(range):dest[i]=range;if(p.fmtString){range.linked=true;dest.hasLinkedRanges=true}else dest.firstNonLinked||(dest.firstNonLinked=range)}dest.firstNonLinked||(dest.hasLinkedRanges=false);if(dest===ts){arg.push(dest);this.$openTabstops[index]=dest}this.addTabstopMarkers(dest)},this);if(arg.length>2){this.tabstops.length&&arg.push(arg.splice(2,1)[0]);this.tabstops.splice.apply(this.tabstops,arg)}};this.addTabstopMarkers=function(ts){var session=this.editor.session;ts.forEach(function(range){range.markerId||(range.markerId=session.addMarker(range,"ace_snippet-marker","text"))})};this.removeTabstopMarkers=function(ts){var session=this.editor.session;ts.forEach(function(range){session.removeMarker(range.markerId);range.markerId=null})};this.removeRange=function(range){var i=range.tabstop.indexOf(range);range.tabstop.splice(i,1);i=this.ranges.indexOf(range);this.ranges.splice(i,1);this.editor.session.removeMarker(range.markerId);if(!range.tabstop.length){i=this.tabstops.indexOf(range.tabstop);-1!=i&&this.tabstops.splice(i,1);this.tabstops.length||this.detach()}};this.keyboardHandler=new HashHandler;this.keyboardHandler.bindKeys({Tab:function(ed){if(exports.snippetManager&&exports.snippetManager.expandWithTab(ed))return;ed.tabstopManager.tabNext(1)},"Shift-Tab":function(ed){ed.tabstopManager.tabNext(-1)},Esc:function(ed){ed.tabstopManager.detach()},Return:function(ed){return false}})}).call(TabstopManager.prototype);var changeTracker={};changeTracker.onChange=Anchor.prototype.onChange;changeTracker.setPosition=function(row,column){this.pos.row=row;this.pos.column=column};changeTracker.update=function(pos,delta,$insertRight){this.$insertRight=$insertRight;this.pos=pos;this.onChange(delta)};var movePoint=function(point,diff){0==point.row&&(point.column+=diff.column);point.row+=diff.row};var moveRelative=function(point,start){point.row==start.row&&(point.column-=start.column);point.row-=start.row};acequire("./lib/dom").importCssString(".ace_snippet-marker {    -moz-box-sizing: border-box;    box-sizing: border-box;    background: rgba(194, 193, 208, 0.09);    border: 1px dotted rgba(211, 208, 235, 0.62);    position: absolute;}");exports.snippetManager=new SnippetManager;var Editor=acequire("./editor").Editor;(function(){this.insertSnippet=function(content,options){return exports.snippetManager.insertSnippet(this,content,options)};this.expandSnippet=function(options){return exports.snippetManager.expandWithTab(this,options)}}).call(Editor.prototype)});ace.define("ace/autocomplete/popup",["require","exports","module","ace/virtual_renderer","ace/editor","ace/range","ace/lib/event","ace/lib/lang","ace/lib/dom"],function(acequire,exports,module){"use strict";var Renderer=acequire("../virtual_renderer").VirtualRenderer;var Editor=acequire("../editor").Editor;var Range=acequire("../range").Range;var event=acequire("../lib/event");var lang=acequire("../lib/lang");var dom=acequire("../lib/dom");var $singleLineEditor=function(el){var renderer=new Renderer(el);renderer.$maxLines=4;var editor=new Editor(renderer);editor.setHighlightActiveLine(false);editor.setShowPrintMargin(false);editor.renderer.setShowGutter(false);editor.renderer.setHighlightGutterLine(false);editor.$mouseHandler.$focusWaitTimout=0;editor.$highlightTagPending=true;return editor};var AcePopup=function(parentNode){var el=dom.createElement("div");var popup=new $singleLineEditor(el);parentNode&&parentNode.appendChild(el);el.style.display="none";popup.renderer.content.style.cursor="default";popup.renderer.setStyle("ace_autocomplete");popup.setOption("displayIndentGuides",false);popup.setOption("dragDelay",150);var noop=function(){};popup.focus=noop;popup.$isFocused=true;popup.renderer.$cursorLayer.restartTimer=noop;popup.renderer.$cursorLayer.element.style.opacity=0;popup.renderer.$maxLines=8;popup.renderer.$keepTextAreaAtCursor=false;popup.setHighlightActiveLine(false);popup.session.highlight("");popup.session.$searchHighlight.clazz="ace_highlight-marker";popup.on("mousedown",function(e){var pos=e.getDocumentPosition();popup.selection.moveToPosition(pos);selectionMarker.start.row=selectionMarker.end.row=pos.row;e.stop()});var lastMouseEvent;var hoverMarker=new Range(-1,0,-1,Infinity);var selectionMarker=new Range(-1,0,-1,Infinity);selectionMarker.id=popup.session.addMarker(selectionMarker,"ace_active-line","fullLine");popup.setSelectOnHover=function(val){if(val){if(hoverMarker.id){popup.session.removeMarker(hoverMarker.id);hoverMarker.id=null}}else hoverMarker.id=popup.session.addMarker(hoverMarker,"ace_line-hover","fullLine")};popup.setSelectOnHover(false);popup.on("mousemove",function(e){if(!lastMouseEvent){lastMouseEvent=e;return}if(lastMouseEvent.x==e.x&&lastMouseEvent.y==e.y)return;lastMouseEvent=e;lastMouseEvent.scrollTop=popup.renderer.scrollTop;var row=lastMouseEvent.getDocumentPosition().row;if(hoverMarker.start.row!=row){hoverMarker.id||popup.setRow(row);setHoverMarker(row)}});popup.renderer.on("beforeRender",function(){if(lastMouseEvent&&-1!=hoverMarker.start.row){lastMouseEvent.$pos=null;var row=lastMouseEvent.getDocumentPosition().row;hoverMarker.id||popup.setRow(row);setHoverMarker(row,true)}});popup.renderer.on("afterRender",function(){var row=popup.getRow();var t=popup.renderer.$textLayer;var selected=t.element.childNodes[row-t.config.firstRow];if(selected==t.selectedNode)return;t.selectedNode&&dom.removeCssClass(t.selectedNode,"ace_selected");t.selectedNode=selected;selected&&dom.addCssClass(selected,"ace_selected")});var hideHoverMarker=function(){setHoverMarker(-1)};var setHoverMarker=function(row,suppressRedraw){if(row!==hoverMarker.start.row){hoverMarker.start.row=hoverMarker.end.row=row;suppressRedraw||popup.session._emit("changeBackMarker");popup._emit("changeHoverMarker")}};popup.getHoveredRow=function(){return hoverMarker.start.row};event.addListener(popup.container,"mouseout",hideHoverMarker);popup.on("hide",hideHoverMarker);popup.on("changeSelection",hideHoverMarker);popup.session.doc.getLength=function(){return popup.data.length};popup.session.doc.getLine=function(i){var data=popup.data[i];if("string"==typeof data)return data;return data&&data.value||""};var bgTokenizer=popup.session.bgTokenizer;bgTokenizer.$tokenizeRow=function(row){var data=popup.data[row];var tokens=[];if(!data)return tokens;"string"==typeof data&&(data={value:data});data.caption||(data.caption=data.value||data.name);var last=-1;var flag,c;for(var i=0;i<data.caption.length;i++){c=data.caption[i];flag=data.matchMask&1<<i?1:0;if(last!==flag){tokens.push({type:data.className||(flag?"completion-highlight":""),value:c});last=flag}else tokens[tokens.length-1].value+=c}if(data.meta){var maxW=popup.renderer.$size.scrollerWidth/popup.renderer.layerConfig.characterWidth;var metaData=data.meta;metaData.length+data.caption.length>maxW-2&&(metaData=metaData.substr(0,maxW-data.caption.length-3)+"");tokens.push({type:"rightAlignedText",value:metaData})}return tokens};bgTokenizer.$updateOnChange=noop;bgTokenizer.start=noop;popup.session.$computeWidth=function(){return this.screenWidth=0};popup.$blockScrolling=Infinity;popup.isOpen=false;popup.isTopdown=false;popup.autoSelect=true;popup.data=[];popup.setData=function(list){popup.setValue(lang.stringRepeat("\n",list.length),-1);popup.data=list||[];popup.setRow(0)};popup.getData=function(row){return popup.data[row]};popup.getRow=function(){return selectionMarker.start.row};popup.setRow=function(line){line=Math.max(this.autoSelect?0:-1,Math.min(this.data.length,line));if(selectionMarker.start.row!=line){popup.selection.clearSelection();selectionMarker.start.row=selectionMarker.end.row=line||0;popup.session._emit("changeBackMarker");popup.moveCursorTo(line||0,0);popup.isOpen&&popup._signal("select")}};popup.on("changeSelection",function(){popup.isOpen&&popup.setRow(popup.selection.lead.row);popup.renderer.scrollCursorIntoView()});popup.hide=function(){this.container.style.display="none";this._signal("hide");popup.isOpen=false};popup.show=function(pos,lineHeight,topdownOnly){var el=this.container;var screenHeight=window.innerHeight;var screenWidth=window.innerWidth;var renderer=this.renderer;var maxH=renderer.$maxLines*lineHeight*1.4;var top=pos.top+this.$borderSize;var allowTopdown=top>screenHeight/2&&!topdownOnly;if(allowTopdown&&top+lineHeight+maxH>screenHeight){renderer.$maxPixelHeight=top-2*this.$borderSize;el.style.top="";el.style.bottom=screenHeight-top+"px";popup.isTopdown=false}else{top+=lineHeight;renderer.$maxPixelHeight=screenHeight-top-.2*lineHeight;el.style.top=top+"px";el.style.bottom="";popup.isTopdown=true}el.style.display="";this.renderer.$textLayer.checkForSizeChanges();var left=pos.left;left+el.offsetWidth>screenWidth&&(left=screenWidth-el.offsetWidth);el.style.left=left+"px";this._signal("show");lastMouseEvent=null;popup.isOpen=true};popup.getTextLeftOffset=function(){return this.$borderSize+this.renderer.$padding+this.$imageSize};popup.$imageSize=0;popup.$borderSize=1;return popup};dom.importCssString(".ace_editor.ace_autocomplete .ace_marker-layer .ace_active-line {    background-color: #CAD6FA;    z-index: 1;}.ace_editor.ace_autocomplete .ace_line-hover {    border: 1px solid #abbffe;    margin-top: -1px;    background: rgba(233,233,253,0.4);}.ace_editor.ace_autocomplete .ace_line-hover {    position: absolute;    z-index: 2;}.ace_editor.ace_autocomplete .ace_scroller {   background: none;   border: none;   box-shadow: none;}.ace_rightAlignedText {    color: gray;    display: inline-block;    position: absolute;    right: 4px;    text-align: right;    z-index: -1;}.ace_editor.ace_autocomplete .ace_completion-highlight{    color: #000;    text-shadow: 0 0 0.01em;}.ace_editor.ace_autocomplete {    width: 280px;    z-index: 200000;    background: #fbfbfb;    color: #444;    border: 1px lightgray solid;    position: fixed;    box-shadow: 2px 3px 5px rgba(0,0,0,.2);    line-height: 1.4;}");exports.AcePopup=AcePopup});ace.define("ace/autocomplete/util",["require","exports","module"],function(acequire,exports,module){"use strict";exports.parForEach=function(array,fn,callback){var completed=0;var arLength=array.length;0===arLength&&callback();for(var i=0;i<arLength;i++)fn(array[i],function(result,err){completed++;completed===arLength&&callback(result,err)})};var ID_REGEX=/[a-zA-Z_0-9\$\-\u00A2-\uFFFF]/;exports.retrievePrecedingIdentifier=function(text,pos,regex){regex=regex||ID_REGEX;var buf=[];for(var i=pos-1;i>=0;i--){if(!regex.test(text[i]))break;buf.push(text[i])}return buf.reverse().join("")};exports.retrieveFollowingIdentifier=function(text,pos,regex){regex=regex||ID_REGEX;var buf=[];for(var i=pos;i<text.length;i++){if(!regex.test(text[i]))break;buf.push(text[i])}return buf};exports.getCompletionPrefix=function(editor){var pos=editor.getCursorPosition();var line=editor.session.getLine(pos.row);var prefix;editor.completers.forEach(function(completer){completer.identifierRegexps&&completer.identifierRegexps.forEach(function(identifierRegex){!prefix&&identifierRegex&&(prefix=this.retrievePrecedingIdentifier(line,pos.column,identifierRegex))}.bind(this))}.bind(this));return prefix||this.retrievePrecedingIdentifier(line,pos.column)}});ace.define("ace/autocomplete",["require","exports","module","ace/keyboard/hash_handler","ace/autocomplete/popup","ace/autocomplete/util","ace/lib/event","ace/lib/lang","ace/lib/dom","ace/snippets"],function(acequire,exports,module){"use strict";var HashHandler=acequire("./keyboard/hash_handler").HashHandler;var AcePopup=acequire("./autocomplete/popup").AcePopup;var util=acequire("./autocomplete/util");acequire("./lib/event");var lang=acequire("./lib/lang");var dom=acequire("./lib/dom");var snippetManager=acequire("./snippets").snippetManager;var Autocomplete=function(){this.autoInsert=false;this.autoSelect=true;this.exactMatch=false;this.gatherCompletionsId=0;this.keyboardHandler=new HashHandler;this.keyboardHandler.bindKeys(this.commands);this.blurListener=this.blurListener.bind(this);this.changeListener=this.changeListener.bind(this);this.mousedownListener=this.mousedownListener.bind(this);this.mousewheelListener=this.mousewheelListener.bind(this);this.changeTimer=lang.delayedCall(function(){this.updateCompletions(true)}.bind(this));this.tooltipTimer=lang.delayedCall(this.updateDocTooltip.bind(this),50)};(function(){this.$init=function(){this.popup=new AcePopup(document.body||document.documentElement);this.popup.on("click",function(e){this.insertMatch();e.stop()}.bind(this));this.popup.focus=this.editor.focus.bind(this.editor);this.popup.on("show",this.tooltipTimer.bind(null,null));this.popup.on("select",this.tooltipTimer.bind(null,null));this.popup.on("changeHoverMarker",this.tooltipTimer.bind(null,null));return this.popup};this.getPopup=function(){return this.popup||this.$init()};this.openPopup=function(editor,prefix,keepPopupPosition){this.popup||this.$init();this.popup.autoSelect=this.autoSelect;this.popup.setData(this.completions.filtered);editor.keyBinding.addKeyboardHandler(this.keyboardHandler);var renderer=editor.renderer;this.popup.setRow(this.autoSelect?0:-1);if(keepPopupPosition)keepPopupPosition&&!prefix&&this.detach();else{this.popup.setTheme(editor.getTheme());this.popup.setFontSize(editor.getFontSize());var lineHeight=renderer.layerConfig.lineHeight;var pos=renderer.$cursorLayer.getPixelPosition(this.base,true);pos.left-=this.popup.getTextLeftOffset();var rect=editor.container.getBoundingClientRect();pos.top+=rect.top-renderer.layerConfig.offset;pos.left+=rect.left-editor.renderer.scrollLeft;pos.left+=renderer.gutterWidth;this.popup.show(pos,lineHeight)}};this.detach=function(){this.editor.keyBinding.removeKeyboardHandler(this.keyboardHandler);this.editor.off("changeSelection",this.changeListener);this.editor.off("blur",this.blurListener);this.editor.off("mousedown",this.mousedownListener);this.editor.off("mousewheel",this.mousewheelListener);this.changeTimer.cancel();this.hideDocTooltip();this.gatherCompletionsId+=1;this.popup&&this.popup.isOpen&&this.popup.hide();this.base&&this.base.detach();this.activated=false;this.completions=this.base=null};this.changeListener=function(e){var cursor=this.editor.selection.lead;(cursor.row!=this.base.row||cursor.column<this.base.column)&&this.detach();this.activated?this.changeTimer.schedule():this.detach()};this.blurListener=function(e){var el=document.activeElement;var text=this.editor.textInput.getElement();var fromTooltip=e.relatedTarget&&this.tooltipNode&&this.tooltipNode.contains(e.relatedTarget);var container=this.popup&&this.popup.container;el==text||el.parentNode==container||fromTooltip||el==this.tooltipNode||e.relatedTarget==text||this.detach()};this.mousedownListener=function(e){this.detach()};this.mousewheelListener=function(e){this.detach()};this.goTo=function(where){var row=this.popup.getRow();var max=this.popup.session.getLength()-1;switch(where){case"up":row=row<=0?max:row-1;break;case"down":row=row>=max?-1:row+1;break;case"start":row=0;break;case"end":row=max}this.popup.setRow(row)};this.insertMatch=function(data,options){data||(data=this.popup.getData(this.popup.getRow()));if(!data)return false;if(data.completer&&data.completer.insertMatch)data.completer.insertMatch(this.editor,data);else{if(this.completions.filterText){var ranges=this.editor.selection.getAllRanges();for(var range,i=0;range=ranges[i];i++){range.start.column-=this.completions.filterText.length;this.editor.session.remove(range)}}data.snippet?snippetManager.insertSnippet(this.editor,data.snippet):this.editor.execCommand("insertstring",data.value||data)}this.detach()};this.commands={Up:function(editor){editor.completer.goTo("up")},Down:function(editor){editor.completer.goTo("down")},"Ctrl-Up|Ctrl-Home":function(editor){editor.completer.goTo("start")},"Ctrl-Down|Ctrl-End":function(editor){editor.completer.goTo("end")},Esc:function(editor){editor.completer.detach()},Return:function(editor){return editor.completer.insertMatch()},"Shift-Return":function(editor){editor.completer.insertMatch(null,{deleteSuffix:true})},Tab:function(editor){var result=editor.completer.insertMatch();if(result||editor.tabstopManager)return result;editor.completer.goTo("down")},PageUp:function(editor){editor.completer.popup.gotoPageUp()},PageDown:function(editor){editor.completer.popup.gotoPageDown()}};this.gatherCompletions=function(editor,callback){var session=editor.getSession();var pos=editor.getCursorPosition();var prefix=util.getCompletionPrefix(editor);this.base=session.doc.createAnchor(pos.row,pos.column-prefix.length);this.base.$insertRight=true;var matches=[];var total=editor.completers.length;editor.completers.forEach(function(completer,i){completer.getCompletions(editor,session,pos,prefix,function(err,results){!err&&results&&(matches=matches.concat(results));callback(null,{prefix:util.getCompletionPrefix(editor),matches:matches,finished:0===--total})})});return true};this.showPopup=function(editor){this.editor&&this.detach();this.activated=true;this.editor=editor;if(editor.completer!=this){editor.completer&&editor.completer.detach();editor.completer=this}editor.on("changeSelection",this.changeListener);editor.on("blur",this.blurListener);editor.on("mousedown",this.mousedownListener);editor.on("mousewheel",this.mousewheelListener);this.updateCompletions()};this.updateCompletions=function(keepPopupPosition){if(keepPopupPosition&&this.base&&this.completions){var pos=this.editor.getCursorPosition();var prefix=this.editor.session.getTextRange({start:this.base,end:pos});if(prefix==this.completions.filterText)return;this.completions.setFilter(prefix);if(!this.completions.filtered.length)return this.detach();if(1==this.completions.filtered.length&&this.completions.filtered[0].value==prefix&&!this.completions.filtered[0].snippet)return this.detach();this.openPopup(this.editor,prefix,keepPopupPosition);return}var _id=this.gatherCompletionsId;this.gatherCompletions(this.editor,function(err,results){var detachIfFinished=function(){if(!results.finished)return;return this.detach()}.bind(this);var prefix=results.prefix;var matches=results&&results.matches;if(!matches||!matches.length)return detachIfFinished();if(0!==prefix.indexOf(results.prefix)||_id!=this.gatherCompletionsId)return;this.completions=new FilteredList(matches);this.exactMatch&&(this.completions.exactMatch=true);this.completions.setFilter(prefix);var filtered=this.completions.filtered;if(!filtered.length)return detachIfFinished();if(1==filtered.length&&filtered[0].value==prefix&&!filtered[0].snippet)return detachIfFinished();if(this.autoInsert&&1==filtered.length&&results.finished)return this.insertMatch(filtered[0]);this.openPopup(this.editor,prefix,keepPopupPosition)}.bind(this))};this.cancelContextMenu=function(){this.editor.$mouseHandler.cancelContextMenu()};this.updateDocTooltip=function(){var popup=this.popup;var all=popup.data;var selected=all&&(all[popup.getHoveredRow()]||all[popup.getRow()]);var doc=null;if(!selected||!this.editor||!this.popup.isOpen)return this.hideDocTooltip();this.editor.completers.some(function(completer){completer.getDocTooltip&&(doc=completer.getDocTooltip(selected));return doc});doc||(doc=selected);"string"==typeof doc&&(doc={docText:doc});if(!doc||!(doc.docHTML||doc.docText))return this.hideDocTooltip();this.showDocTooltip(doc)};this.showDocTooltip=function(item){if(!this.tooltipNode){this.tooltipNode=dom.createElement("div");this.tooltipNode.className="ace_tooltip ace_doc-tooltip";this.tooltipNode.style.margin=0;this.tooltipNode.style.pointerEvents="auto";this.tooltipNode.tabIndex=-1;this.tooltipNode.onblur=this.blurListener.bind(this);this.tooltipNode.onclick=this.onTooltipClick.bind(this)}var tooltipNode=this.tooltipNode;item.docHTML?tooltipNode.innerHTML=item.docHTML:item.docText&&(tooltipNode.textContent=item.docText);tooltipNode.parentNode||document.body.appendChild(tooltipNode);var popup=this.popup;var rect=popup.container.getBoundingClientRect();tooltipNode.style.top=popup.container.style.top;tooltipNode.style.bottom=popup.container.style.bottom;if(window.innerWidth-rect.right<320){tooltipNode.style.right=window.innerWidth-rect.left+"px";tooltipNode.style.left=""}else{tooltipNode.style.left=rect.right+1+"px";tooltipNode.style.right=""}tooltipNode.style.display="block"};this.hideDocTooltip=function(){this.tooltipTimer.cancel();if(!this.tooltipNode)return;var el=this.tooltipNode;this.editor.isFocused()||document.activeElement!=el||this.editor.focus();this.tooltipNode=null;el.parentNode&&el.parentNode.removeChild(el)};this.onTooltipClick=function(e){var a=e.target;while(a&&a!=this.tooltipNode){if("A"==a.nodeName&&a.href){a.rel="noreferrer";a.target="_blank";break}a=a.parentNode}}}).call(Autocomplete.prototype);Autocomplete.startCommand={name:"startAutocomplete",exec:function(editor){editor.completer||(editor.completer=new Autocomplete);editor.completer.autoInsert=false;editor.completer.autoSelect=true;editor.completer.showPopup(editor);editor.completer.cancelContextMenu()},bindKey:"Ctrl-Space|Ctrl-Shift-Space|Alt-Space"};var FilteredList=function(array,filterText){this.all=array;this.filtered=array;this.filterText=filterText||"";this.exactMatch=false};(function(){this.setFilter=function(str){if(str.length>this.filterText&&0===str.lastIndexOf(this.filterText,0))var matches=this.filtered;else matches=this.all;this.filterText=str;matches=this.filterCompletions(matches,this.filterText);matches=matches.sort(function(a,b){return b.exactMatch-a.exactMatch||b.score-a.score});var prev=null;matches=matches.filter(function(item){var caption=item.snippet||item.caption||item.value;if(caption===prev)return false;prev=caption;return true});this.filtered=matches};this.filterCompletions=function(items,needle){var results=[];var upper=needle.toUpperCase();var lower=needle.toLowerCase();loop:for(var item,i=0;item=items[i];i++){var caption=item.value||item.caption||item.snippet;if(!caption)continue;var lastIndex=-1;var matchMask=0;var penalty=0;var index,distance;if(this.exactMatch){if(needle!==caption.substr(0,needle.length))continue loop}else for(var j=0;j<needle.length;j++){var i1=caption.indexOf(lower[j],lastIndex+1);var i2=caption.indexOf(upper[j],lastIndex+1);index=i1>=0&&(i2<0||i1<i2)?i1:i2;if(index<0)continue loop;distance=index-lastIndex-1;if(distance>0){-1===lastIndex&&(penalty+=10);penalty+=distance}matchMask|=1<<index;lastIndex=index}item.matchMask=matchMask;item.exactMatch=penalty?0:1;item.score=(item.score||0)-penalty;results.push(item)}return results}}).call(FilteredList.prototype);exports.Autocomplete=Autocomplete;exports.FilteredList=FilteredList});ace.define("ace/autocomplete/text_completer",["require","exports","module","ace/range"],function(acequire,exports,module){var Range=acequire("../range").Range;var splitRegex=/[^a-zA-Z_0-9\$\-\u00C0-\u1FFF\u2C00-\uD7FF\w]+/;function getWordIndex(doc,pos){var textBefore=doc.getTextRange(Range.fromPoints({row:0,column:0},pos));return textBefore.split(splitRegex).length-1}function wordDistance(doc,pos){var prefixPos=getWordIndex(doc,pos);var words=doc.getValue().split(splitRegex);var wordScores=Object.create(null);var currentWord=words[prefixPos];words.forEach(function(word,idx){if(!word||word===currentWord)return;var distance=Math.abs(prefixPos-idx);var score=words.length-distance;wordScores[word]?wordScores[word]=Math.max(score,wordScores[word]):wordScores[word]=score});return wordScores}exports.getCompletions=function(editor,session,pos,prefix,callback){var wordScore=wordDistance(session,pos,prefix);var wordList=Object.keys(wordScore);callback(null,wordList.map(function(word){return{caption:word,value:word,score:wordScore[word],meta:"local"}}))}});ace.define("ace/ext/language_tools",["require","exports","module","ace/snippets","ace/autocomplete","ace/config","ace/lib/lang","ace/autocomplete/util","ace/autocomplete/text_completer","ace/editor","ace/config"],function(acequire,exports,module){"use strict";var snippetManager=acequire("../snippets").snippetManager;var Autocomplete=acequire("../autocomplete").Autocomplete;var config=acequire("../config");var lang=acequire("../lib/lang");var util=acequire("../autocomplete/util");var textCompleter=acequire("../autocomplete/text_completer");var keyWordCompleter={getCompletions:function(editor,session,pos,prefix,callback){if(session.$mode.completer)return session.$mode.completer.getCompletions(editor,session,pos,prefix,callback);var state=editor.session.getState(pos.row);var completions=session.$mode.getCompletions(state,session,pos,prefix);callback(null,completions)}};var snippetCompleter={getCompletions:function(editor,session,pos,prefix,callback){var snippetMap=snippetManager.snippetMap;var completions=[];snippetManager.getActiveScopes(editor).forEach(function(scope){var snippets=snippetMap[scope]||[];for(var i=snippets.length;i--;){var s=snippets[i];var caption=s.name||s.tabTrigger;if(!caption)continue;completions.push({caption:caption,snippet:s.content,meta:s.tabTrigger&&!s.name?s.tabTrigger+" ":"snippet",type:"snippet"})}},this);callback(null,completions)},getDocTooltip:function(item){"snippet"!=item.type||item.docHTML||(item.docHTML=["<b>",lang.escapeHTML(item.caption),"</b>","<hr></hr>",lang.escapeHTML(item.snippet)].join(""))}};var completers=[snippetCompleter,textCompleter,keyWordCompleter];exports.setCompleters=function(val){completers.length=0;val&&completers.push.apply(completers,val)};exports.addCompleter=function(completer){completers.push(completer)};exports.textCompleter=textCompleter;exports.keyWordCompleter=keyWordCompleter;exports.snippetCompleter=snippetCompleter;var expandSnippet={name:"expandSnippet",exec:function(editor){return snippetManager.expandWithTab(editor)},bindKey:"Tab"};var onChangeMode=function(e,editor){loadSnippetsForMode(editor.session.$mode)};var loadSnippetsForMode=function(mode){var id=mode.$id;snippetManager.files||(snippetManager.files={});loadSnippetFile(id);mode.modes&&mode.modes.forEach(loadSnippetsForMode)};var loadSnippetFile=function(id){if(!id||snippetManager.files[id])return;var snippetFilePath=id.replace("mode","snippets");snippetManager.files[id]={};config.loadModule(snippetFilePath,function(m){if(m){snippetManager.files[id]=m;!m.snippets&&m.snippetText&&(m.snippets=snippetManager.parseSnippetFile(m.snippetText));snippetManager.register(m.snippets||[],m.scope);if(m.includeScopes){snippetManager.snippetMap[m.scope].includeScopes=m.includeScopes;m.includeScopes.forEach(function(x){loadSnippetFile("ace/mode/"+x)})}}})};var doLiveAutocomplete=function(e){var editor=e.editor;var hasCompleter=editor.completer&&editor.completer.activated;if("backspace"===e.command.name)hasCompleter&&!util.getCompletionPrefix(editor)&&editor.completer.detach();else if("insertstring"===e.command.name){var prefix=util.getCompletionPrefix(editor);if(prefix&&!hasCompleter){editor.completer||(editor.completer=new Autocomplete);editor.completer.autoInsert=false;editor.completer.showPopup(editor)}}};var Editor=acequire("../editor").Editor;acequire("../config").defineOptions(Editor.prototype,"editor",{enableBasicAutocompletion:{set:function(val){if(val){this.completers||(this.completers=Array.isArray(val)?val:completers);this.commands.addCommand(Autocomplete.startCommand)}else this.commands.removeCommand(Autocomplete.startCommand)},value:false},enableLiveAutocompletion:{set:function(val){if(val){this.completers||(this.completers=Array.isArray(val)?val:completers);this.commands.on("afterExec",doLiveAutocomplete)}else this.commands.removeListener("afterExec",doLiveAutocomplete)},value:false},enableSnippets:{set:function(val){if(val){this.commands.addCommand(expandSnippet);this.on("changeMode",onChangeMode);onChangeMode(null,this)}else{this.commands.removeCommand(expandSnippet);this.off("changeMode",onChangeMode)}},value:false}})});void ace.acequire(["ace/ext/language_tools"],function(){})},2206:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.addLicense=void 0;var _reduxActions=__webpack_require__(29);exports.addLicense=(0,_reduxActions.createAction)("LICENSE_MANAGEMENT_ADD_LICENSE")},2207:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.uploadLicense=exports.uploadLicenseStatus=void 0;var _reduxActions=__webpack_require__(29);var _add_license=__webpack_require__(2206);var _base_path=__webpack_require__(1002);var _es=__webpack_require__(1260);var _add_error_message=__webpack_require__(1261);function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}return Array.from(arr)}function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}var uploadLicenseStatus=exports.uploadLicenseStatus=(0,_reduxActions.createAction)("LICENSE_MANAGEMENT_UPLOAD_LICENSE_STATUS");var genericUploadError="Error encountered uploading license:";var dispatchFromResponse=(_ref2=_asyncToGenerator(regeneratorRuntime.mark(function _callee(response,dispatch,currentLicenseType,newLicenseType,_ref){var xPackInfo=_ref.xPackInfo,kbnUrl=_ref.kbnUrl;var error,acknowledged,licenseStatus,acknowledge,messages,first;return regeneratorRuntime.wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:error=response.error,acknowledged=response.acknowledged,licenseStatus=response.license_status,acknowledge=response.acknowledge;if(!error){_context.next=6;break}dispatch(uploadLicenseStatus({}));dispatch((0,_add_error_message.addUploadErrorMessage)(genericUploadError+" "+error.reason));_context.next=28;break;case 6:if(!acknowledged){_context.next=25;break}if(!("invalid"===licenseStatus)){_context.next=12;break}dispatch(uploadLicenseStatus({}));dispatch((0,_add_error_message.addUploadErrorMessage)("The supplied license is not valid for this product."));_context.next=23;break;case 12:if(!("expired"===licenseStatus)){_context.next=17;break}dispatch(uploadLicenseStatus({}));dispatch((0,_add_error_message.addUploadErrorMessage)("The supplied license has expired."));_context.next=23;break;case 17:_context.next=19;return xPackInfo.refresh();case 19:dispatch((0,_add_license.addLicense)(xPackInfo.get("license")));dispatch(uploadLicenseStatus({}));kbnUrl.change(_base_path.BASE_PATH);window.location.reload();case 23:_context.next=28;break;case 25:messages=Object.values(acknowledge).slice(1);first="Some functionality will be lost if you replace your \n        "+currentLicenseType.toUpperCase()+" license with a\n        "+newLicenseType.toUpperCase()+" license.  Review the list of features below.";dispatch(uploadLicenseStatus({acknowledge:true,messages:[first].concat(_toConsumableArray(messages))}));case 28:case"end":return _context.stop()}},_callee,void 0)})),function dispatchFromResponse(_x,_x2,_x3,_x4,_x5){return _ref2.apply(this,arguments)});var _ref2;exports.uploadLicense=function uploadLicense(licenseString,currentLicenseType,acknowledge){return _ref3=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(dispatch,getState,services){var newLicenseType,response,message;return regeneratorRuntime.wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:dispatch(uploadLicenseStatus({applying:true}));newLicenseType=null;_context2.prev=2;newLicenseType=JSON.parse(licenseString).license.type;_context2.next=10;break;case 6:_context2.prev=6;_context2.t0=_context2["catch"](2);dispatch(uploadLicenseStatus({}));return _context2.abrupt("return",dispatch((0,_add_error_message.addUploadErrorMessage)(genericUploadError+" Check your license file.")));case 10:_context2.prev=10;_context2.next=13;return(0,_es.putLicense)(licenseString,acknowledge);case 13:response=_context2.sent;_context2.next=16;return dispatchFromResponse(response,dispatch,currentLicenseType,newLicenseType,services);case 16:_context2.next=23;break;case 18:_context2.prev=18;_context2.t1=_context2["catch"](10);message=_context2.t1.responseJSON&&_context2.t1.responseJSON.error.reason?_context2.t1.responseJSON.error.reason:"Unknown error.";dispatch(uploadLicenseStatus({}));dispatch((0,_add_error_message.addUploadErrorMessage)(genericUploadError+" "+message));case 23:case"end":return _context2.stop()}},_callee2,void 0,[[2,6],[10,18]])})),function(_x6,_x7,_x8){return _ref3.apply(this,arguments)};var _ref3}},2208:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.startBasicLicense=exports.cancelStartBasicLicense=exports.startBasicLicenseStatus=void 0;var _reduxActions=__webpack_require__(29);var _es=__webpack_require__(1260);var _notify=__webpack_require__(11);function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}return Array.from(arr)}function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}var startBasicLicenseStatus=exports.startBasicLicenseStatus=(0,_reduxActions.createAction)("LICENSE_MANAGEMENT_START_BASIC_LICENSE_STATUS");exports.cancelStartBasicLicense=(0,_reduxActions.createAction)("LICENSE_MANAGEMENT_CANCEL_START_BASIC_LICENSE");exports.startBasicLicense=function startBasicLicense(currentLicenseType,ack){return _ref2=_asyncToGenerator(regeneratorRuntime.mark(function _callee(dispatch,getState,_ref){var xPackInfo=_ref.xPackInfo;var _ref3,acknowledged,basic_was_started,error_message,acknowledge,messages,first;return regeneratorRuntime.wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return(0,_es.startBasic)(ack);case 2:_ref3=_context.sent;acknowledged=_ref3.acknowledged;basic_was_started=_ref3.basic_was_started;error_message=_ref3.error_message;acknowledge=_ref3.acknowledge;if(!acknowledged){_context.next=17;break}if(!basic_was_started){_context.next=14;break}_context.next=11;return xPackInfo.refresh();case 11:window.location.reload();_context.next=15;break;case 14:return _context.abrupt("return",_notify.toastNotifications.addDanger(error_message));case 15:_context.next=20;break;case 17:messages=Object.values(acknowledge).slice(1).map(function(item){return item[0]});first="Some functionality will be lost if you replace your \n        "+currentLicenseType.toUpperCase()+" license with a\n        BASIC license.  Review the list of features below.";dispatch(startBasicLicenseStatus({acknowledge:true,messages:[first].concat(_toConsumableArray(messages))}));case 20:case"end":return _context.stop()}},_callee,void 0)})),function(_x,_x2,_x3){return _ref2.apply(this,arguments)};var _ref2}},2209:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.startLicenseTrial=exports.loadTrialStatus=exports.trialStatusLoaded=void 0;var _reduxActions=__webpack_require__(29);var _es=__webpack_require__(1260);var _notify=__webpack_require__(11);function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}var trialStatusLoaded=exports.trialStatusLoaded=(0,_reduxActions.createAction)("LICENSE_MANAGEMENT_TRIAL_STATUS_LOADED");exports.loadTrialStatus=function loadTrialStatus(){return _ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee(dispatch){var trialOK;return regeneratorRuntime.wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return(0,_es.canStartTrial)();case 2:trialOK=_context.sent;dispatch(trialStatusLoaded(trialOK));case 4:case"end":return _context.stop()}},_callee,void 0)})),function(_x){return _ref.apply(this,arguments)};var _ref};exports.startLicenseTrial=function startLicenseTrial(){return _ref3=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(dispatch,getState,_ref2){var xPackInfo=_ref2.xPackInfo;var _ref4,trial_was_started,error_message;return regeneratorRuntime.wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.next=2;return(0,_es.startTrial)();case 2:_ref4=_context2.sent;trial_was_started=_ref4.trial_was_started;error_message=_ref4.error_message;if(!trial_was_started){_context2.next=11;break}_context2.next=8;return xPackInfo.refresh();case 8:window.location.reload();_context2.next=12;break;case 11:return _context2.abrupt("return",_notify.toastNotifications.addDanger(error_message));case 12:case"end":return _context2.stop()}},_callee2,void 0)})),function(_x2,_x3,_x4){return _ref3.apply(this,arguments)};var _ref3}},2210:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _telemetry_opt_in=__webpack_require__(6968);Object.defineProperty(exports,"TelemetryOptIn",{enumerable:true,get:function get(){return _telemetry_opt_in.TelemetryOptIn}})},2211:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.TOOLTIPS={settings:{"pipeline.workers":"The number of workers that will, in parallel, execute the filter and output stages of the pipeline. If you find that events are backing up, or that the CPU is not saturated, consider increasing this number to better utilize machine processing power.\n\nDefault value: Number of the hosts CPU cores","pipeline.batch.size":"The maximum number of events an individual worker thread will collect from inputs before attempting to execute its filters and outputs. Larger batch sizes are generally more efficient, but come at the cost of increased memory overhead. You may have to increase the JVM heap size by setting the LS_HEAP_SIZE variable to effectively use the option.\n\nDefault value: 125","pipeline.batch.delay":"When creating pipeline event batches, how long in milliseconds to wait for each event before dispatching an undersized batch to pipeline workers.\n\nDefault value: 50ms","queue.type":"The internal queuing model to use for event buffering. Specify memory for legacy in-memory based queuing, or persisted for disk-based ACKed queueing\n\nDefault value: memory","queue.max_bytes":"The total capacity of the queue in number of bytes. Make sure the capacity of your disk drive is greater than the value you specify here.\n\nDefault value: 1024mb (1g)","queue.checkpoint.writes":"The maximum number of written events before forcing a checkpoint when persistent queues are enabled. Specify 0 to set this value to unlimited.\n\nDefault value: 1024"}}},2212:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _pipeline=__webpack_require__(6994);Object.defineProperty(exports,"Pipeline",{enumerable:true,get:function get(){return _pipeline.Pipeline}})},2213:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.PIPELINE_EDITOR={DELETE_PIPELINE_MODAL_MESSAGE:"You cannot recover a deleted pipeline.",ID_REQUIRED_ERR_MSG:"Pipeline ID is required",ID_FORMAT_ERR_MSG:"Pipeline ID must begin with a letter or underscore and contain only letters, underscores, dashes, and numbers",QUEUE_TYPES:[{"data-test-subj":"selectQueueType-memory",text:"memory",value:"memory"},{"data-test-subj":"selectQueueType-persisted",text:"persisted",value:"persisted"}],UNITS:[{"data-test-subj":"selectQueueMaxBytesUnits-b",text:"bytes",value:"b"},{"data-test-subj":"selectQueueMaxBytesUnits-kb",text:"kilobytes",value:"kb"},{"data-test-subj":"selectQueueMaxBytesUnits-mb",text:"megabytes",value:"mb"},{"data-test-subj":"selectQueueMaxBytesUnits-gb",text:"gigabytes",value:"gb"},{"data-test-subj":"selectQueueMaxBytesUnits-tb",text:"terabytes",value:"tb"},{"data-test-subj":"selectQueueMaxBytesUnits-pb",text:"petabytes",value:"pb"}]}},2214:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.FormLabelWithIconTip=FormLabelWithIconTip;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(4);var _propTypes2=_interopRequireDefault(_propTypes);var _eui=__webpack_require__(2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function FormLabelWithIconTip(_ref){var formRowLabelText=_ref.formRowLabelText,formRowTooltipText=_ref.formRowTooltipText;return _react2.default.createElement("div",null,_react2.default.createElement("span",null,formRowLabelText),"",_react2.default.createElement(_eui.EuiIconTip,{content:formRowTooltipText,size:"s",type:"questionInCircle"}))}FormLabelWithIconTip.propTypes={formRowLabelText:_propTypes2.default.string.isRequired,formRowTooltipText:_propTypes2.default.string.isRequired}},2215:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.PIPELINE_LIST={INITIAL_PAGE_SIZE:20,PAGE_SIZE_OPTIONS:[5,8,20,50],PIPELINE_NOT_CENTRALLY_MANAGED_TOOLTIP_TEXT:"This pipeline wasn't created using Centralized Configuration Management. It can't be managed or edited here.",INFO_ALERTS:{CALL_OUT_TITLE:"Only pipelines created in Kibana Management appear here"}}},2216:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _pipeline_list_item=__webpack_require__(7037);Object.defineProperty(exports,"PipelineListItem",{enumerable:true,get:function get(){return _pipeline_list_item.PipelineListItem}})},2217:function(module,exports,__webpack_require__){"use strict";__webpack_require__(7041)},2218:function(module,exports,__webpack_require__){"use strict";__webpack_require__(7043)},2219:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.setHttp=setHttp;exports.getHttp=getHttp;var _http=void 0;function setHttp(http){_http=http}function getHttp(){return _http}},2220:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.closeDetailPanel=exports.openDetailPanel=void 0;var _services=__webpack_require__(81);var _action_types=__webpack_require__(248);exports.openDetailPanel=function openDetailPanel(_ref){var panelType=_ref.panelType,jobId=_ref.jobId;return function(dispatch){var _getRouter=(0,_services.getRouter)(),history=_getRouter.history;var search=history.location.search;var _extractQueryParams=(0,_services.extractQueryParams)(search),deepLinkedJobId=_extractQueryParams.job;deepLinkedJobId!==jobId&&history.replace({search:"?job="+jobId});dispatch({type:_action_types.OPEN_DETAIL_PANEL,payload:{panelType:panelType,jobId:jobId}})}};exports.closeDetailPanel=function closeDetailPanel(){return function(dispatch){dispatch({type:_action_types.CLOSE_DETAIL_PANEL})}}},2221:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _job_status=__webpack_require__(7091);Object.defineProperty(exports,"JobStatus",{enumerable:true,get:function get(){return _job_status.JobStatus}})},2222:function(module,exports,__webpack_require__){var baseIsEqualDeep=__webpack_require__(7107),isObject=__webpack_require__(363),isObjectLike=__webpack_require__(578);function baseIsEqual(value,other,customizer,isLoose,stackA,stackB){if(value===other)return true;if(null==value||null==other||!isObject(value)&&!isObjectLike(other))return value!==value&&other!==other;return baseIsEqualDeep(value,other,baseIsEqual,customizer,isLoose,stackA,stackB)}module.exports=baseIsEqual},2223:function(module,exports,__webpack_require__){var getLength=__webpack_require__(7112),isLength=__webpack_require__(579);function isArrayLike(value){return null!=value&&isLength(getLength(value))}module.exports=isArrayLike},2224:function(module,exports){function baseProperty(key){return function(object){return null==object?void 0:object[key]}}module.exports=baseProperty},2225:function(module,exports,__webpack_require__){var isArrayLike=__webpack_require__(2223),isObjectLike=__webpack_require__(578);var objectProto=Object.prototype;var hasOwnProperty=objectProto.hasOwnProperty;var propertyIsEnumerable=objectProto.propertyIsEnumerable;function isArguments(value){return isObjectLike(value)&&isArrayLike(value)&&hasOwnProperty.call(value,"callee")&&!propertyIsEnumerable.call(value,"callee")}module.exports=isArguments},2226:function(module,exports){var reIsUint=/^\d+$/;var MAX_SAFE_INTEGER=9007199254740991;function isIndex(value,length){value="number"==typeof value||reIsUint.test(value)?+value:-1;length=null==length?MAX_SAFE_INTEGER:length;return value>-1&&value%1==0&&value<length}module.exports=isIndex},2227:function(module,exports,__webpack_require__){var isObject=__webpack_require__(363);function isStrictComparable(value){return value===value&&!isObject(value)}module.exports=isStrictComparable},2228:function(module,exports,__webpack_require__){var toObject=__webpack_require__(452);function baseGet(object,path,pathKey){if(null==object)return;void 0!==pathKey&&pathKey in toObject(object)&&(path=[pathKey]);var index=0,length=path.length;while(null!=object&&index<length)object=object[path[index++]];return index&&index==length?object:void 0}module.exports=baseGet},2229:function(module,exports,__webpack_require__){var isArray=__webpack_require__(415),toObject=__webpack_require__(452);var reIsDeepProp=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,reIsPlainProp=/^\w*$/;function isKey(value,object){var type=typeof value;if("string"==type&&reIsPlainProp.test(value)||"number"==type)return true;if(isArray(value))return false;var result=!reIsDeepProp.test(value);return result||null!=object&&value in toObject(object)}module.exports=isKey},2230:function(module,exports,__webpack_require__){var identity=__webpack_require__(2231);function bindCallback(func,thisArg,argCount){if("function"!=typeof func)return identity;if(void 0===thisArg)return func;switch(argCount){case 1:return function(value){return func.call(thisArg,value)};case 3:return function(value,index,collection){return func.call(thisArg,value,index,collection)};case 4:return function(accumulator,value,index,collection){return func.call(thisArg,accumulator,value,index,collection)};case 5:return function(value,other,key,object,source){return func.call(thisArg,value,other,key,object,source)}}return function(){return func.apply(thisArg,arguments)}}module.exports=bindCallback},2231:function(module,exports){function identity(value){return value}module.exports=identity},2232:function(module,exports,__webpack_require__){var baseFor=__webpack_require__(7123),keys=__webpack_require__(849);function baseForOwn(object,iteratee){return baseFor(object,iteratee,keys)}module.exports=baseForOwn},2233:function(module,exports,__webpack_require__){var baseClone=__webpack_require__(7125),bindCallback=__webpack_require__(2230);function cloneDeep(value,customizer,thisArg){return"function"==typeof customizer?baseClone(value,true,bindCallback(customizer,thisArg,3)):baseClone(value,true)}module.exports=cloneDeep},2234:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _constants=__webpack_require__(7140);Object.defineProperty(exports,"INDEX_ILLEGAL_CHARACTERS_VISIBLE",{enumerable:true,get:function get(){return _constants.INDEX_ILLEGAL_CHARACTERS_VISIBLE}})},2235:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _users=__webpack_require__(7184);Object.defineProperty(exports,"Users",{enumerable:true,get:function get(){return _users.Users}});var _edit_user=__webpack_require__(7185);Object.defineProperty(exports,"EditUser",{enumerable:true,get:function get(){return _edit_user.EditUser}})},2236:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ConfirmDelete=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _eui=__webpack_require__(2);var _notify=__webpack_require__(11);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}exports.ConfirmDelete=function(_Component){_inherits(ConfirmDelete,_Component);function ConfirmDelete(){var _ref,_this2=this;var _temp,_this,_ret;_classCallCheck(this,ConfirmDelete);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _ret=(_temp=(_this=_possibleConstructorReturn(this,(_ref=ConfirmDelete.__proto__||Object.getPrototypeOf(ConfirmDelete)).call.apply(_ref,[this].concat(args))),_this),_this.deleteUsers=function(){var _this$props=_this.props,usersToDelete=_this$props.usersToDelete,apiClient=_this$props.apiClient,callback=_this$props.callback;var errors=[];usersToDelete.forEach((_ref2=_asyncToGenerator(regeneratorRuntime.mark(function _callee(username){return regeneratorRuntime.wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return apiClient.deleteUser(username);case 3:_notify.toastNotifications.addSuccess("Deleted user "+username);_context.next=10;break;case 6:_context.prev=6;_context.t0=_context["catch"](0);errors.push(username);_notify.toastNotifications.addDanger("Error deleting user "+username);case 10:callback&&callback(usersToDelete,errors);case 11:case"end":return _context.stop()}},_callee,_this2,[[0,6]])})),function(_x){return _ref2.apply(this,arguments)}));var _ref2},_temp),_possibleConstructorReturn(_this,_ret)}_createClass(ConfirmDelete,[{key:"render",value:function render(){var _props=this.props,usersToDelete=_props.usersToDelete,onCancel=_props.onCancel;var moreThanOne=usersToDelete.length>1;var title=moreThanOne?"Delete "+usersToDelete.length+" users":"Delete user '"+usersToDelete[0]+"'";return _react2.default.createElement(_eui.EuiOverlayMask,null,_react2.default.createElement(_eui.EuiConfirmModal,{title:title,onCancel:onCancel,onConfirm:this.deleteUsers,cancelButtonText:"Cancel",confirmButtonText:"Delete",buttonColor:"danger"},_react2.default.createElement("div",null,moreThanOne?_react2.default.createElement(_react.Fragment,null,_react2.default.createElement("p",null,"You are about to delete these users:"),_react2.default.createElement("ul",null,usersToDelete.map(function(username){return _react2.default.createElement("li",{key:username},username)}))):null,_react2.default.createElement("p",null,"This operation cannot be undone."))))}}]);return ConfirmDelete}(_react.Component)},2237:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.createApiClient=void 0;var _chrome=__webpack_require__(9);var _chrome2=_interopRequireDefault(_chrome);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}var usersUrl=_chrome2.default.addBasePath("/api/security/v1/users");var rolesUrl=_chrome2.default.addBasePath("/api/security/role");exports.createApiClient=function createApiClient(httpClient){return{getCurrentUser:function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee(){var url,_ref2,data;return regeneratorRuntime.wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:url=_chrome2.default.addBasePath("/api/security/v1/me");_context.next=3;return httpClient.get(url);case 3:_ref2=_context.sent;data=_ref2.data;return _context.abrupt("return",data);case 6:case"end":return _context.stop()}},_callee,this)}));function getCurrentUser(){return _ref.apply(this,arguments)}return getCurrentUser}(),getUsers:function(){var _ref3=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(){var _ref4,data;return regeneratorRuntime.wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.next=2;return httpClient.get(usersUrl);case 2:_ref4=_context2.sent;data=_ref4.data;return _context2.abrupt("return",data);case 5:case"end":return _context2.stop()}},_callee2,this)}));function getUsers(){return _ref3.apply(this,arguments)}return getUsers}(),getUser:function(){var _ref5=_asyncToGenerator(regeneratorRuntime.mark(function _callee3(username){var url,_ref6,data;return regeneratorRuntime.wrap(function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:url=usersUrl+"/"+username;_context3.next=3;return httpClient.get(url);case 3:_ref6=_context3.sent;data=_ref6.data;return _context3.abrupt("return",data);case 6:case"end":return _context3.stop()}},_callee3,this)}));function getUser(_x){return _ref5.apply(this,arguments)}return getUser}(),deleteUser:function(){var _ref7=_asyncToGenerator(regeneratorRuntime.mark(function _callee4(username){var url;return regeneratorRuntime.wrap(function _callee4$(_context4){while(1)switch(_context4.prev=_context4.next){case 0:url=usersUrl+"/"+username;_context4.next=3;return httpClient.delete(url);case 3:case"end":return _context4.stop()}},_callee4,this)}));function deleteUser(_x2){return _ref7.apply(this,arguments)}return deleteUser}(),saveUser:function(){var _ref8=_asyncToGenerator(regeneratorRuntime.mark(function _callee5(user){var url;return regeneratorRuntime.wrap(function _callee5$(_context5){while(1)switch(_context5.prev=_context5.next){case 0:url=usersUrl+"/"+user.username;_context5.next=3;return httpClient.post(url,user);case 3:case"end":return _context5.stop()}},_callee5,this)}));function saveUser(_x3){return _ref8.apply(this,arguments)}return saveUser}(),getRoles:function(){var _ref9=_asyncToGenerator(regeneratorRuntime.mark(function _callee6(){var _ref10,data;return regeneratorRuntime.wrap(function _callee6$(_context6){while(1)switch(_context6.prev=_context6.next){case 0:_context6.next=2;return httpClient.get(rolesUrl);case 2:_ref10=_context6.sent;data=_ref10.data;return _context6.abrupt("return",data);case 5:case"end":return _context6.stop()}},_callee6,this)}));function getRoles(){return _ref9.apply(this,arguments)}return getRoles}(),getRole:function(){var _ref11=_asyncToGenerator(regeneratorRuntime.mark(function _callee7(name){var url,_ref12,data;return regeneratorRuntime.wrap(function _callee7$(_context7){while(1)switch(_context7.prev=_context7.next){case 0:url=rolesUrl+"/"+name;_context7.next=3;return httpClient.get(url);case 3:_ref12=_context7.sent;data=_ref12.data;return _context7.abrupt("return",data);case 6:case"end":return _context7.stop()}},_callee7,this)}));function getRole(_x4){return _ref11.apply(this,arguments)}return getRole}(),changePassword:function(){var _ref13=_asyncToGenerator(regeneratorRuntime.mark(function _callee8(username,password,currentPassword){var data;return regeneratorRuntime.wrap(function _callee8$(_context8){while(1)switch(_context8.prev=_context8.next){case 0:data={newPassword:password};currentPassword&&(data.password=currentPassword);_context8.next=4;return httpClient.post(usersUrl+"/"+username+"/password",data);case 4:case"end":return _context8.stop()}},_callee8,this)}));function changePassword(_x5,_x6,_x7){return _ref13.apply(this,arguments)}return changePassword}()}}},2238:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.checkLicenseError=checkLicenseError;var _xpack_info=__webpack_require__(73);var _notify=__webpack_require__(11);function checkLicenseError(kbnUrl,Promise,Private){var xpackInfo=Private(_xpack_info.XPackInfoProvider);var genericNotifier=new _notify.Notifier({location:"Security"});return function(err){if(!xpackInfo.get("features.security.showLinks")){genericNotifier.error(xpackInfo.get("features.security.linksMessage"));kbnUrl.redirect("/management");return Promise.halt()}return Promise.reject(err)}}},2239:function(module,exports,__webpack_require__){"use strict";__webpack_require__(16);__webpack_require__(22);__webpack_require__(7191);__webpack_require__(7193);__webpack_require__(7194);var uiModules=__webpack_require__(3).uiModules;uiModules.get("kibana",["ui.select","ngSanitize"])},2240:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var roles_1=__webpack_require__(7204);exports.saveRole=roles_1.saveRole;exports.deleteRole=roles_1.deleteRole;var get_fields_1=__webpack_require__(7205);exports.getFields=get_fields_1.getFields},2241:function(module,exports,__webpack_require__){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var eui_1=__webpack_require__(2);var react_1=tslib_1.__importStar(__webpack_require__(0));__webpack_require__(7211);var CollapsiblePanel=function(_react_1$Component){_inherits(CollapsiblePanel,_react_1$Component);function CollapsiblePanel(){_classCallCheck(this,CollapsiblePanel);var _this=_possibleConstructorReturn(this,(CollapsiblePanel.__proto__||Object.getPrototypeOf(CollapsiblePanel)).apply(this,arguments));_this.state={collapsed:false};_this.getTitle=function(){return react_1.default.createElement(eui_1.EuiFlexGroup,{alignItems:"baseline",gutterSize:"s",responsive:false},react_1.default.createElement(eui_1.EuiFlexItem,{grow:false},react_1.default.createElement(eui_1.EuiTitle,null,react_1.default.createElement("h2",null,react_1.default.createElement(eui_1.EuiIcon,{type:_this.props.iconType,size:"xl",className:"collapsiblePanel__logo"})," ",_this.props.title))),react_1.default.createElement(eui_1.EuiFlexItem,{grow:false},react_1.default.createElement(eui_1.EuiLink,{onClick:_this.toggleCollapsed},_this.state.collapsed?"show":"hide")))};_this.getForm=function(){if(_this.state.collapsed)return null;return react_1.default.createElement(react_1.Fragment,null,react_1.default.createElement(eui_1.EuiSpacer,null),_this.props.children)};_this.toggleCollapsed=function(){_this.setState({collapsed:!_this.state.collapsed})};return _this}_createClass(CollapsiblePanel,[{key:"render",value:function render(){return react_1.default.createElement(eui_1.EuiPanel,null,this.getTitle(),this.getForm())}}]);return CollapsiblePanel}(react_1.Component);exports.CollapsiblePanel=CollapsiblePanel},2242:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getClusterPrivileges=getClusterPrivileges;exports.getIndexPrivileges=getIndexPrivileges;var clusterPrivileges=["all","monitor","manage","manage_security","manage_index_templates","manage_pipeline","manage_ingest_pipelines","transport_client","manage_ml","monitor_ml","manage_watcher","monitor_watcher","read_ccr","manage_ccr"];var indexPrivileges=["all","manage","monitor","read","index","create","delete","write","delete_index","create_index","view_index_metadata","read_cross_cluster","manage_follow_index"];function getClusterPrivileges(){return[].concat(clusterPrivileges)}function getIndexPrivileges(){return[].concat(indexPrivileges)}},2243:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var lodash_1=__webpack_require__(1);function copyRole(role){return lodash_1.cloneDeep(role)}exports.copyRole=copyRole},2244:function(module,exports,__webpack_require__){"use strict";var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var eui_1=__webpack_require__(2);var react_1=tslib_1.__importStar(__webpack_require__(0));var components_1=__webpack_require__(329);var role_1=__webpack_require__(391);var privilege_selector_1=__webpack_require__(850);var PrivilegeSpaceTable=function(_react_1$Component){_inherits(PrivilegeSpaceTable,_react_1$Component);function PrivilegeSpaceTable(){_classCallCheck(this,PrivilegeSpaceTable);var _this=_possibleConstructorReturn(this,(PrivilegeSpaceTable.__proto__||Object.getPrototypeOf(PrivilegeSpaceTable)).apply(this,arguments));_this.state={searchTerm:""};_this.getTableColumns=function(role){var availablePrivileges=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];var columns=[{field:"space",name:"",width:"50px",sortable:true,render:function render(space){if("deleted"in space)return null;return react_1.default.createElement(components_1.SpaceAvatar,{space:space,size:"s"})}},{field:"space",name:"Space",width:_this.props.readonly?"75%":"50%",render:function render(space){return"deleted"in space?react_1.default.createElement(eui_1.EuiText,{color:"subdued"},space.id," (deleted)"):react_1.default.createElement(eui_1.EuiText,null,space.name)}},{field:"privilege",name:"Privilege",width:_this.props.readonly?"25%":void 0,render:function render(privilege,record){if(_this.props.readonly||record.space.deleted)return privilege;return react_1.default.createElement(privilege_selector_1.PrivilegeSelector,{"data-test-subj":"privilege-space-table-priv",availablePrivileges:availablePrivileges,value:privilege,disabled:role_1.isReservedRole(role)||_this.props.readonly,onChange:_this.onSpacePermissionChange(record),compressed:true})}}];_this.props.readonly||columns.push({name:"Actions",actions:[{render:function render(record){return react_1.default.createElement(eui_1.EuiButtonIcon,{"aria-label":"Remove custom privileges for this space",color:"danger",onClick:function onClick(){return _this.onDeleteSpacePermissionsClick(record)},iconType:"trash"})}}]});return columns};_this.onSpacePermissionChange=function(record){return function(selectedPrivilege){var spaceId=record.space.id;var updatedPrivileges=_extends({},_this.props.spacePrivileges);updatedPrivileges[spaceId]=[selectedPrivilege];_this.props.onChange&&_this.props.onChange(updatedPrivileges)}};_this.onDeleteSpacePermissionsClick=function(record){var spaceId=record.space.id;var updatedPrivileges=_extends({},_this.props.spacePrivileges);delete updatedPrivileges[spaceId];_this.props.onChange&&_this.props.onChange(updatedPrivileges)};return _this}_createClass(PrivilegeSpaceTable,[{key:"render",value:function render(){var _this2=this;var _props=this.props,role=_props.role,spaces=_props.spaces,availablePrivileges=_props.availablePrivileges,spacePrivileges=_props.spacePrivileges;var searchTerm=this.state.searchTerm;var allTableItems=Object.keys(spacePrivileges).map(function(spaceId){return{space:spaces.find(function(s){return s.id===spaceId})||{id:spaceId,name:"",deleted:true},privilege:spacePrivileges[spaceId][0]}}).sort(function(item1){var isDeleted="deleted"in item1.space;return isDeleted?1:-1});var visibleTableItems=allTableItems.filter(function(item){var isDeleted="deleted"in item.space;var searchField=isDeleted?item.space.id:item.space.name;return searchField.toLowerCase().indexOf(searchTerm)>=0});if(0===allTableItems.length)return null;return react_1.default.createElement(eui_1.EuiInMemoryTable,{hasActions:true,columns:this.getTableColumns(role,availablePrivileges),search:{box:{incremental:true,placeholder:"Filter"},onChange:function onChange(search){_this2.setState({searchTerm:search.queryText.toLowerCase()})}},items:visibleTableItems})}}]);return PrivilegeSpaceTable}(react_1.Component);exports.PrivilegeSpaceTable=PrivilegeSpaceTable},2245:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var secure_space_message_1=__webpack_require__(7232);exports.SecureSpaceMessage=secure_space_message_1.SecureSpaceMessage},2246:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var eui_1=__webpack_require__(2);var react_1=tslib_1.__importDefault(__webpack_require__(0));exports.UnauthorizedPrompt=function(){return react_1.default.createElement(eui_1.EuiEmptyPrompt,{iconType:"spacesApp",iconColor:"danger",title:react_1.default.createElement("h2",null,"Permission denied"),body:react_1.default.createElement("p",{"data-test-subj":"permissionDeniedMessage"},"You do not have permission to manage spaces.")})}},2247:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function toSpaceIdentifier(){var value=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return value.toLowerCase().replace(/[^a-z0-9_]/g,"-")}exports.toSpaceIdentifier=toSpaceIdentifier;function isValidSpaceIdentifier(){var value=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return value===toSpaceIdentifier(value)}exports.isValidSpaceIdentifier=isValidSpaceIdentifier},2248:function(module,exports,__webpack_require__){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:true});var is_reserved_space_1=__webpack_require__(1601);var space_identifier_utils_1=__webpack_require__(2247);var SpaceValidator=function(){function SpaceValidator(){var options=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,SpaceValidator);this.shouldValidate=options.shouldValidate||false}_createClass(SpaceValidator,[{key:"enableValidation",value:function enableValidation(){this.shouldValidate=true}},{key:"disableValidation",value:function disableValidation(){this.shouldValidate=false}},{key:"validateSpaceName",value:function validateSpaceName(space){if(!this.shouldValidate)return valid();if(!space.name||!space.name.trim())return invalid("Name is required");if(space.name.length>1024)return invalid("Name must not exceed 1024 characters");return valid()}},{key:"validateSpaceDescription",value:function validateSpaceDescription(space){if(!this.shouldValidate)return valid();if(space.description&&space.description.length>2e3)return invalid("Description must not exceed 2000 characters");return valid()}},{key:"validateURLIdentifier",value:function validateURLIdentifier(space){if(!this.shouldValidate)return valid();if(is_reserved_space_1.isReservedSpace(space))return valid();if(!space.id)return invalid("URL identifier is required");if(!space_identifier_utils_1.isValidSpaceIdentifier(space.id))return invalid('URL identifier can only contain a-z, 0-9, and the characters "_" and "-"');return valid()}},{key:"validateForSave",value:function validateForSave(space){var _validateSpaceName=this.validateSpaceName(space),isNameInvalid=_validateSpaceName.isInvalid;var _validateSpaceDescrip=this.validateSpaceDescription(space),isDescriptionInvalid=_validateSpaceDescrip.isInvalid;var _validateURLIdentifie=this.validateURLIdentifier(space),isIdentifierInvalid=_validateURLIdentifie.isInvalid;if(isNameInvalid||isDescriptionInvalid||isIdentifierInvalid)return invalid();return valid()}}]);return SpaceValidator}();exports.SpaceValidator=SpaceValidator;function invalid(){var error=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return{isInvalid:true,error:error}}function valid(){return{isInvalid:false}}},2249:function(module,exports,__webpack_require__){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var eui_1=__webpack_require__(2);var react_1=tslib_1.__importStar(__webpack_require__(0));var ConfirmDeleteModal=function(_react_1$Component){_inherits(ConfirmDeleteModal,_react_1$Component);function ConfirmDeleteModal(){var _this2=this;_classCallCheck(this,ConfirmDeleteModal);var _this=_possibleConstructorReturn(this,(ConfirmDeleteModal.__proto__||Object.getPrototypeOf(ConfirmDeleteModal)).apply(this,arguments));_this.state={confirmSpaceName:"",error:null,deleteInProgress:false};_this.onSpaceNameChange=function(e){"boolean"===typeof _this.state.error?_this.setState({confirmSpaceName:e.target.value,error:e.target.value!==_this.props.space.name}):_this.setState({confirmSpaceName:e.target.value})};_this.onConfirm=_asyncToGenerator(regeneratorRuntime.mark(function _callee(){var needsRedirect,spacesManager;return regeneratorRuntime.wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:if(!(_this.state.confirmSpaceName===_this.props.space.name)){_context.next=10;break}needsRedirect=isDeletingCurrentSpace(_this.props.space,_this.props.spacesNavState);spacesManager=_this.props.spacesManager;_this.setState({deleteInProgress:true});_context.next=6;return _this.props.onConfirm();case 6:_this.setState({deleteInProgress:false});needsRedirect&&spacesManager.redirectToSpaceSelector();_context.next=11;break;case 10:_this.setState({error:true});case 11:case"end":return _context.stop()}},_callee,_this2)}));return _this}_createClass(ConfirmDeleteModal,[{key:"render",value:function render(){var _props=this.props,space=_props.space,spacesNavState=_props.spacesNavState,onCancel=_props.onCancel;var warning=null;if(isDeletingCurrentSpace(space,spacesNavState)){var name=react_1.default.createElement("span",null,"(",react_1.default.createElement("strong",null,space.name),")");warning=react_1.default.createElement(eui_1.EuiCallOut,{color:"warning"},react_1.default.createElement(eui_1.EuiText,null,"You are about to delete your current space ",name,". You will be redirected to choose a different space if you continue."))}return react_1.default.createElement(eui_1.EuiOverlayMask,null,react_1.default.createElement(eui_1.EuiModal,{onClose:onCancel,className:"spcConfirmDeleteModal"},react_1.default.createElement(eui_1.EuiModalHeader,null,react_1.default.createElement(eui_1.EuiModalHeaderTitle,{"data-test-subj":"confirmModalTitleText"},"Delete space ","'"+space.name+"'")),react_1.default.createElement(eui_1.EuiModalBody,null,react_1.default.createElement(eui_1.EuiText,{"data-test-subj":"confirmModalBodyText"},react_1.default.createElement("p",null,"Deleting a space permanently removes the space and"," ",react_1.default.createElement("strong",null,"all of its contents"),". You can't undo this action."),react_1.default.createElement(eui_1.EuiFormRow,{label:"Confirm space name",isInvalid:!!this.state.error,error:"Space names do not match."},react_1.default.createElement(eui_1.EuiFieldText,{value:this.state.confirmSpaceName,onChange:this.onSpaceNameChange,disabled:this.state.deleteInProgress})),warning)),react_1.default.createElement(eui_1.EuiModalFooter,null,react_1.default.createElement(eui_1.EuiButtonEmpty,{"data-test-subj":"confirmModalCancelButton",onClick:onCancel,isDisabled:this.state.deleteInProgress},"Cancel"),react_1.default.createElement(eui_1.EuiButton,{"data-test-subj":"confirmModalConfirmButton",onClick:this.onConfirm,fill:true,color:"danger",isLoading:this.state.deleteInProgress},"Delete space and all contents"))))}}]);return ConfirmDeleteModal}(react_1.Component);exports.ConfirmDeleteModal=ConfirmDeleteModal;function isDeletingCurrentSpace(space,spacesNavState){return space.id===spacesNavState.getActiveSpace().id}},2250:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.TIME_UNITS={SECOND:"s",MINUTE:"m",HOUR:"h",DAY:"d"}},2251:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _execute_details=__webpack_require__(7273);Object.defineProperty(exports,"ExecuteDetails",{enumerable:true,get:function get(){return _execute_details.ExecuteDetails}})},2252:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _watch=__webpack_require__(7274);Object.defineProperty(exports,"Watch",{enumerable:true,get:function get(){return _watch.Watch}})},2253:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _action=__webpack_require__(7278);Object.defineProperty(exports,"Action",{enumerable:true,get:function get(){return _action.Action}})},2254:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _get_time_units_label=__webpack_require__(7293);Object.defineProperty(exports,"getTimeUnitsLabel",{enumerable:true,get:function get(){return _get_time_units_label.getTimeUnitsLabel}})},2255:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _watch_history_item=__webpack_require__(7296);Object.defineProperty(exports,"WatchHistoryItem",{enumerable:true,get:function get(){return _watch_history_item.WatchHistoryItem}})},2256:function(module,exports,__webpack_require__){"use strict";__webpack_require__(7301)},2257:function(module,exports,__webpack_require__){"use strict";__webpack_require__(7327)},2258:function(module,exports,__webpack_require__){"use strict";__webpack_require__(7337)},2259:function(module,exports,__webpack_require__){"use strict";__webpack_require__(7371)},2260:function(module,exports,__webpack_require__){"use strict";__webpack_require__(7388)},2261:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.IndexPatternCreationConfig=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _i18n=__webpack_require__(18);function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var indexPatternTypeName=_i18n.i18n.translate("common.ui.management.editIndexPattern.createIndex.defaultTypeName",{defaultMessage:"index pattern"});var indexPatternButtonText=_i18n.i18n.translate("common.ui.management.editIndexPattern.createIndex.defaultButtonText",{defaultMessage:"Standard index pattern"});var indexPatternButtonDescription=_i18n.i18n.translate("common.ui.management.editIndexPattern.createIndex.defaultButtonDescription",{defaultMessage:"Perform full aggregations against any data"});var IndexPatternCreationConfig=exports.IndexPatternCreationConfig=function(){function IndexPatternCreationConfig(_ref){var _this=this;var _ref$type=_ref.type,type=void 0===_ref$type?void 0:_ref$type,_ref$name=_ref.name,name=void 0===_ref$name?indexPatternTypeName:_ref$name,_ref$showSystemIndice=_ref.showSystemIndices,showSystemIndices=void 0===_ref$showSystemIndice||_ref$showSystemIndice,_ref$httpClient=_ref.httpClient,httpClient=void 0===_ref$httpClient?null:_ref$httpClient,_ref$isBeta=_ref.isBeta,isBeta=void 0!==_ref$isBeta&&_ref$isBeta;_classCallCheck(this,IndexPatternCreationConfig);this.getIndexPatternType=function(){return _this.type};this.getIndexPatternName=function(){return _this.name};this.getIsBeta=function(){return _this.isBeta};this.getShowSystemIndices=function(){return _this.showSystemIndices};this.checkIndicesForErrors=function(){return};this.getIndexPatternMappings=function(){return{}};this.renderPrompt=function(){return null};this.getFetchForWildcardOptions=function(){return{}};this.type=type;this.name=name;this.showSystemIndices=showSystemIndices;this.httpClient=httpClient;this.isBeta=isBeta}_createClass(IndexPatternCreationConfig,[{key:"getIndexPatternCreationOption",value:function(){var _ref2=_asyncToGenerator(regeneratorRuntime.mark(function _callee(urlHandler){return regeneratorRuntime.wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:return _context.abrupt("return",{text:indexPatternButtonText,description:indexPatternButtonDescription,testSubj:"createStandardIndexPatternButton",onClick:function onClick(){urlHandler("/management/kibana/index")}});case 1:case"end":return _context.stop()}},_callee,this)}));function getIndexPatternCreationOption(_x){return _ref2.apply(this,arguments)}return getIndexPatternCreationOption}()},{key:"getIndexTags",value:function getIndexTags(){return[]}}]);return IndexPatternCreationConfig}();IndexPatternCreationConfig.key="default"},2262:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var IndexPatternListConfig=exports.IndexPatternListConfig=function IndexPatternListConfig(){_classCallCheck(this,IndexPatternListConfig);this.getIndexPatternTags=function(){return[]};this.getFieldInfo=function(){return[]};this.areScriptedFieldsEnabled=function(){return true}};IndexPatternListConfig.key="default"},2263:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.initializeInput=initializeInput;exports.default=getInput;var _autocomplete=__webpack_require__(2264);var _autocomplete2=_interopRequireDefault(_autocomplete);var _modules=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var $=__webpack_require__(16);__webpack_require__(111);__webpack_require__(1911);var SenseEditor=__webpack_require__(1276);var settings=__webpack_require__(652);var utils=__webpack_require__(1275);var es=__webpack_require__(1274);var history=__webpack_require__(1277);var input=void 0;function initializeInput($el,$actionsEl,$copyAsCurlEl,output){var openDocumentation=arguments.length>4&&void 0!==arguments[4]?arguments[4]:function(){};input=new SenseEditor($el);if(_modules.uiModules){var appSense=_modules.uiModules.get("app/sense");appSense&&appSense.setupResizeCheckerForRootEditors&&appSense.setupResizeCheckerForRootEditors($el,input,output)}input.autocomplete=new _autocomplete2.default(input);input.$actions=$actionsEl;input.commands.addCommand({name:"auto indent request",bindKey:{win:"Ctrl-I",mac:"Command-I"},exec:function exec(){input.autoIndent()}});input.commands.addCommand({name:"move to previous request start or end",bindKey:{win:"Ctrl-Up",mac:"Command-Up"},exec:function exec(){input.moveToPreviousRequestEdge()}});input.commands.addCommand({name:"move to next request start or end",bindKey:{win:"Ctrl-Down",mac:"Command-Down"},exec:function exec(){input.moveToNextRequestEdge()}});(function setupClipboard(){function copyText(text){var node=$('<textarea style="height:1px"></textarea').val(text).appendTo(document.body).select();document.execCommand("copy");node.remove()}if(!document.queryCommandSupported("copy")){$copyAsCurlEl.hide();return}$copyAsCurlEl.click(function(){copyText($copyAsCurlEl.attr("data-clipboard-text"))});input.$actions.on("mouseenter",function(){if($(this).hasClass("open"))return;input.getRequestsAsCURL(function(text){$copyAsCurlEl.attr("data-clipboard-text",text)})})})();var CURRENT_REQ_ID=0;function sendCurrentRequestToES(){var reqId=++CURRENT_REQ_ID;input.getRequestsInRange(function(requests){if(reqId!==CURRENT_REQ_ID)return;output.update("");if(0===requests.length)return;var isMultiRequest=requests.length>1;var finishChain=function finishChain(){};var isFirstRequest=true;var sendNextRequest=function sendNextRequest(){if(reqId!==CURRENT_REQ_ID)return;if(0===requests.length){finishChain();return}var req=requests.shift();var esPath=req.url;var esMethod=req.method;var esData=utils.collapseLiteralStrings(req.data.join("\n"));esData&&(esData+="\n");es.send(esMethod,esPath,esData).always(function(dataOrjqXHR,textStatus,jqXhrORerrorThrown){if(reqId!==CURRENT_REQ_ID)return;var xhr=void 0;xhr=dataOrjqXHR.promise?dataOrjqXHR:jqXhrORerrorThrown;function modeForContentType(contentType){if(contentType.indexOf("text/plain")>=0)return"ace/mode/text";if(contentType.indexOf("application/yaml")>=0)return"ace/mode/yaml";return null}if("number"===typeof xhr.status&&(xhr.status>=200&&xhr.status<300||404===xhr.status)){history.addToHistory(esPath,esMethod,esData);var value=xhr.responseText;var mode=modeForContentType(xhr.getAllResponseHeaders("Content-Type")||"");if(null===mode||"application/json"===mode)try{value=utils.expandLiteralStrings(value)}catch(e){}var warnings=xhr.getResponseHeader("warning");if(warnings){var deprecationMessages=utils.extractDeprecationMessages(warnings);value=deprecationMessages.join("\n")+"\n"+value}isMultiRequest&&(value="# "+req.method+" "+req.url+"\n"+value);isFirstRequest?output.update(value,mode):output.append("\n"+value);isFirstRequest=false;sendNextRequest()}else{var _value=void 0;var _mode=void 0;if(xhr.responseText){_value=xhr.responseText;_mode=modeForContentType(xhr.getAllResponseHeaders("Content-Type")||"");if("{"===_value[0])try{_value=JSON.stringify(JSON.parse(_value),null,2)}catch(e){}}else{_value="Request failed to get to the server (status code: "+xhr.status+")";_mode="ace/mode/text"}isMultiRequest&&(_value="# "+req.method+" "+req.url+"\n"+_value);isFirstRequest?output.update(_value,_mode):output.append("\n"+_value);finishChain()}})};sendNextRequest()})}input.commands.addCommand({name:"send to elasticsearch",bindKey:{win:"Ctrl-Enter",mac:"Command-Enter"},exec:sendCurrentRequestToES});input.commands.addCommand({name:"open documentation",bindKey:{win:"Ctrl-/",mac:"Command-/"},exec:function exec(){openDocumentation()}});settings&&settings.applyCurrentSettings(input);input.focus();input.highlightCurrentRequestsAndUpdateActionBar();input.sendCurrentRequestToES=sendCurrentRequestToES;__webpack_require__(7558)(input,output);return input}function getInput(){return input}},2264:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _typeof="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"===typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};exports.getEndpointFromPosition=getEndpointFromPosition;exports.default=function(editor){function isUrlPathToken(token){switch((token||{}).type){case"url.slash":case"url.comma":case"url.part":return true;default:return false}}function addMetaToTermsList(list,meta,template){return _lodash2.default.map(list,function(t){"object"!==("undefined"===typeof t?"undefined":_typeof(t))&&(t={name:t});return _lodash2.default.defaults(t,{meta:meta,template:template})})}function applyTerm(term){var session=editor.getSession();var context=term.context;addReplacementInfoToContext(context,editor.getCursorPosition(),term.insertValue);var termAsString=void 0;if("body"===context.autoCompleteType){termAsString="string"===typeof term.insertValue?'"'+term.insertValue+'"':term.insertValue+"";"["!==term.insertValue&&"{"!==term.insertValue||(termAsString="")}else termAsString=term.insertValue+"";var valueToInsert=termAsString;var templateInserted=false;if(!context.addTemplate||_lodash2.default.isUndefined(term.template)||_lodash2.default.isNull(term.template)){templateInserted=true;"["===term.value?valueToInsert+="[]":"{"===term.value?valueToInsert+="{}":templateInserted=false}else{var indentedTemplateLines=_utils2.default.jsonToString(term.template,true).split("\n");var currentIndentation=session.getLine(context.rangeToReplace.start.row);currentIndentation=currentIndentation.match(/^\s*/)[0];for(var i=1;i<indentedTemplateLines.length;i++)indentedTemplateLines[i]=currentIndentation+indentedTemplateLines[i];valueToInsert+=": "+indentedTemplateLines.join("\n");templateInserted=true}valueToInsert=context.prefixToAdd+valueToInsert+context.suffixToAdd;removeChangeListener();context.rangeToReplace.start.column!==context.rangeToReplace.end.column?session.replace(context.rangeToReplace,valueToInsert):editor.insert(valueToInsert);editor.clearSelection();var newPos={row:context.rangeToReplace.start.row,column:context.rangeToReplace.start.column+termAsString.length+context.prefixToAdd.length+(templateInserted?0:context.suffixToAdd.length)};var tokenIter=editor.iterForPosition(newPos.row,newPos.column);if("body"===context.autoCompleteType){var nonEmptyToken=editor.parser.nextNonEmptyToken(tokenIter);switch(nonEmptyToken?nonEmptyToken.type:"NOTOKEN"){case"paren.rparen":newPos={row:tokenIter.getCurrentTokenRow(),column:tokenIter.getCurrentTokenColumn()};break;case"punctuation.colon":nonEmptyToken=editor.parser.nextNonEmptyToken(tokenIter);if("paren.lparen"===(nonEmptyToken||{}).type){nonEmptyToken=editor.parser.nextNonEmptyToken(tokenIter);newPos={row:tokenIter.getCurrentTokenRow(),column:tokenIter.getCurrentTokenColumn()};nonEmptyToken&&0===nonEmptyToken.value.indexOf('"')&&newPos.column++}break;case"paren.lparen":case"punctuation.comma":tokenIter.stepForward();newPos={row:tokenIter.getCurrentTokenRow(),column:tokenIter.getCurrentTokenColumn()}}editor.moveCursorToPosition(newPos)}addChangeListener()}function getAutoCompleteContext(editor,session,pos){var context={autoCompleteSet:null,endpoint:null,urlPath:null,method:null,activeScheme:null,editor:editor};context.autoCompleteType=getAutoCompleteType(pos);switch(context.autoCompleteType){case"path":addPathAutoCompleteSetToContext(context,pos);break;case"url_params":addUrlParamsAutoCompleteSetToContext(context,pos);break;case"method":addMethodAutoCompleteSetToContext(context,pos);break;case"body":addBodyAutoCompleteSetToContext(context,pos);break;default:return null}if(!context.autoCompleteSet)return null;addReplacementInfoToContext(context,pos);context.createdWithToken=_lodash2.default.clone(context.updatedForToken);return context}function getAutoCompleteType(pos){var rowMode=editor.parser.getRowParseMode();if(rowMode&editor.parser.MODE.IN_REQUEST)return"body";if(rowMode&editor.parser.MODE.REQUEST_START){var tokenIter=editor.iterForPosition(pos.row,pos.column);var t=tokenIter.getCurrentToken();while("url.comma"===t.type)t=tokenIter.stepBackward();switch(t.type){case"method":return"method";case"whitespace":t=editor.parser.prevNonEmptyToken(tokenIter);switch((t||{}).type){case"method":return"path";default:if(isUrlPathToken(t))return"path";if(isUrlParamsToken(t))return"url_params";return null}break;default:if(isUrlPathToken(t))return"path";if(isUrlParamsToken(t))return"url_params";return null}}if(rowMode&editor.parser.MODE.REQUEST_END)return"body";if(""===(editor.getSession().getLine(pos.row)||"").trim()){rowMode=editor.parser.getRowParseMode(pos.row-1);if(rowMode&editor.parser.MODE.REQUEST_START&&rowMode&editor.parser.MODE.REQUEST_END)return"body";return"method"}return null}function addReplacementInfoToContext(context,pos,replacingTerm){var session=editor.getSession();context.updatedForToken=_lodash2.default.clone(session.getTokenAt(pos.row,pos.column));context.updatedForToken||(context.updatedForToken={value:"",start:pos.column});var anchorToken=context.createdWithToken;anchorToken||(anchorToken=context.updatedForToken);switch(context.updatedForToken.type){case"variable":case"string":case"text":case"constant.numeric":case"constant.language.boolean":case"method":case"url.index":case"url.type":case"url.id":case"url.method":case"url.endpoint":case"url.part":case"url.param":case"url.value":context.rangeToReplace=new AceRange(pos.row,anchorToken.start,pos.row,context.updatedForToken.start+context.updatedForToken.value.length);context.replacingToken=true;break;default:if(replacingTerm&&context.updatedForToken.value===replacingTerm){context.rangeToReplace=new AceRange(pos.row,anchorToken.start,pos.row,context.updatedForToken.start+context.updatedForToken.value.length);context.replacingToken=true}else{context.rangeToReplace=new AceRange(pos.row,pos.column,pos.row,pos.column);context.replacingToken=false}}context.textBoxPosition={row:context.rangeToReplace.start.row,column:context.rangeToReplace.start.column};switch(context.autoCompleteType){case"path":addPathPrefixSuffixToContext(context);break;case"url_params":addUrlParamsPrefixSuffixToContext(context);break;case"method":addMethodPrefixSuffixToContext(context);break;case"body":addBodyPrefixSuffixToContext(context)}}function addBodyPrefixSuffixToContext(context){context.prefixToAdd="";context.suffixToAdd="";var tokenIter=editor.iterForCurrentLoc();var nonEmptyToken=editor.parser.nextNonEmptyToken(tokenIter);switch(nonEmptyToken?nonEmptyToken.type:"NOTOKEN"){case"NOTOKEN":case"paren.lparen":case"paren.rparen":case"punctuation.comma":context.addTemplate=true;break;case"punctuation.colon":context.addTemplate=false;nonEmptyToken=editor.parser.nextNonEmptyToken(tokenIter);if(!(nonEmptyToken&&"{"===nonEmptyToken.value))break;nonEmptyToken=editor.parser.nextNonEmptyToken(tokenIter);if(!(nonEmptyToken&&"}"===nonEmptyToken.value))break;context.addTemplate=true;context.rangeToReplace.end.row=tokenIter.getCurrentTokenRow();context.rangeToReplace.end.column=tokenIter.getCurrentTokenColumn()+nonEmptyToken.value.length;nonEmptyToken=editor.parser.nextNonEmptyToken(tokenIter);switch(nonEmptyToken?nonEmptyToken.type:"NOTOKEN"){case"NOTOKEN":case"paren.rparen":case"punctuation.comma":case"punctuation.colon":break;default:context.suffixToAdd=", "}break;default:context.addTemplate=true;context.suffixToAdd=", "}tokenIter=editor.iterForCurrentLoc();nonEmptyToken=tokenIter.getCurrentToken();var insertingRelativeToToken=void 0;if(context.replacingToken)insertingRelativeToToken=0;else{var pos=editor.getCursorPosition();insertingRelativeToToken=pos.column===context.updatedForToken.start?-1:pos.column<context.updatedForToken.start+context.updatedForToken.value.length?0:1}(editor.parser.isEmptyToken(nonEmptyToken)||insertingRelativeToToken<=0)&&(nonEmptyToken=editor.parser.prevNonEmptyToken(tokenIter));switch(nonEmptyToken?nonEmptyToken.type:"NOTOKEN"){case"NOTOKEN":case"paren.lparen":case"punctuation.comma":case"punctuation.colon":case"method":break;default:nonEmptyToken&&nonEmptyToken.type.indexOf("url")<0&&(context.prefixToAdd=", ")}return context}function addUrlParamsPrefixSuffixToContext(context){context.prefixToAdd="";context.suffixToAdd=""}function addMethodPrefixSuffixToContext(context){context.prefixToAdd="";context.suffixToAdd="";var tokenIter=editor.iterForCurrentLoc();var row=tokenIter.getCurrentTokenRow();var t=editor.parser.nextNonEmptyToken(tokenIter);tokenIter.getCurrentTokenRow()===row&&t||(context.suffixToAdd=" ")}function addPathPrefixSuffixToContext(context){context.prefixToAdd="";context.suffixToAdd=""}function addMethodAutoCompleteSetToContext(context){context.autoCompleteSet=["GET","PUT","POST","DELETE","HEAD"].map(function(m,i){return{name:m,score:-i,meta:"method"}})}function addPathAutoCompleteSetToContext(context,pos){var ret=getCurrentMethodAndTokenPaths(editor,pos);context.method=ret.method;context.token=ret.token;context.otherTokenValues=ret.otherTokenValues;context.urlTokenPath=ret.urlTokenPath;var components=(0,_kb.getTopLevelUrlCompleteComponents)(context.method);(0,_engine.populateContext)(ret.urlTokenPath,context,editor,true,components);context.autoCompleteSet=addMetaToTermsList(context.autoCompleteSet,"endpoint")}function addUrlParamsAutoCompleteSetToContext(context,pos){var ret=getCurrentMethodAndTokenPaths(editor,pos);context.method=ret.method;context.otherTokenValues=ret.otherTokenValues;context.urlTokenPath=ret.urlTokenPath;if(!ret.urlTokenPath){console.log("Can't extract a valid url token path.");return context}(0,_engine.populateContext)(ret.urlTokenPath,context,editor,false,(0,_kb.getTopLevelUrlCompleteComponents)(context.method));if(!context.endpoint){console.log("couldn't resolve an endpoint.");return context}if(!ret.urlParamsTokenPath){console.log("Can't extract a valid urlParams token path.");return context}var tokenPath=[];var currentParam=ret.urlParamsTokenPath.pop();if(currentParam){tokenPath=Object.keys(currentParam);context.otherTokenValues=currentParam[tokenPath[0]]}(0,_engine.populateContext)(tokenPath,context,editor,true,context.endpoint.paramsAutocomplete.getTopLevelComponents(context.method));return context}function addBodyAutoCompleteSetToContext(context,pos){var ret=getCurrentMethodAndTokenPaths(editor,pos);context.method=ret.method;context.otherTokenValues=ret.otherTokenValues;context.urlTokenPath=ret.urlTokenPath;context.requestStartRow=ret.requestStartRow;if(!ret.urlTokenPath){console.log("Can't extract a valid url token path.");return context}(0,_engine.populateContext)(ret.urlTokenPath,context,editor,false,(0,_kb.getTopLevelUrlCompleteComponents)(context.method));context.bodyTokenPath=ret.bodyTokenPath;if(!ret.bodyTokenPath){console.log("Can't extract a valid body token path.");return context}context.endpointComponentResolver=_kb.getEndpointBodyCompleteComponents;context.globalComponentResolver=_kb.getGlobalAutocompleteComponents;var components=void 0;components=context.endpoint?context.endpoint.bodyAutocompleteRootComponents:(0,_kb.getUnmatchedEndpointComponents)();(0,_engine.populateContext)(ret.bodyTokenPath,context,editor,true,components);return context}var evaluateCurrentTokenAfterAChange=_lodash2.default.debounce(function evaluateCurrentTokenAfterAChange(pos){var session=editor.getSession();var currentToken=session.getTokenAt(pos.row,pos.column);if(!currentToken){if(0===pos.row){LAST_EVALUATED_TOKEN=null;return}currentToken={start:0,value:""}}currentToken.row=pos.row;if(editor.parser.isEmptyToken(currentToken)){var nextToken=session.getTokenAt(pos.row,pos.column+1);if(editor.parser.isEmptyToken(nextToken)){currentToken.start=pos.column;LAST_EVALUATED_TOKEN=currentToken}else{nextToken.row=pos.row;LAST_EVALUATED_TOKEN=nextToken}return}if(!LAST_EVALUATED_TOKEN){LAST_EVALUATED_TOKEN=currentToken;return}if(LAST_EVALUATED_TOKEN.start!==currentToken.start||LAST_EVALUATED_TOKEN.row!==currentToken.row||LAST_EVALUATED_TOKEN.value===currentToken.value){LAST_EVALUATED_TOKEN=currentToken;return}switch(currentToken.type||"UNKNOWN"){case"paren.lparen":case"paren.rparen":case"punctuation.colon":case"punctuation.comma":case"UNKNOWN":return}LAST_EVALUATED_TOKEN=currentToken;editor.execCommand("startAutocomplete")},100);function editorChangeListener(){var cursor=editor.selection.lead;if(editor.__ace.completer&&editor.__ace.completer.activated)return;evaluateCurrentTokenAfterAChange(cursor)}function addChangeListener(){editor.on("changeSelection",editorChangeListener)}function removeChangeListener(){editor.off("changeSelection",editorChangeListener)}function getCompletions(aceEditor,session,pos,prefix,callback){try{var context=getAutoCompleteContext(editor,session,pos);if(context){var terms=_lodash2.default.map(context.autoCompleteSet,function(term){term="object"!==("undefined"===typeof term?"undefined":_typeof(term))?{name:term}:_lodash2.default.clone(term);var defaults={value:term.name,meta:"API",score:0,context:context};"body"===context.autoCompleteType&&(defaults.completer={insertMatch:function insertMatch(){return applyTerm(term)}});return _lodash2.default.defaults(term,defaults)});terms.sort(function(t1,t2){if(t1.score>t2.score)return-1;if(t1.score<t2.score)return 1;if(t1.name<t2.name)return-1;if(t1.name===t2.name)return 0;return 1});callback(null,_lodash2.default.map(terms,function(t,i){t.insertValue=t.insertValue||t.value;t.value=""+t.value;t.score=-i;return t}))}else callback(null,[])}catch(e){console.log("error while getting completion terms",e);callback(e,null)}}addChangeListener();_brace2.default.define("ace/autocomplete/text_completer",["require","exports","module"],function(require,exports){exports.getCompletions=function(editor,session,pos,prefix,callback){callback(null,[])}});var langTools=_brace2.default.acequire("ace/ext/language_tools");langTools.setCompleters([{identifierRegexps:[/[a-zA-Z_0-9\.\$\-\u00A2-\uFFFF]/],getCompletions:getCompletions}]);editor.setOptions({enableBasicAutocompletion:true});editor.$blockScrolling=Infinity;return{_test:{getCompletions:getCompletions,addReplacementInfoToContext:addReplacementInfoToContext,addChangeListener:addChangeListener,removeChangeListener:removeChangeListener}}};var _kb=__webpack_require__(7534);var _utils=__webpack_require__(1275);var _utils2=_interopRequireDefault(_utils);var _engine=__webpack_require__(2271);var _components=__webpack_require__(454);var _lodash=__webpack_require__(1);var _lodash2=_interopRequireDefault(_lodash);var _brace=__webpack_require__(111);var _brace2=_interopRequireDefault(_brace);__webpack_require__(2205);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var AceRange=_brace2.default.acequire("ace/range").Range;var LAST_EVALUATED_TOKEN=null;function isUrlParamsToken(token){switch((token||{}).type){case"url.param":case"url.equal":case"url.value":case"url.questionmark":case"url.amp":return true;default:return false}}function getCurrentMethodAndTokenPaths(editor,pos,forceEndOfUrl){var tokenIter=editor.iterForPosition(pos.row,pos.column);var startPos=pos;var bodyTokenPath=[];var ret={};var STATES={looking_for_key:0,looking_for_scope_start:1,start:3};var state=STATES.start;var t=tokenIter.getCurrentToken();if(t){if(0===startPos.column){t=tokenIter.stepBackward();state=STATES.looking_for_scope_start}}else if(0===startPos.column){t=tokenIter.stepBackward();state=STATES.start}var walkedSomeBody=false;for(;t&&-1===t.type.indexOf("url")&&"method"!==t.type;t=tokenIter.stepBackward()){"whitespace"!==t.type&&(walkedSomeBody=true);switch(t.type){case"variable":state===STATES.looking_for_key&&bodyTokenPath.unshift(t.value.trim().replace(/"/g,""));state=STATES.looking_for_scope_start;break;case"paren.lparen":bodyTokenPath.unshift(t.value);state===STATES.looking_for_scope_start&&(state=STATES.looking_for_key);break;case"paren.rparen":state=STATES.looking_for_scope_start;var parenCount=1;t=tokenIter.stepBackward();while(t&&parenCount>0){switch(t.type){case"paren.lparen":parenCount--;break;case"paren.rparen":parenCount++}parenCount>0&&(t=tokenIter.stepBackward())}if(!t)return{};continue;case"punctuation.end_triple_quote":state=STATES.looking_for_scope_start;for(t=tokenIter.stepBackward();t;t=tokenIter.stepBackward())if("punctuation.start_triple_quote"===t.type){t=tokenIter.stepBackward();break}if(!t)return{};continue;case"punctuation.start_triple_quote":state===STATES.start?state=STATES.looking_for_key:state===STATES.looking_for_key&&(state=STATES.looking_for_scope_start);bodyTokenPath.unshift('"""');continue;case"string":case"constant.numeric":case"constant.language.boolean":case"text":state===STATES.start?state=STATES.looking_for_key:state===STATES.looking_for_key&&(state=STATES.looking_for_scope_start);break;case"punctuation.comma":state===STATES.start&&(state=STATES.looking_for_scope_start);break;case"punctuation.colon":case"whitespace":state===STATES.start&&(state=STATES.looking_for_key)}}if(walkedSomeBody&&(!bodyTokenPath||0===bodyTokenPath.length))return{};ret.urlTokenPath=[];if(tokenIter.getCurrentTokenRow()===startPos.row){if(t&&("url.part"===t.type||"url.param"===t.type||"url.value"===t.type)){if(forceEndOfUrl&&"url.part"===t.type){ret.urlTokenPath.push(t.value);ret.urlTokenPath.push(_components.URL_PATH_END_MARKER)}t=tokenIter.stepBackward();while("whitespace"===t.type)t=tokenIter.stepBackward()}bodyTokenPath=null}ret.bodyTokenPath=bodyTokenPath;ret.urlParamsTokenPath=null;ret.requestStartRow=tokenIter.getCurrentTokenRow();var curUrlPart=void 0;while(t&&isUrlParamsToken(t)){switch(t.type){case"url.value":Array.isArray(curUrlPart)?curUrlPart.unshift(t.value):curUrlPart=curUrlPart?[t.value,curUrlPart]:t.value;break;case"url.comma":curUrlPart?Array.isArray(curUrlPart)||(curUrlPart=[curUrlPart]):curUrlPart=[];break;case"url.param":var v=curUrlPart;curUrlPart={};curUrlPart[t.value]=v;break;case"url.amp":case"url.questionmark":ret.urlParamsTokenPath||(ret.urlParamsTokenPath=[]);ret.urlParamsTokenPath.unshift(curUrlPart||{});curUrlPart=null}t=tokenIter.stepBackward()}curUrlPart=null;while(t&&-1!==t.type.indexOf("url")){switch(t.type){case"url.part":Array.isArray(curUrlPart)?curUrlPart.unshift(t.value):curUrlPart=curUrlPart?[t.value,curUrlPart]:t.value;break;case"url.comma":curUrlPart?Array.isArray(curUrlPart)||(curUrlPart=[curUrlPart]):curUrlPart=[];break;case"url.slash":if(curUrlPart){ret.urlTokenPath.unshift(curUrlPart);curUrlPart=null}}t=editor.parser.prevNonEmptyToken(tokenIter)}curUrlPart&&ret.urlTokenPath.unshift(curUrlPart);ret.bodyTokenPath||ret.urlParamsTokenPath?ret.urlTokenPath.push(_components.URL_PATH_END_MARKER):ret.urlTokenPath.length>0&&(ret.otherTokenValues=ret.urlTokenPath[0]);t&&"method"===t.type&&(ret.method=t.value);return ret}function getEndpointFromPosition(editor,pos){var context=_extends({},getCurrentMethodAndTokenPaths(editor,pos,true));var components=(0,_kb.getTopLevelUrlCompleteComponents)(context.method);(0,_engine.populateContext)(context.urlTokenPath,context,editor,true,components);return context.endpoint}},2265:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}exports.AutocompleteComponent=function(){function AutocompleteComponent(name){_classCallCheck(this,AutocompleteComponent);this.name=name}_createClass(AutocompleteComponent,[{key:"getTerms",value:function getTerms(){return[]}},{key:"match",value:function match(){return{next:this.next}}}]);return AutocompleteComponent}()},2266:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.initializeOutput=initializeOutput;exports.default=getOutput;var _lodash=__webpack_require__(1);var _lodash2=_interopRequireDefault(_lodash);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var ace=__webpack_require__(111);var settings=__webpack_require__(652);var OutputMode=__webpack_require__(7543);var smartResize=__webpack_require__(2270);var output=void 0;function initializeOutput($el){output=ace.acequire("ace/ace").edit($el[0]);var outputMode=new OutputMode.Mode;output.$blockScrolling=Infinity;output.resize=smartResize(output);output.update=function(val,mode,cb){if("function"===typeof mode){cb=mode;mode=void 0}var session=output.getSession();session.setMode(val?mode||outputMode:"ace/mode/text");session.setValue(val);"function"===typeof cb&&setTimeout(cb)};output.append=function(val,foldPrevious,cb){if("function"===typeof foldPrevious){cb=foldPrevious;foldPrevious=true}_lodash2.default.isUndefined(foldPrevious)&&(foldPrevious=true);var session=output.getSession();var lastLine=session.getLength();if(foldPrevious){output.moveCursorTo(Math.max(0,lastLine-1),0);session.toggleFold(false)}session.insert({row:lastLine,column:0},"\n"+val);output.moveCursorTo(lastLine+1,0);"function"===typeof cb&&setTimeout(cb)};output.$el=$el;(function(session){session.setMode("ace/mode/text");session.setFoldStyle("markbeginend");session.setTabSize(2);session.setUseWrapMode(true)})(output.getSession());output.setShowPrintMargin(false);output.setReadOnly(true);settings&&settings.applyCurrentSettings(output);return output}function getOutput(){return output}},2267:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.OutputJsonHighlightRules=OutputJsonHighlightRules;__webpack_require__(1688);var _x_json_highlight_rules=__webpack_require__(2268);var ace=__webpack_require__(111);var oop=ace.acequire("ace/lib/oop");var JsonHighlightRules=ace.acequire("ace/mode/json_highlight_rules").JsonHighlightRules;function OutputJsonHighlightRules(){this.$rules={};(0,_x_json_highlight_rules.addToRules)(this,"start");this.$rules.start.unshift({token:"warning",regex:"#!.*$"},{token:"comment",regex:"#.*$"});this.constructor===OutputJsonHighlightRules&&this.normalizeRules()}oop.inherits(OutputJsonHighlightRules,JsonHighlightRules)},2268:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.addToRules=addToRules;var _=__webpack_require__(1);var ScriptHighlightRules=__webpack_require__(2269).ScriptHighlightRules;var jsonRules=function jsonRules(root){root=root||"json";var rules={};rules[root]=[{token:["variable","whitespace","ace.punctuation.colon","whitespace","punctuation.start_triple_quote"],regex:'("(?:[^"]*_)?script"|"inline"|"source")(\\s*?)(:)(\\s*?)(""")',next:"script-start",merge:false,push:true},{token:"variable",regex:'["](?:(?:\\\\.)|(?:[^"\\\\]))*?["]\\s*(?=:)'},{token:"punctuation.start_triple_quote",regex:'"""',next:"string_literal",merge:false,push:true},{token:"string",regex:'["](?:(?:\\\\.)|(?:[^"\\\\]))*?["]'},{token:"constant.numeric",regex:"0[xX][0-9a-fA-F]+\\b"},{token:"constant.numeric",regex:"[+-]?\\d+(?:(?:\\.\\d*)?(?:[eE][+-]?\\d+)?)?\\b"},{token:"constant.language.boolean",regex:"(?:true|false)\\b"},{token:"invalid.illegal",regex:"['](?:(?:\\\\.)|(?:[^'\\\\]))*?[']"},{token:"invalid.illegal",regex:"\\/\\/.*$"},{token:"paren.lparen",merge:false,regex:"{",next:root,push:true},{token:"paren.lparen",merge:false,regex:"[[(]"},{token:"paren.rparen",merge:false,regex:"[\\])]"},{token:"paren.rparen",regex:"}",merge:false,next:"pop"},{token:"punctuation.comma",regex:","},{token:"punctuation.colon",regex:":"},{token:"whitespace",regex:"\\s+"},{token:"text",regex:".+?"}];rules.string_literal=[{token:"punctuation.end_triple_quote",regex:'"""',next:"pop"},{token:"multi_string",regex:"."}];return rules};function addToRules(otherRules,embedUnder){otherRules.$rules=_.defaultsDeep(otherRules.$rules,jsonRules(embedUnder));otherRules.embedRules(ScriptHighlightRules,"script-",[{token:"punctuation.end_triple_quote",regex:'"""',next:"pop"}])}},2269:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ScriptHighlightRules=ScriptHighlightRules;var ace=__webpack_require__(111);var oop=ace.acequire("ace/lib/oop");var _ace$acequire=ace.acequire("ace/mode/text_highlight_rules"),TextHighlightRules=_ace$acequire.TextHighlightRules;var painlessKeywords="def|int|long|byte|String|float|double|char|null|if|else|while|do|for|continue|break|new|try|catch|throw|this|instanceof|return|ctx";function ScriptHighlightRules(){this.name="ScriptHighlightRules";this.$rules={start:[{token:"script.comment",regex:"\\/\\/.*$"},{token:"script.string.regexp",regex:"[/](?:(?:\\[(?:\\\\]|[^\\]])+\\])|(?:\\\\/|[^\\]/]))*[/]\\w*\\s*(?=[).,;]|$)"},{token:"script.string",regex:"['](?:(?:\\\\.)|(?:[^'\\\\]))*?[']"},{token:"script.constant.numeric",regex:"0[xX][0-9a-fA-F]+\\b"},{token:"script.constant.numeric",regex:"[+-]?\\d+(?:(?:\\.\\d*)?(?:[eE][+-]?\\d+)?)?\\b"},{token:"script.constant.language.boolean",regex:"(?:true|false)\\b"},{token:"script.keyword",regex:painlessKeywords},{token:"script.text",regex:"[a-zA-Z_$][a-zA-Z0-9_$]*\\b"},{token:"script.keyword.operator",regex:"\\?\\.|\\*\\.|=~|==~|!|%|&|\\*|\\-\\-|\\-|\\+\\+|\\+|~|===|==|=|!=|!==|<=|>=|<<=|>>=|>>>=|<>|<|>|->|!|&&|\\|\\||\\?\\:|\\*=|%=|\\+=|\\-=|&=|\\^=|\\b(?:in|instanceof|new|typeof|void)"},{token:"script.lparen",regex:"[[({]"},{token:"script.rparen",regex:"[\\])}]"},{token:"script.text",regex:"\\s+"}]}}oop.inherits(ScriptHighlightRules,TextHighlightRules)},2270:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default=function(editor){var resize=editor.resize;var throttledResize=(0,_lodash.throttle)(function(){resize.call(editor);var userRow=(0,_lodash.get)(throttledResize,"topRow",0);0!==userRow&&editor.renderer.scrollToLine(userRow,false,false,function(){})},35);return throttledResize};var _lodash=__webpack_require__(1);module.exports=exports["default"]},2271:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.wrapComponentWithDefaults=wrapComponentWithDefaults;exports.WalkingState=WalkingState;exports.walkTokenPath=walkTokenPath;exports.populateContext=populateContext;var _=__webpack_require__(1);function wrapComponentWithDefaults(component,defaults){var originalGetTerms=component.getTerms;component.getTerms=function(context,editor){var result=originalGetTerms.call(component,context,editor);if(!result)return result;result=_.map(result,function(term){_.isObject(term)||(term={name:term});return _.defaults(term,defaults)},this);return result};return component}var tracer=function tracer(){window.engine_trace&&console.log.call(console,arguments)};function passThroughContext(context,extensionList){function PTC(){}PTC.prototype=context;var result=new PTC;if(extensionList){extensionList.unshift(result);_.assign.apply(_,extensionList);extensionList.shift()}return result}function WalkingState(parentName,components,contextExtensionList,depth,priority){this.parentName=parentName;this.components=components;this.contextExtensionList=contextExtensionList;this.depth=depth||0;this.priority=priority}function walkTokenPath(tokenPath,walkingStates,context,editor){if(!tokenPath||0===tokenPath.length)return walkingStates;var token=tokenPath[0];var nextWalkingStates=[];tracer("starting token evaluation ["+token+"]");_.each(walkingStates,function(ws){var contextForState=passThroughContext(context,ws.contextExtensionList);_.each(ws.components,function(component){tracer("evaluating ["+token+"] with ["+component.name+"]",component);var result=component.match(token,contextForState,editor);if(result&&!_.isEmpty(result)){tracer("matched ["+token+"] with:",result);var next=void 0;var extensionList=void 0;next=result.next&&!Array.isArray(result.next)?[result.next]:result.next;if(result.context_values){extensionList=[];[].push.apply(extensionList,ws.contextExtensionList);extensionList.push(result.context_values)}else extensionList=ws.contextExtensionList;var priority=ws.priority;_.isNumber(result.priority)&&(priority=_.isNumber(priority)?Math.min(priority,result.priority):result.priority);nextWalkingStates.push(new WalkingState(component.name,next,extensionList,ws.depth+1,priority))}})});if(0===nextWalkingStates.length)return _.map(walkingStates,function(ws){return new WalkingState(ws.name,[],ws.contextExtensionList)});return walkTokenPath(tokenPath.slice(1),nextWalkingStates,context,editor)}function populateContext(tokenPath,context,editor,includeAutoComplete,components){var walkStates=walkTokenPath(tokenPath,[new WalkingState("ROOT",components,[])],context,editor);if(includeAutoComplete){var autoCompleteSet=[];_.each(walkStates,function(ws){var contextForState=passThroughContext(context,ws.contextExtensionList);_.each(ws.components,function(component){_.each(component.getTerms(contextForState,editor),function(term){_.isObject(term)||(term={name:term});autoCompleteSet.push(term)})})});autoCompleteSet=_.uniq(autoCompleteSet,false);context.autoCompleteSet=autoCompleteSet}if(0!==walkStates.length){var wsToUse=void 0;walkStates=_.sortBy(walkStates,function(ws){return _.isNumber(ws.priority)?ws.priority:Number.MAX_VALUE});wsToUse=_.find(walkStates,function(ws){return _.isEmpty(ws.components)});!wsToUse&&walkStates.length>1&&!includeAutoComplete&&console.info("more then one context active for current path, but autocomplete isn't requested",walkStates);wsToUse||(wsToUse=walkStates[0]);_.each(wsToUse.contextExtensionList,function(extension){_.assign(context,extension)})}}},2272:function(module,exports,__webpack_require__){"use strict";var _sense_editor_resize=__webpack_require__(1273);var SenseEditor=__webpack_require__(1276);var exampleText=__webpack_require__(7567).trim();__webpack_require__(3).get("app/sense").directive("senseHelpExample",function(){return{restrict:"E",link:function link($scope,$el){$el.text(exampleText);$scope.editor=new SenseEditor($el);(0,_sense_editor_resize.useResizeChecker)($scope,$el,$scope.editor);$scope.editor.setReadOnly(true);$scope.editor.$blockScrolling=Infinity;$scope.$on("$destroy",function(){$scope.editor&&$scope.editor.destroy()})}}})},2273:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.msToPretty=msToPretty;function msToPretty(ms,precision){precision||(precision=1);ms=Number(ms);if(ms<1e3)return ms.toFixed(precision)+"ms";ms/=1e3;if(ms<60)return ms.toFixed(precision)+"s";ms/=60;if(ms<60)return ms.toFixed(precision)+"min";ms/=60;if(ms<24)return ms.toFixed(precision)+"hr";ms/=24;return ms.toFixed(precision)+"d"}},2274:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.recentlyAccessedShape=exports.RecentlyAccessed=exports.NUM_LONG_LINKS=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(6);var _propTypes2=_interopRequireDefault(_propTypes);var _eui=__webpack_require__(2);var _react3=__webpack_require__(10);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var NUM_LONG_LINKS=exports.NUM_LONG_LINKS=5;var RecentlyAccessed=exports.RecentlyAccessed=function(_Component){_inherits(RecentlyAccessed,_Component);function RecentlyAccessed(props){_classCallCheck(this,RecentlyAccessed);var _this=_possibleConstructorReturn(this,(RecentlyAccessed.__proto__||Object.getPrototypeOf(RecentlyAccessed)).call(this,props));_this.onButtonClick=function(){_this.setState({isPopoverOpen:!_this.state.isPopoverOpen})};_this.closePopover=function(){_this.setState({isPopoverOpen:false})};_this.renderDropdown=function(){if(_this.props.recentlyAccessed.length<=NUM_LONG_LINKS)return;var dropdownLinks=[];for(var i=NUM_LONG_LINKS;i<_this.props.recentlyAccessed.length;i++)dropdownLinks.push(_react2.default.createElement("li",{style:{marginBottom:8},key:_this.props.recentlyAccessed[i].id,"data-test-subj":"moreRecentlyAccessedItem"+_this.props.recentlyAccessed[i].id},_react2.default.createElement(_eui.EuiLink,{className:"homRecentlyAccessed__dropdownLink",href:_this.props.recentlyAccessed[i].link},_this.props.recentlyAccessed[i].label)));var openPopoverComponent=_react2.default.createElement(_eui.EuiLink,{onClick:_this.onButtonClick,"data-test-subj":"openMoreRecentlyAccessedPopover"},_react2.default.createElement(_eui.EuiTextColor,{className:"homRecentlyAccessed__dropdownLabel",color:"subdued"},dropdownLinks.length+" more"),_react2.default.createElement(_eui.EuiIcon,{type:"arrowDown",color:"subdued"}));var anchorPosition="downRight";window.innerWidth<=768&&(anchorPosition="downLeft");return _react2.default.createElement(_eui.EuiPopover,{id:"popover",ownFocus:true,button:openPopoverComponent,isOpen:_this.state.isPopoverOpen,closePopover:_this.closePopover,anchorPosition:anchorPosition},_react2.default.createElement("ul",null,dropdownLinks))};_this.renderLongLink=function(recentlyAccessedItem){var includeSeparator=arguments.length>1&&void 0!==arguments[1]&&arguments[1];var separator=void 0;includeSeparator&&(separator=_react2.default.createElement(_eui.EuiFlexItem,{grow:false,className:"homRecentlyAccessed__separator"},_react2.default.createElement(_eui.EuiText,null,_react2.default.createElement(_eui.EuiIcon,{type:"dot",color:"subdued"}))));var EM_RATIO=.65;var minWidth=(recentlyAccessedItem.label.length<8?recentlyAccessedItem.label.length:8)*EM_RATIO;var style={minWidth:minWidth+"em"};return _react2.default.createElement(_react2.default.Fragment,{key:recentlyAccessedItem.id},separator,_react2.default.createElement(_eui.EuiFlexItem,{className:"homRecentlyAccessed__item",style:style,grow:false},_react2.default.createElement(_eui.EuiToolTip,{anchorClassName:"homRecentlyAccessed__anchor",position:"bottom",content:recentlyAccessedItem.label},_react2.default.createElement(_eui.EuiLink,{className:"homRecentlyAccessed__longLink",href:recentlyAccessedItem.link},recentlyAccessedItem.label))))};_this.renderRecentlyAccessed=function(){if(_this.props.recentlyAccessed.length<=NUM_LONG_LINKS)return _this.props.recentlyAccessed.map(function(item,index){var includeSeparator=true;0===index&&(includeSeparator=false);return _this.renderLongLink(item,includeSeparator)});var links=[];for(var i=0;i<NUM_LONG_LINKS;i++){var includeSeparator=true;0===i&&(includeSeparator=false);links.push(_this.renderLongLink(_this.props.recentlyAccessed[i],includeSeparator))}return links};_this.state={isPopoverOpen:false};return _this}_createClass(RecentlyAccessed,[{key:"render",value:function render(){return _react2.default.createElement(_eui.EuiPanel,{paddingSize:"l"},_react2.default.createElement(_eui.EuiTitle,{size:"xs"},_react2.default.createElement("h3",null,_react2.default.createElement(_eui.EuiTextColor,{color:"subdued"},_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.home.recentlyAccessed.recentlyViewedTitle",defaultMessage:"Recently viewed"})))),_react2.default.createElement(_eui.EuiSpacer,{size:"s"}),_react2.default.createElement(_eui.EuiFlexGroup,{justifyContent:"spaceBetween",alignItems:"flexEnd",wrap:true},_react2.default.createElement(_eui.EuiFlexItem,{grow:false,className:"homRecentlyAccessed__flexItem"},_react2.default.createElement(_eui.EuiFlexGroup,null,this.renderRecentlyAccessed())),_react2.default.createElement(_eui.EuiFlexItem,{grow:false},this.renderDropdown())))}}]);return RecentlyAccessed}(_react.Component);var recentlyAccessedShape=exports.recentlyAccessedShape=_propTypes2.default.shape({label:_propTypes2.default.string.isRequired,link:_propTypes2.default.string.isRequired,id:_propTypes2.default.string.isRequired});RecentlyAccessed.propTypes={recentlyAccessed:_propTypes2.default.arrayOf(recentlyAccessedShape).isRequired}},2275:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getTutorial=exports.getTutorials=void 0;var loadTutorials=(_ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee(){var response;return regeneratorRuntime.wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return fetch(baseUrl,{method:"get",credentials:"include",headers:headers});case 3:response=_context.sent;if(!(response.status>=300)){_context.next=6;break}throw new Error(_i18n.i18n.translate("kbn.home.loadTutorials.requestFailedErrorMessage",{defaultMessage:"Request failed with status code: {status}",values:{status:response.status}}));case 6:_context.next=8;return response.json();case 8:tutorials=_context.sent;tutorialsLoaded=true;_context.next=15;break;case 12:_context.prev=12;_context.t0=_context["catch"](0);_notify.toastNotifications.addDanger({title:_i18n.i18n.translate("kbn.home.loadTutorials.unableToLoadErrorMessage",{defaultMessage:"Unable to load tutorials"}),text:_context.t0.message});case 15:case"end":return _context.stop()}},_callee,this,[[0,12]])})),function loadTutorials(){return _ref.apply(this,arguments)});var _ref;exports.getTutorials=(_ref2=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(){return regeneratorRuntime.wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:if(tutorialsLoaded){_context2.next=3;break}_context2.next=3;return loadTutorials();case 3:return _context2.abrupt("return",_lodash2.default.cloneDeep(tutorials));case 4:case"end":return _context2.stop()}},_callee2,this)})),function getTutorials(){return _ref2.apply(this,arguments)});var _ref2;exports.getTutorial=(_ref3=_asyncToGenerator(regeneratorRuntime.mark(function _callee3(id){var tutorial;return regeneratorRuntime.wrap(function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:if(tutorialsLoaded){_context3.next=3;break}_context3.next=3;return loadTutorials();case 3:tutorial=tutorials.find(function(tutorial){return tutorial.id===id});if(!tutorial){_context3.next=6;break}return _context3.abrupt("return",_lodash2.default.cloneDeep(tutorial));case 6:case"end":return _context3.stop()}},_callee3,this)})),function getTutorial(_x){return _ref3.apply(this,arguments)});var _ref3;var _lodash=__webpack_require__(1);var _lodash2=_interopRequireDefault(_lodash);var _chrome=__webpack_require__(9);var _chrome2=_interopRequireDefault(_chrome);var _i18n=__webpack_require__(18);var _notify=__webpack_require__(11);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}var baseUrl=_chrome2.default.addBasePath("/api/kibana/home/tutorials");var headers=new Headers;headers.append("Accept","application/json");headers.append("Content-Type","application/json");headers.append("kbn-xsrf","kibana");var tutorials=[];var tutorialsLoaded=false},2276:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.HAS_DATA="has_data";exports.FETCHING="FETCHING";exports.NO_DATA="NO_DATA";exports.NOT_CHECKED="NOT_CHECKED";exports.ERROR="ERROR"},2277:function(module,exports,__webpack_require__){"use strict";__webpack_require__(7642)},2278:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _loader=__webpack_require__(1120);Object.keys(_loader).forEach(function(key){if("default"===key||"__esModule"===key)return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _loader[key]}})})},2279:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ObjectsTable=exports.INCLUDED_TYPES=void 0;var _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[];var _n=true;var _d=false;var _e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{!_n&&_i["return"]&&_i["return"]()}finally{if(_d)throw _e}}return _arr}return function(arr,i){if(Array.isArray(arr))return arr;if(Symbol.iterator in Object(arr))return sliceIterator(arr,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(6);var _propTypes2=_interopRequireDefault(_propTypes);var _lodash=__webpack_require__(1);var _header=__webpack_require__(7701);var _flyout=__webpack_require__(7703);var _relationships=__webpack_require__(7705);var _table=__webpack_require__(7715);var _notify=__webpack_require__(11);var _eui=__webpack_require__(2);var _lib=__webpack_require__(856);var _react3=__webpack_require__(10);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _defineProperty(obj,key,value){key in obj?Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true}):obj[key]=value;return obj}function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var INCLUDED_TYPES=exports.INCLUDED_TYPES=["index-pattern","visualization","dashboard","search"];var ObjectsTableUI=function(_Component){_inherits(ObjectsTableUI,_Component);function ObjectsTableUI(props){var _this2=this;_classCallCheck(this,ObjectsTableUI);var _this=_possibleConstructorReturn(this,(ObjectsTableUI.__proto__||Object.getPrototypeOf(ObjectsTableUI)).call(this,props));_this.fetchCounts=_asyncToGenerator(regeneratorRuntime.mark(function _callee(){var _parseQuery,queryText,visibleTypes,filteredTypes,filteredSavedObjectCounts,exportAllOptions,exportAllSelectedOptions,savedObjectCounts;return regeneratorRuntime.wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_parseQuery=(0,_lib.parseQuery)(_this.state.activeQuery),queryText=_parseQuery.queryText,visibleTypes=_parseQuery.visibleTypes;filteredTypes=INCLUDED_TYPES.filter(function(type){return!visibleTypes||visibleTypes.includes(type)});_context.next=4;return(0,_lib.getSavedObjectCounts)(_this.props.$http,filteredTypes,queryText);case 4:filteredSavedObjectCounts=_context.sent;exportAllOptions=[];exportAllSelectedOptions={};Object.keys(filteredSavedObjectCounts).forEach(function(id){exportAllOptions.push({id:id,label:id+" ("+(filteredSavedObjectCounts[id]||0)+")"});exportAllSelectedOptions[id]=true});_context.next=10;return(0,_lib.getSavedObjectCounts)(_this.props.$http,INCLUDED_TYPES,queryText);case 10:savedObjectCounts=_context.sent;_this.setState(function(state){return _extends({},state,{savedObjectCounts:savedObjectCounts,exportAllOptions:exportAllOptions,exportAllSelectedOptions:exportAllSelectedOptions})});case 12:case"end":return _context.stop()}},_callee,_this2)}));_this.fetchSavedObjects=function(){_this.setState({isSearching:true},_this.debouncedFetch)};_this.debouncedFetch=(0,_lodash.debounce)(_asyncToGenerator(regeneratorRuntime.mark(function _callee2(){var savedObjectsClient,_this$state,query,page,perPage,_parseQuery2,queryText,visibleTypes,findOptions,resp;return regeneratorRuntime.wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:savedObjectsClient=_this.props.savedObjectsClient;_this$state=_this.state,query=_this$state.activeQuery,page=_this$state.page,perPage=_this$state.perPage;_parseQuery2=(0,_lib.parseQuery)(query),queryText=_parseQuery2.queryText,visibleTypes=_parseQuery2.visibleTypes;findOptions={search:queryText?queryText+"*":void 0,perPage:perPage,page:page+1,fields:["title","id"],searchFields:["title"],type:INCLUDED_TYPES.filter(function(type){return!visibleTypes||visibleTypes.includes(type)})};findOptions.type.length>1&&(findOptions.sortField="type");resp=void 0;_context2.prev=6;_context2.next=9;return savedObjectsClient.find(findOptions);case 9:resp=_context2.sent;_context2.next=17;break;case 12:_context2.prev=12;_context2.t0=_context2["catch"](6);_this._isMounted&&_this.setState({isSearching:false});_notify.toastNotifications.addDanger({title:"Unable find saved objects",text:""+_context2.t0});return _context2.abrupt("return");case 17:if(_this._isMounted){_context2.next=19;break}return _context2.abrupt("return");case 19:_this.setState(function(_ref3){var activeQuery=_ref3.activeQuery;if(activeQuery.text!==query.text)return{};return{savedObjects:resp.savedObjects.map(function(savedObject){return{title:savedObject.attributes.title,type:savedObject.type,id:savedObject.id,icon:(0,_lib.getSavedObjectIcon)(savedObject.type)}}),filteredItemCount:resp.total,isSearching:false}});case 20:case"end":return _context2.stop()}},_callee2,_this2,[[6,12]])})),300);_this.refreshData=_asyncToGenerator(regeneratorRuntime.mark(function _callee3(){return regeneratorRuntime.wrap(function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:_context3.next=2;return Promise.all([_this.fetchSavedObjects(),_this.fetchCounts()]);case 2:case"end":return _context3.stop()}},_callee3,_this2)}));_this.onSelectionChanged=function(selection){var selectedSavedObjects=selection.map(function(item){return{id:item.id,type:item.type}});_this.setState({selectedSavedObjects:selectedSavedObjects})};_this.onQueryChange=function(_ref5){var query=_ref5.query;_this.setState({activeQuery:query,page:0,selectedSavedObjects:[]},function(){_this.fetchSavedObjects();_this.fetchCounts()})};_this.onTableChange=(_ref6=_asyncToGenerator(regeneratorRuntime.mark(function _callee4(table){var _ref7,page,perPage;return regeneratorRuntime.wrap(function _callee4$(_context4){while(1)switch(_context4.prev=_context4.next){case 0:_ref7=table.page||{},page=_ref7.index,perPage=_ref7.size;_this.setState({page:page,perPage:perPage,selectedSavedObjects:[]},_this.fetchSavedObjects);case 2:case"end":return _context4.stop()}},_callee4,_this2)})),function(_x){return _ref6.apply(this,arguments)});var _ref6;_this.onShowRelationships=function(id,type,title){_this.setState({isShowingRelationships:true,relationshipId:id,relationshipType:type,relationshipTitle:title})};_this.onHideRelationships=function(){_this.setState({isShowingRelationships:false,relationshipId:void 0,relationshipType:void 0,relationshipTitle:void 0})};_this.onExport=_asyncToGenerator(regeneratorRuntime.mark(function _callee5(){var savedObjectsClient,selectedSavedObjects,objects;return regeneratorRuntime.wrap(function _callee5$(_context5){while(1)switch(_context5.prev=_context5.next){case 0:savedObjectsClient=_this.props.savedObjectsClient;selectedSavedObjects=_this.state.selectedSavedObjects;_context5.next=4;return savedObjectsClient.bulkGet(selectedSavedObjects);case 4:objects=_context5.sent;_context5.next=7;return(0,_lib.retrieveAndExportDocs)(objects.savedObjects,savedObjectsClient);case 7:case"end":return _context5.stop()}},_callee5,_this2)}));_this.onExportAll=_asyncToGenerator(regeneratorRuntime.mark(function _callee6(){var $http,exportAllSelectedOptions,exportTypes,results;return regeneratorRuntime.wrap(function _callee6$(_context6){while(1)switch(_context6.prev=_context6.next){case 0:$http=_this.props.$http;exportAllSelectedOptions=_this.state.exportAllSelectedOptions;exportTypes=Object.entries(exportAllSelectedOptions).reduce(function(accum,_ref10){var _ref11=_slicedToArray(_ref10,2),id=_ref11[0],selected=_ref11[1];selected&&accum.push(id);return accum},[]);_context6.next=5;return(0,_lib.scanAllTypes)($http,exportTypes);case 5:results=_context6.sent;(0,_lib.saveToFile)(JSON.stringify((0,_lodash.flattenDeep)(results),null,2));case 7:case"end":return _context6.stop()}},_callee6,_this2)}));_this.finishImport=function(){_this.hideImportFlyout();_this.fetchSavedObjects();_this.fetchCounts()};_this.showImportFlyout=function(){_this.setState({isShowingImportFlyout:true})};_this.hideImportFlyout=function(){_this.setState({isShowingImportFlyout:false})};_this.onDelete=function(){_this.setState({isShowingDeleteConfirmModal:true})};_this.delete=_asyncToGenerator(regeneratorRuntime.mark(function _callee7(){var savedObjectsClient,_this$state2,selectedSavedObjects,isDeleting,indexPatterns,objects,deletes;return regeneratorRuntime.wrap(function _callee7$(_context7){while(1)switch(_context7.prev=_context7.next){case 0:savedObjectsClient=_this.props.savedObjectsClient;_this$state2=_this.state,selectedSavedObjects=_this$state2.selectedSavedObjects,isDeleting=_this$state2.isDeleting;if(!isDeleting){_context7.next=4;break}return _context7.abrupt("return");case 4:_this.setState({isDeleting:true});indexPatterns=selectedSavedObjects.filter(function(object){return"index-pattern"===object.type});if(!indexPatterns.length){_context7.next=9;break}_context7.next=9;return _this.props.indexPatterns.cache.clearAll();case 9:_context7.next=11;return savedObjectsClient.bulkGet(selectedSavedObjects);case 11:objects=_context7.sent;deletes=objects.savedObjects.map(function(object){return savedObjectsClient.delete(object.type,object.id)});_context7.next=15;return Promise.all(deletes);case 15:_this.setState({selectedSavedObjects:[]});_context7.next=18;return _this.fetchSavedObjects();case 18:_context7.next=20;return _this.fetchCounts();case 20:_this.setState({isShowingDeleteConfirmModal:false,isDeleting:false});case 21:case"end":return _context7.stop()}},_callee7,_this2)}));_this.getRelationships=(_ref13=_asyncToGenerator(regeneratorRuntime.mark(function _callee8(type,id){return regeneratorRuntime.wrap(function _callee8$(_context8){while(1)switch(_context8.prev=_context8.next){case 0:_context8.next=2;return(0,_lib.getRelationships)(type,id,_this.props.$http,_this.props.basePath);case 2:return _context8.abrupt("return",_context8.sent);case 3:case"end":return _context8.stop()}},_callee8,_this2)})),function(_x2,_x3){return _ref13.apply(this,arguments)});var _ref13;_this.state={totalCount:0,page:0,perPage:props.perPageConfig||50,savedObjects:[],savedObjectCounts:INCLUDED_TYPES.reduce(function(typeToCountMap,type){typeToCountMap[type]=0;return typeToCountMap},{}),activeQuery:_eui.Query.parse(""),selectedSavedObjects:[],isShowingImportFlyout:false,isSearching:false,filteredItemCount:0,isShowingRelationships:false,relationshipId:void 0,relationshipType:void 0,relationshipTitle:void 0,isShowingDeleteConfirmModal:false,isShowingExportAllOptionsModal:false,isDeleting:false,exportAllOptions:[],exportAllSelectedOptions:{}};return _this}_createClass(ObjectsTableUI,[{key:"componentDidMount",value:function componentDidMount(){this._isMounted=true;this.fetchSavedObjects();this.fetchCounts()}},{key:"componentWillUnmount",value:function componentWillUnmount(){this._isMounted=false;this.debouncedFetch.cancel()}},{key:"renderFlyout",value:function renderFlyout(){if(!this.state.isShowingImportFlyout)return null;return _react2.default.createElement(_flyout.Flyout,{close:this.hideImportFlyout,done:this.finishImport,services:this.props.services,indexPatterns:this.props.indexPatterns,newIndexPatternUrl:this.props.newIndexPatternUrl})}},{key:"renderRelationships",value:function renderRelationships(){if(!this.state.isShowingRelationships)return null;return _react2.default.createElement(_relationships.Relationships,{id:this.state.relationshipId,type:this.state.relationshipType,title:this.state.relationshipTitle,getRelationships:this.getRelationships,close:this.onHideRelationships,getDashboardUrl:this.props.getDashboardUrl,getEditUrl:this.props.getEditUrl,goInApp:this.props.goInApp})}},{key:"renderDeleteConfirmModal",value:function renderDeleteConfirmModal(){var _this3=this;var _state=this.state,isShowingDeleteConfirmModal=_state.isShowingDeleteConfirmModal,isDeleting=_state.isDeleting,selectedSavedObjects=_state.selectedSavedObjects;var intl=this.props.intl;if(!isShowingDeleteConfirmModal)return null;var modal=void 0;if(isDeleting)modal=_react2.default.createElement(_eui.EuiLoadingKibana,{size:"xl"});else{var onCancel=function onCancel(){_this3.setState({isShowingDeleteConfirmModal:false})};var onConfirm=function onConfirm(){_this3.delete()};modal=_react2.default.createElement(_eui.EuiConfirmModal,{title:_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.management.objects.objectsTable.deleteSavedObjectsConfirmModalTitle",defaultMessage:"Delete saved objects"}),onCancel:onCancel,onConfirm:onConfirm,cancelButtonText:_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.management.objects.objectsTable.deleteSavedObjectsConfirmModal.cancelButtonLabel",defaultMessage:"Cancel"}),confirmButtonText:isDeleting?_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.management.objects.objectsTable.deleteSavedObjectsConfirmModal.deleteProcessButtonLabel",defaultMessage:"Deleting"}):_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.management.objects.objectsTable.deleteSavedObjectsConfirmModal.deleteButtonLabel",defaultMessage:"Delete"}),defaultFocusedButton:_eui.EUI_MODAL_CONFIRM_BUTTON},_react2.default.createElement("p",null,_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.management.objects.deleteSavedObjectsConfirmModalDescription",defaultMessage:"This action will delete the following saved objects:"})),_react2.default.createElement(_eui.EuiInMemoryTable,{items:selectedSavedObjects,columns:[{field:"type",name:intl.formatMessage({id:"kbn.management.objects.objectsTable.deleteSavedObjectsConfirmModal.typeColumnName",defaultMessage:"Type"}),width:"50px",render:function render(type){return _react2.default.createElement(_eui.EuiToolTip,{position:"top",content:(0,_lib.getSavedObjectLabel)(type)},_react2.default.createElement(_eui.EuiIcon,{type:(0,_lib.getSavedObjectIcon)(type)}))}},{field:"id",name:intl.formatMessage({id:"kbn.management.objects.objectsTable.deleteSavedObjectsConfirmModal.idColumnName",defaultMessage:"Id/Name"})}],pagination:true,sorting:false}))}return _react2.default.createElement(_eui.EuiOverlayMask,null,modal)}},{key:"renderExportAllOptionsModal",value:function renderExportAllOptionsModal(){var _this4=this;var _state2=this.state,isShowingExportAllOptionsModal=_state2.isShowingExportAllOptionsModal,filteredItemCount=_state2.filteredItemCount,exportAllOptions=_state2.exportAllOptions,exportAllSelectedOptions=_state2.exportAllSelectedOptions;if(!isShowingExportAllOptionsModal)return null;return _react2.default.createElement(_eui.EuiOverlayMask,null,_react2.default.createElement(_eui.EuiConfirmModal,{title:_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.management.objects.objectsTable.exportObjectsConfirmModalTitle",defaultMessage:"Export {filteredItemCount, plural, one{# object} other {# objects}}",values:{filteredItemCount:filteredItemCount}}),onCancel:function onCancel(){return _this4.setState({isShowingExportAllOptionsModal:false})},onConfirm:this.onExportAll,cancelButtonText:_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.management.objects.objectsTable.exportObjectsConfirmModal.cancelButtonLabel",defaultMessage:"Cancel"}),confirmButtonText:_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.management.objects.objectsTable.exportObjectsConfirmModal.exportAllButtonLabel",defaultMessage:"Export All"}),defaultFocusedButton:_eui.EUI_MODAL_CONFIRM_BUTTON},_react2.default.createElement("p",null,_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.management.objects.objectsTable.exportObjectsConfirmModalDescription",defaultMessage:"Select which types to export. The number in parentheses indicates how many of this type are available to export."})),_react2.default.createElement(_eui.EuiCheckboxGroup,{options:exportAllOptions,idToSelectedMap:exportAllSelectedOptions,onChange:function onChange(optionId){var newExportAllSelectedOptions=_extends({},exportAllSelectedOptions,_defineProperty({},optionId,!exportAllSelectedOptions[optionId]));_this4.setState({exportAllSelectedOptions:newExportAllSelectedOptions})}})))}},{key:"render",value:function render(){var _this5=this;var _state3=this.state,selectedSavedObjects=_state3.selectedSavedObjects,page=_state3.page,perPage=_state3.perPage,savedObjects=_state3.savedObjects,filteredItemCount=_state3.filteredItemCount,isSearching=_state3.isSearching,savedObjectCounts=_state3.savedObjectCounts;var selectionConfig={onSelectionChange:this.onSelectionChanged};var filterOptions=INCLUDED_TYPES.map(function(type){return{value:type,name:type,view:type+" ("+(savedObjectCounts[type]||0)+")"}});return _react2.default.createElement(_eui.EuiPage,null,_react2.default.createElement(_eui.EuiPageBody,null,_react2.default.createElement(_eui.EuiPageContent,{verticalPosition:"center",horizontalPosition:"center",style:{maxWidth:1e3,marginTop:16,marginBottom:16}},this.renderFlyout(),this.renderRelationships(),this.renderDeleteConfirmModal(),this.renderExportAllOptionsModal(),_react2.default.createElement(_header.Header,{onExportAll:function onExportAll(){return _this5.setState({isShowingExportAllOptionsModal:true})},onImport:this.showImportFlyout,onRefresh:this.refreshData,filteredCount:filteredItemCount}),_react2.default.createElement(_eui.EuiSpacer,{size:"xs"}),_react2.default.createElement(_table.Table,{itemId:"id",selectionConfig:selectionConfig,selectedSavedObjects:selectedSavedObjects,onQueryChange:this.onQueryChange,onTableChange:this.onTableChange,filterOptions:filterOptions,onExport:this.onExport,onDelete:this.onDelete,getEditUrl:this.props.getEditUrl,goInApp:this.props.goInApp,pageIndex:page,pageSize:perPage,items:savedObjects,totalItemCount:filteredItemCount,isSearching:isSearching,onShowRelationships:this.onShowRelationships}))))}}]);return ObjectsTableUI}(_react.Component);ObjectsTableUI.propTypes={savedObjectsClient:_propTypes2.default.object.isRequired,indexPatterns:_propTypes2.default.object.isRequired,$http:_propTypes2.default.func.isRequired,basePath:_propTypes2.default.string.isRequired,perPageConfig:_propTypes2.default.number,newIndexPatternUrl:_propTypes2.default.string.isRequired,services:_propTypes2.default.array.isRequired,getEditUrl:_propTypes2.default.func.isRequired,goInApp:_propTypes2.default.func.isRequired};exports.ObjectsTable=(0,_react3.injectI18n)(ObjectsTableUI)},2280:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.importFile=(_ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee(file){var FileReader=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.FileReader;return regeneratorRuntime.wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:return _context.abrupt("return",new Promise(function(resolve,reject){var fr=new FileReader;fr.onload=function(_ref2){var result=_ref2.target.result;try{resolve(JSON.parse(result))}catch(e){reject(e)}};fr.readAsText(file)}));case 1:case"end":return _context.stop()}},_callee,this)})),function importFile(_x2){return _ref.apply(this,arguments)});var _ref;function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}},2281:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.resolveSavedObjects=exports.resolveSavedSearches=exports.saveObject=exports.saveObjects=exports.resolveIndexPatternConflicts=void 0;var getSavedObject=(_ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee(doc,services){var service,obj;return regeneratorRuntime.wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:service=services.find(function(service){return service.type===doc._type});if(service){_context.next=3;break}return _context.abrupt("return");case 3:_context.next=5;return service.get();case 5:obj=_context.sent;obj.id=doc._id;obj.migrationVersion=doc._migrationVersion;return _context.abrupt("return",obj);case 9:case"end":return _context.stop()}},_callee,this)})),function getSavedObject(_x,_x2){return _ref.apply(this,arguments)});var _ref;var importIndexPattern=(_ref2=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(doc,indexPatterns,overwriteAll){var emptyPattern,_doc$_source,title,timeFieldName,fields,fieldFormatMap,sourceFilters,type,typeMeta,importedIndexPattern,newId;return regeneratorRuntime.wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.next=2;return indexPatterns.get();case 2:emptyPattern=_context2.sent;_doc$_source=doc._source,title=_doc$_source.title,timeFieldName=_doc$_source.timeFieldName,fields=_doc$_source.fields,fieldFormatMap=_doc$_source.fieldFormatMap,sourceFilters=_doc$_source.sourceFilters,type=_doc$_source.type,typeMeta=_doc$_source.typeMeta;importedIndexPattern={id:doc._id,title:title,timeFieldName:timeFieldName};type&&(importedIndexPattern.type=type);addJsonFieldToIndexPattern(importedIndexPattern,fields,"fields",title);addJsonFieldToIndexPattern(importedIndexPattern,fieldFormatMap,"fieldFormatMap",title);addJsonFieldToIndexPattern(importedIndexPattern,sourceFilters,"sourceFilters",title);addJsonFieldToIndexPattern(importedIndexPattern,typeMeta,"typeMeta",title);Object.assign(emptyPattern,importedIndexPattern);_context2.next=13;return emptyPattern.create(true,!overwriteAll);case 13:newId=_context2.sent;indexPatterns.cache.clear(newId);return _context2.abrupt("return",newId);case 16:case"end":return _context2.stop()}},_callee2,this)})),function importIndexPattern(_x3,_x4,_x5){return _ref2.apply(this,arguments)});var _ref2;var importDocument=(_ref3=_asyncToGenerator(regeneratorRuntime.mark(function _callee3(obj,doc,overwriteAll){return regeneratorRuntime.wrap(function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:_context3.next=2;return obj.applyESResp(doc);case 2:_context3.next=4;return obj.save({confirmOverwrite:!overwriteAll});case 4:return _context3.abrupt("return",_context3.sent);case 5:case"end":return _context3.stop()}},_callee3,this)})),function importDocument(_x6,_x7,_x8){return _ref3.apply(this,arguments)});var _ref3;var awaitEachItemInParallel=(_ref4=_asyncToGenerator(regeneratorRuntime.mark(function _callee4(list,op){return regeneratorRuntime.wrap(function _callee4$(_context4){while(1)switch(_context4.prev=_context4.next){case 0:_context4.next=2;return Promise.all(list.map(function(item){return op(item)}));case 2:return _context4.abrupt("return",_context4.sent);case 3:case"end":return _context4.stop()}},_callee4,this)})),function awaitEachItemInParallel(_x9,_x10){return _ref4.apply(this,arguments)});var _ref4;exports.resolveIndexPatternConflicts=(_ref5=_asyncToGenerator(regeneratorRuntime.mark(function _callee6(resolutions,conflictedIndexPatterns,overwriteAll){var _this=this;var importCount;return regeneratorRuntime.wrap(function _callee6$(_context6){while(1)switch(_context6.prev=_context6.next){case 0:importCount=0;_context6.next=3;return awaitEachItemInParallel(conflictedIndexPatterns,function(){var _ref7=_asyncToGenerator(regeneratorRuntime.mark(function _callee5(_ref6){var obj=_ref6.obj;var oldIndexId,resolution,newIndexId;return regeneratorRuntime.wrap(function _callee5$(_context5){while(1)switch(_context5.prev=_context5.next){case 0:oldIndexId=obj.searchSource.getOwnField("index");"string"!==typeof oldIndexId&&(oldIndexId=oldIndexId.id);resolution=resolutions.find(function(_ref8){var oldId=_ref8.oldId;return oldId===oldIndexId});if(resolution){_context5.next=5;break}return _context5.abrupt("return");case 5:newIndexId=resolution.newId;_context5.next=8;return obj.hydrateIndexPattern(newIndexId);case 8:_context5.next=10;return saveObject(obj,overwriteAll);case 10:if(!_context5.sent){_context5.next=12;break}importCount++;case 12:case"end":return _context5.stop()}},_callee5,_this)}));return function(_x14){return _ref7.apply(this,arguments)}}());case 3:return _context6.abrupt("return",importCount);case 4:case"end":return _context6.stop()}},_callee6,this)})),function resolveIndexPatternConflicts(_x11,_x12,_x13){return _ref5.apply(this,arguments)});var _ref5;exports.saveObjects=(_ref9=_asyncToGenerator(regeneratorRuntime.mark(function _callee8(objs,overwriteAll){var _this2=this;var importCount;return regeneratorRuntime.wrap(function _callee8$(_context8){while(1)switch(_context8.prev=_context8.next){case 0:importCount=0;_context8.next=3;return awaitEachItemInParallel(objs,function(){var _ref10=_asyncToGenerator(regeneratorRuntime.mark(function _callee7(obj){return regeneratorRuntime.wrap(function _callee7$(_context7){while(1)switch(_context7.prev=_context7.next){case 0:_context7.next=2;return saveObject(obj,overwriteAll);case 2:if(!_context7.sent){_context7.next=4;break}importCount++;case 4:case"end":return _context7.stop()}},_callee7,_this2)}));return function(_x17){return _ref10.apply(this,arguments)}}());case 3:return _context8.abrupt("return",importCount);case 4:case"end":return _context8.stop()}},_callee8,this)})),function saveObjects(_x15,_x16){return _ref9.apply(this,arguments)});var _ref9;var saveObject=exports.saveObject=(_ref11=_asyncToGenerator(regeneratorRuntime.mark(function _callee9(obj,overwriteAll){return regeneratorRuntime.wrap(function _callee9$(_context9){while(1)switch(_context9.prev=_context9.next){case 0:_context9.next=2;return obj.save({confirmOverwrite:!overwriteAll});case 2:return _context9.abrupt("return",_context9.sent);case 3:case"end":return _context9.stop()}},_callee9,this)})),function saveObject(_x18,_x19){return _ref11.apply(this,arguments)});var _ref11;exports.resolveSavedSearches=(_ref12=_asyncToGenerator(regeneratorRuntime.mark(function _callee11(savedSearches,services,indexPatterns,overwriteAll){var _this3=this;var importCount;return regeneratorRuntime.wrap(function _callee11$(_context11){while(1)switch(_context11.prev=_context11.next){case 0:importCount=0;_context11.next=3;return awaitEachItemInParallel(savedSearches,function(){var _ref13=_asyncToGenerator(regeneratorRuntime.mark(function _callee10(searchDoc){var obj;return regeneratorRuntime.wrap(function _callee10$(_context10){while(1)switch(_context10.prev=_context10.next){case 0:_context10.next=2;return getSavedObject(searchDoc,services);case 2:obj=_context10.sent;if(obj){_context10.next=5;break}return _context10.abrupt("return");case 5:_context10.next=7;return importDocument(obj,searchDoc,overwriteAll);case 7:if(!_context10.sent){_context10.next=9;break}importCount++;case 9:case"end":return _context10.stop()}},_callee10,_this3)}));return function(_x24){return _ref13.apply(this,arguments)}}());case 3:return _context11.abrupt("return",importCount);case 4:case"end":return _context11.stop()}},_callee11,this)})),function resolveSavedSearches(_x20,_x21,_x22,_x23){return _ref12.apply(this,arguments)});var _ref12;exports.resolveSavedObjects=(_ref14=_asyncToGenerator(regeneratorRuntime.mark(function _callee15(savedObjects,overwriteAll,services,indexPatterns){var _this4=this;var docTypes,importedObjectCount,failedImports,conflictedSearchDocs,conflictedIndexPatterns,conflictedSavedObjectsLinkedToSavedSearches;return regeneratorRuntime.wrap(function _callee15$(_context15){while(1)switch(_context15.prev=_context15.next){case 0:docTypes=groupByType(savedObjects);importedObjectCount=0;failedImports=[];_context15.next=5;return awaitEachItemInParallel(docTypes.indexPatterns,function(){var _ref15=_asyncToGenerator(regeneratorRuntime.mark(function _callee12(indexPatternDoc){var importedIndexPatternId;return regeneratorRuntime.wrap(function _callee12$(_context12){while(1)switch(_context12.prev=_context12.next){case 0:_context12.prev=0;_context12.next=3;return importIndexPattern(indexPatternDoc,indexPatterns,overwriteAll);case 3:importedIndexPatternId=_context12.sent;importedIndexPatternId&&importedObjectCount++;_context12.next=10;break;case 7:_context12.prev=7;_context12.t0=_context12["catch"](0);failedImports.push({indexPatternDoc:indexPatternDoc,error:_context12.t0});case 10:case"end":return _context12.stop()}},_callee12,_this4,[[0,7]])}));return function(_x29){return _ref15.apply(this,arguments)}}());case 5:conflictedSearchDocs=[];conflictedIndexPatterns=[];conflictedSavedObjectsLinkedToSavedSearches=[];_context15.next=10;return awaitEachItemInParallel(docTypes.searches,function(){var _ref16=_asyncToGenerator(regeneratorRuntime.mark(function _callee13(searchDoc){var obj;return regeneratorRuntime.wrap(function _callee13$(_context13){while(1)switch(_context13.prev=_context13.next){case 0:_context13.next=2;return getSavedObject(searchDoc,services);case 2:obj=_context13.sent;_context13.prev=3;_context13.next=6;return importDocument(obj,searchDoc,overwriteAll);case 6:if(!_context13.sent){_context13.next=8;break}importedObjectCount++;case 8:_context13.next=13;break;case 10:_context13.prev=10;_context13.t0=_context13["catch"](3);_context13.t0 instanceof _errors.SavedObjectNotFound?"index-pattern"===_context13.t0.savedObjectType?conflictedIndexPatterns.push({obj:obj,doc:searchDoc}):conflictedSearchDocs.push(searchDoc):failedImports.push({obj:obj,error:_context13.t0});case 13:case"end":return _context13.stop()}},_callee13,_this4,[[3,10]])}));return function(_x30){return _ref16.apply(this,arguments)}}());case 10:_context15.next=12;return awaitEachItemInParallel(docTypes.other,function(){var _ref17=_asyncToGenerator(regeneratorRuntime.mark(function _callee14(otherDoc){var obj;return regeneratorRuntime.wrap(function _callee14$(_context14){while(1)switch(_context14.prev=_context14.next){case 0:_context14.next=2;return getSavedObject(otherDoc,services);case 2:obj=_context14.sent;_context14.prev=3;_context14.next=6;return importDocument(obj,otherDoc,overwriteAll);case 6:if(!_context14.sent){_context14.next=8;break}importedObjectCount++;case 8:_context14.next=13;break;case 10:_context14.prev=10;_context14.t0=_context14["catch"](3);if(_context14.t0 instanceof _errors.SavedObjectNotFound){"search"===_context14.t0.savedObjectType&&failedImports.push({obj:obj,error:_context14.t0});"index-pattern"===_context14.t0.savedObjectType&&(obj.savedSearchId?conflictedSavedObjectsLinkedToSavedSearches.push(obj):conflictedIndexPatterns.push({obj:obj,doc:otherDoc}))}else failedImports.push({obj:obj,error:_context14.t0});case 13:case"end":return _context14.stop()}},_callee14,_this4,[[3,10]])}));return function(_x31){return _ref17.apply(this,arguments)}}());case 12:return _context15.abrupt("return",{conflictedIndexPatterns:conflictedIndexPatterns,conflictedSavedObjectsLinkedToSavedSearches:conflictedSavedObjectsLinkedToSavedSearches,conflictedSearchDocs:conflictedSearchDocs,importedObjectCount:importedObjectCount,failedImports:failedImports});case 13:case"end":return _context15.stop()}},_callee15,this)})),function resolveSavedObjects(_x25,_x26,_x27,_x28){return _ref14.apply(this,arguments)});var _ref14;var _errors=__webpack_require__(71);var _i18n=__webpack_require__(18);function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}function addJsonFieldToIndexPattern(target,sourceString,fieldName,indexName){if(sourceString)try{target[fieldName]=JSON.parse(sourceString)}catch(error){throw new Error(_i18n.i18n.translate("kbn.management.objects.parsingFieldErrorMessage",{defaultMessage:"Error encountered parsing {fieldName} for index pattern {indexName}: {errorMessage}",values:{fieldName:fieldName,indexName:indexName,errorMessage:error.message}}))}}function groupByType(docs){var defaultDocTypes={searches:[],indexPatterns:[],other:[]};return docs.reduce(function(types,doc){switch(doc._type){case"search":types.searches.push(doc);break;case"index-pattern":types.indexPatterns.push(doc);break;default:types.other.push(doc)}return types},defaultDocTypes)}},2282:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getInAppUrl=getInAppUrl;function getInAppUrl(id,type){switch(type){case"search":case"searches":return"/discover/"+id;case"visualization":case"visualizations":return"/visualize/edit/"+id;case"index-pattern":case"index-patterns":case"indexPatterns":return"/management/kibana/indices/"+id;case"dashboard":case"dashboards":return"/dashboard/"+id;default:return"/"+type.toLowerCase()+"/"+id}}},2283:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _field_editor=__webpack_require__(7763);Object.defineProperty(exports,"FieldEditor",{enumerable:true,get:function get(){return _field_editor.FieldEditor}})},2284:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getSupportedScriptingLanguages=getSupportedScriptingLanguages;exports.getDeprecatedScriptingLanguages=getDeprecatedScriptingLanguages;exports.GetEnabledScriptingLanguagesProvider=GetEnabledScriptingLanguagesProvider;var _chrome=__webpack_require__(9);var _chrome2=_interopRequireDefault(_chrome);var _notify=__webpack_require__(11);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function getSupportedScriptingLanguages(){return["painless"]}function getDeprecatedScriptingLanguages(){return["expression"]}function GetEnabledScriptingLanguagesProvider($http){return function(){return $http.get(_chrome2.default.addBasePath("/api/kibana/scripts/languages")).then(function(res){return res.data}).catch(function(){_notify.toastNotifications.addDanger("Error getting available scripting languages from Elasticsearch");return[]})}}},2285:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var META_FIELD_NAMES=["_seq_no","_doc","_uid"];function getFirstSortableField(indexPattern,fieldNames){var sortableFields=fieldNames.filter(function(fieldName){return META_FIELD_NAMES.includes(fieldName)||(indexPattern.fields.byName[fieldName]||{sortable:false}).sortable});return sortableFields[0]}function reverseSortDirection(sortDirection){return"asc"===sortDirection?"desc":"asc"}exports.getFirstSortableField=getFirstSortableField;exports.reverseSortDirection=reverseSortDirection},2286:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _actions=__webpack_require__(7829);Object.defineProperty(exports,"QueryParameterActionsProvider",{enumerable:true,get:function get(){return _actions.QueryParameterActionsProvider}});var _constants=__webpack_require__(2287);Object.defineProperty(exports,"MAX_CONTEXT_SIZE",{enumerable:true,get:function get(){return _constants.MAX_CONTEXT_SIZE}});Object.defineProperty(exports,"MIN_CONTEXT_SIZE",{enumerable:true,get:function get(){return _constants.MIN_CONTEXT_SIZE}});Object.defineProperty(exports,"QUERY_PARAMETER_KEYS",{enumerable:true,get:function get(){return _constants.QUERY_PARAMETER_KEYS}});var _state=__webpack_require__(2288);Object.defineProperty(exports,"createInitialQueryParametersState",{enumerable:true,get:function get(){return _state.createInitialQueryParametersState}})},2287:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.QUERY_PARAMETER_KEYS=exports.MIN_CONTEXT_SIZE=exports.MAX_CONTEXT_SIZE=void 0;var _state=__webpack_require__(2288);exports.MAX_CONTEXT_SIZE=1e4;exports.MIN_CONTEXT_SIZE=0;exports.QUERY_PARAMETER_KEYS=Object.keys((0,_state.createInitialQueryParametersState)())},2288:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.createInitialQueryParametersState=createInitialQueryParametersState;function createInitialQueryParametersState(defaultStepSize,tieBreakerField){return{anchorType:null,anchorId:null,columns:[],defaultStepSize:defaultStepSize,filters:[],indexPatternId:null,predecessorCount:0,successorCount:0,sort:[],tieBreakerField:tieBreakerField}}},248:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.OPEN_DETAIL_PANEL="OPEN_DETAIL_PANEL";exports.CLOSE_DETAIL_PANEL="CLOSE_DETAIL_PANEL";exports.LOAD_JOBS_START="LOAD_JOBS_START";exports.LOAD_JOBS_SUCCESS="LOAD_JOBS_SUCCESS";exports.LOAD_JOBS_FAILURE="LOAD_JOBS_FAILURE";exports.REFRESH_JOBS_SUCCESS="REFRESH_JOBS_SUCCESS";exports.CREATE_JOB_START="CREATE_JOB_START";exports.CREATE_JOB_SUCCESS="CREATE_JOB_SUCCESS";exports.CREATE_JOB_FAILURE="CREATE_JOB_FAILURE";exports.CLEAR_CREATE_JOB_ERRORS="CLEAR_CREATE_JOB_ERRORS";exports.UPDATE_JOB_START="UPDATE_JOB_START";exports.UPDATE_JOB_SUCCESS="UPDATE_JOB_SUCCESS";exports.UPDATE_JOB_FAILURE="UPDATE_JOB_FAILURE";exports.FILTER_CHANGED="FILTER_CHANGED";exports.PAGE_CHANGED="PAGE_CHANGED";exports.PAGE_SIZE_CHANGED="PAGE_SIZE_CHANGED";exports.SORT_CHANGED="SORT_CHANGED"},317:function(module,exports,__webpack_require__){"use strict";__webpack_require__(7390)},348:function(module,exports,__webpack_require__){"use strict";__webpack_require__(7392)},389:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _default=__webpack_require__(6776);Object.defineProperty(exports,"DefaultFormatEditor",{enumerable:true,get:function get(){return _default.DefaultFormatEditor}})},390:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var plugin_1=__webpack_require__(6807);exports.PLUGIN=plugin_1.PLUGIN;var index_names_1=__webpack_require__(2186);exports.INDEX_NAMES=index_names_1.INDEX_NAMES;var configuration_blocks_1=__webpack_require__(6808);exports.UNIQUENESS_ENFORCING_TYPES=configuration_blocks_1.UNIQUENESS_ENFORCING_TYPES;exports.ConfigurationBlockTypes=configuration_blocks_1.ConfigurationBlockTypes;exports.BASE_PATH="/management/beats_management/";var table_1=__webpack_require__(6809);exports.TABLE_CONFIG=table_1.TABLE_CONFIG},391:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var lodash_1=__webpack_require__(1);function isRoleEnabled(role){return lodash_1.get(role,"transient_metadata.enabled",true)}exports.isRoleEnabled=isRoleEnabled;function isReservedRole(role){return lodash_1.get(role,"metadata._reserved",false)}exports.isReservedRole=isReservedRole},392:function(module,exports,__webpack_require__){"use strict";__webpack_require__(7303)},393:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.SharedComponent=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _lodash=__webpack_require__(1);var _lodash2=_interopRequireDefault(_lodash);var _autocomplete_component=__webpack_require__(2265);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}exports.SharedComponent=function(_AutocompleteComponen){_inherits(SharedComponent,_AutocompleteComponen);function SharedComponent(name,parent){_classCallCheck(this,SharedComponent);var _this=_possibleConstructorReturn(this,(SharedComponent.__proto__||Object.getPrototypeOf(SharedComponent)).call(this,name));_this._nextDict={};parent&&parent.addComponent(_this);_this._parent=parent;return _this}_createClass(SharedComponent,[{key:"getComponent",value:function getComponent(name){return(this._nextDict[name]||[void 0])[0]}},{key:"addComponent",value:function addComponent(component){var current=this._nextDict[component.name]||[];current.push(component);this._nextDict[component.name]=current;this.next=[].concat.apply([],_lodash2.default.values(this._nextDict))}}]);return SharedComponent}(_autocomplete_component.AutocompleteComponent)},449:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var table_1=__webpack_require__(844);exports.AssignmentActionType=table_1.AssignmentActionType;exports.Table=table_1.Table;var assignment_schema_1=__webpack_require__(1257);exports.beatsListAssignmentOptions=assignment_schema_1.beatsListAssignmentOptions;exports.tagConfigAssignmentOptions=assignment_schema_1.tagConfigAssignmentOptions;var controls_1=__webpack_require__(2192);exports.ControlBar=controls_1.ControlBar;var table_type_configs_1=__webpack_require__(6861);exports.BeatDetailTagsTable=table_type_configs_1.BeatDetailTagsTable;exports.BeatsTableType=table_type_configs_1.BeatsTableType;exports.TagsTableType=table_type_configs_1.TagsTableType},45:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _action_modes=__webpack_require__(7256);Object.defineProperty(exports,"ACTION_MODES",{enumerable:true,get:function get(){return _action_modes.ACTION_MODES}});var _action_states=__webpack_require__(7257);Object.defineProperty(exports,"ACTION_STATES",{enumerable:true,get:function get(){return _action_states.ACTION_STATES}});var _action_types=__webpack_require__(7258);Object.defineProperty(exports,"ACTION_TYPES",{enumerable:true,get:function get(){return _action_types.ACTION_TYPES}});var _agg_types=__webpack_require__(7259);Object.defineProperty(exports,"AGG_TYPES",{enumerable:true,get:function get(){return _agg_types.AGG_TYPES}});var _comparators=__webpack_require__(7260);Object.defineProperty(exports,"COMPARATORS",{enumerable:true,get:function get(){return _comparators.COMPARATORS}});var _es_scroll_settings=__webpack_require__(7261);Object.defineProperty(exports,"ES_SCROLL_SETTINGS",{enumerable:true,get:function get(){return _es_scroll_settings.ES_SCROLL_SETTINGS}});var _index_names=__webpack_require__(7262);Object.defineProperty(exports,"INDEX_NAMES",{enumerable:true,get:function get(){return _index_names.INDEX_NAMES}});var _lists=__webpack_require__(7263);Object.defineProperty(exports,"LISTS",{enumerable:true,get:function get(){return _lists.LISTS}});var _pagination=__webpack_require__(7264);Object.defineProperty(exports,"PAGINATION",{enumerable:true,get:function get(){return _pagination.PAGINATION}});var _plugin=__webpack_require__(7265);Object.defineProperty(exports,"PLUGIN",{enumerable:true,get:function get(){return _plugin.PLUGIN}});var _refresh_intervals=__webpack_require__(7266);Object.defineProperty(exports,"REFRESH_INTERVALS",{enumerable:true,get:function get(){return _refresh_intervals.REFRESH_INTERVALS}});var _routes=__webpack_require__(7267);Object.defineProperty(exports,"ROUTES",{enumerable:true,get:function get(){return _routes.ROUTES}});var _sort_orders=__webpack_require__(7268);Object.defineProperty(exports,"SORT_ORDERS",{enumerable:true,get:function get(){return _sort_orders.SORT_ORDERS}});var _time_units=__webpack_require__(2250);Object.defineProperty(exports,"TIME_UNITS",{enumerable:true,get:function get(){return _time_units.TIME_UNITS}});var _watch_state_comments=__webpack_require__(7269);Object.defineProperty(exports,"WATCH_STATE_COMMENTS",{enumerable:true,get:function get(){return _watch_state_comments.WATCH_STATE_COMMENTS}});var _watch_history=__webpack_require__(7270);Object.defineProperty(exports,"WATCH_HISTORY",{enumerable:true,get:function get(){return _watch_history.WATCH_HISTORY}});var _watch_states=__webpack_require__(7271);Object.defineProperty(exports,"WATCH_STATES",{enumerable:true,get:function get(){return _watch_states.WATCH_STATES}});var _watch_types=__webpack_require__(7272);Object.defineProperty(exports,"WATCH_TYPES",{enumerable:true,get:function get(){return _watch_types.WATCH_TYPES}})},450:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getSortField=exports.isSortAscending=exports.showSystemIndices=exports.getFilter=exports.getCurrentPage=exports.getHasPreviousPage=exports.getHasNextPage=exports.getIndexNamesForCurrentPage=exports.getPageOfIndices=exports.getPager=exports.getTotalItems=exports.getIndexStatusByIndexName=exports.getTableState=exports.getRowStatuses=exports.getFilteredIds=exports.getIndexByIndexName=exports.getIndices=exports.getDetailPanelIndexName=exports.isDetailPanelOpen=exports.getDetailPanelType=exports.getDetailPanelError=exports.getDetailPanelData=void 0;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};var _eui=__webpack_require__(2);var _reselect=__webpack_require__(57);var _index_status_labels=__webpack_require__(6910);var _services=__webpack_require__(131);exports.getDetailPanelData=function getDetailPanelData(state){return state.detailPanel.data};exports.getDetailPanelError=function getDetailPanelError(state){return state.detailPanel.error};var getDetailPanelType=exports.getDetailPanelType=function getDetailPanelType(state){return state.detailPanel.panelType};exports.isDetailPanelOpen=function isDetailPanelOpen(state){return!!getDetailPanelType(state)};exports.getDetailPanelIndexName=function getDetailPanelIndexName(state){return state.detailPanel.indexName};var getIndices=exports.getIndices=function getIndices(state){return state.indices.byId};exports.getIndexByIndexName=function getIndexByIndexName(state,name){return getIndices(state)[name]};exports.getFilteredIds=function getFilteredIds(state){return state.indices.filteredIds};var getRowStatuses=exports.getRowStatuses=function getRowStatuses(state){return state.rowStatus};var getTableState=exports.getTableState=function getTableState(state){return state.tableState};exports.getIndexStatusByIndexName=function getIndexStatusByIndexName(state,indexName){var indices=getIndices(state);var _ref=indices[indexName]||{},status=_ref.status;return status};var getFilteredIndices=(0,_reselect.createSelector)(getIndices,getRowStatuses,getTableState,function(indices,rowStatuses,tableState){var indexArray=Object.keys(indices).map(function(indexName){return indices[indexName]});var systemFilteredIndexes=tableState.showSystemIndices?indexArray:indexArray.filter(function(index){return!(index.name+"").startsWith(".")});return(0,_services.filterItems)(["name","uuid"],tableState.filter,systemFilteredIndexes)});var getTotalItems=exports.getTotalItems=(0,_reselect.createSelector)(getFilteredIndices,function(filteredIndices){return Object.keys(filteredIndices).length});var getPager=exports.getPager=(0,_reselect.createSelector)(getTableState,getTotalItems,function(_ref2,totalItems){var currentPage=_ref2.currentPage,pageSize=_ref2.pageSize;return new _eui.Pager(totalItems,pageSize,currentPage)});var getPageOfIndices=exports.getPageOfIndices=(0,_reselect.createSelector)(getFilteredIndices,getTableState,getRowStatuses,getPager,function(filteredIndices,tableState,rowStatuses,pager){var sortedIndexes=(0,_services.sortTable)(filteredIndices,tableState.sortField,tableState.isSortAscending);var firstItemIndex=pager.firstItemIndex,lastItemIndex=pager.lastItemIndex;var pagedIndexes=sortedIndexes.slice(firstItemIndex,lastItemIndex+1);return pagedIndexes.map(function(index){var status=_index_status_labels.indexStatusLabels[rowStatuses[index.name]]||rowStatuses[index.name]||_index_status_labels.indexStatusLabels[index.status]||index.status;return _extends({},index,{status:status})})});exports.getIndexNamesForCurrentPage=(0,_reselect.createSelector)(getPageOfIndices,function(pageOfIndices){return pageOfIndices.map(function(index){return index.name})});exports.getHasNextPage=(0,_reselect.createSelector)(getPager,function(pager){return pager.hasNextPage});exports.getHasPreviousPage=(0,_reselect.createSelector)(getPager,function(pager){return pager.hasPreviousPage});exports.getCurrentPage=(0,_reselect.createSelector)(getPager,function(pager){return pager.currentPage});exports.getFilter=(0,_reselect.createSelector)(getTableState,function(_ref3){var filter=_ref3.filter;return filter});exports.showSystemIndices=(0,_reselect.createSelector)(getTableState,function(_ref4){var showSystemIndices=_ref4.showSystemIndices;return showSystemIndices});exports.isSortAscending=(0,_reselect.createSelector)(getTableState,function(_ref5){var isSortAscending=_ref5.isSortAscending;return isSortAscending});exports.getSortField=(0,_reselect.createSelector)(getTableState,function(_ref6){var sortField=_ref6.sortField;return sortField})},451:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _index_names=__webpack_require__(6986);Object.defineProperty(exports,"INDEX_NAMES",{enumerable:true,get:function get(){return _index_names.INDEX_NAMES}});var _type_names=__webpack_require__(6987);Object.defineProperty(exports,"TYPE_NAMES",{enumerable:true,get:function get(){return _type_names.TYPE_NAMES}});var _routes=__webpack_require__(6988);Object.defineProperty(exports,"ROUTES",{enumerable:true,get:function get(){return _routes.ROUTES}});var _pagination=__webpack_require__(6989);Object.defineProperty(exports,"PAGINATION",{enumerable:true,get:function get(){return _pagination.PAGINATION}});var _plugin=__webpack_require__(6990);Object.defineProperty(exports,"PLUGIN",{enumerable:true,get:function get(){return _plugin.PLUGIN}});var _es_scroll_settings=__webpack_require__(6991);Object.defineProperty(exports,"ES_SCROLL_SETTINGS",{enumerable:true,get:function get(){return _es_scroll_settings.ES_SCROLL_SETTINGS}});var _tooltips=__webpack_require__(2211);Object.defineProperty(exports,"TOOLTIPS",{enumerable:true,get:function get(){return _tooltips.TOOLTIPS}});var _pipeline=__webpack_require__(6992);Object.defineProperty(exports,"PIPELINE",{enumerable:true,get:function get(){return _pipeline.PIPELINE}});var _monitoring=__webpack_require__(6993);Object.defineProperty(exports,"MONITORING",{enumerable:true,get:function get(){return _monitoring.MONITORING}})},452:function(module,exports,__webpack_require__){var isObject=__webpack_require__(363);function toObject(value){return isObject(value)?value:Object(value)}module.exports=toObject},453:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.MANAGEMENT_PATH="/management";exports.SECURITY_PATH=exports.MANAGEMENT_PATH+"/security";exports.ROLES_PATH=exports.SECURITY_PATH+"/roles";exports.EDIT_ROLES_PATH=exports.ROLES_PATH+"/edit";exports.USERS_PATH=exports.SECURITY_PATH+"/users";exports.EDIT_USERS_PATH=exports.USERS_PATH+"/edit"},454:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _autocomplete_component=__webpack_require__(2265);Object.defineProperty(exports,"AutocompleteComponent",{enumerable:true,get:function get(){return _autocomplete_component.AutocompleteComponent}});var _shared_component=__webpack_require__(393);Object.defineProperty(exports,"SharedComponent",{enumerable:true,get:function get(){return _shared_component.SharedComponent}});var _constant_component=__webpack_require__(7535);Object.defineProperty(exports,"ConstantComponent",{enumerable:true,get:function get(){return _constant_component.ConstantComponent}});var _list_component=__webpack_require__(650);Object.defineProperty(exports,"ListComponent",{enumerable:true,get:function get(){return _list_component.ListComponent}});var _simple_param_component=__webpack_require__(7536);Object.defineProperty(exports,"SimpleParamComponent",{enumerable:true,get:function get(){return _simple_param_component.SimpleParamComponent}});var _conditional_proxy=__webpack_require__(7537);Object.defineProperty(exports,"ConditionalProxy",{enumerable:true,get:function get(){return _conditional_proxy.ConditionalProxy}});var _global_only_component=__webpack_require__(7538);Object.defineProperty(exports,"GlobalOnlyComponent",{enumerable:true,get:function get(){return _global_only_component.GlobalOnlyComponent}});var _object_component=__webpack_require__(7539);Object.defineProperty(exports,"ObjectComponent",{enumerable:true,get:function get(){return _object_component.ObjectComponent}});var _accept_endpoint_component=__webpack_require__(7540);Object.defineProperty(exports,"AcceptEndpointComponent",{enumerable:true,get:function get(){return _accept_endpoint_component.AcceptEndpointComponent}});Object.defineProperty(exports,"URL_PATH_END_MARKER",{enumerable:true,get:function get(){return _accept_endpoint_component.URL_PATH_END_MARKER}});var _url_pattern_matcher=__webpack_require__(7541);Object.defineProperty(exports,"UrlPatternMatcher",{enumerable:true,get:function get(){return _url_pattern_matcher.UrlPatternMatcher}});var _index_autocomplete_component=__webpack_require__(7542);Object.defineProperty(exports,"IndexAutocompleteComponent",{enumerable:true,get:function get(){return _index_autocomplete_component.IndexAutocompleteComponent}});var _field_autocomplete_component=__webpack_require__(7544);Object.defineProperty(exports,"FieldAutocompleteComponent",{enumerable:true,get:function get(){return _field_autocomplete_component.FieldAutocompleteComponent}});var _type_autocomplete_component=__webpack_require__(7545);Object.defineProperty(exports,"TypeAutocompleteComponent",{enumerable:true,get:function get(){return _type_autocomplete_component.TypeAutocompleteComponent}});var _id_autocomplete_component=__webpack_require__(7546);Object.defineProperty(exports,"IdAutocompleteComponent",{enumerable:true,get:function get(){return _id_autocomplete_component.IdAutocompleteComponent}});var _template_autocomplete_component=__webpack_require__(7547);Object.defineProperty(exports,"TemplateAutocompleteComponent",{enumerable:true,get:function get(){return _template_autocomplete_component.TemplateAutocompleteComponent}})},537:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _samples=__webpack_require__(6777);Object.defineProperty(exports,"FormatEditorSamples",{enumerable:true,get:function get(){return _samples.FormatEditorSamples}})},538:function(module,exports,__webpack_require__){"use strict";function isNothing(subject){return"undefined"===typeof subject||null===subject}function isObject(subject){return"object"===typeof subject&&null!==subject}function toArray(sequence){if(Array.isArray(sequence))return sequence;if(isNothing(sequence))return[];return[sequence]}function extend(target,source){var index,length,key,sourceKeys;if(source){sourceKeys=Object.keys(source);for(index=0,length=sourceKeys.length;index<length;index+=1){key=sourceKeys[index];target[key]=source[key]}}return target}function repeat(string,count){var cycle,result="";for(cycle=0;cycle<count;cycle+=1)result+=string;return result}function isNegativeZero(number){return 0===number&&Number.NEGATIVE_INFINITY===1/number}module.exports.isNothing=isNothing;module.exports.isObject=isObject;module.exports.toArray=toArray;module.exports.repeat=repeat;module.exports.isNegativeZero=isNegativeZero;module.exports.extend=extend},539:function(module,exports,__webpack_require__){"use strict";var common=__webpack_require__(538);var YAMLException=__webpack_require__(642);var Type=__webpack_require__(104);function compileList(schema,name,result){var exclude=[];schema.include.forEach(function(includedSchema){result=compileList(includedSchema,name,result)});schema[name].forEach(function(currentType){result.forEach(function(previousType,previousIndex){previousType.tag===currentType.tag&&exclude.push(previousIndex)});result.push(currentType)});return result.filter(function(type,index){return-1===exclude.indexOf(index)})}function compileMap(){var index,length,result={};function collectType(type){result[type.tag]=type}for(index=0,length=arguments.length;index<length;index+=1)arguments[index].forEach(collectType);return result}function Schema(definition){this.include=definition.include||[];this.implicit=definition.implicit||[];this.explicit=definition.explicit||[];this.implicit.forEach(function(type){if(type.loadKind&&"scalar"!==type.loadKind)throw new YAMLException("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.")});this.compiledImplicit=compileList(this,"implicit",[]);this.compiledExplicit=compileList(this,"explicit",[]);this.compiledTypeMap=compileMap(this.compiledImplicit,this.compiledExplicit)}Schema.DEFAULT=null;Schema.create=function createSchema(){var schemas,types;switch(arguments.length){case 1:schemas=Schema.DEFAULT;types=arguments[0];break;case 2:schemas=arguments[0];types=arguments[1];break;default:throw new YAMLException("Wrong number of arguments for Schema.create function")}schemas=common.toArray(schemas);types=common.toArray(types);if(!schemas.every(function(schema){return schema instanceof Schema}))throw new YAMLException("Specified list of super schemas (or a single Schema object) contains a non-Schema object.");if(!types.every(function(type){return type instanceof Type}))throw new YAMLException("Specified list of YAML types (or a single Type object) contains a non-Type object.");return new Schema({include:schemas,explicit:types})};module.exports=Schema},540:function(module,exports,__webpack_require__){"use strict";var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var querystring_1=__webpack_require__(351);var react_1=tslib_1.__importDefault(__webpack_require__(0));var react_router_dom_1=__webpack_require__(49);var WithURLStateComponent=function(_react_1$default$Comp){_inherits(WithURLStateComponent,_react_1$default$Comp);function WithURLStateComponent(){var _this2=this;_classCallCheck(this,WithURLStateComponent);var _this=_possibleConstructorReturn(this,(WithURLStateComponent.__proto__||Object.getPrototypeOf(WithURLStateComponent)).apply(this,arguments));_this.historyListener=null;_this.setURLState=(_ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee(state){var newState,pastState,search,newLocation;return regeneratorRuntime.wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:newState=void 0;pastState=_this.URLState;if(!("function"===typeof state)){_context.next=8;break}_context.next=5;return state(pastState);case 5:newState=_context.sent;_context.next=9;break;case 8:newState=state;case 9:search=querystring_1.stringify(_extends({},pastState,newState));newLocation=_extends({},_this.props.history.location,{search:search});_this.props.history.replace(newLocation);_this.forceUpdate();case 13:case"end":return _context.stop()}},_callee,_this2)})),function(_x){return _ref.apply(this,arguments)});var _ref;_this.goTo=function(path){_this.props.history.push({pathname:path,search:_this.props.history.location.search})};return _this}_createClass(WithURLStateComponent,[{key:"componentWillUnmount",value:function componentWillUnmount(){this.historyListener&&this.historyListener()}},{key:"render",value:function render(){return this.props.children({goTo:this.goTo,setUrlState:this.setURLState,urlState:this.URLState||{}})}},{key:"URLState",get:function get(){return querystring_1.parse(decodeURIComponent(this.props.history.location.search).substring(1))}}]);return WithURLStateComponent}(react_1.default.Component);exports.WithURLStateComponent=WithURLStateComponent;exports.WithURLState=react_router_dom_1.withRouter(WithURLStateComponent);function withUrlState(UnwrappedComponent){return function(origProps){return react_1.default.createElement(exports.WithURLState,null,function(URLProps){return react_1.default.createElement(UnwrappedComponent,Object.assign({},URLProps,origProps))})}}exports.withUrlState=withUrlState},541:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Wrapper=exports.withFormsy=exports.validationRules=exports.propTypes=exports.addValidationRule=void 0;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};var _typeof="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"===typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};var _formDataToObject=__webpack_require__(6863);var _formDataToObject2=_interopRequireDefault(_formDataToObject);var _propTypes=__webpack_require__(2194);var _propTypes2=_interopRequireDefault(_propTypes);var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _utils=__webpack_require__(2195);var _utils2=_interopRequireDefault(_utils);var _validationRules=__webpack_require__(6866);var _validationRules2=_interopRequireDefault(_validationRules);var _Wrapper=__webpack_require__(6867);var _Wrapper2=_interopRequireDefault(_Wrapper);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _objectWithoutProperties(obj,keys){var target={};for(var i in obj){if(keys.indexOf(i)>=0)continue;if(!Object.prototype.hasOwnProperty.call(obj,i))continue;target[i]=obj[i]}return target}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var Formsy=function(_React$Component){_inherits(Formsy,_React$Component);function Formsy(props){_classCallCheck(this,Formsy);var _this=_possibleConstructorReturn(this,(Formsy.__proto__||Object.getPrototypeOf(Formsy)).call(this,props));_this.getChildContext=function(){return{formsy:{attachToForm:_this.attachToForm,detachFromForm:_this.detachFromForm,validate:_this.validate,isFormDisabled:_this.isFormDisabled,isValidValue:function isValidValue(component,value){return _this.runValidation(component,value).isValid}}}};_this.componentDidMount=function(){_this.validateForm()};_this.componentWillUpdate=function(){_this.prevInputNames=_this.inputs.map(function(component){return component.props.name})};_this.componentDidUpdate=function(){_this.props.validationErrors&&"object"===_typeof(_this.props.validationErrors)&&Object.keys(_this.props.validationErrors).length>0&&_this.setInputValidationErrors(_this.props.validationErrors);var newInputNames=_this.inputs.map(function(component){return component.props.name});_utils2.default.arraysDiffer(_this.prevInputNames,newInputNames)&&_this.validateForm()};_this.getCurrentValues=function(){return _this.inputs.reduce(function(data,component){var name=component.props.name;var dataCopy=Object.assign({},data);dataCopy[name]=component.state.value;return dataCopy},{})};_this.getModel=function(){var currentValues=_this.getCurrentValues();return _this.mapModel(currentValues)};_this.getPristineValues=function(){return _this.inputs.reduce(function(data,component){var name=component.props.name;var dataCopy=Object.assign({},data);dataCopy[name]=component.props.value;return dataCopy},{})};_this.setFormPristine=function(isPristine){_this.setState({formSubmitted:!isPristine});_this.inputs.forEach(function(component){component.setState({formSubmitted:!isPristine,isPristine:isPristine})})};_this.setInputValidationErrors=function(errors){_this.inputs.forEach(function(component){var name=component.props.name;var args=[{isValid:!(name in errors),validationError:"string"===typeof errors[name]?[errors[name]]:errors[name]}];component.setState.apply(component,args)})};_this.isFormDisabled=function(){return _this.props.disabled};_this.mapModel=function(model){if(_this.props.mapping)return _this.props.mapping(model);return _formDataToObject2.default.toObj(Object.keys(model).reduce(function(mappedModel,key){var keyArray=key.split(".");var base=mappedModel;while(keyArray.length){var currentKey=keyArray.shift();base[currentKey]=keyArray.length?base[currentKey]||{}:model[key];base=base[currentKey]}return mappedModel},{}))};_this.reset=function(data){_this.setFormPristine(true);_this.resetModel(data)};_this.resetInternal=function(event){event.preventDefault();_this.reset();_this.props.onReset&&_this.props.onReset()};_this.resetModel=function(data){_this.inputs.forEach(function(component){var name=component.props.name;data&&Object.prototype.hasOwnProperty.call(data,name)?component.setValue(data[name]):component.resetValue()});_this.validateForm()};_this.runValidation=function(component){var value=arguments.length>1&&void 0!==arguments[1]?arguments[1]:component.state.value;var currentValues=_this.getCurrentValues();var _component$props=component.props,validationError=_component$props.validationError,validationErrors=_component$props.validationErrors;var validationResults=_utils2.default.runRules(value,currentValues,component.validations,_validationRules2.default);var requiredResults=_utils2.default.runRules(value,currentValues,component.requiredValidations,_validationRules2.default);var isRequired=!!Object.keys(component.requiredValidations).length&&!!requiredResults.success.length;var isValid=!validationResults.failed.length&&!(_this.props.validationErrors&&_this.props.validationErrors[component.props.name]);return{isRequired:isRequired,isValid:!isRequired&&isValid,error:function(){if(isValid&&!isRequired)return[];if(validationResults.errors.length)return validationResults.errors;if(_this.props.validationErrors&&_this.props.validationErrors[component.props.name])return"string"===typeof _this.props.validationErrors[component.props.name]?[_this.props.validationErrors[component.props.name]]:_this.props.validationErrors[component.props.name];if(isRequired){var error=validationErrors[requiredResults.success[0]];return error?[error]:null}if(validationResults.failed.length)return validationResults.failed.map(function(failed){return validationErrors[failed]?validationErrors[failed]:validationError}).filter(function(x,pos,arr){return arr.indexOf(x)===pos});return}()}};_this.attachToForm=function(component){-1===_this.inputs.indexOf(component)&&_this.inputs.push(component);_this.validate(component)};_this.detachFromForm=function(component){var componentPos=_this.inputs.indexOf(component);-1!==componentPos&&(_this.inputs=_this.inputs.slice(0,componentPos).concat(_this.inputs.slice(componentPos+1)));_this.validateForm()};_this.isChanged=function(){return!_utils2.default.isSame(_this.getPristineValues(),_this.getCurrentValues())};_this.submit=function(event){event&&event.preventDefault&&event.preventDefault();_this.setFormPristine(false);var model=_this.getModel();_this.props.onSubmit(model,_this.resetModel,_this.updateInputsWithError);_this.state.isValid?_this.props.onValidSubmit(model,_this.resetModel,_this.updateInputsWithError):_this.props.onInvalidSubmit(model,_this.resetModel,_this.updateInputsWithError)};_this.updateInputsWithError=function(errors){Object.keys(errors).forEach(function(name){var component=_utils2.default.find(_this.inputs,function(input){return input.props.name===name});if(!component)throw new Error("You are trying to update an input that does not exist. Verify errors object with input names. "+JSON.stringify(errors));var args=[{isValid:_this.props.preventExternalInvalidation,externalError:"string"===typeof errors[name]?[errors[name]]:errors[name]}];component.setState.apply(component,args)})};_this.validate=function(component){_this.state.canChange&&_this.props.onChange(_this.getCurrentValues(),_this.isChanged());var validation=_this.runValidation(component);component.setState({isValid:validation.isValid,isRequired:validation.isRequired,validationError:validation.error,externalError:null},_this.validateForm)};_this.validateForm=function(){var onValidationComplete=function onValidationComplete(){var allIsValid=_this.inputs.every(function(component){return component.state.isValid});_this.setState({isValid:allIsValid});allIsValid?_this.props.onValid():_this.props.onInvalid();_this.setState({canChange:true})};_this.inputs.forEach(function(component,index){var validation=_this.runValidation(component);validation.isValid&&component.state.externalError&&(validation.isValid=false);component.setState({isValid:validation.isValid,isRequired:validation.isRequired,validationError:validation.error,externalError:!validation.isValid&&component.state.externalError?component.state.externalError:null},index===_this.inputs.length-1?onValidationComplete:null)});_this.inputs.length||_this.setState({canChange:true})};_this.render=function(){var _this$props=_this.props,nonFormsyProps=(_this$props.getErrorMessage,_this$props.getErrorMessages,_this$props.getValue,_this$props.hasValue,_this$props.isFormDisabled,_this$props.isFormSubmitted,_this$props.isPristine,_this$props.isRequired,_this$props.isValid,_this$props.isValidValue,_this$props.mapping,_this$props.onChange,_this$props.onInvalidSubmit,_this$props.onInvalid,_this$props.onReset,_this$props.onSubmit,_this$props.onValid,_this$props.onValidSubmit,_this$props.preventExternalInvalidation,_this$props.resetValue,_this$props.setValidations,_this$props.setValue,_this$props.showError,_this$props.showRequired,_this$props.validationErrors,_objectWithoutProperties(_this$props,["getErrorMessage","getErrorMessages","getValue","hasValue","isFormDisabled","isFormSubmitted","isPristine","isRequired","isValid","isValidValue","mapping","onChange","onInvalidSubmit","onInvalid","onReset","onSubmit","onValid","onValidSubmit","preventExternalInvalidation","resetValue","setValidations","setValue","showError","showRequired","validationErrors"]));return _react2.default.createElement("form",_extends({onReset:_this.resetInternal,onSubmit:_this.submit},nonFormsyProps,{disabled:false}),_this.props.children)};_this.state={isValid:true,isSubmitting:false,canChange:false};_this.inputs=[];return _this}return Formsy}(_react2.default.Component);Formsy.displayName="Formsy";Formsy.defaultProps={children:null,disabled:false,getErrorMessage:function getErrorMessage(){},getErrorMessages:function getErrorMessages(){},getValue:function getValue(){},hasValue:function hasValue(){},isFormDisabled:function isFormDisabled(){},isFormSubmitted:function isFormSubmitted(){},isPristine:function isPristine(){},isRequired:function isRequired(){},isValid:function isValid(){},isValidValue:function isValidValue(){},mapping:null,onChange:function onChange(){},onError:function onError(){},onInvalid:function onInvalid(){},onInvalidSubmit:function onInvalidSubmit(){},onReset:function onReset(){},onSubmit:function onSubmit(){},onValid:function onValid(){},onValidSubmit:function onValidSubmit(){},preventExternalInvalidation:false,resetValue:function resetValue(){},setValidations:function setValidations(){},setValue:function setValue(){},showError:function showError(){},showRequired:function showRequired(){},validationErrors:null};Formsy.propTypes={children:_propTypes2.default.node,disabled:_propTypes2.default.bool,getErrorMessage:_propTypes2.default.func,getErrorMessages:_propTypes2.default.func,getValue:_propTypes2.default.func,hasValue:_propTypes2.default.func,isFormDisabled:_propTypes2.default.func,isFormSubmitted:_propTypes2.default.func,isPristine:_propTypes2.default.func,isRequired:_propTypes2.default.func,isValid:_propTypes2.default.func,isValidValue:_propTypes2.default.func,mapping:_propTypes2.default.func,onChange:_propTypes2.default.func,onInvalid:_propTypes2.default.func,onInvalidSubmit:_propTypes2.default.func,onReset:_propTypes2.default.func,onSubmit:_propTypes2.default.func,onValid:_propTypes2.default.func,onValidSubmit:_propTypes2.default.func,preventExternalInvalidation:_propTypes2.default.bool,resetValue:_propTypes2.default.func,setValidations:_propTypes2.default.func,setValue:_propTypes2.default.func,showError:_propTypes2.default.func,showRequired:_propTypes2.default.func,validationErrors:_propTypes2.default.object};Formsy.childContextTypes={formsy:_propTypes2.default.object};var addValidationRule=function addValidationRule(name,func){_validationRules2.default[name]=func};var withFormsy=_Wrapper2.default;var didWarnAboutWrapperDeprecation=false;var deprecatedWrapper=function deprecatedWrapper(Component){if(!didWarnAboutWrapperDeprecation){console.warn("Wrapper has been renamed to withFormsy. Importing Wrapper from formsy-react is depreacted and will be removed in the future. Please rename your Wrapper imports to withFormsy.");didWarnAboutWrapperDeprecation=true}return withFormsy(Component)};exports.addValidationRule=addValidationRule;exports.propTypes=_Wrapper.propTypes;exports.validationRules=_validationRules2.default;exports.withFormsy=withFormsy;exports.Wrapper=deprecatedWrapper;exports.default=Formsy},542:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _plugin=__webpack_require__(6888);Object.defineProperty(exports,"PLUGIN",{enumerable:true,get:function get(){return _plugin.PLUGIN}});var _base_path=__webpack_require__(2198);Object.defineProperty(exports,"BASE_PATH",{enumerable:true,get:function get(){return _base_path.BASE_PATH}});var _index_statuses=__webpack_require__(6889);Object.keys(_index_statuses).forEach(function(key){if("default"===key||"__esModule"===key)return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _index_statuses[key]}})})},543:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getStartBasicMessages=exports.startBasicLicenseNeedsAcknowledgement=exports.startTrialError=exports.shouldShowRequestTrialExtension=exports.shouldShowStartTrial=exports.getUploadErrorMessage=exports.isInvalid=exports.uploadMessages=exports.isApplying=exports.uploadNeedsAcknowledgement=exports.shouldShowRevertToBasicLicense=exports.isImminentExpiration=exports.isExpired=exports.getExpirationDateFormatted=exports.getExpirationDate=exports.getExpirationMillis=exports.getLicenseType=exports.getLicense=exports.licenseManagement=exports.WARNING_THRESHOLD_IN_DAYS=void 0;var _redux=__webpack_require__(53);var _license=__webpack_require__(6957);var _upload_status=__webpack_require__(6958);var _start_basic_license_status=__webpack_require__(6959);var _upload_error_message=__webpack_require__(6960);var _trial_status=__webpack_require__(6961);var _momentTimezone=__webpack_require__(256);var _momentTimezone2=_interopRequireDefault(_momentTimezone);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var WARNING_THRESHOLD_IN_DAYS=exports.WARNING_THRESHOLD_IN_DAYS=25;exports.licenseManagement=(0,_redux.combineReducers)({license:_license.license,uploadStatus:_upload_status.uploadStatus,uploadErrorMessage:_upload_error_message.uploadErrorMessage,trialStatus:_trial_status.trialStatus,startBasicStatus:_start_basic_license_status.startBasicStatus});var getLicense=exports.getLicense=function getLicense(state){return state.license};var getLicenseType=exports.getLicenseType=function getLicenseType(state){return getLicense(state).type};var getExpirationMillis=exports.getExpirationMillis=function getExpirationMillis(state){return getLicense(state).expiryDateInMillis};var getExpirationDate=exports.getExpirationDate=function getExpirationDate(state){if("basic"===getLicenseType(state))return null;var expirationMillis=getExpirationMillis(state);return expirationMillis?_momentTimezone2.default.tz(getExpirationMillis(state),_momentTimezone2.default.tz.guess()):null};exports.getExpirationDateFormatted=function getExpirationDateFormatted(state){var expirationDate=getExpirationDate(state);return expirationDate?expirationDate.format("LLL z"):null};var isExpired=exports.isExpired=function isExpired(state){return(new Date).getTime()>getExpirationMillis(state)};var isImminentExpiration=exports.isImminentExpiration=function isImminentExpiration(state){var now=new Date;var expirationDate=getExpirationDate(state);return expirationDate&&expirationDate.isAfter(now)&&expirationDate.diff(now,"days")<=WARNING_THRESHOLD_IN_DAYS};exports.shouldShowRevertToBasicLicense=function shouldShowRevertToBasicLicense(state){var _getLicense=getLicense(state),type=_getLicense.type;return"trial"===type||isImminentExpiration(state)||isExpired(state)};exports.uploadNeedsAcknowledgement=function uploadNeedsAcknowledgement(state){return!!state.uploadStatus.acknowledge};exports.isApplying=function isApplying(state){return!!state.uploadStatus.applying};exports.uploadMessages=function uploadMessages(state){return state.uploadStatus.messages};exports.isInvalid=function isInvalid(state){return!!state.uploadStatus.invalid};exports.getUploadErrorMessage=function getUploadErrorMessage(state){return state.uploadErrorMessage};exports.shouldShowStartTrial=function shouldShowStartTrial(state){var licenseType=getLicenseType(state);return state.trialStatus.canStartTrial&&"trial"!==licenseType&&("platinum"!==licenseType||isExpired(state))};exports.shouldShowRequestTrialExtension=function shouldShowRequestTrialExtension(state){if(state.trialStatus.canStartTrial)return false;var _getLicense2=getLicense(state),type=_getLicense2.type;return"platinum"!==type||isExpired(state)};exports.startTrialError=function startTrialError(state){return state.trialStatus.startTrialError};exports.startBasicLicenseNeedsAcknowledgement=function startBasicLicenseNeedsAcknowledgement(state){return!!state.startBasicStatus.acknowledge};exports.getStartBasicMessages=function getStartBasicMessages(state){return state.startBasicStatus.messages}},544:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getSortField=exports.isSortAscending=exports.getFilter=exports.getCurrentPage=exports.getHasPreviousPage=exports.getHasNextPage=exports.getPageOfJobs=exports.getPager=exports.getTotalItems=exports.getJobStatusByJobName=exports.isUpdating=exports.getCreateJobError=exports.isSaving=exports.jobLoadError=exports.isLoading=exports.getDetailPanelJobId=exports.getDetailPanelJob=exports.isDetailPanelOpen=exports.getDetailPanelType=exports.getTableState=exports.getFilteredIds=exports.getJobByJobId=exports.getJobsList=exports.getJobs=void 0;var _eui=__webpack_require__(2);var _reselect=__webpack_require__(57);var _services=__webpack_require__(81);var getJobs=exports.getJobs=function getJobs(state){return state.jobs.byId};exports.getJobsList=function getJobsList(state){return state.jobs.allIds};var getJobByJobId=exports.getJobByJobId=function getJobByJobId(state,id){return getJobs(state)[id]};exports.getFilteredIds=function getFilteredIds(state){return state.jobs.filteredIds};var getTableState=exports.getTableState=function getTableState(state){return state.tableState};exports.getDetailPanelType=function getDetailPanelType(state){return state.detailPanel.panelType};exports.isDetailPanelOpen=function isDetailPanelOpen(state){return state.detailPanel.isOpen};exports.getDetailPanelJob=function getDetailPanelJob(state){return getJobByJobId(state,state.detailPanel.jobId)};exports.getDetailPanelJobId=function getDetailPanelJobId(state){return state.detailPanel.jobId};exports.isLoading=function isLoading(state){return state.jobs.isLoading};exports.jobLoadError=function jobLoadError(state){return state.jobs.jobLoadError};exports.isSaving=function isSaving(state){return state.createJob.isSaving};exports.getCreateJobError=function getCreateJobError(state){return state.createJob.error};exports.isUpdating=function isUpdating(state){return state.updateJob.isUpdating};exports.getJobStatusByJobName=function getJobStatusByJobName(state,jobName){var jobs=getJobs(state);var _ref=jobs[jobName]||{},status=_ref.status;return status};var getFilteredJobs=(0,_reselect.createSelector)(getJobs,getTableState,function(jobs,tableState){var jobArray=Object.keys(jobs).map(function(jobName){return jobs[jobName]});return(0,_services.filterItems)(["id","indexPattern","rollupIndex"],tableState.filter,jobArray)});var getTotalItems=exports.getTotalItems=(0,_reselect.createSelector)(getFilteredJobs,function(filteredJobs){return Object.keys(filteredJobs).length});var getPager=exports.getPager=(0,_reselect.createSelector)(getTableState,getTotalItems,function(_ref2,totalItems){var currentPage=_ref2.currentPage,pageSize=_ref2.pageSize;return new _eui.Pager(totalItems,pageSize,currentPage)});exports.getPageOfJobs=(0,_reselect.createSelector)(getFilteredJobs,getTableState,getPager,function(filteredJobs,tableState,pager){var sortedIndexes=(0,_services.sortTable)(filteredJobs,tableState.sortField,tableState.isSortAscending);var firstItemIndex=pager.firstItemIndex,lastItemIndex=pager.lastItemIndex;var pagedIndexes=sortedIndexes.slice(firstItemIndex,lastItemIndex+1);return pagedIndexes});exports.getHasNextPage=(0,_reselect.createSelector)(getPager,function(pager){return pager.hasNextPage});exports.getHasPreviousPage=(0,_reselect.createSelector)(getPager,function(pager){return pager.hasPreviousPage});exports.getCurrentPage=(0,_reselect.createSelector)(getPager,function(pager){return pager.currentPage});exports.getFilter=(0,_reselect.createSelector)(getTableState,function(_ref3){var filter=_ref3.filter;return filter});exports.isSortAscending=(0,_reselect.createSelector)(getTableState,function(_ref4){var isSortAscending=_ref4.isSortAscending;return isSortAscending});exports.getSortField=(0,_reselect.createSelector)(getTableState,function(_ref5){var sortField=_ref5.sortField;return sortField})},545:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _field_list=__webpack_require__(848);Object.defineProperty(exports,"FieldList",{enumerable:true,get:function get(){return _field_list.FieldList}});var _job_action_menu=__webpack_require__(7082);Object.defineProperty(exports,"JobActionMenu",{enumerable:true,get:function get(){return _job_action_menu.JobActionMenu}});var _job_details=__webpack_require__(7087);Object.defineProperty(exports,"JobDetails",{enumerable:true,get:function get(){return _job_details.JobDetails}});Object.defineProperty(exports,"JOB_DETAILS_TAB_SUMMARY",{enumerable:true,get:function get(){return _job_details.JOB_DETAILS_TAB_SUMMARY}});Object.defineProperty(exports,"JOB_DETAILS_TAB_TERMS",{enumerable:true,get:function get(){return _job_details.JOB_DETAILS_TAB_TERMS}});Object.defineProperty(exports,"JOB_DETAILS_TAB_HISTOGRAM",{enumerable:true,get:function get(){return _job_details.JOB_DETAILS_TAB_HISTOGRAM}});Object.defineProperty(exports,"JOB_DETAILS_TAB_METRICS",{enumerable:true,get:function get(){return _job_details.JOB_DETAILS_TAB_METRICS}});Object.defineProperty(exports,"JOB_DETAILS_TAB_JSON",{enumerable:true,get:function get(){return _job_details.JOB_DETAILS_TAB_JSON}});Object.defineProperty(exports,"tabToHumanizedMap",{enumerable:true,get:function get(){return _job_details.tabToHumanizedMap}});var _job_status=__webpack_require__(2221);Object.defineProperty(exports,"JobStatus",{enumerable:true,get:function get(){return _job_status.JobStatus}})},546:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.NO_PRIVILEGE_VALUE="none"},642:function(module,exports,__webpack_require__){"use strict";var inherits=__webpack_require__(362).inherits;function YAMLException(reason,mark){Error.call(this);Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack||"";this.name="YAMLException";this.reason=reason;this.mark=mark;this.message=(this.reason||"(unknown reason)")+(this.mark?" "+this.mark.toString():"")}inherits(YAMLException,Error);YAMLException.prototype.toString=function toString(compact){var result=this.name+": ";result+=this.reason||"(unknown reason)";!compact&&this.mark&&(result+=" "+this.mark.toString());return result};module.exports=YAMLException},643:function(module,exports,__webpack_require__){"use strict";var Schema=__webpack_require__(539);module.exports=new Schema({include:[__webpack_require__(2190)],implicit:[__webpack_require__(6832),__webpack_require__(6833)],explicit:[__webpack_require__(6834),__webpack_require__(6836),__webpack_require__(6837),__webpack_require__(6838)]})},644:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _paths=__webpack_require__(7054);Object.defineProperty(exports,"CRUD_APP_BASE_PATH",{enumerable:true,get:function get(){return _paths.CRUD_APP_BASE_PATH}})},645:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _change_job_status=__webpack_require__(7072);Object.defineProperty(exports,"startJobs",{enumerable:true,get:function get(){return _change_job_status.startJobs}});Object.defineProperty(exports,"stopJobs",{enumerable:true,get:function get(){return _change_job_status.stopJobs}});var _create_job=__webpack_require__(7073);Object.defineProperty(exports,"createJob",{enumerable:true,get:function get(){return _create_job.createJob}});Object.defineProperty(exports,"clearCreateJobErrors",{enumerable:true,get:function get(){return _create_job.clearCreateJobErrors}});var _delete_jobs=__webpack_require__(7074);Object.defineProperty(exports,"deleteJobs",{enumerable:true,get:function get(){return _delete_jobs.deleteJobs}});var _detail_panel=__webpack_require__(2220);Object.defineProperty(exports,"openDetailPanel",{enumerable:true,get:function get(){return _detail_panel.openDetailPanel}});Object.defineProperty(exports,"closeDetailPanel",{enumerable:true,get:function get(){return _detail_panel.closeDetailPanel}});var _load_jobs=__webpack_require__(7075);Object.defineProperty(exports,"loadJobs",{enumerable:true,get:function get(){return _load_jobs.loadJobs}});var _refresh_jobs=__webpack_require__(1262);Object.defineProperty(exports,"refreshJobs",{enumerable:true,get:function get(){return _refresh_jobs.refreshJobs}});var _table_state=__webpack_require__(7076);Object.defineProperty(exports,"filterChanged",{enumerable:true,get:function get(){return _table_state.filterChanged}});Object.defineProperty(exports,"pageChanged",{enumerable:true,get:function get(){return _table_state.pageChanged}});Object.defineProperty(exports,"pageSizeChanged",{enumerable:true,get:function get(){return _table_state.pageSizeChanged}});Object.defineProperty(exports,"sortChanged",{enumerable:true,get:function get(){return _table_state.sortChanged}})},646:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _field_chooser=__webpack_require__(7141);Object.defineProperty(exports,"FieldChooser",{enumerable:true,get:function get(){return _field_chooser.FieldChooser}});var _cron_editor=__webpack_require__(7142);Object.defineProperty(exports,"CronEditor",{enumerable:true,get:function get(){return _cron_editor.CronEditor}});var _step_error=__webpack_require__(7149);Object.defineProperty(exports,"StepError",{enumerable:true,get:function get(){return _step_error.StepError}})},647:function(module,exports,__webpack_require__){"use strict";__webpack_require__(7254)},648:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _threshold_watch_base=__webpack_require__(7399);Object.defineProperty(exports,"ThresholdWatchBaseController",{enumerable:true,get:function get(){return _threshold_watch_base.ThresholdWatchBaseController}})},649:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ActionDefaultsRegistryProvider=void 0;var _registry=__webpack_require__(92);exports.ActionDefaultsRegistryProvider=(0,_registry.uiRegistry)({name:"actionDefaultsRegistry"})},650:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ListComponent=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _get=function get(object,property,receiver){null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0===desc){var parent=Object.getPrototypeOf(object);return null===parent?void 0:get(parent,property,receiver)}if("value"in desc)return desc.value;var getter=desc.get;if(void 0===getter)return;return getter.call(receiver)};var _lodash=__webpack_require__(1);var _lodash2=_interopRequireDefault(_lodash);var _shared_component=__webpack_require__(393);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}exports.ListComponent=function(_SharedComponent){_inherits(ListComponent,_SharedComponent);function ListComponent(name,list,parent,multiValued,allowNonValidValues){_classCallCheck(this,ListComponent);var _this=_possibleConstructorReturn(this,(ListComponent.__proto__||Object.getPrototypeOf(ListComponent)).call(this,name,parent));_this.listGenerator=Array.isArray(list)?function(){return list}:list;_this.multiValued=!!_lodash2.default.isUndefined(multiValued)||multiValued;_this.allowNonValidValues=!_lodash2.default.isUndefined(allowNonValidValues)&&allowNonValidValues;return _this}_createClass(ListComponent,[{key:"getTerms",value:function getTerms(context,editor){if(!this.multiValued&&context.otherTokenValues)return[];var alreadySet=context.otherTokenValues||[];_lodash2.default.isString(alreadySet)&&(alreadySet=[alreadySet]);var ret=_lodash2.default.difference(this.listGenerator(context,editor),alreadySet);if(this.getDefaultTermMeta()){var meta=this.getDefaultTermMeta();ret=_lodash2.default.map(ret,function(term){_lodash2.default.isString(term)&&(term={name:term});return _lodash2.default.defaults(term,{meta:meta})})}return ret}},{key:"validateTokens",value:function validateTokens(tokens){if(!this.multiValued&&tokens.length>1)return false;var list=this.listGenerator();var notFound=_lodash2.default.any(tokens,function(token){return-1===list.indexOf(token)});if(notFound)return false;return true}},{key:"getContextKey",value:function getContextKey(){return this.name}},{key:"getDefaultTermMeta",value:function getDefaultTermMeta(){return this.name}},{key:"match",value:function match(token,context,editor){Array.isArray(token)||(token=[token]);if(!this.allowNonValidValues&&!this.validateTokens(token,context,editor))return null;var result=_get(ListComponent.prototype.__proto__||Object.getPrototypeOf(ListComponent.prototype),"match",this).call(this,token,context,editor);result.context_values=result.context_values||{};result.context_values[this.getContextKey()]=token;return result}}]);return ListComponent}(_shared_component.SharedComponent)},651:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}return Array.from(arr)}var $=__webpack_require__(16);var _=__webpack_require__(1);var es=__webpack_require__(1274);var settings=__webpack_require__(652);var perIndexTypes={};var perAliasIndexes=[];var templates=[];var mappingObj={};function expandAliases(indicesOrAliases){if(!indicesOrAliases)return indicesOrAliases;"string"===typeof indicesOrAliases&&(indicesOrAliases=[indicesOrAliases]);indicesOrAliases=$.map(indicesOrAliases,function(iOrA){if(perAliasIndexes[iOrA])return perAliasIndexes[iOrA];return[iOrA]});var ret=[].concat.apply([],indicesOrAliases);ret.sort();var last=void 0;ret=$.map(ret,function(v){var r=last===v?null:v;last=v;return r});return ret.length>1?ret:ret[0]}function getTemplates(){return[].concat(_toConsumableArray(templates))}function getFields(indices,types){var ret=[];indices=expandAliases(indices);if("string"===typeof indices){var typeDict=perIndexTypes[indices];if(!typeDict)return[];if("string"===typeof types){var f=typeDict[types];ret=f||[]}else{$.each(typeDict,function(type,fields){types&&0!==types.length&&-1===$.inArray(type,types)||ret.push(fields)});ret=[].concat.apply([],ret)}}else{$.each(perIndexTypes,function(index){indices&&0!==indices.length&&-1===$.inArray(index,indices)||ret.push(getFields(index,types))});ret=[].concat.apply([],ret)}return _.uniq(ret,function(f){return f.name+":"+f.type})}function getTypes(indices){var ret=[];indices=expandAliases(indices);if("string"===typeof indices){var typeDict=perIndexTypes[indices];if(!typeDict)return[];$.each(typeDict,function(type){ret.push(type)})}else{$.each(perIndexTypes,function(index){indices&&-1===$.inArray(index,indices)||ret.push(getTypes(index))});ret=[].concat.apply([],ret)}return _.uniq(ret)}function getIndices(includeAliases){var ret=[];$.each(perIndexTypes,function(index){ret.push(index)});("undefined"===typeof includeAliases||includeAliases)&&$.each(perAliasIndexes,function(alias){ret.push(alias)});return ret}function getFieldNamesFromFieldMapping(fieldName,fieldMapping){if(false===fieldMapping.enabled)return[];var nestedFields=void 0;function applyPathSettings(nestedFieldNames){var pathType=fieldMapping.path||"full";if("full"===pathType)return $.map(nestedFieldNames,function(f){f.name=fieldName+"."+f.name;return f});return nestedFieldNames}if(fieldMapping.properties){nestedFields=getFieldNamesFromTypeMapping(fieldMapping);return applyPathSettings(nestedFields)}var fieldType=fieldMapping.type;if("multi_field"===fieldType){nestedFields=$.map(fieldMapping.fields,function(fieldMapping,fieldName){return getFieldNamesFromFieldMapping(fieldName,fieldMapping)});return applyPathSettings(nestedFields)}var ret={name:fieldName,type:fieldType};fieldMapping.index_name&&(ret.name=fieldMapping.index_name);if(fieldMapping.fields){nestedFields=$.map(fieldMapping.fields,function(fieldMapping,fieldName){return getFieldNamesFromFieldMapping(fieldName,fieldMapping)});nestedFields=applyPathSettings(nestedFields);nestedFields.unshift(ret);return nestedFields}return[ret]}function getFieldNamesFromTypeMapping(typeMapping){var fieldList=$.map(typeMapping.properties||{},function(fieldMapping,fieldName){return getFieldNamesFromFieldMapping(fieldName,fieldMapping)});return _.uniq(fieldList,function(f){return f.name+":"+f.type})}function loadTemplates(templatesObject){templates=Object.keys(templatesObject)}function loadMappings(mappings){perIndexTypes={};$.each(mappings,function(index,indexMapping){var normalizedIndexMappings={};indexMapping.mappings&&1===_.keys(indexMapping).length&&(indexMapping=indexMapping.mappings);$.each(indexMapping,function(typeName,typeMapping){var fieldList=getFieldNamesFromTypeMapping(typeMapping);normalizedIndexMappings[typeName]=fieldList});perIndexTypes[index]=normalizedIndexMappings})}function loadAliases(aliases){perAliasIndexes={};$.each(aliases||{},function(index,omdexAliases){perIndexTypes[index]=perIndexTypes[index]||{};$.each(omdexAliases.aliases||{},function(alias){if(alias===index)return;var curAliases=perAliasIndexes[alias];if(!curAliases){curAliases=[];perAliasIndexes[alias]=curAliases}curAliases.push(index)})});perAliasIndexes._all=getIndices(false)}function clear(){perIndexTypes={};perAliasIndexes={};templates=[]}function retrieveAutocompleteInfoFromServer(){var autocompleteSettings=settings.getAutocomplete();var mappingPromise=void 0;var aliasesPromise=void 0;var templatesPromise=void 0;if(autocompleteSettings.fields)mappingPromise=es.send("GET","_mapping",null,null,true);else{mappingPromise=new $.Deferred;mappingPromise.resolve()}if(autocompleteSettings.indices)aliasesPromise=es.send("GET","_aliases",null,null,true);else{aliasesPromise=new $.Deferred;aliasesPromise.resolve()}if(autocompleteSettings.templates)templatesPromise=es.send("GET","_template",null,null,true);else{templatesPromise=new $.Deferred;templatesPromise.resolve()}$.when(mappingPromise,aliasesPromise,templatesPromise).done(function(mappings,aliases,templates){if(mappings)if(mappings[0].length<10485760)mappings=JSON.parse(mappings[0]);else{console.warn("mapping size is larger than 10MB ("+mappings[0].length/1024/1024+" MB). ignoring..");mappings={}}else mappings={};loadMappings(mappings);if(aliases)loadAliases(JSON.parse(aliases[0]));else{aliases=[{}];loadAliases({})}templates?loadTemplates(JSON.parse(templates[0])):templates=[];$(mappingObj).trigger("update",[mappings[0],aliases[0]])})}function autocompleteRetriever(){retrieveAutocompleteInfoFromServer();setTimeout(function(){autocompleteRetriever()},6e4)}exports.default=_.assign(mappingObj,{getFields:getFields,getTemplates:getTemplates,getIndices:getIndices,getTypes:getTypes,loadMappings:loadMappings,loadAliases:loadAliases,expandAliases:expandAliases,clear:clear,startRetrievingAutoCompleteInfo:autocompleteRetriever});module.exports=exports["default"]},652:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getAutocomplete=getAutocomplete;exports.applyCurrentSettings=applyCurrentSettings;exports.getCurrentSettings=getCurrentSettings;exports.updateSettings=updateSettings;var _input=__webpack_require__(2263);var _input2=_interopRequireDefault(_input);var _output=__webpack_require__(2266);var _output2=_interopRequireDefault(_output);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var storage=__webpack_require__(653);function getFontSize(){return storage.get("font_size",14)}function setFontSize(size){storage.set("font_size",size);applyCurrentSettings();return true}function getWrapMode(){return storage.get("wrap_mode",true)}function setWrapMode(mode){storage.set("wrap_mode",mode);applyCurrentSettings();return true}function getAutocomplete(){return storage.get("autocomplete_settings",{fields:true,indices:true,templates:true})}function setAutocomplete(settings){storage.set("autocomplete_settings",settings);return true}function applyCurrentSettings(editor){if("undefined"===typeof editor){applyCurrentSettings((0,_input2.default)());applyCurrentSettings((0,_output2.default)())}if(editor){editor.getSession().setUseWrapMode(getWrapMode());editor.$el.css("font-size",getFontSize()+"px")}}function getCurrentSettings(){return{autocomplete:getAutocomplete(),wrapMode:getWrapMode(),fontSize:parseFloat(getFontSize())}}function updateSettings(_ref){var fontSize=_ref.fontSize,wrapMode=_ref.wrapMode,autocomplete=_ref.autocomplete;setFontSize(fontSize);setWrapMode(wrapMode);setAutocomplete(autocomplete);(0,_input2.default)().focus();return getCurrentSettings()}},653:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var _require=__webpack_require__(1),transform=_require.transform,_keys=_require.keys,startsWith=_require.startsWith;var Storage=function(){function Storage(engine,prefix){_classCallCheck(this,Storage);this.engine=engine;this.prefix=prefix}_createClass(Storage,[{key:"encode",value:function encode(val){return JSON.stringify(val)}},{key:"decode",value:function decode(val){if("string"===typeof val)return JSON.parse(val)}},{key:"encodeKey",value:function encodeKey(key){return""+this.prefix+key}},{key:"decodeKey",value:function decodeKey(key){if(startsWith(key,this.prefix))return""+key.slice(this.prefix.length)}},{key:"set",value:function set(key,val){this.engine.setItem(this.encodeKey(key),this.encode(val));return val}},{key:"has",value:function has(key){return null!=this.engine.getItem(this.encodeKey(key))}},{key:"get",value:function get(key,_default){return this.has(key)?this.decode(this.engine.getItem(this.encodeKey(key))):_default}},{key:"delete",value:function _delete(key){return this.engine.removeItem(this.encodeKey(key))}},{key:"keys",value:function keys(){var _this=this;return transform(_keys(this.engine),function(ours,key){var ourKey=_this.decodeKey(key);null!=ourKey&&ours.push(ourKey)})}}]);return Storage}();var instance=new Storage(window.localStorage,"sense:");exports.default=instance;module.exports=exports["default"]},6748:function(module,exports,__webpack_require__){"use strict";__webpack_require__(132);__webpack_require__(134);__webpack_require__(135);__webpack_require__(136);__webpack_require__(137);__webpack_require__(138);__webpack_require__(139);__webpack_require__(140);__webpack_require__(141);__webpack_require__(142);__webpack_require__(143);__webpack_require__(144);__webpack_require__(145);__webpack_require__(146);__webpack_require__(147);__webpack_require__(148);__webpack_require__(149);__webpack_require__(150);__webpack_require__(151);__webpack_require__(152);__webpack_require__(153);__webpack_require__(154);__webpack_require__(155);__webpack_require__(156);__webpack_require__(157);__webpack_require__(158);__webpack_require__(159);__webpack_require__(160);__webpack_require__(161);__webpack_require__(162);__webpack_require__(163);__webpack_require__(164);__webpack_require__(165);__webpack_require__(166);__webpack_require__(167);__webpack_require__(168);__webpack_require__(169);__webpack_require__(170);__webpack_require__(171);__webpack_require__(172);__webpack_require__(173);__webpack_require__(174);__webpack_require__(175);__webpack_require__(176);__webpack_require__(177);__webpack_require__(178);__webpack_require__(179);__webpack_require__(180);__webpack_require__(181);__webpack_require__(182);__webpack_require__(183);__webpack_require__(110);__webpack_require__(184);__webpack_require__(185);__webpack_require__(186);__webpack_require__(187);__webpack_require__(188);__webpack_require__(189);__webpack_require__(190);__webpack_require__(191);__webpack_require__(192);__webpack_require__(193);__webpack_require__(194);__webpack_require__(195);__webpack_require__(196);__webpack_require__(197);__webpack_require__(198);__webpack_require__(199);__webpack_require__(200);__webpack_require__(201);__webpack_require__(202);__webpack_require__(203);__webpack_require__(204);__webpack_require__(205);__webpack_require__(206);__webpack_require__(207);__webpack_require__(208);__webpack_require__(209);__webpack_require__(210);__webpack_require__(211);__webpack_require__(212);__webpack_require__(213);__webpack_require__(214);__webpack_require__(215);__webpack_require__(216);__webpack_require__(217);__webpack_require__(218);__webpack_require__(219);__webpack_require__(220);__webpack_require__(221);var _i18n=__webpack_require__(18);var _kibanaCore__=__webpack_require__(222);var injectedMetadata=JSON.parse(document.querySelector("kbn-injected-metadata").getAttribute("data"));_i18n.i18n.init(injectedMetadata.legacyMetadata.translations);new _kibanaCore__.CoreSystem({injectedMetadata:injectedMetadata,rootDomElement:document.body,requireLegacyFiles:function requireLegacyFiles(){__webpack_require__(6749)}}).start()},6749:function(module,exports,__webpack_require__){"use strict";var _chrome=__webpack_require__(9);var _chrome2=_interopRequireDefault(_chrome);var _routes=__webpack_require__(13);var _routes2=_interopRequireDefault(_routes);var _modules=__webpack_require__(3);__webpack_require__(6750);__webpack_require__(1089);__webpack_require__(1114);__webpack_require__(1115);__webpack_require__(1117);__webpack_require__(6766);__webpack_require__(489);__webpack_require__(488);__webpack_require__(6771);__webpack_require__(1927);__webpack_require__(1852);__webpack_require__(6805);__webpack_require__(7515);__webpack_require__(7529);__webpack_require__(1928);__webpack_require__(1921);__webpack_require__(1920);__webpack_require__(1929);__webpack_require__(788);__webpack_require__(1931);__webpack_require__(258);__webpack_require__(7613);__webpack_require__(7637);__webpack_require__(7660);__webpack_require__(1933);__webpack_require__(7683);__webpack_require__(7815);__webpack_require__(7818);__webpack_require__(7821);__webpack_require__(764);__webpack_require__(1977);__webpack_require__(420);__webpack_require__(1037);var _notify=__webpack_require__(11);__webpack_require__(287);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}_routes2.default.enable();_routes2.default.otherwise({redirectTo:"/"+_chrome2.default.getInjected("kbnDefaultAppId","discover")});_modules.uiModules.get("kibana").run(_notify.showAppRedirectNotification)},6750:function(module,exports,__webpack_require__){__webpack_require__(6751);__webpack_require__(6752);__webpack_require__(6753);__webpack_require__(6754);__webpack_require__(6755);__webpack_require__(6756);__webpack_require__(6758);__webpack_require__(6759);__webpack_require__(6760);__webpack_require__(6761);__webpack_require__(6762);__webpack_require__(6763);__webpack_require__(6764);__webpack_require__(6765)},6751:function(module,exports,__webpack_require__){"use strict";var _chrome=__webpack_require__(9);var _chrome2=_interopRequireDefault(_chrome);var _feature_catalogue=__webpack_require__(62);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}_chrome2.default.getInjected("apmUiEnabled")&&_feature_catalogue.FeatureCatalogueRegistryProvider.register(function(){return{id:"apm",title:"APM",description:"Automatically collect in-depth performance metrics and errors from inside your applications.",icon:"apmApp",path:"/app/apm",showOnHomePage:true,category:_feature_catalogue.FeatureCatalogueCategory.DATA}})},6752:function(module,exports,__webpack_require__){"use strict";var _feature_catalogue=__webpack_require__(62);_feature_catalogue.FeatureCatalogueRegistryProvider.register(function(){return{id:"canvas",title:"Canvas",description:"Showcase your data in a pixel-perfect way.",icon:"canvasApp",path:"/app/canvas",showOnHomePage:true,category:_feature_catalogue.FeatureCatalogueCategory.DATA}})},6753:function(module,exports,__webpack_require__){"use strict";var _feature_catalogue=__webpack_require__(62);_feature_catalogue.FeatureCatalogueRegistryProvider.register(function(){return{id:"graph",title:"Graph",description:"Surface and analyze relevant relationships in your Elasticsearch data.",icon:"graphApp",path:"/app/graph",showOnHomePage:true,category:_feature_catalogue.FeatureCatalogueCategory.DATA}})},6754:function(module,exports,__webpack_require__){"use strict";var _feature_catalogue=__webpack_require__(62);_feature_catalogue.FeatureCatalogueRegistryProvider.register(function(){return{id:"grokdebugger",title:"Grok Debugger",description:"Simulate and debug grok patterns for data transformation on ingestion.",icon:"grokApp",path:"/app/kibana#/dev_tools/grokdebugger",showOnHomePage:false,category:_feature_catalogue.FeatureCatalogueCategory.ADMIN}})},6755:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var feature_catalogue_1=__webpack_require__(62);var APP_ID="infra";feature_catalogue_1.FeatureCatalogueRegistryProvider.register(function(){return{id:"infraops",title:"Infrastructure",description:"Explore infrastructure metrics and logs for common servers, containers, and services.",icon:"infraApp",path:"/app/"+APP_ID+"#home",showOnHomePage:true,category:feature_catalogue_1.FeatureCatalogueCategory.DATA}});feature_catalogue_1.FeatureCatalogueRegistryProvider.register(function(){return{id:"infralogging",title:"Logs",description:"Stream logs in real time or scroll through historical views in a console-like experience.",icon:"loggingApp",path:"/app/"+APP_ID+"#logs",showOnHomePage:true,category:feature_catalogue_1.FeatureCatalogueCategory.DATA}})},6756:function(module,exports,__webpack_require__){"use strict";__webpack_require__(6757)},6757:function(module,exports,__webpack_require__){"use strict";var _feature_catalogue=__webpack_require__(62);_feature_catalogue.FeatureCatalogueRegistryProvider.register(function($injector){var licenseService=$injector.get("logstashLicenseService");if(!licenseService.enableLinks)return;return{id:"management_logstash",title:"Logstash Pipelines",description:"Create, delete, update, and clone data ingestion pipelines.",icon:"pipelineApp",path:"/app/kibana#/management/logstash/pipelines",showOnHomePage:true,category:_feature_catalogue.FeatureCatalogueCategory.ADMIN}})},6758:function(module,exports,__webpack_require__){"use strict";var _feature_catalogue=__webpack_require__(62);_feature_catalogue.FeatureCatalogueRegistryProvider.register(function(){return{id:"ml",title:"Machine Learning",description:"Automatically model the normal behavior of your time series data to detect anomalies.",icon:"machineLearningApp",path:"/app/ml",showOnHomePage:true,category:_feature_catalogue.FeatureCatalogueCategory.DATA}})},6759:function(module,exports,__webpack_require__){"use strict";var _chrome=__webpack_require__(9);var _chrome2=_interopRequireDefault(_chrome);var _feature_catalogue=__webpack_require__(62);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}_chrome2.default.getInjected("monitoringUiEnabled")&&_feature_catalogue.FeatureCatalogueRegistryProvider.register(function(){return{id:"monitoring",title:"Monitoring",description:"Track the real-time health and performance of your Elastic Stack.",icon:"monitoringApp",path:"/app/monitoring",showOnHomePage:true,category:_feature_catalogue.FeatureCatalogueCategory.ADMIN}})},6760:function(module,exports,__webpack_require__){"use strict";var _feature_catalogue=__webpack_require__(62);_feature_catalogue.FeatureCatalogueRegistryProvider.register(function(){return{id:"reporting",title:"Reporting",description:"Manage your reports generated from Discover, Visualize, and Dashboard.",icon:"reportingApp",path:"/app/kibana#/management/kibana/reporting",showOnHomePage:false,category:_feature_catalogue.FeatureCatalogueCategory.ADMIN}})},6761:function(module,exports,__webpack_require__){"use strict";var _feature_catalogue=__webpack_require__(62);_feature_catalogue.FeatureCatalogueRegistryProvider.register(function(){return{id:"searchprofiler",title:"Search Profiler",description:"Quickly check the performance of any Elasticsearch query.",icon:"searchProfilerApp",path:"/app/kibana#/dev_tools/searchprofiler",showOnHomePage:false,category:_feature_catalogue.FeatureCatalogueCategory.ADMIN}})},6762:function(module,exports,__webpack_require__){"use strict";var _feature_catalogue=__webpack_require__(62);_feature_catalogue.FeatureCatalogueRegistryProvider.register(function(){return{id:"security",title:"Security Settings",description:"Protect your data and easily manage who has access to what with users and roles.",icon:"securityApp",path:"/app/kibana#/management/security",showOnHomePage:true,category:_feature_catalogue.FeatureCatalogueCategory.ADMIN}})},6763:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var feature_catalogue_1=__webpack_require__(62);var constants_1=__webpack_require__(995);feature_catalogue_1.FeatureCatalogueRegistryProvider.register(function(){return{id:"spaces",title:"Spaces",description:constants_1.SPACES_FEATURE_DESCRIPTION,icon:"spacesApp",path:"/app/kibana#/management/spaces/list",showOnHomePage:true,category:feature_catalogue_1.FeatureCatalogueCategory.ADMIN}})},6764:function(module,exports,__webpack_require__){"use strict";var _feature_catalogue=__webpack_require__(62);_feature_catalogue.FeatureCatalogueRegistryProvider.register(function(){return{id:"timelion",title:"Timelion",description:"Use an expression language to analyze time series data and visualize the results.",icon:"timelionApp",path:"/app/timelion",showOnHomePage:false,category:_feature_catalogue.FeatureCatalogueCategory.DATA}})},6765:function(module,exports,__webpack_require__){"use strict";var _feature_catalogue=__webpack_require__(62);_feature_catalogue.FeatureCatalogueRegistryProvider.register(function(){return{id:"watcher",title:"Watcher",description:"Detect changes in your data by creating, managing, and monitoring alerts.",icon:"watchesApp",path:"/app/kibana#/management/elasticsearch/watcher/watches",showOnHomePage:true,category:_feature_catalogue.FeatureCatalogueCategory.ADMIN}})},6766:function(module,exports,__webpack_require__){__webpack_require__(6767)},6767:function(module,exports,__webpack_require__){"use strict";var _chrome=__webpack_require__(9);var _chrome2=_interopRequireDefault(_chrome);var _agg_type_filter=__webpack_require__(6768);var _agg_type_field_filter=__webpack_require__(6769);var _editor_config=__webpack_require__(6770);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var uiSettings=_chrome2.default.getUiSettingsClient();var isRollupIndexPatternsEnabled=uiSettings.get("rollups:enableIndexPatterns");if(isRollupIndexPatternsEnabled){(0,_agg_type_filter.initAggTypeFilter)();(0,_agg_type_field_filter.initAggTypeFieldFilter)();(0,_editor_config.initEditorConfig)()}},6768:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.initAggTypeFilter=initAggTypeFilter;var _filter=__webpack_require__(1118);function initAggTypeFilter(){_filter.aggTypeFilters.addFilter(function(aggType,indexPattern){if("rollup"!==indexPattern.type)return true;var aggName=aggType.name;var aggs=indexPattern.typeMeta&&indexPattern.typeMeta.aggs;return"count"===aggName||Object.keys(aggs).includes(aggName)})}},6769:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.initAggTypeFieldFilter=initAggTypeFieldFilter;var _filter=__webpack_require__(1021);function initAggTypeFieldFilter(){_filter.aggTypeFieldFilters.addFilter(function(field,fieldParamType,aggConfig){var indexPattern=aggConfig.getIndexPattern();if(!indexPattern||"rollup"!==indexPattern.type)return true;var aggName=aggConfig.type&&aggConfig.type.name;var aggFields=indexPattern.typeMeta&&indexPattern.typeMeta.aggs&&indexPattern.typeMeta.aggs[aggName];return aggFields&&aggFields[field.name]})}},6770:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.initEditorConfig=initEditorConfig;var _editor_config_providers=__webpack_require__(1916);function initEditorConfig(){_editor_config_providers.editorConfigProviders.register(function(aggType,indexPattern,aggConfig){if("rollup"!==indexPattern.type)return{};var aggTypeName=aggConfig.type&&aggConfig.type.name;if("terms"===aggTypeName)return{otherBucket:{hidden:true},missingBucket:{hidden:true},orderBy:{fixedValue:"_key",hidden:true},orderAgg:{hidden:true}};var rollupAggs=indexPattern.typeMeta&&indexPattern.typeMeta.aggs;var field=aggConfig.params&&aggConfig.params.field&&aggConfig.params.field.name;var fieldAgg=rollupAggs&&field&&rollupAggs[aggTypeName]&&rollupAggs[aggTypeName][field];if(!rollupAggs||!field||!fieldAgg)return{};if("histogram"===aggTypeName){var interval=fieldAgg.interval;return interval?{intervalBase:{fixedValue:interval},interval:{base:interval,help:"Must be a multiple of rollup configuration interval: "+interval}}:{}}if("date_histogram"===aggTypeName){var timezone=fieldAgg.time_zone||"UTC";var _interval=fieldAgg.interval;return{time_zone:{fixedValue:timezone},interval:{fixedValue:"custom"},useNormalizedEsInterval:{fixedValue:false},customInterval:{default:_interval,timeBase:_interval,help:"Must be a multiple of rollup configuration interval: "+_interval}}}return{}})}},6771:function(module,exports,__webpack_require__){__webpack_require__(6772)},6772:function(module,exports,__webpack_require__){"use strict";var _field_format_editors=__webpack_require__(2185);var _bytes=__webpack_require__(6773);var _color=__webpack_require__(6779);var _date=__webpack_require__(6781);var _duration=__webpack_require__(6783);var _number=__webpack_require__(1250);var _percent=__webpack_require__(6785);var _static_lookup=__webpack_require__(6787);var _string=__webpack_require__(6789);var _truncate=__webpack_require__(6791);var _url=__webpack_require__(6794);_field_format_editors.RegistryFieldFormatEditorsProvider.register(function(){return _bytes.BytesFormatEditor});_field_format_editors.RegistryFieldFormatEditorsProvider.register(function(){return _color.ColorFormatEditor});_field_format_editors.RegistryFieldFormatEditorsProvider.register(function(){return _date.DateFormatEditor});_field_format_editors.RegistryFieldFormatEditorsProvider.register(function(){return _duration.DurationFormatEditor});_field_format_editors.RegistryFieldFormatEditorsProvider.register(function(){return _number.NumberFormatEditor});_field_format_editors.RegistryFieldFormatEditorsProvider.register(function(){return _percent.PercentFormatEditor});_field_format_editors.RegistryFieldFormatEditorsProvider.register(function(){return _static_lookup.StaticLookupFormatEditor});_field_format_editors.RegistryFieldFormatEditorsProvider.register(function(){return _string.StringFormatEditor});_field_format_editors.RegistryFieldFormatEditorsProvider.register(function(){return _truncate.TruncateFormatEditor});_field_format_editors.RegistryFieldFormatEditorsProvider.register(function(){return _url.UrlFormatEditor})},6773:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _bytes=__webpack_require__(6774);Object.defineProperty(exports,"BytesFormatEditor",{enumerable:true,get:function get(){return _bytes.BytesFormatEditor}})},6774:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.BytesFormatEditor=void 0;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};var _number=__webpack_require__(1250);function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var BytesFormatEditor=exports.BytesFormatEditor=function(_NumberFormatEditor){_inherits(BytesFormatEditor,_NumberFormatEditor);function BytesFormatEditor(props){_classCallCheck(this,BytesFormatEditor);var _this=_possibleConstructorReturn(this,(BytesFormatEditor.__proto__||Object.getPrototypeOf(BytesFormatEditor)).call(this,props));_this.state=_extends({},_this.state,{sampleInputs:[256,1024,515e4,199e7]});return _this}return BytesFormatEditor}(_number.NumberFormatEditor);BytesFormatEditor.formatId="bytes"},6775:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.NumberFormatEditor=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _eui=__webpack_require__(2);var _default=__webpack_require__(389);var _samples=__webpack_require__(537);var _react3=__webpack_require__(10);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var NumberFormatEditor=exports.NumberFormatEditor=function(_DefaultFormatEditor){_inherits(NumberFormatEditor,_DefaultFormatEditor);function NumberFormatEditor(props){_classCallCheck(this,NumberFormatEditor);var _this=_possibleConstructorReturn(this,(NumberFormatEditor.__proto__||Object.getPrototypeOf(NumberFormatEditor)).call(this,props));_this.state.sampleInputs=[1e4,12.345678,-1,-999,.52];return _this}_createClass(NumberFormatEditor,[{key:"render",value:function render(){var _this2=this;var _props=this.props,format=_props.format,formatParams=_props.formatParams;var _state=this.state,error=_state.error,samples=_state.samples;var defaultPattern=format.getParamDefaults().pattern;return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_eui.EuiFormRow,{label:_react2.default.createElement(_react3.FormattedMessage,{id:"common.ui.fieldEditor.number.numeralLabel",defaultMessage:"Numeral.js format pattern (Default: {defaultPattern})",values:{defaultPattern:_react2.default.createElement(_eui.EuiCode,null,defaultPattern)}}),helpText:_react2.default.createElement("span",null,_react2.default.createElement(_eui.EuiLink,{target:"_window",href:"https://adamwdraper.github.io/Numeral-js/"},_react2.default.createElement(_react3.FormattedMessage,{id:"common.ui.fieldEditor.number.documentaionLabel",defaultMessage:"Documentation"}),"",_react2.default.createElement(_eui.EuiIcon,{type:"link"}))),isInvalid:!!error,error:error},_react2.default.createElement(_eui.EuiFieldText,{value:formatParams.pattern,placeholder:defaultPattern,onChange:function onChange(e){_this2.onChange({pattern:e.target.value})},isInvalid:!!error})),_react2.default.createElement(_samples.FormatEditorSamples,{samples:samples}))}}]);return NumberFormatEditor}(_default.DefaultFormatEditor);NumberFormatEditor.formatId="number"},6776:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.DefaultFormatEditor=exports.convertSampleInput=void 0;var _typeof="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"===typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _propTypes=__webpack_require__(6);var _propTypes2=_interopRequireDefault(_propTypes);var _i18n=__webpack_require__(18);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var convertSampleInput=exports.convertSampleInput=function convertSampleInput(converter,inputs){var error=null;var samples=[];try{samples=inputs.map(function(input){return{input:input,output:converter(input)}})}catch(e){error=_i18n.i18n.translate("common.ui.fieldEditor.defaultErrorMessage",{defaultMessage:"An error occurred while trying to use this format configuration: {message}",values:{message:e.message}})}return{error:error,samples:samples}};var DefaultFormatEditor=exports.DefaultFormatEditor=function(_PureComponent){_inherits(DefaultFormatEditor,_PureComponent);function DefaultFormatEditor(props){_classCallCheck(this,DefaultFormatEditor);var _this=_possibleConstructorReturn(this,(DefaultFormatEditor.__proto__||Object.getPrototypeOf(DefaultFormatEditor)).call(this,props));_this.onChange=function(){var newParams=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var _this$props=_this.props,onChange=_this$props.onChange,formatParams=_this$props.formatParams;onChange(_extends({},formatParams,newParams))};_this.state={sampleInputs:[],sampleConverterType:"text",error:null,samples:[]};return _this}_createClass(DefaultFormatEditor,[{key:"render",value:function render(){return null}}],[{key:"getDerivedStateFromProps",value:function getDerivedStateFromProps(nextProps,state){var format=nextProps.format,formatParams=nextProps.formatParams,onError=nextProps.onError;var sampleInputsByType=state.sampleInputsByType,sampleInputs=state.sampleInputs,sampleConverterType=state.sampleConverterType;var converter=format.getConverterFor(sampleConverterType);var type="object"===("undefined"===typeof sampleInputsByType?"undefined":_typeof(sampleInputsByType))&&formatParams.type;var inputs=type?sampleInputsByType[formatParams.type]||[]:sampleInputs;var output=convertSampleInput(converter,inputs);onError(output.error);return output}}]);return DefaultFormatEditor}(_react.PureComponent);DefaultFormatEditor.propTypes={fieldType:_propTypes2.default.string.isRequired,format:_propTypes2.default.object.isRequired,formatParams:_propTypes2.default.object.isRequired,onChange:_propTypes2.default.func.isRequired,onError:_propTypes2.default.func.isRequired}},6777:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.FormatEditorSamples=exports.FormatEditorSamplesComponent=void 0;var _typeof="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"===typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(6);var _propTypes2=_interopRequireDefault(_propTypes);var _eui=__webpack_require__(2);__webpack_require__(6778);var _react3=__webpack_require__(10);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var FormatEditorSamplesComponent=exports.FormatEditorSamplesComponent=function(_PureComponent){_inherits(FormatEditorSamplesComponent,_PureComponent);function FormatEditorSamplesComponent(){_classCallCheck(this,FormatEditorSamplesComponent);return _possibleConstructorReturn(this,(FormatEditorSamplesComponent.__proto__||Object.getPrototypeOf(FormatEditorSamplesComponent)).apply(this,arguments))}_createClass(FormatEditorSamplesComponent,[{key:"render",value:function render(){var _props=this.props,samples=_props.samples,intl=_props.intl;var columns=[{field:"input",name:intl.formatMessage({id:"common.ui.fieldEditor.samples.inputHeader",defaultMessage:"Input"}),render:function render(input){return"object"===("undefined"===typeof input?"undefined":_typeof(input))?JSON.stringify(input):input}},{field:"output",name:intl.formatMessage({id:"common.ui.fieldEditor.samples.outputHeader",defaultMessage:"Output"}),render:function render(output){return _react2.default.createElement("div",{dangerouslySetInnerHTML:{__html:output}})}}];return samples.length?_react2.default.createElement(_eui.EuiFormRow,{label:_react2.default.createElement(_react3.FormattedMessage,{id:"common.ui.fieldEditor.samplesHeader",defaultMessage:"Samples"})},_react2.default.createElement(_eui.EuiBasicTable,{className:"fieldFormatEditor__samples",compressed:true,items:samples,columns:columns})):null}}]);return FormatEditorSamplesComponent}(_react.PureComponent);FormatEditorSamplesComponent.propTypes={samples:_propTypes2.default.arrayOf(_propTypes2.default.shape({input:_propTypes2.default.any.isRequired,output:_propTypes2.default.any.isRequired})).isRequired};exports.FormatEditorSamples=(0,_react3.injectI18n)(FormatEditorSamplesComponent)},6778:function(module,exports){},6779:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _color=__webpack_require__(6780);Object.defineProperty(exports,"ColorFormatEditor",{enumerable:true,get:function get(){return _color.ColorFormatEditor}})},6780:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ColorFormatEditor=exports.ColorFormatEditorComponent=void 0;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _eui=__webpack_require__(2);var _default=__webpack_require__(389);var _color_default=__webpack_require__(1629);var _react3=__webpack_require__(10);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}return Array.from(arr)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var ColorFormatEditorComponent=exports.ColorFormatEditorComponent=function(_DefaultFormatEditor){_inherits(ColorFormatEditorComponent,_DefaultFormatEditor);function ColorFormatEditorComponent(props){_classCallCheck(this,ColorFormatEditorComponent);var _this=_possibleConstructorReturn(this,(ColorFormatEditorComponent.__proto__||Object.getPrototypeOf(ColorFormatEditorComponent)).call(this,props));_this.onColorChange=function(newColorParams,index){var colors=[].concat(_toConsumableArray(_this.props.formatParams.colors));colors[index]=_extends({},colors[index],newColorParams);_this.onChange({colors:colors})};_this.addColor=function(){var colors=[].concat(_toConsumableArray(_this.props.formatParams.colors));_this.onChange({colors:[].concat(_toConsumableArray(colors),[_extends({},_color_default.DEFAULT_COLOR)])})};_this.removeColor=function(index){var colors=[].concat(_toConsumableArray(_this.props.formatParams.colors));colors.splice(index,1);_this.onChange({colors:colors})};_this.onChange({fieldType:props.fieldType});return _this}_createClass(ColorFormatEditorComponent,[{key:"render",value:function render(){var _this2=this;var _props=this.props,formatParams=_props.formatParams,fieldType=_props.fieldType,intl=_props.intl;var items=formatParams.colors&&formatParams.colors.length&&formatParams.colors.map(function(color,index){return _extends({},color,{index:index})})||[];var columns=["string"===fieldType?{field:"regex",name:intl.formatMessage({id:"common.ui.fieldEditor.color.patternLabel",defaultMessage:"Pattern (regular expression)"}),render:function render(value,item){return _react2.default.createElement(_eui.EuiFieldText,{value:value,onChange:function onChange(e){_this2.onColorChange({regex:e.target.value},item.index)}})}}:{field:"range",name:intl.formatMessage({id:"common.ui.fieldEditor.color.rangeLabel",defaultMessage:"Range (min:max)"}),render:function render(value,item){return _react2.default.createElement(_eui.EuiFieldText,{value:value,onChange:function onChange(e){_this2.onColorChange({range:e.target.value},item.index)}})}},{field:"text",name:intl.formatMessage({id:"common.ui.fieldEditor.color.textColorLabel",defaultMessage:"Text color"}),render:function render(color,item){return _react2.default.createElement(_eui.EuiColorPicker,{color:color,onChange:function onChange(newColor){_this2.onColorChange({text:newColor},item.index)}})}},{field:"background",name:intl.formatMessage({id:"common.ui.fieldEditor.color.backgroundLabel",defaultMessage:"Background color"}),render:function render(color,item){return _react2.default.createElement(_eui.EuiColorPicker,{color:color,onChange:function onChange(newColor){_this2.onColorChange({background:newColor},item.index)}})}},{name:intl.formatMessage({id:"common.ui.fieldEditor.color.exampleLabel",defaultMessage:"Example"}),render:function render(item){return _react2.default.createElement("div",{style:{background:item.background,color:item.text}},"123456")}},{actions:[{name:intl.formatMessage({id:"common.ui.fieldEditor.color.deleteAria",defaultMessage:"Delete"}),description:intl.formatMessage({id:"common.ui.fieldEditor.color.deleteTitle",defaultMessage:"Delete color format"}),onClick:function onClick(item){_this2.removeColor(item.index)},type:"icon",icon:"trash",color:"danger",available:function available(){return items.length>1}}]}];return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_eui.EuiBasicTable,{items:items,columns:columns}),_react2.default.createElement(_eui.EuiSpacer,{size:"m"}),_react2.default.createElement(_eui.EuiButton,{iconType:"plusInCircle",size:"s",onClick:this.addColor},_react2.default.createElement(_react3.FormattedMessage,{id:"common.ui.fieldEditor.color.addColorButton",defaultMessage:"Add color"})),_react2.default.createElement(_eui.EuiSpacer,{size:"l"}))}}]);return ColorFormatEditorComponent}(_default.DefaultFormatEditor);var ColorFormatEditor=exports.ColorFormatEditor=(0,_react3.injectI18n)(ColorFormatEditorComponent);ColorFormatEditor.formatId="color"},6781:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _date=__webpack_require__(6782);Object.defineProperty(exports,"DateFormatEditor",{enumerable:true,get:function get(){return _date.DateFormatEditor}})},6782:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.DateFormatEditor=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _moment=__webpack_require__(12);var _moment2=_interopRequireDefault(_moment);var _eui=__webpack_require__(2);var _default=__webpack_require__(389);var _samples=__webpack_require__(537);var _react3=__webpack_require__(10);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var DateFormatEditor=exports.DateFormatEditor=function(_DefaultFormatEditor){_inherits(DateFormatEditor,_DefaultFormatEditor);function DateFormatEditor(props){_classCallCheck(this,DateFormatEditor);var _this=_possibleConstructorReturn(this,(DateFormatEditor.__proto__||Object.getPrototypeOf(DateFormatEditor)).call(this,props));_this.state.sampleInputs=[Date.now(),(0,_moment2.default)().startOf("year").valueOf(),(0,_moment2.default)().endOf("year").valueOf()];return _this}_createClass(DateFormatEditor,[{key:"render",value:function render(){var _this2=this;var _props=this.props,format=_props.format,formatParams=_props.formatParams;var _state=this.state,error=_state.error,samples=_state.samples;var defaultPattern=format.getParamDefaults().pattern;return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_eui.EuiFormRow,{label:_react2.default.createElement(_react3.FormattedMessage,{id:"common.ui.fieldEditor.date.momentLabel",defaultMessage:"Moment.js format pattern (Default: {defaultPattern})",values:{defaultPattern:_react2.default.createElement(_eui.EuiCode,null,defaultPattern)}}),isInvalid:!!error,error:error,helpText:_react2.default.createElement("span",null,_react2.default.createElement(_eui.EuiLink,{target:"_window",href:"http://momentjs.com/"},_react2.default.createElement(_react3.FormattedMessage,{id:"common.ui.fieldEditor.date.documentationLabel",defaultMessage:"Documentation"}),"",_react2.default.createElement(_eui.EuiIcon,{type:"link"})))},_react2.default.createElement(_eui.EuiFieldText,{"data-test-subj":"dateEditorPattern",value:formatParams.pattern,placeholder:defaultPattern,onChange:function onChange(e){_this2.onChange({pattern:e.target.value})},isInvalid:!!error})),_react2.default.createElement(_samples.FormatEditorSamples,{samples:samples}))}}]);return DateFormatEditor}(_default.DefaultFormatEditor);DateFormatEditor.formatId="date"},6783:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _duration=__webpack_require__(6784);Object.defineProperty(exports,"DurationFormatEditor",{enumerable:true,get:function get(){return _duration.DurationFormatEditor}})},6784:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.DurationFormatEditor=void 0;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _get=function get(object,property,receiver){null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0===desc){var parent=Object.getPrototypeOf(object);return null===parent?void 0:get(parent,property,receiver)}if("value"in desc)return desc.value;var getter=desc.get;if(void 0===getter)return;return getter.call(receiver)};var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _eui=__webpack_require__(2);var _default=__webpack_require__(389);var _samples=__webpack_require__(537);var _react3=__webpack_require__(10);var _i18n=__webpack_require__(18);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var DurationFormatEditor=exports.DurationFormatEditor=function(_DefaultFormatEditor){_inherits(DurationFormatEditor,_DefaultFormatEditor);function DurationFormatEditor(props){_classCallCheck(this,DurationFormatEditor);var _this=_possibleConstructorReturn(this,(DurationFormatEditor.__proto__||Object.getPrototypeOf(DurationFormatEditor)).call(this,props));_this.state.sampleInputs=[-123,1,12,123,658,1988,3857,123292,923528271];_this.state.hasDecimalError=false;return _this}_createClass(DurationFormatEditor,[{key:"render",value:function render(){var _this2=this;var _props=this.props,format=_props.format,formatParams=_props.formatParams;var _state=this.state,error=_state.error,samples=_state.samples,hasDecimalError=_state.hasDecimalError;return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_eui.EuiFormRow,{label:_react2.default.createElement(_react3.FormattedMessage,{id:"common.ui.fieldEditor.duration.inputFormatLabel",defaultMessage:"Input format"}),isInvalid:!!error,error:hasDecimalError?null:error},_react2.default.createElement(_eui.EuiSelect,{value:formatParams.inputFormat,options:format.type.inputFormats.map(function(format){return{value:format.kind,text:format.text}}),onChange:function onChange(e){_this2.onChange({inputFormat:e.target.value})},isInvalid:!!error})),_react2.default.createElement(_eui.EuiFormRow,{label:_react2.default.createElement(_react3.FormattedMessage,{id:"common.ui.fieldEditor.duration.outputFormatLabel",defaultMessage:"Output format"}),isInvalid:!!error},_react2.default.createElement(_eui.EuiSelect,{value:formatParams.outputFormat,options:format.type.outputFormats.map(function(format){return{value:format.method,text:format.text}}),onChange:function onChange(e){_this2.onChange({outputFormat:e.target.value})},isInvalid:!!error})),format.isHuman()?null:_react2.default.createElement(_eui.EuiFormRow,{label:_react2.default.createElement(_react3.FormattedMessage,{id:"common.ui.fieldEditor.duration.decimalPlacesLabel",defaultMessage:"Decimal places"}),isInvalid:!!error,error:hasDecimalError?error:null},_react2.default.createElement(_eui.EuiFieldNumber,{value:formatParams.outputPrecision,min:0,max:20,onChange:function onChange(e){_this2.onChange({outputPrecision:e.target.value?Number(e.target.value):null})},isInvalid:!!error})),_react2.default.createElement(_samples.FormatEditorSamples,{samples:samples}))}}],[{key:"getDerivedStateFromProps",value:function getDerivedStateFromProps(nextProps,state){var output=_get(DurationFormatEditor.__proto__||Object.getPrototypeOf(DurationFormatEditor),"getDerivedStateFromProps",this).call(this,nextProps,state);var error=null;if(!nextProps.format.isHuman()&&nextProps.formatParams.outputPrecision>20){error=_i18n.i18n.translate("common.ui.fieldEditor.durationErrorMessage",{defaultMessage:"Decimal places must be between 0 and 20"});nextProps.onError(error);return _extends({},output,{error:error,hasDecimalError:true})}return _extends({},output,{hasDecimalError:false})}}]);return DurationFormatEditor}(_default.DefaultFormatEditor);DurationFormatEditor.formatId="duration"},6785:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _percent=__webpack_require__(6786);Object.defineProperty(exports,"PercentFormatEditor",{enumerable:true,get:function get(){return _percent.PercentFormatEditor}})},6786:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.PercentFormatEditor=void 0;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};var _number=__webpack_require__(1250);function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var PercentFormatEditor=exports.PercentFormatEditor=function(_NumberFormatEditor){_inherits(PercentFormatEditor,_NumberFormatEditor);function PercentFormatEditor(props){_classCallCheck(this,PercentFormatEditor);var _this=_possibleConstructorReturn(this,(PercentFormatEditor.__proto__||Object.getPrototypeOf(PercentFormatEditor)).call(this,props));_this.state=_extends({},_this.state,{sampleInputs:[.1,.99999,1,100,1e3]});return _this}return PercentFormatEditor}(_number.NumberFormatEditor);PercentFormatEditor.formatId="percent"},6787:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _static_lookup=__webpack_require__(6788);Object.defineProperty(exports,"StaticLookupFormatEditor",{enumerable:true,get:function get(){return _static_lookup.StaticLookupFormatEditor}})},6788:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.StaticLookupFormatEditor=exports.StaticLookupFormatEditorComponent=void 0;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _eui=__webpack_require__(2);var _default=__webpack_require__(389);var _react3=__webpack_require__(10);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}return Array.from(arr)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var StaticLookupFormatEditorComponent=exports.StaticLookupFormatEditorComponent=function(_DefaultFormatEditor){_inherits(StaticLookupFormatEditorComponent,_DefaultFormatEditor);function StaticLookupFormatEditorComponent(){var _ref;var _temp,_this,_ret;_classCallCheck(this,StaticLookupFormatEditorComponent);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _ret=(_temp=(_this=_possibleConstructorReturn(this,(_ref=StaticLookupFormatEditorComponent.__proto__||Object.getPrototypeOf(StaticLookupFormatEditorComponent)).call.apply(_ref,[this].concat(args))),_this),_this.onLookupChange=function(newLookupParams,index){var lookupEntries=[].concat(_toConsumableArray(_this.props.formatParams.lookupEntries));lookupEntries[index]=_extends({},lookupEntries[index],newLookupParams);_this.onChange({lookupEntries:lookupEntries})},_this.addLookup=function(){var lookupEntries=[].concat(_toConsumableArray(_this.props.formatParams.lookupEntries));_this.onChange({lookupEntries:[].concat(_toConsumableArray(lookupEntries),[{}])})},_this.removeLookup=function(index){var lookupEntries=[].concat(_toConsumableArray(_this.props.formatParams.lookupEntries));lookupEntries.splice(index,1);_this.onChange({lookupEntries:lookupEntries})},_temp),_possibleConstructorReturn(_this,_ret)}_createClass(StaticLookupFormatEditorComponent,[{key:"render",value:function render(){var _this2=this;var _props=this.props,formatParams=_props.formatParams,intl=_props.intl;var items=formatParams.lookupEntries&&formatParams.lookupEntries.length&&formatParams.lookupEntries.map(function(lookup,index){return _extends({},lookup,{index:index})})||[];var columns=[{field:"key",name:intl.formatMessage({id:"common.ui.fieldEditor.staticLookup.keyLabel",defaultMessage:"Key"}),render:function render(value,item){return _react2.default.createElement(_eui.EuiFieldText,{value:value||"",onChange:function onChange(e){_this2.onLookupChange({key:e.target.value},item.index)}})}},{field:"value",name:intl.formatMessage({id:"common.ui.fieldEditor.staticLookup.valueLabel",defaultMessage:"Value"}),render:function render(value,item){return _react2.default.createElement(_eui.EuiFieldText,{value:value||"",onChange:function onChange(e){_this2.onLookupChange({value:e.target.value},item.index)}})}},{actions:[{name:intl.formatMessage({id:"common.ui.fieldEditor.staticLookup.deleteAria",defaultMessage:"Delete"}),description:intl.formatMessage({id:"common.ui.fieldEditor.staticLookup.deleteTitle",defaultMessage:"Delete entry"}),onClick:function onClick(item){_this2.removeLookup(item.index)},type:"icon",icon:"trash",color:"danger",available:function available(){return items.length>1}}],width:"30px"}];return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_eui.EuiBasicTable,{items:items,columns:columns,style:{maxWidth:"400px"}}),_react2.default.createElement(_eui.EuiSpacer,{size:"m"}),_react2.default.createElement(_eui.EuiButton,{iconType:"plusInCircle",size:"s",onClick:this.addLookup},_react2.default.createElement(_react3.FormattedMessage,{id:"common.ui.fieldEditor.staticLookup.addEntryButton",defaultMessage:"Add entry"})),_react2.default.createElement(_eui.EuiSpacer,{size:"l"}),_react2.default.createElement(_eui.EuiFormRow,{label:_react2.default.createElement(_react3.FormattedMessage,{id:"common.ui.fieldEditor.staticLookup.unknownKeyLabel",defaultMessage:"Value for unknown key"})},_react2.default.createElement(_eui.EuiFieldText,{value:formatParams.unknownKeyValue||"",placeholder:intl.formatMessage({id:"common.ui.fieldEditor.staticLookup.leaveBlankPlaceholder",defaultMessage:"Leave blank to keep value as-is"}),onChange:function onChange(e){_this2.onChange({unknownKeyValue:e.target.value})}})),_react2.default.createElement(_eui.EuiSpacer,{size:"m"}))}}]);return StaticLookupFormatEditorComponent}(_default.DefaultFormatEditor);var StaticLookupFormatEditor=exports.StaticLookupFormatEditor=(0,_react3.injectI18n)(StaticLookupFormatEditorComponent);StaticLookupFormatEditor.formatId="static_lookup"},6789:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _string=__webpack_require__(6790);Object.defineProperty(exports,"StringFormatEditor",{enumerable:true,get:function get(){return _string.StringFormatEditor}})},6790:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.StringFormatEditor=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _eui=__webpack_require__(2);var _default=__webpack_require__(389);var _samples=__webpack_require__(537);var _react3=__webpack_require__(10);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var StringFormatEditor=exports.StringFormatEditor=function(_DefaultFormatEditor){_inherits(StringFormatEditor,_DefaultFormatEditor);function StringFormatEditor(props){_classCallCheck(this,StringFormatEditor);var _this=_possibleConstructorReturn(this,(StringFormatEditor.__proto__||Object.getPrototypeOf(StringFormatEditor)).call(this,props));_this.state.sampleInputs=["A Quick Brown Fox.","STAY CALM!","com.organizations.project.ClassName","hostname.net","SGVsbG8gd29ybGQ="];return _this}_createClass(StringFormatEditor,[{key:"render",value:function render(){var _this2=this;var _props=this.props,format=_props.format,formatParams=_props.formatParams;var _state=this.state,error=_state.error,samples=_state.samples;return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_eui.EuiFormRow,{label:_react2.default.createElement(_react3.FormattedMessage,{id:"common.ui.fieldEditor.string.transformLabel",defaultMessage:"Transform"}),isInvalid:!!error,error:error},_react2.default.createElement(_eui.EuiSelect,{"data-test-subj":"stringEditorTransform",defaultValue:formatParams.transform,options:format.type.transformOptions.map(function(option){return{value:option.kind,text:option.text}}),onChange:function onChange(e){_this2.onChange({transform:e.target.value})},isInvalid:!!error})),_react2.default.createElement(_samples.FormatEditorSamples,{samples:samples}))}}]);return StringFormatEditor}(_default.DefaultFormatEditor);StringFormatEditor.formatId="string"},6791:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _truncate=__webpack_require__(6792);Object.defineProperty(exports,"TruncateFormatEditor",{enumerable:true,get:function get(){return _truncate.TruncateFormatEditor}})},6792:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.TruncateFormatEditor=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _eui=__webpack_require__(2);var _default=__webpack_require__(389);var _samples=__webpack_require__(537);var _sample=__webpack_require__(6793);var _react3=__webpack_require__(10);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var TruncateFormatEditor=exports.TruncateFormatEditor=function(_DefaultFormatEditor){_inherits(TruncateFormatEditor,_DefaultFormatEditor);function TruncateFormatEditor(props){_classCallCheck(this,TruncateFormatEditor);var _this=_possibleConstructorReturn(this,(TruncateFormatEditor.__proto__||Object.getPrototypeOf(TruncateFormatEditor)).call(this,props));_this.state.sampleInputs=[_sample.sample];return _this}_createClass(TruncateFormatEditor,[{key:"render",value:function render(){var _this2=this;var formatParams=this.props.formatParams;var _state=this.state,error=_state.error,samples=_state.samples;return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_eui.EuiFormRow,{label:_react2.default.createElement(_react3.FormattedMessage,{id:"common.ui.fieldEditor.truncate.lengthLabel",defaultMessage:"Field length"}),isInvalid:!!error,error:error},_react2.default.createElement(_eui.EuiFieldNumber,{defaultValue:formatParams.fieldLength,onChange:function onChange(e){_this2.onChange({fieldLength:e.target.value?Number(e.target.value):null})},isInvalid:!!error})),_react2.default.createElement(_samples.FormatEditorSamples,{samples:samples}))}}]);return TruncateFormatEditor}(_default.DefaultFormatEditor);TruncateFormatEditor.formatId="truncate"},6793:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.sample="Lorem ipsum dolor sit amet, consectetur adipiscing elit. Mauris vitae sem consequat, sollicitudin enim a, feugiat mi. Curabitur congue laoreet elit, eu dictum nisi commodo ut. Nullam congue sem a blandit commodo. Suspendisse eleifend sodales leo ac hendrerit. Nam fringilla tempor fermentum. Ut tristique pharetra sapien sit amet pharetra. Ut turpis massa, viverra id erat quis, fringilla vehicula risus. Cum sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Phasellus tincidunt gravida gravida. Praesent et ligula viverra, semper lacus in, tristique elit. Cras ac eleifend diam. Nulla facilisi. Morbi id sagittis magna. Sed fringilla, magna in suscipit aliquet."},6794:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.UrlFormatEditor=void 0;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _eui=__webpack_require__(2);var _default=__webpack_require__(389);var _samples=__webpack_require__(537);var _label_template_flyout=__webpack_require__(6795);var _url_template_flyout=__webpack_require__(6796);var _chrome=__webpack_require__(9);var _chrome2=_interopRequireDefault(_chrome);__webpack_require__(6797);var _react3=__webpack_require__(10);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var UrlFormatEditor=exports.UrlFormatEditor=function(_DefaultFormatEditor){_inherits(UrlFormatEditor,_DefaultFormatEditor);function UrlFormatEditor(props){_classCallCheck(this,UrlFormatEditor);var _this=_possibleConstructorReturn(this,(UrlFormatEditor.__proto__||Object.getPrototypeOf(UrlFormatEditor)).call(this,props));_this.onTypeChange=function(newType){var urlTemplate=_this.props.formatParams.urlTemplate;"img"!==newType||urlTemplate?"img"!==newType&&urlTemplate===_this.iconPattern?_this.onChange({type:newType,urlTemplate:null}):_this.onChange({type:newType}):_this.onChange({type:newType,urlTemplate:_this.iconPattern})};_this.showUrlTemplateHelp=function(){_this.setState({showLabelTemplateHelp:false,showUrlTemplateHelp:true})};_this.hideUrlTemplateHelp=function(){_this.setState({showUrlTemplateHelp:false})};_this.showLabelTemplateHelp=function(){_this.setState({showLabelTemplateHelp:true,showUrlTemplateHelp:false})};_this.hideLabelTemplateHelp=function(){_this.setState({showLabelTemplateHelp:false})};var bp=_chrome2.default.getBasePath();_this.iconPattern=bp+"/bundles/src/ui/public/field_editor/components/field_format_editor/editors/url/icons/{{value}}.png";_this.state=_extends({},_this.state,{sampleInputsByType:{a:["john","/some/pathname/asset.png",1234],img:["go","stop",["de","ne","us","ni"],"cv"],audio:["hello.mp3"]},sampleConverterType:"html",showUrlTemplateHelp:false,showLabelTemplateHelp:false});return _this}_createClass(UrlFormatEditor,[{key:"render",value:function render(){var _this2=this;var _props=this.props,format=_props.format,formatParams=_props.formatParams;var _state=this.state,error=_state.error,samples=_state.samples;return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_label_template_flyout.LabelTemplateFlyout,{isVisible:this.state.showLabelTemplateHelp,onClose:this.hideLabelTemplateHelp}),_react2.default.createElement(_url_template_flyout.UrlTemplateFlyout,{isVisible:this.state.showUrlTemplateHelp,onClose:this.hideUrlTemplateHelp}),_react2.default.createElement(_eui.EuiFormRow,{label:_react2.default.createElement(_react3.FormattedMessage,{id:"common.ui.fieldEditor.url.typeLabel",defaultMessage:"Type"})},_react2.default.createElement(_eui.EuiSelect,{"data-test-subj":"urlEditorType",value:formatParams.type,options:format.type.urlTypes.map(function(type){return{value:type.kind,text:type.text}}),onChange:function onChange(e){_this2.onTypeChange(e.target.value)}})),"a"===formatParams.type?_react2.default.createElement(_eui.EuiFormRow,{label:_react2.default.createElement(_react3.FormattedMessage,{id:"common.ui.fieldEditor.url.openTabLabel",defaultMessage:"Open in a new tab"})},_react2.default.createElement(_eui.EuiSwitch,{label:formatParams.openLinkInCurrentTab?_react2.default.createElement(_react3.FormattedMessage,{id:"common.ui.fieldEditor.url.offLabel",defaultMessage:"Off"}):_react2.default.createElement(_react3.FormattedMessage,{id:"common.ui.fieldEditor.url.onLabel",defaultMessage:"On"}),checked:!formatParams.openLinkInCurrentTab,onChange:function onChange(e){_this2.onChange({openLinkInCurrentTab:!e.target.checked})}})):null,_react2.default.createElement(_eui.EuiFormRow,{label:_react2.default.createElement(_react3.FormattedMessage,{id:"common.ui.fieldEditor.url.urlTemplateLabel",defaultMessage:"URL template"}),helpText:_react2.default.createElement(_eui.EuiLink,{onClick:this.showUrlTemplateHelp},_react2.default.createElement(_react3.FormattedMessage,{id:"common.ui.fieldEditor.url.template.helpLinkText",defaultMessage:"URL template help"})),isInvalid:!!error,error:error},_react2.default.createElement(_eui.EuiFieldText,{"data-test-subj":"urlEditorUrlTemplate",value:formatParams.urlTemplate||"",onChange:function onChange(e){_this2.onChange({urlTemplate:e.target.value})}})),_react2.default.createElement(_eui.EuiFormRow,{label:_react2.default.createElement(_react3.FormattedMessage,{id:"common.ui.fieldEditor.url.labelTemplateLabel",defaultMessage:"Label template"}),helpText:_react2.default.createElement(_eui.EuiLink,{onClick:this.showLabelTemplateHelp},_react2.default.createElement(_react3.FormattedMessage,{id:"common.ui.fieldEditor.url.labelTemplateHelpText",defaultMessage:"Label template help"})),isInvalid:!!error,error:error},_react2.default.createElement(_eui.EuiFieldText,{"data-test-subj":"urlEditorLabelTemplate",value:formatParams.labelTemplate||"",onChange:function onChange(e){_this2.onChange({labelTemplate:e.target.value})}})),_react2.default.createElement(_samples.FormatEditorSamples,{samples:samples}))}}]);return UrlFormatEditor}(_default.DefaultFormatEditor);UrlFormatEditor.formatId="url"},6795:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.LabelTemplateFlyout=exports.LabelTemplateFlyoutComponent=void 0;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _eui=__webpack_require__(2);var _react3=__webpack_require__(10);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var LabelTemplateFlyoutComponent=exports.LabelTemplateFlyoutComponent=function LabelTemplateFlyoutComponent(_ref){var _ref$isVisible=_ref.isVisible,isVisible=void 0!==_ref$isVisible&&_ref$isVisible,_ref$onClose=_ref.onClose,onClose=void 0===_ref$onClose?function(){}:_ref$onClose,intl=_ref.intl;return isVisible?_react2.default.createElement(_eui.EuiFlyout,{onClose:onClose},_react2.default.createElement(_eui.EuiFlyoutBody,null,_react2.default.createElement(_eui.EuiText,null,_react2.default.createElement("h3",null,_react2.default.createElement(_react3.FormattedMessage,{id:"common.ui.fieldEditor.labelTemplateHeader",defaultMessage:"Label Template"})),_react2.default.createElement("p",null,_react2.default.createElement(_react3.FormattedMessage,{id:"common.ui.fieldEditor.labelTemplateLabel",defaultMessage:"If the URL in this field is large, it might be useful to provide an alternate template for the text version of the URL. This will be displayed instead of the url, but will still link to the URL. The format is a string which uses double curly brace notation {doubleCurlyBraces} to inject values. The following values can be accessed:",values:{doubleCurlyBraces:_react2.default.createElement(_eui.EuiCode,null,"{{ }}")}})),_react2.default.createElement("ul",null,_react2.default.createElement("li",null,_react2.default.createElement(_eui.EuiCode,null,"value")," ",_react2.default.createElement(_react3.FormattedMessage,{id:"common.ui.fieldEditor.labelTemplate.valueLabel",defaultMessage:"The fields value"})),_react2.default.createElement("li",null,_react2.default.createElement(_eui.EuiCode,null,"url")," ",_react2.default.createElement(_react3.FormattedMessage,{id:"common.ui.fieldEditor.labelTemplate.urlLabel",defaultMessage:"The formatted URL"}))),_react2.default.createElement("h4",null,_react2.default.createElement(_react3.FormattedMessage,{id:"common.ui.fieldEditor.labelTemplate.examplesHeader",defaultMessage:"Examples"})),_react2.default.createElement(_eui.EuiBasicTable,{items:[{input:1234,urlTemplate:"http://company.net/profiles?user_id={{value}}",labelTemplate:intl.formatMessage({id:"common.ui.fieldEditor.labelTemplate.example.idLabel",defaultMessage:"User #{value}"},{value:"{{value}}"}),output:'<a href="http://company.net/profiles?user_id=1234">'+intl.formatMessage({id:"common.ui.fieldEditor.labelTemplate.example.output.idLabel",defaultMessage:"User"})+" #1234</a>"},{input:"/assets/main.css",urlTemplate:"http://site.com{{rawValue}}",labelTemplate:intl.formatMessage({id:"common.ui.fieldEditor.labelTemplate.example.pathLabel",defaultMessage:"View Asset"}),output:'<a href="http://site.com/assets/main.css">'+intl.formatMessage({id:"common.ui.fieldEditor.labelTemplate.example.output.pathLabel",defaultMessage:"View Asset"})+"</a>"}],columns:[{field:"input",name:intl.formatMessage({id:"common.ui.fieldEditor.labelTemplate.inputHeader",defaultMessage:"Input"}),width:"160px"},{field:"urlTemplate",name:intl.formatMessage({id:"common.ui.fieldEditor.labelTemplate.urlHeader",defaultMessage:"URL Template"})},{field:"labelTemplate",name:intl.formatMessage({id:"common.ui.fieldEditor.labelTemplate.labelHeader",defaultMessage:"Label Template"})},{field:"output",name:intl.formatMessage({id:"common.ui.fieldEditor.labelTemplate.outputHeader",defaultMessage:"Output"}),render:function render(value){return _react2.default.createElement("span",{dangerouslySetInnerHTML:{__html:value}})}}]})))):null};LabelTemplateFlyoutComponent.displayName="LabelTemplateFlyout";exports.LabelTemplateFlyout=(0,_react3.injectI18n)(LabelTemplateFlyoutComponent)},6796:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.UrlTemplateFlyout=exports.UrlTemplateFlyoutComponent=void 0;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _eui=__webpack_require__(2);var _react3=__webpack_require__(10);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var UrlTemplateFlyoutComponent=exports.UrlTemplateFlyoutComponent=function UrlTemplateFlyoutComponent(_ref){var _ref$isVisible=_ref.isVisible,isVisible=void 0!==_ref$isVisible&&_ref$isVisible,_ref$onClose=_ref.onClose,onClose=void 0===_ref$onClose?function(){}:_ref$onClose,intl=_ref.intl;return isVisible?_react2.default.createElement(_eui.EuiFlyout,{onClose:onClose},_react2.default.createElement(_eui.EuiFlyoutBody,null,_react2.default.createElement(_eui.EuiText,null,_react2.default.createElement("h3",null,_react2.default.createElement(_react3.FormattedMessage,{id:"common.ui.fieldEditor.urlTemplateHeader",defaultMessage:"Url Template"})),_react2.default.createElement("p",null,_react2.default.createElement(_react3.FormattedMessage,{id:"common.ui.fieldEditor.urlTemplateLabel.fieldDetail",defaultMessage:"If a field only contains part of a URL then a {strongUrlTemplate} can be used to format the value as a complete URL. The format is a string which uses double curly brace notation {doubleCurlyBraces} to inject values. The following values can be accessed:",values:{doubleCurlyBraces:_react2.default.createElement(_eui.EuiCode,null,"{{ }}"),strongUrlTemplate:_react2.default.createElement("strong",null,_react2.default.createElement(_react3.FormattedMessage,{id:"common.ui.fieldEditor.urlTemplateLabel.strongUrlTemplateLabel",defaultMessage:"Url Template"}))}})),_react2.default.createElement("ul",null,_react2.default.createElement("li",null,_react2.default.createElement(_eui.EuiCode,null,"value")," ",_react2.default.createElement(_react3.FormattedMessage,{id:"common.ui.fieldEditor.urlTemplate.valueLabel",defaultMessage:"The URI-escaped value"})),_react2.default.createElement("li",null,_react2.default.createElement(_eui.EuiCode,null,"rawValue")," ",_react2.default.createElement(_react3.FormattedMessage,{id:"common.ui.fieldEditor.urlTemplate.rawValueLabel",defaultMessage:"The unescaped value"}))),_react2.default.createElement("h4",null,_react2.default.createElement(_react3.FormattedMessage,{id:"common.ui.fieldEditor.urlTemplate.examplesHeader",defaultMessage:"Examples"})),_react2.default.createElement(_eui.EuiBasicTable,{items:[{input:1234,template:"http://company.net/profiles?user_id={{value}}",output:"http://company.net/profiles?user_id=1234"},{input:"users/admin",template:"http://company.net/groups?id={{value}}",output:"http://company.net/groups?id=users%2Fadmin"},{input:"/images/favicon.ico",template:"http://www.site.com{{rawValue}}",output:"http://www.site.com/images/favicon.ico"}],columns:[{field:"input",name:intl.formatMessage({id:"common.ui.fieldEditor.urlTemplate.inputHeader",defaultMessage:"Input"}),width:"160px"},{field:"template",name:intl.formatMessage({id:"common.ui.fieldEditor.urlTemplate.templateHeader",defaultMessage:"Template"})},{field:"output",name:intl.formatMessage({id:"common.ui.fieldEditor.urlTemplate.outputHeader",defaultMessage:"Output"})}]})))):null};UrlTemplateFlyoutComponent.displayName="UrlTemplateFlyout";exports.UrlTemplateFlyout=(0,_react3.injectI18n)(UrlTemplateFlyoutComponent)},6797:function(module,exports,__webpack_require__){"use strict";__webpack_require__(6798);__webpack_require__(6799);__webpack_require__(6800);__webpack_require__(6801);__webpack_require__(6802);__webpack_require__(6803);__webpack_require__(6804)},6798:function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"src/ui/public/field_editor/components/field_format_editor/editors/url/icons/go.png"},6799:function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"src/ui/public/field_editor/components/field_format_editor/editors/url/icons/stop.png"},6800:function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"src/ui/public/field_editor/components/field_format_editor/editors/url/icons/de.png"},6801:function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"src/ui/public/field_editor/components/field_format_editor/editors/url/icons/ne.png"},6802:function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"src/ui/public/field_editor/components/field_format_editor/editors/url/icons/us.png"},6803:function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"src/ui/public/field_editor/components/field_format_editor/editors/url/icons/ni.png"},6804:function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"src/ui/public/field_editor/components/field_format_editor/editors/url/icons/cv.png"},6805:function(module,exports,__webpack_require__){__webpack_require__(6806);__webpack_require__(6886);__webpack_require__(6948);__webpack_require__(6980);__webpack_require__(7019);__webpack_require__(7047);__webpack_require__(7053);__webpack_require__(7178);__webpack_require__(7227);__webpack_require__(7244);__webpack_require__(7251);__webpack_require__(7322);__webpack_require__(7479);__webpack_require__(7494);__webpack_require__(7513)},6806:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var euiVars=tslib_1.__importStar(__webpack_require__(818));var react_1=tslib_1.__importDefault(__webpack_require__(0));var styled_components_1=__webpack_require__(20);var constants_1=__webpack_require__(390);var route_with_breadcrumb_1=__webpack_require__(1251);var kibana_1=__webpack_require__(6812);var router_1=__webpack_require__(6844);function startApp(libs){libs.framework.registerManagementSection("beats","Central Management (Beta)",constants_1.BASE_PATH);libs.framework.render(react_1.default.createElement(styled_components_1.ThemeProvider,{theme:{eui:euiVars}},react_1.default.createElement(route_with_breadcrumb_1.BreadcrumbProvider,null,react_1.default.createElement(router_1.PageRouter,{libs:libs}))))}startApp(kibana_1.compose())},6807:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.PLUGIN={ID:"beats_management"}},6808:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var ConfigurationBlockTypes;(function(ConfigurationBlockTypes){ConfigurationBlockTypes["FilebeatInputs"]="filebeat.inputs";ConfigurationBlockTypes["FilebeatModules"]="filebeat.modules";ConfigurationBlockTypes["MetricbeatModules"]="metricbeat.modules";ConfigurationBlockTypes["Output"]="output";ConfigurationBlockTypes["Processors"]="processors"})(ConfigurationBlockTypes=exports.ConfigurationBlockTypes||(exports.ConfigurationBlockTypes={}));exports.UNIQUENESS_ENFORCING_TYPES=[ConfigurationBlockTypes.Output]},6809:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.TABLE_CONFIG={INITIAL_ROW_SIZE:5,PAGE_SIZE_OPTIONS:[3,5,10,20],TRUNCATE_TAG_LENGTH:33,TRUNCATE_TAG_LENGTH_SMALL:20}},6810:function(module,exports,__webpack_require__){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}return Array.from(arr)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var react_1=tslib_1.__importStar(__webpack_require__(0));var context_1=__webpack_require__(2187);var BreadcrumbProvider=function(_react_1$Component){_inherits(BreadcrumbProvider,_react_1$Component);function BreadcrumbProvider(){_classCallCheck(this,BreadcrumbProvider);var _this=_possibleConstructorReturn(this,(BreadcrumbProvider.__proto__||Object.getPrototypeOf(BreadcrumbProvider)).apply(this,arguments));_this.state={breadcrumbs:[]};_this.addCrumb=function(breadcrumb,parents){_this.setState(function(_ref){var prevCrumbs=_ref.breadcrumbs;return{breadcrumbs:[].concat(_toConsumableArray(prevCrumbs),[{href:breadcrumb.href,breadcrumb:breadcrumb,parents:parents}])}})};_this.removeCrumb=function(crumbToRemove){_this.setState(function(_ref2){var prevCrumbs=_ref2.breadcrumbs;var breadcrumbs=prevCrumbs.filter(function(prevCrumb){var href=prevCrumb.href;return!(crumbToRemove.href===href)});return{breadcrumbs:breadcrumbs}})};return _this}_createClass(BreadcrumbProvider,[{key:"render",value:function render(){var breadcrumbs=this.state.breadcrumbs;var context={breadcrumbs:breadcrumbs.reduce(function(crumbs,crumbStorageItem){crumbStorageItem.parents&&(crumbs=crumbs.concat(crumbStorageItem.parents));crumbs.push(crumbStorageItem.breadcrumb);return crumbs},[]),addCrumb:this.addCrumb,removeCrumb:this.removeCrumb};return react_1.default.createElement(context_1.Provider,{value:context},this.props.children)}}]);return BreadcrumbProvider}(react_1.Component);exports.BreadcrumbProvider=BreadcrumbProvider},6811:function(module,exports,__webpack_require__){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();function _objectWithoutProperties(obj,keys){var target={};for(var i in obj){if(keys.indexOf(i)>=0)continue;if(!Object.prototype.hasOwnProperty.call(obj,i))continue;target[i]=obj[i]}return target}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var react_1=tslib_1.__importStar(__webpack_require__(0));var react_router_dom_1=__webpack_require__(49);var consumer_1=__webpack_require__(2188);var WrappedRouteWithBreadcrumb=function(_react_1$Component){_inherits(WrappedRouteWithBreadcrumb,_react_1$Component);function WrappedRouteWithBreadcrumb(){_classCallCheck(this,WrappedRouteWithBreadcrumb);return _possibleConstructorReturn(this,(WrappedRouteWithBreadcrumb.__proto__||Object.getPrototypeOf(WrappedRouteWithBreadcrumb)).apply(this,arguments))}_createClass(WrappedRouteWithBreadcrumb,[{key:"componentWillUnmount",value:function componentWillUnmount(){var _props=this.props,text=_props.text,href=_props.href,context=_props.context;context.removeCrumb({text:text,href:href})}},{key:"componentDidMount",value:function componentDidMount(){var _props2=this.props,text=_props2.text,href=_props2.href,parents=_props2.parents,context=_props2.context;context.addCrumb({text:text,href:href},parents)}},{key:"render",value:function render(){return this.props.children}}]);return WrappedRouteWithBreadcrumb}(react_1.Component);exports.RouteWithBreadcrumb=function(_ref){var title=_ref.title,_render=_ref.render,RouteComponent=_ref.component,parentBreadcrumbs=_ref.parentBreadcrumbs,props=_objectWithoutProperties(_ref,["title","render","component","parentBreadcrumbs"]);return react_1.default.createElement(react_router_dom_1.Route,Object.assign({},props,{render:function render(renderProps){return react_1.default.createElement(consumer_1.BreadcrumbConsumer,null,function(context){return react_1.default.createElement(WrappedRouteWithBreadcrumb,{parents:parentBreadcrumbs,href:props.path,text:"function"===typeof title?title(renderProps.match.params):title,context:context},_render&&_render(renderProps),RouteComponent&&react_1.default.createElement(RouteComponent,Object.assign({},renderProps)))})}}))}},6812:function(module,exports,__webpack_require__){"use strict";var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var xpack_info_1=__webpack_require__(73);__webpack_require__(258);var chrome_1=tslib_1.__importDefault(__webpack_require__(9));var management_1=__webpack_require__(84);var modules_1=__webpack_require__(3);var routes_1=tslib_1.__importDefault(__webpack_require__(13));var index_names_1=__webpack_require__(2186);var config_schemas_1=__webpack_require__(841);var rest_beats_adapter_1=__webpack_require__(6813);var rest_1=__webpack_require__(6814);var kibana_framework_adapter_1=__webpack_require__(6815);var axios_rest_api_adapter_1=__webpack_require__(6816);var rest_tags_adapter_1=__webpack_require__(6817);var rest_tokens_adapter_1=__webpack_require__(6818);var beats_1=__webpack_require__(6819);var elasticsearch_1=__webpack_require__(6820);var tags_1=__webpack_require__(6821);function compose(){var api=new axios_rest_api_adapter_1.AxiosRestAPIAdapter(chrome_1.default.getXsrfToken(),chrome_1.default.getBasePath());var esAdapter=new rest_1.RestElasticsearchAdapter(api,index_names_1.INDEX_NAMES.BEATS);var tags=new tags_1.TagsLib(new rest_tags_adapter_1.RestTagsAdapter(api),config_schemas_1.supportedConfigs);var tokens=new rest_tokens_adapter_1.RestTokensAdapter(api);var beats=new beats_1.BeatsLib(new rest_beats_adapter_1.RestBeatsAdapter(api),{tags:tags});var domainLibs={tags:tags,tokens:tokens,beats:beats};var pluginUIModule=modules_1.uiModules.get("app/beats_management");var framework=new kibana_framework_adapter_1.KibanaFrameworkAdapter(pluginUIModule,management_1.management,routes_1.default,chrome_1.default,xpack_info_1.XPackInfoProvider);var libs=_extends({framework:framework,elasticsearch:new elasticsearch_1.ElasticsearchLib(esAdapter)},domainLibs);return libs}exports.compose=compose},6813:function(module,exports,__webpack_require__){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:true});var RestBeatsAdapter=function(){function RestBeatsAdapter(REST){_classCallCheck(this,RestBeatsAdapter);this.REST=REST}_createClass(RestBeatsAdapter,[{key:"get",value:function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee(id){return regeneratorRuntime.wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return this.REST.get("/api/beats/agent/"+id);case 2:return _context.abrupt("return",_context.sent);case 3:case"end":return _context.stop()}},_callee,this)}));function get(_x){return _ref.apply(this,arguments)}return get}()},{key:"getBeatWithToken",value:function(){var _ref2=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(enrollmentToken){var beat;return regeneratorRuntime.wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.next=2;return this.REST.get("/api/beats/agent/unknown/"+enrollmentToken);case 2:beat=_context2.sent;return _context2.abrupt("return",beat);case 4:case"end":return _context2.stop()}},_callee2,this)}));function getBeatWithToken(_x2){return _ref2.apply(this,arguments)}return getBeatWithToken}()},{key:"getAll",value:function(){var _ref3=_asyncToGenerator(regeneratorRuntime.mark(function _callee3(ESQuery){return regeneratorRuntime.wrap(function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:_context3.next=2;return this.REST.get("/api/beats/agents/all",{ESQuery:ESQuery});case 2:return _context3.abrupt("return",_context3.sent.beats);case 3:case"end":return _context3.stop()}},_callee3,this)}));function getAll(_x3){return _ref3.apply(this,arguments)}return getAll}()},{key:"getBeatsWithTag",value:function(){var _ref4=_asyncToGenerator(regeneratorRuntime.mark(function _callee4(tagId){return regeneratorRuntime.wrap(function _callee4$(_context4){while(1)switch(_context4.prev=_context4.next){case 0:_context4.next=2;return this.REST.get("/api/beats/agents/tag/"+tagId);case 2:return _context4.abrupt("return",_context4.sent.beats);case 3:case"end":return _context4.stop()}},_callee4,this)}));function getBeatsWithTag(_x4){return _ref4.apply(this,arguments)}return getBeatsWithTag}()},{key:"update",value:function(){var _ref5=_asyncToGenerator(regeneratorRuntime.mark(function _callee5(id,beatData){return regeneratorRuntime.wrap(function _callee5$(_context5){while(1)switch(_context5.prev=_context5.next){case 0:_context5.next=2;return this.REST.put("/api/beats/agent/"+id,beatData);case 2:return _context5.abrupt("return",true);case 3:case"end":return _context5.stop()}},_callee5,this)}));function update(_x5,_x6){return _ref5.apply(this,arguments)}return update}()},{key:"removeTagsFromBeats",value:function(){var _ref6=_asyncToGenerator(regeneratorRuntime.mark(function _callee6(removals){return regeneratorRuntime.wrap(function _callee6$(_context6){while(1)switch(_context6.prev=_context6.next){case 0:_context6.next=2;return this.REST.post("/api/beats/agents_tags/removals",{removals:removals});case 2:return _context6.abrupt("return",_context6.sent.removals);case 3:case"end":return _context6.stop()}},_callee6,this)}));function removeTagsFromBeats(_x7){return _ref6.apply(this,arguments)}return removeTagsFromBeats}()},{key:"assignTagsToBeats",value:function(){var _ref7=_asyncToGenerator(regeneratorRuntime.mark(function _callee7(assignments){return regeneratorRuntime.wrap(function _callee7$(_context7){while(1)switch(_context7.prev=_context7.next){case 0:_context7.next=2;return this.REST.post("/api/beats/agents_tags/assignments",{assignments:assignments});case 2:return _context7.abrupt("return",_context7.sent.assignments);case 3:case"end":return _context7.stop()}},_callee7,this)}));function assignTagsToBeats(_x8){return _ref7.apply(this,arguments)}return assignTagsToBeats}()}]);return RestBeatsAdapter}();exports.RestBeatsAdapter=RestBeatsAdapter},6814:function(module,exports,__webpack_require__){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:true});var lodash_1=__webpack_require__(1);var autocomplete_providers_1=__webpack_require__(597);var kuery_1=__webpack_require__(490);var RestElasticsearchAdapter=function(){function RestElasticsearchAdapter(api,indexPatternName){_classCallCheck(this,RestElasticsearchAdapter);this.api=api;this.indexPatternName=indexPatternName;this.cachedIndexPattern=null}_createClass(RestElasticsearchAdapter,[{key:"isKueryValid",value:function isKueryValid(kuery){try{kuery_1.fromKueryExpression(kuery)}catch(err){return false}return true}},{key:"convertKueryToEsQuery",value:function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee(kuery){var ast,indexPattern;return regeneratorRuntime.wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:if(this.isKueryValid(kuery)){_context.next=2;break}return _context.abrupt("return","");case 2:ast=kuery_1.fromKueryExpression(kuery);_context.next=5;return this.getIndexPattern();case 5:indexPattern=_context.sent;return _context.abrupt("return",JSON.stringify(kuery_1.toElasticsearchQuery(ast,indexPattern)));case 7:case"end":return _context.stop()}},_callee,this)}));function convertKueryToEsQuery(_x){return _ref.apply(this,arguments)}return convertKueryToEsQuery}()},{key:"getSuggestions",value:function(){var _ref2=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(kuery,selectionStart){var autocompleteProvider,config,indexPattern,getAutocompleteSuggestions,results;return regeneratorRuntime.wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:autocompleteProvider=autocomplete_providers_1.getAutocompleteProvider("kuery");if(autocompleteProvider){_context2.next=3;break}return _context2.abrupt("return",[]);case 3:config={get:function get(){return true}};_context2.next=6;return this.getIndexPattern();case 6:indexPattern=_context2.sent;getAutocompleteSuggestions=autocompleteProvider({config:config,indexPatterns:[indexPattern],boolFilter:null});results=getAutocompleteSuggestions({query:kuery||"",selectionStart:selectionStart,selectionEnd:selectionStart});return _context2.abrupt("return",results);case 10:case"end":return _context2.stop()}},_callee2,this)}));function getSuggestions(_x2,_x3){return _ref2.apply(this,arguments)}return getSuggestions}()},{key:"getIndexPattern",value:function(){var _ref3=_asyncToGenerator(regeneratorRuntime.mark(function _callee3(){var res;return regeneratorRuntime.wrap(function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:if(!this.cachedIndexPattern){_context3.next=2;break}return _context3.abrupt("return",this.cachedIndexPattern);case 2:_context3.next=4;return this.api.get("/api/index_patterns/_fields_for_wildcard?pattern="+this.indexPatternName);case 4:res=_context3.sent;if(!lodash_1.isEmpty(res.fields)){_context3.next=7;break}return _context3.abrupt("return");case 7:this.cachedIndexPattern={fields:res.fields,title:""+this.indexPatternName};return _context3.abrupt("return",this.cachedIndexPattern);case 9:case"end":return _context3.stop()}},_callee3,this)}));function getIndexPattern(){return _ref3.apply(this,arguments)}return getIndexPattern}()}]);return RestElasticsearchAdapter}();exports.RestElasticsearchAdapter=RestElasticsearchAdapter},6815:function(module,exports,__webpack_require__){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var ReactDOM=tslib_1.__importStar(__webpack_require__(14));var KibanaFrameworkAdapter=function(){function KibanaFrameworkAdapter(uiModule,management,routes,chrome,XPackInfoProvider){var _this=this;_classCallCheck(this,KibanaFrameworkAdapter);this.rootComponent=null;this.setUISettings=function(key,value){_this.adapterService.callOrBuffer(function(_ref){var config=_ref.config;config.set(key,value)})};this.render=function(component){_this.rootComponent=component};this.register=function(adapterModule){var adapter=_this;_this.routes.when("/management/beats_management/:view?/:id?/:other?/:other2?",{template:'<beats-cm><div id="beatsReactRoot" style="flex-grow: 1; height: 100vh; background: #f5f5f5"></div></beats-cm>',controllerAs:"beatsManagement",controller:function BeatsManagementController($scope,$route){_classCallCheck(this,BeatsManagementController);$scope.$$postDigest(function(){var elem=document.getElementById("beatsReactRoot");ReactDOM.render(adapter.rootComponent,elem);adapter.manageAngularLifecycle($scope,$route,elem)});$scope.$onInit=function(){$scope.topNavMenu=[]}}})};this.adapterService=new KibanaAdapterServiceProvider;this.management=management;this.uiModule=uiModule;this.routes=routes;this.chrome=chrome;this.XPackInfoProvider=XPackInfoProvider;this.appState={}}_createClass(KibanaFrameworkAdapter,[{key:"hasValidLicense",value:function hasValidLicense(){if(!this.xpackInfo)return false;return this.xpackInfo.get("features.beats_management.licenseValid",false)}},{key:"licenseExpired",value:function licenseExpired(){if(!this.xpackInfo)return false;return this.xpackInfo.get("features.beats_management.licenseExpired",false)}},{key:"securityEnabled",value:function securityEnabled(){if(!this.xpackInfo)return false;return this.xpackInfo.get("features.beats_management.securityEnabled",false)}},{key:"getDefaultUserRoles",value:function getDefaultUserRoles(){if(!this.xpackInfo)return[];return this.xpackInfo.get("features.beats_management.defaultUserRoles")}},{key:"getCurrentUser",value:function getCurrentUser(){try{return this.shieldUser}catch(e){return null}}},{key:"registerManagementSection",value:function registerManagementSection(pluginId,displayName,basePath){var _this2=this;this.register(this.uiModule);this.hookAngular(function(){if(_this2.hasValidLicense()){var registerSection=function registerSection(){return _this2.management.register(pluginId,{display:"Beats",icon:"logoBeats",order:30})};var getSection=function getSection(){return _this2.management.getSection(pluginId)};var section=_this2.management.hasItem(pluginId)?getSection():registerSection();section.register(pluginId,{visible:true,display:displayName,order:30,url:"#"+basePath})}})}},{key:"manageAngularLifecycle",value:function manageAngularLifecycle($scope,$route,elem){var lastRoute=$route.current;var deregister=$scope.$on("$locationChangeSuccess",function(){var currentRoute=$route.current;lastRoute.$$route.template===currentRoute.$$route.template&&($route.current=lastRoute)});$scope.$on("$destroy",function(){deregister&&deregister();elem&&ReactDOM.unmountComponentAtNode(elem)})}},{key:"hookAngular",value:function hookAngular(done){var _this3=this;this.chrome.dangerouslyGetActiveInjector().then((_ref2=_asyncToGenerator(regeneratorRuntime.mark(function _callee($injector){var Private,xpackInfo;return regeneratorRuntime.wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:Private=$injector.get("Private");xpackInfo=Private(_this3.XPackInfoProvider);_this3.xpackInfo=xpackInfo;if(!_this3.securityEnabled()){_context.next=12;break}_context.prev=4;_context.next=7;return $injector.get("ShieldUser").getCurrent().$promise;case 7:_this3.shieldUser=_context.sent;_context.next=12;break;case 10:_context.prev=10;_context.t0=_context["catch"](4);case 12:done();case 13:case"end":return _context.stop()}},_callee,_this3,[[4,10]])})),function(_x){return _ref2.apply(this,arguments)}));var _ref2}},{key:"baseURLPath",get:function get(){return this.chrome.getBasePath()}}]);return KibanaFrameworkAdapter}();exports.KibanaFrameworkAdapter=KibanaFrameworkAdapter;var KibanaAdapterServiceProvider=function(){function KibanaAdapterServiceProvider(){_classCallCheck(this,KibanaAdapterServiceProvider);this.serviceRefs=null;this.bufferedCalls=[]}_createClass(KibanaAdapterServiceProvider,[{key:"$get",value:function $get($rootScope,config){this.serviceRefs={config:config,rootScope:$rootScope};this.applyBufferedCalls(this.bufferedCalls);return this}},{key:"callOrBuffer",value:function callOrBuffer(serviceCall){null!==this.serviceRefs?this.applyBufferedCalls([serviceCall]):this.bufferedCalls.push(serviceCall)}},{key:"applyBufferedCalls",value:function applyBufferedCalls(bufferedCalls){var _this4=this;if(!this.serviceRefs)return;this.serviceRefs.rootScope.$apply(function(){bufferedCalls.forEach(function(serviceCall){if(!_this4.serviceRefs)return;return serviceCall(_this4.serviceRefs)})})}}]);return KibanaAdapterServiceProvider}()},6816:function(module,exports,__webpack_require__){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var axios_1=tslib_1.__importDefault(__webpack_require__(2067));var globalAPI=void 0;var AxiosRestAPIAdapter=function(){function AxiosRestAPIAdapter(xsrfToken,basePath){_classCallCheck(this,AxiosRestAPIAdapter);this.xsrfToken=xsrfToken;this.basePath=basePath}_createClass(AxiosRestAPIAdapter,[{key:"get",value:function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee(url,query){return regeneratorRuntime.wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return this.REST.get(url,query?{params:query}:{}).then(function(resp){return resp.data});case 2:return _context.abrupt("return",_context.sent);case 3:case"end":return _context.stop()}},_callee,this)}));function get(_x,_x2){return _ref.apply(this,arguments)}return get}()},{key:"post",value:function(){var _ref2=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(url,body){return regeneratorRuntime.wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.next=2;return this.REST.post(url,body).then(function(resp){return resp.data});case 2:return _context2.abrupt("return",_context2.sent);case 3:case"end":return _context2.stop()}},_callee2,this)}));function post(_x3,_x4){return _ref2.apply(this,arguments)}return post}()},{key:"delete",value:function(){var _ref3=_asyncToGenerator(regeneratorRuntime.mark(function _callee3(url){return regeneratorRuntime.wrap(function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:_context3.next=2;return this.REST.delete(url).then(function(resp){return resp.data});case 2:return _context3.abrupt("return",_context3.sent);case 3:case"end":return _context3.stop()}},_callee3,this)}));function _delete(_x5){return _ref3.apply(this,arguments)}return _delete}()},{key:"put",value:function(){var _ref4=_asyncToGenerator(regeneratorRuntime.mark(function _callee4(url,body){return regeneratorRuntime.wrap(function _callee4$(_context4){while(1)switch(_context4.prev=_context4.next){case 0:_context4.next=2;return this.REST.put(url,body).then(function(resp){return resp.data});case 2:return _context4.abrupt("return",_context4.sent);case 3:case"end":return _context4.stop()}},_callee4,this)}));function put(_x6,_x7){return _ref4.apply(this,arguments)}return put}()},{key:"REST",get:function get(){if(globalAPI)return globalAPI;globalAPI=axios_1.default.create({baseURL:this.basePath,withCredentials:true,responseType:"json",timeout:3e4,headers:{Accept:"application/json",credentials:"same-origin","Content-Type":"application/json","kbn-version":this.xsrfToken,"kbn-xsrf":this.xsrfToken}});globalAPI.interceptors.request.use(function(config){return config},function(error){return Promise.reject(error)});globalAPI.interceptors.response.use(function(response){return response},function(error){return Promise.reject(error)});return globalAPI}}]);return AxiosRestAPIAdapter}();exports.AxiosRestAPIAdapter=AxiosRestAPIAdapter},6817:function(module,exports,__webpack_require__){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:true});var RestTagsAdapter=function(){function RestTagsAdapter(REST){_classCallCheck(this,RestTagsAdapter);this.REST=REST}_createClass(RestTagsAdapter,[{key:"getTagsWithIds",value:function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee(tagIds){var tags;return regeneratorRuntime.wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return this.REST.get("/api/beats/tags/"+tagIds.join(","));case 2:tags=_context.sent;return _context.abrupt("return",tags);case 4:case"end":return _context.stop()}},_callee,this)}));function getTagsWithIds(_x){return _ref.apply(this,arguments)}return getTagsWithIds}()},{key:"getAll",value:function(){var _ref2=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(){return regeneratorRuntime.wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.next=2;return this.REST.get("/api/beats/tags");case 2:return _context2.abrupt("return",_context2.sent);case 3:case"end":return _context2.stop()}},_callee2,this)}));function getAll(){return _ref2.apply(this,arguments)}return getAll}()},{key:"delete",value:function(){var _ref3=_asyncToGenerator(regeneratorRuntime.mark(function _callee3(tagIds){return regeneratorRuntime.wrap(function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:_context3.next=2;return this.REST.delete("/api/beats/tags/"+tagIds.join(","));case 2:return _context3.abrupt("return",_context3.sent.success);case 3:case"end":return _context3.stop()}},_callee3,this)}));function _delete(_x2){return _ref3.apply(this,arguments)}return _delete}()},{key:"upsertTag",value:function(){var _ref4=_asyncToGenerator(regeneratorRuntime.mark(function _callee4(tag){var response;return regeneratorRuntime.wrap(function _callee4$(_context4){while(1)switch(_context4.prev=_context4.next){case 0:_context4.next=2;return this.REST.put("/api/beats/tag/"+tag.id,{color:tag.color,configuration_blocks:tag.configuration_blocks});case 2:response=_context4.sent;return _context4.abrupt("return",response.success?tag:null);case 4:case"end":return _context4.stop()}},_callee4,this)}));function upsertTag(_x3){return _ref4.apply(this,arguments)}return upsertTag}()}]);return RestTagsAdapter}();exports.RestTagsAdapter=RestTagsAdapter},6818:function(module,exports,__webpack_require__){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:true});var RestTokensAdapter=function(){function RestTokensAdapter(REST){_classCallCheck(this,RestTokensAdapter);this.REST=REST}_createClass(RestTokensAdapter,[{key:"createEnrollmentToken",value:function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee(){var tokens;return regeneratorRuntime.wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return this.REST.post("/api/beats/enrollment_tokens");case 2:tokens=_context.sent.tokens;return _context.abrupt("return",tokens[0]);case 4:case"end":return _context.stop()}},_callee,this)}));function createEnrollmentToken(){return _ref.apply(this,arguments)}return createEnrollmentToken}()}]);return RestTokensAdapter}();exports.RestTokensAdapter=RestTokensAdapter},6819:function(module,exports,__webpack_require__){"use strict";var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:true});var lodash_1=__webpack_require__(1);var BeatsLib=function(){function BeatsLib(adapter,libs){_classCallCheck(this,BeatsLib);this.adapter=adapter;this.libs=libs}_createClass(BeatsLib,[{key:"get",value:function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee(id){var beat;return regeneratorRuntime.wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return this.adapter.get(id);case 2:beat=_context.sent;if(!beat){_context.next=9;break}_context.next=6;return this.mergeInTags([beat]);case 6:_context.t0=_context.sent[0];_context.next=10;break;case 9:_context.t0=null;case 10:return _context.abrupt("return",_context.t0);case 11:case"end":return _context.stop()}},_callee,this)}));function get(_x){return _ref.apply(this,arguments)}return get}()},{key:"getBeatWithToken",value:function(){var _ref2=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(enrollmentToken){var beat;return regeneratorRuntime.wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.next=2;return this.adapter.getBeatWithToken(enrollmentToken);case 2:beat=_context2.sent;return _context2.abrupt("return",beat);case 4:case"end":return _context2.stop()}},_callee2,this)}));function getBeatWithToken(_x2){return _ref2.apply(this,arguments)}return getBeatWithToken}()},{key:"getBeatsWithTag",value:function(){var _ref3=_asyncToGenerator(regeneratorRuntime.mark(function _callee3(tagId){var beats;return regeneratorRuntime.wrap(function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:_context3.next=2;return this.adapter.getBeatsWithTag(tagId);case 2:beats=_context3.sent;_context3.next=5;return this.mergeInTags(beats);case 5:return _context3.abrupt("return",_context3.sent);case 6:case"end":return _context3.stop()}},_callee3,this)}));function getBeatsWithTag(_x3){return _ref3.apply(this,arguments)}return getBeatsWithTag}()},{key:"getAll",value:function(){var _ref4=_asyncToGenerator(regeneratorRuntime.mark(function _callee4(ESQuery){var beats;return regeneratorRuntime.wrap(function _callee4$(_context4){while(1)switch(_context4.prev=_context4.next){case 0:_context4.next=2;return this.adapter.getAll(ESQuery);case 2:beats=_context4.sent;_context4.next=5;return this.mergeInTags(beats);case 5:return _context4.abrupt("return",_context4.sent);case 6:case"end":return _context4.stop()}},_callee4,this)}));function getAll(_x4){return _ref4.apply(this,arguments)}return getAll}()},{key:"update",value:function(){var _ref5=_asyncToGenerator(regeneratorRuntime.mark(function _callee5(id,beatData){return regeneratorRuntime.wrap(function _callee5$(_context5){while(1)switch(_context5.prev=_context5.next){case 0:_context5.next=2;return this.adapter.update(id,beatData);case 2:return _context5.abrupt("return",_context5.sent);case 3:case"end":return _context5.stop()}},_callee5,this)}));function update(_x5,_x6){return _ref5.apply(this,arguments)}return update}()},{key:"removeTagsFromBeats",value:function(){var _ref6=_asyncToGenerator(regeneratorRuntime.mark(function _callee6(removals){return regeneratorRuntime.wrap(function _callee6$(_context6){while(1)switch(_context6.prev=_context6.next){case 0:_context6.next=2;return this.adapter.removeTagsFromBeats(removals);case 2:return _context6.abrupt("return",_context6.sent);case 3:case"end":return _context6.stop()}},_callee6,this)}));function removeTagsFromBeats(_x7){return _ref6.apply(this,arguments)}return removeTagsFromBeats}()},{key:"assignTagsToBeats",value:function(){var _ref7=_asyncToGenerator(regeneratorRuntime.mark(function _callee7(assignments){return regeneratorRuntime.wrap(function _callee7$(_context7){while(1)switch(_context7.prev=_context7.next){case 0:_context7.next=2;return this.adapter.assignTagsToBeats(assignments);case 2:return _context7.abrupt("return",_context7.sent);case 3:case"end":return _context7.stop()}},_callee7,this)}));function assignTagsToBeats(_x8){return _ref7.apply(this,arguments)}return assignTagsToBeats}()},{key:"mergeInTags",value:function(){var _ref8=_asyncToGenerator(regeneratorRuntime.mark(function _callee8(beats){var tagIds,tags,mergedBeats;return regeneratorRuntime.wrap(function _callee8$(_context8){while(1)switch(_context8.prev=_context8.next){case 0:tagIds=lodash_1.flatten(beats.map(function(b){return b.tags||[]}));_context8.next=3;return this.libs.tags.getTagsWithIds(tagIds);case 3:tags=_context8.sent;mergedBeats=beats.map(function(b){return _extends({},b,{full_tags:(b.tags||[]).map(function(tagId){return tags.find(function(t){return t.id===tagId})}).filter(function(t){return t})})});return _context8.abrupt("return",mergedBeats);case 6:case"end":return _context8.stop()}},_callee8,this)}));function mergeInTags(_x9){return _ref8.apply(this,arguments)}return mergeInTags}()}]);return BeatsLib}();exports.BeatsLib=BeatsLib},6820:function(module,exports,__webpack_require__){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:true});var ElasticsearchLib=function(){function ElasticsearchLib(adapter){_classCallCheck(this,ElasticsearchLib);this.adapter=adapter;this.hiddenFields=[{op:"startsWith",value:"enrollment_token"},{op:"is",value:"beat.active"},{op:"is",value:"beat.enrollment_token"},{op:"is",value:"beat.access_token"},{op:"is",value:"beat.ephemeral_id"},{op:"is",value:"beat.verified_on"}]}_createClass(ElasticsearchLib,[{key:"isKueryValid",value:function isKueryValid(kuery){return this.adapter.isKueryValid(kuery)}},{key:"convertKueryToEsQuery",value:function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee(kuery){return regeneratorRuntime.wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return this.adapter.convertKueryToEsQuery(kuery);case 2:return _context.abrupt("return",_context.sent);case 3:case"end":return _context.stop()}},_callee,this)}));function convertKueryToEsQuery(_x){return _ref.apply(this,arguments)}return convertKueryToEsQuery}()},{key:"getSuggestions",value:function(){var _ref2=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(kuery,selectionStart,fieldPrefix){var _this=this;var suggestions,filteredSuggestions;return regeneratorRuntime.wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.next=2;return this.adapter.getSuggestions(kuery,selectionStart);case 2:suggestions=_context2.sent;filteredSuggestions=suggestions.filter(function(suggestion){var hiddenFieldsCheck=_this.hiddenFields;fieldPrefix&&hiddenFieldsCheck.push({op:"withoutPrefix",value:fieldPrefix+"."});return hiddenFieldsCheck.reduce(function(isvalid,field){if(!isvalid)return false;switch(field.op){case"startsWith":return!suggestion.text.startsWith(field.value);case"is":return suggestion.text.trim()!==field.value;case"withoutPrefix":return suggestion.text.startsWith(field.value)}},true)});return _context2.abrupt("return",filteredSuggestions);case 5:case"end":return _context2.stop()}},_callee2,this)}));function getSuggestions(_x2,_x3,_x4){return _ref2.apply(this,arguments)}return getSuggestions}()}]);return ElasticsearchLib}();exports.ElasticsearchLib=ElasticsearchLib},6821:function(module,exports,__webpack_require__){"use strict";var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var js_yaml_1=tslib_1.__importDefault(__webpack_require__(2189));var lodash_1=__webpack_require__(1);var lodash_2=__webpack_require__(1);var lodash_3=tslib_1.__importDefault(__webpack_require__(1));var TagsLib=function(){function TagsLib(adapter,tagConfigs){_classCallCheck(this,TagsLib);this.adapter=adapter;this.tagConfigs=tagConfigs}_createClass(TagsLib,[{key:"getTagsWithIds",value:function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee(tagIds){return regeneratorRuntime.wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.t0=this;_context.next=3;return this.adapter.getTagsWithIds(tagIds);case 3:_context.t1=_context.sent;return _context.abrupt("return",_context.t0.jsonConfigToUserYaml.call(_context.t0,_context.t1));case 5:case"end":return _context.stop()}},_callee,this)}));function getTagsWithIds(_x){return _ref.apply(this,arguments)}return getTagsWithIds}()},{key:"delete",value:function(){var _ref2=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(tagIds){return regeneratorRuntime.wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.next=2;return this.adapter.delete(tagIds);case 2:return _context2.abrupt("return",_context2.sent);case 3:case"end":return _context2.stop()}},_callee2,this)}));function _delete(_x2){return _ref2.apply(this,arguments)}return _delete}()},{key:"getAll",value:function(){var _ref3=_asyncToGenerator(regeneratorRuntime.mark(function _callee3(){return regeneratorRuntime.wrap(function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:_context3.t0=this;_context3.next=3;return this.adapter.getAll();case 3:_context3.t1=_context3.sent;return _context3.abrupt("return",_context3.t0.jsonConfigToUserYaml.call(_context3.t0,_context3.t1));case 5:case"end":return _context3.stop()}},_callee3,this)}));function getAll(){return _ref3.apply(this,arguments)}return getAll}()},{key:"upsertTag",value:function(){var _ref4=_asyncToGenerator(regeneratorRuntime.mark(function _callee4(tag){return regeneratorRuntime.wrap(function _callee4$(_context4){while(1)switch(_context4.prev=_context4.next){case 0:tag.id=tag.id.replace(" ","-");_context4.next=3;return this.adapter.upsertTag(this.userConfigsToJson([tag])[0]);case 3:return _context4.abrupt("return",_context4.sent);case 4:case"end":return _context4.stop()}},_callee4,this)}));function upsertTag(_x3){return _ref4.apply(this,arguments)}return upsertTag}()},{key:"jsonConfigToUserYaml",value:function jsonConfigToUserYaml(tags){var _this=this;return tags.map(function(tag){var transformedTag=tag;transformedTag.configuration_blocks=(tag.configuration_blocks||[]).map(function(block){var type=block.type,description=block.description,configs=block.configs;var activeConfig=configs[0];var thisConfig=_this.tagConfigs.find(function(conf){return conf.value===type}).config;var knownConfigIds=thisConfig.map(function(config){return config.id});var hydratedIds=_this.hydrateTokenArray(knownConfigIds,activeConfig);var convertedConfig=knownConfigIds.reduce(function(blockObj,id,index){var unhydratedKey=hydratedIds[index];lodash_2.set(blockObj,id,"other"===id?js_yaml_1.default.dump(lodash_2.omit(activeConfig,knownConfigIds)):lodash_1.get(activeConfig,unhydratedKey));return blockObj},{});convertedConfig.other&&"{}\n"===convertedConfig.other&&(convertedConfig.other="");return{type:type,description:description,configs:[convertedConfig]}});return transformedTag})}},{key:"userConfigsToJson",value:function userConfigsToJson(tags){var _this2=this;return tags.map(function(tag){var transformedTag=tag;transformedTag.configuration_blocks=(tag.configuration_blocks||[]).map(function(block){var type=block.type,description=block.description,configs=block.configs;var activeConfig=configs[0];var thisConfig=_this2.tagConfigs.find(function(conf){return conf.value===type}).config;var knownConfigIds=thisConfig.map(function(config){return config.id}).filter(function(id){return"other"!==id});var picked=_this2.pickDeep(activeConfig,knownConfigIds);var convertedConfig=_extends({},js_yaml_1.default.safeLoad(activeConfig.other||"{}"),picked);return{type:type,description:description,configs:[_this2.hydrateTokenizedObject(convertedConfig)]}});return transformedTag})}},{key:"hydrateTokenizedObject",value:function hydrateTokenizedObject(model){return JSON.parse(JSON.stringify(model),function(key,value){return lodash_3.default.isObject(value)&&!lodash_3.default.isArray(value)?lodash_3.default.mapKeys(value,function(v,k){return k.replace(/{{[^{}]+}}/g,function(token){return model[token.replace(/[{}]+/g,"")]})}):value})}},{key:"hydrateTokenArray",value:function hydrateTokenArray(keys,data){return keys.map(function(key){return key.replace(/{{[^{}]+}}/g,function(token){return data[token.replace(/[{}]+/g,"")]})})}},{key:"pickDeep",value:function pickDeep(obj,keys){var copy={};lodash_3.default.forEach(keys,function(key){if(lodash_3.default.has(obj,key)){var val=lodash_3.default.get(obj,key);lodash_3.default.set(copy,key,val)}});return copy}}]);return TagsLib}();exports.TagsLib=TagsLib},6822:function(module,exports,__webpack_require__){"use strict";var loader=__webpack_require__(6823);var dumper=__webpack_require__(6843);function deprecated(name){return function(){throw new Error("Function "+name+" is deprecated and cannot be used.")}}module.exports.Type=__webpack_require__(104);module.exports.Schema=__webpack_require__(539);module.exports.FAILSAFE_SCHEMA=__webpack_require__(1252);module.exports.JSON_SCHEMA=__webpack_require__(2191);module.exports.CORE_SCHEMA=__webpack_require__(2190);module.exports.DEFAULT_SAFE_SCHEMA=__webpack_require__(643);module.exports.DEFAULT_FULL_SCHEMA=__webpack_require__(842);module.exports.load=loader.load;module.exports.loadAll=loader.loadAll;module.exports.safeLoad=loader.safeLoad;module.exports.safeLoadAll=loader.safeLoadAll;module.exports.dump=dumper.dump;module.exports.safeDump=dumper.safeDump;module.exports.YAMLException=__webpack_require__(642);module.exports.MINIMAL_SCHEMA=__webpack_require__(1252);module.exports.SAFE_SCHEMA=__webpack_require__(643);module.exports.DEFAULT_SCHEMA=__webpack_require__(842);module.exports.scan=deprecated("scan");module.exports.parse=deprecated("parse");module.exports.compose=deprecated("compose");module.exports.addConstructor=deprecated("addConstructor")},6823:function(module,exports,__webpack_require__){"use strict";var common=__webpack_require__(538);var YAMLException=__webpack_require__(642);var Mark=__webpack_require__(6824);var DEFAULT_SAFE_SCHEMA=__webpack_require__(643);var DEFAULT_FULL_SCHEMA=__webpack_require__(842);var _hasOwnProperty=Object.prototype.hasOwnProperty;var CONTEXT_FLOW_IN=1;var CONTEXT_FLOW_OUT=2;var CONTEXT_BLOCK_IN=3;var CONTEXT_BLOCK_OUT=4;var CHOMPING_CLIP=1;var CHOMPING_STRIP=2;var CHOMPING_KEEP=3;var PATTERN_NON_PRINTABLE=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/;var PATTERN_NON_ASCII_LINE_BREAKS=/[\x85\u2028\u2029]/;var PATTERN_FLOW_INDICATORS=/[,\[\]\{\}]/;var PATTERN_TAG_HANDLE=/^(?:!|!!|![a-z\-]+!)$/i;var PATTERN_TAG_URI=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function is_EOL(c){return 10===c||13===c}function is_WHITE_SPACE(c){return 9===c||32===c}function is_WS_OR_EOL(c){return 9===c||32===c||10===c||13===c}function is_FLOW_INDICATOR(c){return 44===c||91===c||93===c||123===c||125===c}function fromHexCode(c){var lc;if(48<=c&&c<=57)return c-48;lc=32|c;if(97<=lc&&lc<=102)return lc-97+10;return-1}function escapedHexLen(c){if(120===c)return 2;if(117===c)return 4;if(85===c)return 8;return 0}function fromDecimalCode(c){if(48<=c&&c<=57)return c-48;return-1}function simpleEscapeSequence(c){return 48===c?"\0":97===c?"":98===c?"\b":116===c?"\t":9===c?"\t":110===c?"\n":118===c?"\v":102===c?"\f":114===c?"\r":101===c?"":32===c?" ":34===c?'"':47===c?"/":92===c?"\\":78===c?"":95===c?"":76===c?"\u2028":80===c?"\u2029":""}function charFromCodepoint(c){if(c<=65535)return String.fromCharCode(c);return String.fromCharCode(55296+(c-65536>>10),56320+(c-65536&1023))}var simpleEscapeCheck=new Array(256);var simpleEscapeMap=new Array(256);for(var i=0;i<256;i++){simpleEscapeCheck[i]=simpleEscapeSequence(i)?1:0;simpleEscapeMap[i]=simpleEscapeSequence(i)}function State(input,options){this.input=input;this.filename=options["filename"]||null;this.schema=options["schema"]||DEFAULT_FULL_SCHEMA;this.onWarning=options["onWarning"]||null;this.legacy=options["legacy"]||false;this.implicitTypes=this.schema.compiledImplicit;this.typeMap=this.schema.compiledTypeMap;this.length=input.length;this.position=0;this.line=0;this.lineStart=0;this.lineIndent=0;this.documents=[]}function generateError(state,message){return new YAMLException(message,new Mark(state.filename,state.input,state.position,state.line,state.position-state.lineStart))}function throwError(state,message){throw generateError(state,message)}function throwWarning(state,message){state.onWarning&&state.onWarning.call(null,generateError(state,message))}var directiveHandlers={YAML:function handleYamlDirective(state,name,args){var match,major,minor;null!==state.version&&throwError(state,"duplication of %YAML directive");1!==args.length&&throwError(state,"YAML directive accepts exactly one argument");match=/^([0-9]+)\.([0-9]+)$/.exec(args[0]);null===match&&throwError(state,"ill-formed argument of the YAML directive");major=parseInt(match[1],10);minor=parseInt(match[2],10);1!==major&&throwError(state,"unacceptable YAML version of the document");state.version=args[0];state.checkLineBreaks=minor<2;1!==minor&&2!==minor&&throwWarning(state,"unsupported YAML version of the document")},TAG:function handleTagDirective(state,name,args){var handle,prefix;2!==args.length&&throwError(state,"TAG directive accepts exactly two arguments");handle=args[0];prefix=args[1];PATTERN_TAG_HANDLE.test(handle)||throwError(state,"ill-formed tag handle (first argument) of the TAG directive");_hasOwnProperty.call(state.tagMap,handle)&&throwError(state,'there is a previously declared suffix for "'+handle+'" tag handle');PATTERN_TAG_URI.test(prefix)||throwError(state,"ill-formed tag prefix (second argument) of the TAG directive");state.tagMap[handle]=prefix}};function captureSegment(state,start,end,checkJson){var _position,_length,_character,_result;if(start<end){_result=state.input.slice(start,end);if(checkJson)for(_position=0,_length=_result.length;_position<_length;_position+=1){_character=_result.charCodeAt(_position);9===_character||32<=_character&&_character<=1114111||throwError(state,"expected valid JSON character")}state.result+=_result}}function mergeMappings(state,destination,source){var sourceKeys,key,index,quantity;common.isObject(source)||throwError(state,"cannot merge mappings; the provided source object is unacceptable");sourceKeys=Object.keys(source);for(index=0,quantity=sourceKeys.length;index<quantity;index+=1){key=sourceKeys[index];_hasOwnProperty.call(destination,key)||(destination[key]=source[key])}}function storeMappingPair(state,_result,keyTag,keyNode,valueNode){var index,quantity;keyNode=String(keyNode);null===_result&&(_result={});if("tag:yaml.org,2002:merge"===keyTag)if(Array.isArray(valueNode))for(index=0,quantity=valueNode.length;index<quantity;index+=1)mergeMappings(state,_result,valueNode[index]);else mergeMappings(state,_result,valueNode);else _result[keyNode]=valueNode;return _result}function readLineBreak(state){var ch;ch=state.input.charCodeAt(state.position);if(10===ch)state.position++;else if(13===ch){state.position++;10===state.input.charCodeAt(state.position)&&state.position++}else throwError(state,"a line break is expected");state.line+=1;state.lineStart=state.position}function skipSeparationSpace(state,allowComments,checkIndent){var lineBreaks=0,ch=state.input.charCodeAt(state.position);while(0!==ch){while(is_WHITE_SPACE(ch))ch=state.input.charCodeAt(++state.position);if(allowComments&&35===ch)do{ch=state.input.charCodeAt(++state.position)}while(10!==ch&&13!==ch&&0!==ch);if(!is_EOL(ch))break;readLineBreak(state);ch=state.input.charCodeAt(state.position);lineBreaks++;state.lineIndent=0;while(32===ch){state.lineIndent++;ch=state.input.charCodeAt(++state.position)}}-1!==checkIndent&&0!==lineBreaks&&state.lineIndent<checkIndent&&throwWarning(state,"deficient indentation");return lineBreaks}function testDocumentSeparator(state){var ch,_position=state.position;ch=state.input.charCodeAt(_position);if((45===ch||46===ch)&&state.input.charCodeAt(_position+1)===ch&&state.input.charCodeAt(_position+2)===ch){_position+=3;ch=state.input.charCodeAt(_position);if(0===ch||is_WS_OR_EOL(ch))return true}return false}function writeFoldedLines(state,count){1===count?state.result+=" ":count>1&&(state.result+=common.repeat("\n",count-1))}function readPlainScalar(state,nodeIndent,withinFlowCollection){var preceding,following,captureStart,captureEnd,hasPendingContent,_line,_lineStart,_lineIndent,ch,_kind=state.kind,_result=state.result;ch=state.input.charCodeAt(state.position);if(is_WS_OR_EOL(ch)||is_FLOW_INDICATOR(ch)||35===ch||38===ch||42===ch||33===ch||124===ch||62===ch||39===ch||34===ch||37===ch||64===ch||96===ch)return false;if(63===ch||45===ch){following=state.input.charCodeAt(state.position+1);if(is_WS_OR_EOL(following)||withinFlowCollection&&is_FLOW_INDICATOR(following))return false}state.kind="scalar";state.result="";captureStart=captureEnd=state.position;hasPendingContent=false;while(0!==ch){if(58===ch){following=state.input.charCodeAt(state.position+1);if(is_WS_OR_EOL(following)||withinFlowCollection&&is_FLOW_INDICATOR(following))break}else if(35===ch){preceding=state.input.charCodeAt(state.position-1);if(is_WS_OR_EOL(preceding))break}else{if(state.position===state.lineStart&&testDocumentSeparator(state)||withinFlowCollection&&is_FLOW_INDICATOR(ch))break;if(is_EOL(ch)){_line=state.line;_lineStart=state.lineStart;_lineIndent=state.lineIndent;skipSeparationSpace(state,false,-1);if(state.lineIndent>=nodeIndent){hasPendingContent=true;ch=state.input.charCodeAt(state.position);continue}state.position=captureEnd;state.line=_line;state.lineStart=_lineStart;state.lineIndent=_lineIndent;break}}if(hasPendingContent){captureSegment(state,captureStart,captureEnd,false);writeFoldedLines(state,state.line-_line);captureStart=captureEnd=state.position;hasPendingContent=false}is_WHITE_SPACE(ch)||(captureEnd=state.position+1);ch=state.input.charCodeAt(++state.position)}captureSegment(state,captureStart,captureEnd,false);if(state.result)return true;state.kind=_kind;state.result=_result;return false}function readSingleQuotedScalar(state,nodeIndent){var ch,captureStart,captureEnd;ch=state.input.charCodeAt(state.position);if(39!==ch)return false;state.kind="scalar";state.result="";state.position++;captureStart=captureEnd=state.position;while(0!==(ch=state.input.charCodeAt(state.position)))if(39===ch){captureSegment(state,captureStart,state.position,true);ch=state.input.charCodeAt(++state.position);if(39!==ch)return true;captureStart=captureEnd=state.position;state.position++}else if(is_EOL(ch)){captureSegment(state,captureStart,captureEnd,true);writeFoldedLines(state,skipSeparationSpace(state,false,nodeIndent));captureStart=captureEnd=state.position}else if(state.position===state.lineStart&&testDocumentSeparator(state))throwError(state,"unexpected end of the document within a single quoted scalar");else{state.position++;captureEnd=state.position}throwError(state,"unexpected end of the stream within a single quoted scalar")}function readDoubleQuotedScalar(state,nodeIndent){var captureStart,captureEnd,hexLength,hexResult,tmp,ch;ch=state.input.charCodeAt(state.position);if(34!==ch)return false;state.kind="scalar";state.result="";state.position++;captureStart=captureEnd=state.position;while(0!==(ch=state.input.charCodeAt(state.position))){if(34===ch){captureSegment(state,captureStart,state.position,true);state.position++;return true}if(92===ch){captureSegment(state,captureStart,state.position,true);ch=state.input.charCodeAt(++state.position);if(is_EOL(ch))skipSeparationSpace(state,false,nodeIndent);else if(ch<256&&simpleEscapeCheck[ch]){state.result+=simpleEscapeMap[ch];state.position++}else if((tmp=escapedHexLen(ch))>0){hexLength=tmp;hexResult=0;for(;hexLength>0;hexLength--){ch=state.input.charCodeAt(++state.position);(tmp=fromHexCode(ch))>=0?hexResult=(hexResult<<4)+tmp:throwError(state,"expected hexadecimal character")}state.result+=charFromCodepoint(hexResult);state.position++}else throwError(state,"unknown escape sequence");captureStart=captureEnd=state.position}else if(is_EOL(ch)){captureSegment(state,captureStart,captureEnd,true);writeFoldedLines(state,skipSeparationSpace(state,false,nodeIndent));captureStart=captureEnd=state.position}else if(state.position===state.lineStart&&testDocumentSeparator(state))throwError(state,"unexpected end of the document within a double quoted scalar");else{state.position++;captureEnd=state.position}}throwError(state,"unexpected end of the stream within a double quoted scalar")}function readFlowCollection(state,nodeIndent){var _line,_result,following,terminator,isPair,isExplicitPair,isMapping,keyNode,keyTag,valueNode,ch,readNext=true,_tag=state.tag,_anchor=state.anchor;ch=state.input.charCodeAt(state.position);if(91===ch){terminator=93;isMapping=false;_result=[]}else{if(123!==ch)return false;terminator=125;isMapping=true;_result={}}null!==state.anchor&&(state.anchorMap[state.anchor]=_result);ch=state.input.charCodeAt(++state.position);while(0!==ch){skipSeparationSpace(state,true,nodeIndent);ch=state.input.charCodeAt(state.position);if(ch===terminator){state.position++;state.tag=_tag;state.anchor=_anchor;state.kind=isMapping?"mapping":"sequence";state.result=_result;return true}readNext||throwError(state,"missed comma between flow collection entries");keyTag=keyNode=valueNode=null;isPair=isExplicitPair=false;if(63===ch){following=state.input.charCodeAt(state.position+1);if(is_WS_OR_EOL(following)){isPair=isExplicitPair=true;state.position++;skipSeparationSpace(state,true,nodeIndent)}}_line=state.line;composeNode(state,nodeIndent,CONTEXT_FLOW_IN,false,true);keyTag=state.tag;keyNode=state.result;skipSeparationSpace(state,true,nodeIndent);ch=state.input.charCodeAt(state.position);if((isExplicitPair||state.line===_line)&&58===ch){isPair=true;ch=state.input.charCodeAt(++state.position);skipSeparationSpace(state,true,nodeIndent);composeNode(state,nodeIndent,CONTEXT_FLOW_IN,false,true);valueNode=state.result}isMapping?storeMappingPair(state,_result,keyTag,keyNode,valueNode):isPair?_result.push(storeMappingPair(state,null,keyTag,keyNode,valueNode)):_result.push(keyNode);skipSeparationSpace(state,true,nodeIndent);ch=state.input.charCodeAt(state.position);if(44===ch){readNext=true;ch=state.input.charCodeAt(++state.position)}else readNext=false}throwError(state,"unexpected end of the stream within a flow collection")}function readBlockScalar(state,nodeIndent){var captureStart,folding,tmp,ch,chomping=CHOMPING_CLIP,detectedIndent=false,textIndent=nodeIndent,emptyLines=0,atMoreIndented=false;ch=state.input.charCodeAt(state.position);if(124===ch)folding=false;else{if(62!==ch)return false;folding=true}state.kind="scalar";state.result="";while(0!==ch){ch=state.input.charCodeAt(++state.position);if(43===ch||45===ch)CHOMPING_CLIP===chomping?chomping=43===ch?CHOMPING_KEEP:CHOMPING_STRIP:throwError(state,"repeat of a chomping mode identifier");else{if(!((tmp=fromDecimalCode(ch))>=0))break;if(0===tmp)throwError(state,"bad explicit indentation width of a block scalar; it cannot be less than one");else if(detectedIndent)throwError(state,"repeat of an indentation width identifier");else{textIndent=nodeIndent+tmp-1;detectedIndent=true}}}if(is_WHITE_SPACE(ch)){do{ch=state.input.charCodeAt(++state.position)}while(is_WHITE_SPACE(ch));if(35===ch)do{ch=state.input.charCodeAt(++state.position)}while(!is_EOL(ch)&&0!==ch)}while(0!==ch){readLineBreak(state);state.lineIndent=0;ch=state.input.charCodeAt(state.position);while((!detectedIndent||state.lineIndent<textIndent)&&32===ch){state.lineIndent++;ch=state.input.charCodeAt(++state.position)}!detectedIndent&&state.lineIndent>textIndent&&(textIndent=state.lineIndent);if(is_EOL(ch)){emptyLines++;continue}if(state.lineIndent<textIndent){chomping===CHOMPING_KEEP?state.result+=common.repeat("\n",emptyLines):chomping===CHOMPING_CLIP&&detectedIndent&&(state.result+="\n");break}if(folding)if(is_WHITE_SPACE(ch)){atMoreIndented=true;state.result+=common.repeat("\n",emptyLines+1)}else if(atMoreIndented){atMoreIndented=false;state.result+=common.repeat("\n",emptyLines+1)}else 0===emptyLines?detectedIndent&&(state.result+=" "):state.result+=common.repeat("\n",emptyLines);else state.result+=detectedIndent?common.repeat("\n",emptyLines+1):common.repeat("\n",emptyLines);detectedIndent=true;emptyLines=0;captureStart=state.position;while(!is_EOL(ch)&&0!==ch)ch=state.input.charCodeAt(++state.position);captureSegment(state,captureStart,state.position,false)}return true}function readBlockSequence(state,nodeIndent){var _line,following,ch,_tag=state.tag,_anchor=state.anchor,_result=[],detected=false;null!==state.anchor&&(state.anchorMap[state.anchor]=_result);ch=state.input.charCodeAt(state.position);while(0!==ch){if(45!==ch)break;following=state.input.charCodeAt(state.position+1);if(!is_WS_OR_EOL(following))break;detected=true;state.position++;if(skipSeparationSpace(state,true,-1)&&state.lineIndent<=nodeIndent){_result.push(null);ch=state.input.charCodeAt(state.position);continue}_line=state.line;composeNode(state,nodeIndent,CONTEXT_BLOCK_IN,false,true);_result.push(state.result);skipSeparationSpace(state,true,-1);ch=state.input.charCodeAt(state.position);if((state.line===_line||state.lineIndent>nodeIndent)&&0!==ch)throwError(state,"bad indentation of a sequence entry");else if(state.lineIndent<nodeIndent)break}if(detected){state.tag=_tag;state.anchor=_anchor;state.kind="sequence";state.result=_result;return true}return false}function readBlockMapping(state,nodeIndent,flowIndent){var following,allowCompact,_line,ch,_tag=state.tag,_anchor=state.anchor,_result={},keyTag=null,keyNode=null,valueNode=null,atExplicitKey=false,detected=false;null!==state.anchor&&(state.anchorMap[state.anchor]=_result);ch=state.input.charCodeAt(state.position);while(0!==ch){following=state.input.charCodeAt(state.position+1);_line=state.line;if(63!==ch&&58!==ch||!is_WS_OR_EOL(following)){if(!composeNode(state,flowIndent,CONTEXT_FLOW_OUT,false,true))break;if(state.line===_line){ch=state.input.charCodeAt(state.position);while(is_WHITE_SPACE(ch))ch=state.input.charCodeAt(++state.position);if(58===ch){ch=state.input.charCodeAt(++state.position);is_WS_OR_EOL(ch)||throwError(state,"a whitespace character is expected after the key-value separator within a block mapping");if(atExplicitKey){storeMappingPair(state,_result,keyTag,keyNode,null);keyTag=keyNode=valueNode=null}detected=true;atExplicitKey=false;allowCompact=false;keyTag=state.tag;keyNode=state.result}else{if(!detected){state.tag=_tag;state.anchor=_anchor;return true}throwError(state,"can not read an implicit mapping pair; a colon is missed")}}else{if(!detected){state.tag=_tag;state.anchor=_anchor;return true}throwError(state,"can not read a block mapping entry; a multiline key may not be an implicit key")}}else{if(63===ch){if(atExplicitKey){storeMappingPair(state,_result,keyTag,keyNode,null);keyTag=keyNode=valueNode=null}detected=true;atExplicitKey=true;allowCompact=true}else if(atExplicitKey){atExplicitKey=false;allowCompact=true}else throwError(state,"incomplete explicit mapping pair; a key node is missed");state.position+=1;ch=following}if(state.line===_line||state.lineIndent>nodeIndent){composeNode(state,nodeIndent,CONTEXT_BLOCK_OUT,true,allowCompact)&&(atExplicitKey?keyNode=state.result:valueNode=state.result);if(!atExplicitKey){storeMappingPair(state,_result,keyTag,keyNode,valueNode);keyTag=keyNode=valueNode=null}skipSeparationSpace(state,true,-1);ch=state.input.charCodeAt(state.position)}if(state.lineIndent>nodeIndent&&0!==ch)throwError(state,"bad indentation of a mapping entry");else if(state.lineIndent<nodeIndent)break}atExplicitKey&&storeMappingPair(state,_result,keyTag,keyNode,null);if(detected){state.tag=_tag;state.anchor=_anchor;state.kind="mapping";state.result=_result}return detected}function readTagProperty(state){var _position,tagHandle,tagName,ch,isVerbatim=false,isNamed=false;ch=state.input.charCodeAt(state.position);if(33!==ch)return false;null!==state.tag&&throwError(state,"duplication of a tag property");ch=state.input.charCodeAt(++state.position);if(60===ch){isVerbatim=true;ch=state.input.charCodeAt(++state.position)}else if(33===ch){isNamed=true;tagHandle="!!";ch=state.input.charCodeAt(++state.position)}else tagHandle="!";_position=state.position;if(isVerbatim){do{ch=state.input.charCodeAt(++state.position)}while(0!==ch&&62!==ch);if(state.position<state.length){tagName=state.input.slice(_position,state.position);ch=state.input.charCodeAt(++state.position)}else throwError(state,"unexpected end of the stream within a verbatim tag")}else{while(0!==ch&&!is_WS_OR_EOL(ch)){if(33===ch)if(isNamed)throwError(state,"tag suffix cannot contain exclamation marks");else{tagHandle=state.input.slice(_position-1,state.position+1);PATTERN_TAG_HANDLE.test(tagHandle)||throwError(state,"named tag handle cannot contain such characters");isNamed=true;_position=state.position+1}ch=state.input.charCodeAt(++state.position)}tagName=state.input.slice(_position,state.position);PATTERN_FLOW_INDICATORS.test(tagName)&&throwError(state,"tag suffix cannot contain flow indicator characters")}tagName&&!PATTERN_TAG_URI.test(tagName)&&throwError(state,"tag name cannot contain such characters: "+tagName);isVerbatim?state.tag=tagName:_hasOwnProperty.call(state.tagMap,tagHandle)?state.tag=state.tagMap[tagHandle]+tagName:"!"===tagHandle?state.tag="!"+tagName:"!!"===tagHandle?state.tag="tag:yaml.org,2002:"+tagName:throwError(state,'undeclared tag handle "'+tagHandle+'"');return true}function readAnchorProperty(state){var _position,ch;ch=state.input.charCodeAt(state.position);if(38!==ch)return false;null!==state.anchor&&throwError(state,"duplication of an anchor property");ch=state.input.charCodeAt(++state.position);_position=state.position;while(0!==ch&&!is_WS_OR_EOL(ch)&&!is_FLOW_INDICATOR(ch))ch=state.input.charCodeAt(++state.position);state.position===_position&&throwError(state,"name of an anchor node must contain at least one character");state.anchor=state.input.slice(_position,state.position);return true}function readAlias(state){var _position,alias,ch;ch=state.input.charCodeAt(state.position);if(42!==ch)return false;ch=state.input.charCodeAt(++state.position);_position=state.position;while(0!==ch&&!is_WS_OR_EOL(ch)&&!is_FLOW_INDICATOR(ch))ch=state.input.charCodeAt(++state.position);state.position===_position&&throwError(state,"name of an alias node must contain at least one character");alias=state.input.slice(_position,state.position);state.anchorMap.hasOwnProperty(alias)||throwError(state,'unidentified alias "'+alias+'"');state.result=state.anchorMap[alias];skipSeparationSpace(state,true,-1);return true}function composeNode(state,parentIndent,nodeContext,allowToSeek,allowCompact){var allowBlockStyles,allowBlockScalars,allowBlockCollections,typeIndex,typeQuantity,type,flowIndent,blockIndent,indentStatus=1,atNewLine=false,hasContent=false;state.tag=null;state.anchor=null;state.kind=null;state.result=null;allowBlockStyles=allowBlockScalars=allowBlockCollections=CONTEXT_BLOCK_OUT===nodeContext||CONTEXT_BLOCK_IN===nodeContext;if(allowToSeek&&skipSeparationSpace(state,true,-1)){atNewLine=true;state.lineIndent>parentIndent?indentStatus=1:state.lineIndent===parentIndent?indentStatus=0:state.lineIndent<parentIndent&&(indentStatus=-1)}if(1===indentStatus)while(readTagProperty(state)||readAnchorProperty(state))if(skipSeparationSpace(state,true,-1)){atNewLine=true;allowBlockCollections=allowBlockStyles;state.lineIndent>parentIndent?indentStatus=1:state.lineIndent===parentIndent?indentStatus=0:state.lineIndent<parentIndent&&(indentStatus=-1)}else allowBlockCollections=false;allowBlockCollections&&(allowBlockCollections=atNewLine||allowCompact);if(1===indentStatus||CONTEXT_BLOCK_OUT===nodeContext){flowIndent=CONTEXT_FLOW_IN===nodeContext||CONTEXT_FLOW_OUT===nodeContext?parentIndent:parentIndent+1;blockIndent=state.position-state.lineStart;if(1===indentStatus)if(allowBlockCollections&&(readBlockSequence(state,blockIndent)||readBlockMapping(state,blockIndent,flowIndent))||readFlowCollection(state,flowIndent))hasContent=true;else{if(allowBlockScalars&&readBlockScalar(state,flowIndent)||readSingleQuotedScalar(state,flowIndent)||readDoubleQuotedScalar(state,flowIndent))hasContent=true;else if(readAlias(state)){hasContent=true;null===state.tag&&null===state.anchor||throwError(state,"alias node should not have any properties")}else if(readPlainScalar(state,flowIndent,CONTEXT_FLOW_IN===nodeContext)){hasContent=true;null===state.tag&&(state.tag="?")}null!==state.anchor&&(state.anchorMap[state.anchor]=state.result)}else 0===indentStatus&&(hasContent=allowBlockCollections&&readBlockSequence(state,blockIndent))}if(null!==state.tag&&"!"!==state.tag)if("?"===state.tag)for(typeIndex=0,typeQuantity=state.implicitTypes.length;typeIndex<typeQuantity;typeIndex+=1){type=state.implicitTypes[typeIndex];if(type.resolve(state.result)){state.result=type.construct(state.result);state.tag=type.tag;null!==state.anchor&&(state.anchorMap[state.anchor]=state.result);break}}else if(_hasOwnProperty.call(state.typeMap,state.tag)){type=state.typeMap[state.tag];null!==state.result&&type.kind!==state.kind&&throwError(state,"unacceptable node kind for !<"+state.tag+'> tag; it should be "'+type.kind+'", not "'+state.kind+'"');if(type.resolve(state.result)){state.result=type.construct(state.result);null!==state.anchor&&(state.anchorMap[state.anchor]=state.result)}else throwError(state,"cannot resolve a node with !<"+state.tag+"> explicit tag")}else throwError(state,"unknown tag !<"+state.tag+">");return null!==state.tag||null!==state.anchor||hasContent}function readDocument(state){var _position,directiveName,directiveArgs,ch,documentStart=state.position,hasDirectives=false;state.version=null;state.checkLineBreaks=state.legacy;state.tagMap={};state.anchorMap={};while(0!==(ch=state.input.charCodeAt(state.position))){skipSeparationSpace(state,true,-1);ch=state.input.charCodeAt(state.position);if(state.lineIndent>0||37!==ch)break;hasDirectives=true;ch=state.input.charCodeAt(++state.position);_position=state.position;while(0!==ch&&!is_WS_OR_EOL(ch))ch=state.input.charCodeAt(++state.position);directiveName=state.input.slice(_position,state.position);directiveArgs=[];directiveName.length<1&&throwError(state,"directive name must not be less than one character in length");while(0!==ch){while(is_WHITE_SPACE(ch))ch=state.input.charCodeAt(++state.position);if(35===ch){do{ch=state.input.charCodeAt(++state.position)}while(0!==ch&&!is_EOL(ch));break}if(is_EOL(ch))break;_position=state.position;while(0!==ch&&!is_WS_OR_EOL(ch))ch=state.input.charCodeAt(++state.position);directiveArgs.push(state.input.slice(_position,state.position))}0!==ch&&readLineBreak(state);_hasOwnProperty.call(directiveHandlers,directiveName)?directiveHandlers[directiveName](state,directiveName,directiveArgs):throwWarning(state,'unknown document directive "'+directiveName+'"')}skipSeparationSpace(state,true,-1);if(0===state.lineIndent&&45===state.input.charCodeAt(state.position)&&45===state.input.charCodeAt(state.position+1)&&45===state.input.charCodeAt(state.position+2)){state.position+=3;skipSeparationSpace(state,true,-1)}else hasDirectives&&throwError(state,"directives end mark is expected");composeNode(state,state.lineIndent-1,CONTEXT_BLOCK_OUT,false,true);skipSeparationSpace(state,true,-1);state.checkLineBreaks&&PATTERN_NON_ASCII_LINE_BREAKS.test(state.input.slice(documentStart,state.position))&&throwWarning(state,"non-ASCII line breaks are interpreted as content");state.documents.push(state.result);if(state.position===state.lineStart&&testDocumentSeparator(state)){if(46===state.input.charCodeAt(state.position)){state.position+=3;skipSeparationSpace(state,true,-1)}return}if(!(state.position<state.length-1))return;throwError(state,"end of the stream or a document separator is expected")}function loadDocuments(input,options){input=String(input);options=options||{};if(0!==input.length){10!==input.charCodeAt(input.length-1)&&13!==input.charCodeAt(input.length-1)&&(input+="\n");65279===input.charCodeAt(0)&&(input=input.slice(1))}var state=new State(input,options);PATTERN_NON_PRINTABLE.test(state.input)&&throwError(state,"the stream contains non-printable characters");state.input+="\0";while(32===state.input.charCodeAt(state.position)){state.lineIndent+=1;state.position+=1}while(state.position<state.length-1)readDocument(state);return state.documents}function loadAll(input,iterator,options){var index,length,documents=loadDocuments(input,options);for(index=0,length=documents.length;index<length;index+=1)iterator(documents[index])}function load(input,options){var documents=loadDocuments(input,options);if(0===documents.length)return;if(1===documents.length)return documents[0];throw new YAMLException("expected a single document in the stream, but found more")}function safeLoadAll(input,output,options){loadAll(input,output,common.extend({schema:DEFAULT_SAFE_SCHEMA},options))}function safeLoad(input,options){return load(input,common.extend({schema:DEFAULT_SAFE_SCHEMA},options))}module.exports.loadAll=loadAll;module.exports.load=load;module.exports.safeLoadAll=safeLoadAll;module.exports.safeLoad=safeLoad},6824:function(module,exports,__webpack_require__){"use strict";var common=__webpack_require__(538);function Mark(name,buffer,position,line,column){this.name=name;this.buffer=buffer;this.position=position;this.line=line;this.column=column}Mark.prototype.getSnippet=function getSnippet(indent,maxLength){var head,start,tail,end,snippet;if(!this.buffer)return null;indent=indent||4;maxLength=maxLength||75;head="";start=this.position;while(start>0&&-1==="\0\r\n\u2028\u2029".indexOf(this.buffer.charAt(start-1))){start-=1;if(this.position-start>maxLength/2-1){head=" ... ";start+=5;break}}tail="";end=this.position;while(end<this.buffer.length&&-1==="\0\r\n\u2028\u2029".indexOf(this.buffer.charAt(end))){end+=1;if(end-this.position>maxLength/2-1){tail=" ... ";end-=5;break}}snippet=this.buffer.slice(start,end);return common.repeat(" ",indent)+head+snippet+tail+"\n"+common.repeat(" ",indent+this.position-start+head.length)+"^"};Mark.prototype.toString=function toString(compact){var snippet,where="";this.name&&(where+='in "'+this.name+'" ');where+="at line "+(this.line+1)+", column "+(this.column+1);if(!compact){snippet=this.getSnippet();snippet&&(where+=":\n"+snippet)}return where};module.exports=Mark},6825:function(module,exports,__webpack_require__){"use strict";var Type=__webpack_require__(104);module.exports=new Type("tag:yaml.org,2002:str",{kind:"scalar",construct:function(data){return null!==data?data:""}})},6826:function(module,exports,__webpack_require__){"use strict";var Type=__webpack_require__(104);module.exports=new Type("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(data){return null!==data?data:[]}})},6827:function(module,exports,__webpack_require__){"use strict";var Type=__webpack_require__(104);module.exports=new Type("tag:yaml.org,2002:map",{kind:"mapping",construct:function(data){return null!==data?data:{}}})},6828:function(module,exports,__webpack_require__){"use strict";var Type=__webpack_require__(104);function resolveYamlNull(data){if(null===data)return true;var max=data.length;return 1===max&&"~"===data||4===max&&("null"===data||"Null"===data||"NULL"===data)}function constructYamlNull(){return null}function isNull(object){return null===object}module.exports=new Type("tag:yaml.org,2002:null",{kind:"scalar",resolve:resolveYamlNull,construct:constructYamlNull,predicate:isNull,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"}},defaultStyle:"lowercase"})},6829:function(module,exports,__webpack_require__){"use strict";var Type=__webpack_require__(104);function resolveYamlBoolean(data){if(null===data)return false;var max=data.length;return 4===max&&("true"===data||"True"===data||"TRUE"===data)||5===max&&("false"===data||"False"===data||"FALSE"===data)}function constructYamlBoolean(data){return"true"===data||"True"===data||"TRUE"===data}function isBoolean(object){return"[object Boolean]"===Object.prototype.toString.call(object)}module.exports=new Type("tag:yaml.org,2002:bool",{kind:"scalar",resolve:resolveYamlBoolean,construct:constructYamlBoolean,predicate:isBoolean,represent:{lowercase:function(object){return object?"true":"false"},uppercase:function(object){return object?"TRUE":"FALSE"},camelcase:function(object){return object?"True":"False"}},defaultStyle:"lowercase"})},6830:function(module,exports,__webpack_require__){"use strict";var common=__webpack_require__(538);var Type=__webpack_require__(104);function isHexCode(c){return 48<=c&&c<=57||65<=c&&c<=70||97<=c&&c<=102}function isOctCode(c){return 48<=c&&c<=55}function isDecCode(c){return 48<=c&&c<=57}function resolveYamlInteger(data){if(null===data)return false;var ch,max=data.length,index=0,hasDigits=false;if(!max)return false;ch=data[index];"-"!==ch&&"+"!==ch||(ch=data[++index]);if("0"===ch){if(index+1===max)return true;ch=data[++index];if("b"===ch){index++;for(;index<max;index++){ch=data[index];if("_"===ch)continue;if("0"!==ch&&"1"!==ch)return false;hasDigits=true}return hasDigits}if("x"===ch){index++;for(;index<max;index++){ch=data[index];if("_"===ch)continue;if(!isHexCode(data.charCodeAt(index)))return false;hasDigits=true}return hasDigits}for(;index<max;index++){ch=data[index];if("_"===ch)continue;if(!isOctCode(data.charCodeAt(index)))return false;hasDigits=true}return hasDigits}for(;index<max;index++){ch=data[index];if("_"===ch)continue;if(":"===ch)break;if(!isDecCode(data.charCodeAt(index)))return false;hasDigits=true}if(!hasDigits)return false;if(":"!==ch)return true;return/^(:[0-5]?[0-9])+$/.test(data.slice(index))}function constructYamlInteger(data){var ch,base,value=data,sign=1,digits=[];-1!==value.indexOf("_")&&(value=value.replace(/_/g,""));ch=value[0];if("-"===ch||"+"===ch){"-"===ch&&(sign=-1);value=value.slice(1);ch=value[0]}if("0"===value)return 0;if("0"===ch){if("b"===value[1])return sign*parseInt(value.slice(2),2);if("x"===value[1])return sign*parseInt(value,16);return sign*parseInt(value,8)}if(-1!==value.indexOf(":")){value.split(":").forEach(function(v){digits.unshift(parseInt(v,10))});value=0;base=1;digits.forEach(function(d){value+=d*base;base*=60});return sign*value}return sign*parseInt(value,10)}function isInteger(object){return"[object Number]"===Object.prototype.toString.call(object)&&0===object%1&&!common.isNegativeZero(object)}module.exports=new Type("tag:yaml.org,2002:int",{kind:"scalar",resolve:resolveYamlInteger,construct:constructYamlInteger,predicate:isInteger,represent:{binary:function(object){return"0b"+object.toString(2)},octal:function(object){return"0"+object.toString(8)},decimal:function(object){return object.toString(10)},hexadecimal:function(object){return"0x"+object.toString(16).toUpperCase()}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}})},6831:function(module,exports,__webpack_require__){"use strict";var common=__webpack_require__(538);var Type=__webpack_require__(104);var YAML_FLOAT_PATTERN=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)\\.[0-9_]*(?:[eE][-+][0-9]+)?|\\.[0-9_]+(?:[eE][-+][0-9]+)?|[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\\.[0-9_]*|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function resolveYamlFloat(data){if(null===data)return false;if(!YAML_FLOAT_PATTERN.test(data))return false;return true}function constructYamlFloat(data){var value,sign,base,digits;value=data.replace(/_/g,"").toLowerCase();sign="-"===value[0]?-1:1;digits=[];0<="+-".indexOf(value[0])&&(value=value.slice(1));if(".inf"===value)return 1===sign?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY;if(".nan"===value)return NaN;if(0<=value.indexOf(":")){value.split(":").forEach(function(v){digits.unshift(parseFloat(v,10))});value=0;base=1;digits.forEach(function(d){value+=d*base;base*=60});return sign*value}return sign*parseFloat(value,10)}function representYamlFloat(object,style){if(isNaN(object))switch(style){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===object)switch(style){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===object)switch(style){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(common.isNegativeZero(object))return"-0.0";return object.toString(10)}function isFloat(object){return"[object Number]"===Object.prototype.toString.call(object)&&(0!==object%1||common.isNegativeZero(object))}module.exports=new Type("tag:yaml.org,2002:float",{kind:"scalar",resolve:resolveYamlFloat,construct:constructYamlFloat,predicate:isFloat,represent:representYamlFloat,defaultStyle:"lowercase"})},6832:function(module,exports,__webpack_require__){"use strict";var Type=__webpack_require__(104);var YAML_TIMESTAMP_REGEXP=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?)?$");function resolveYamlTimestamp(data){if(null===data)return false;if(null===YAML_TIMESTAMP_REGEXP.exec(data))return false;return true}function constructYamlTimestamp(data){var match,year,month,day,hour,minute,second,tz_hour,tz_minute,date,fraction=0,delta=null;match=YAML_TIMESTAMP_REGEXP.exec(data);if(null===match)throw new Error("Date resolve error");year=+match[1];month=+match[2]-1;day=+match[3];if(!match[4])return new Date(Date.UTC(year,month,day));hour=+match[4];minute=+match[5];second=+match[6];if(match[7]){fraction=match[7].slice(0,3);while(fraction.length<3)fraction+="0";fraction=+fraction}if(match[9]){tz_hour=+match[10];tz_minute=+(match[11]||0);delta=6e4*(60*tz_hour+tz_minute);"-"===match[9]&&(delta=-delta)}date=new Date(Date.UTC(year,month,day,hour,minute,second,fraction));delta&&date.setTime(date.getTime()-delta);return date}function representYamlTimestamp(object){return object.toISOString()}module.exports=new Type("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:resolveYamlTimestamp,construct:constructYamlTimestamp,instanceOf:Date,represent:representYamlTimestamp})},6833:function(module,exports,__webpack_require__){"use strict";var Type=__webpack_require__(104);function resolveYamlMerge(data){return"<<"===data||null===data}module.exports=new Type("tag:yaml.org,2002:merge",{kind:"scalar",resolve:resolveYamlMerge})},6834:function(module,exports,__webpack_require__){"use strict";var NodeBuffer=__webpack_require__(6835).Buffer;var Type=__webpack_require__(104);var BASE64_MAP="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\n\r";function resolveYamlBinary(data){if(null===data)return false;var code,idx,bitlen=0,max=data.length,map=BASE64_MAP;for(idx=0;idx<max;idx++){code=map.indexOf(data.charAt(idx));if(code>64)continue;if(code<0)return false;bitlen+=6}return bitlen%8===0}function constructYamlBinary(data){var idx,tailbits,input=data.replace(/[\r\n=]/g,""),max=input.length,map=BASE64_MAP,bits=0,result=[];for(idx=0;idx<max;idx++){if(idx%4===0&&idx){result.push(bits>>16&255);result.push(bits>>8&255);result.push(255&bits)}bits=bits<<6|map.indexOf(input.charAt(idx))}tailbits=max%4*6;if(0===tailbits){result.push(bits>>16&255);result.push(bits>>8&255);result.push(255&bits)}else if(18===tailbits){result.push(bits>>10&255);result.push(bits>>2&255)}else 12===tailbits&&result.push(bits>>4&255);if(NodeBuffer)return new NodeBuffer(result);return result}function representYamlBinary(object){var idx,tail,result="",bits=0,max=object.length,map=BASE64_MAP;for(idx=0;idx<max;idx++){if(idx%3===0&&idx){result+=map[bits>>18&63];result+=map[bits>>12&63];result+=map[bits>>6&63];result+=map[63&bits]}bits=(bits<<8)+object[idx]}tail=max%3;if(0===tail){result+=map[bits>>18&63];result+=map[bits>>12&63];result+=map[bits>>6&63];result+=map[63&bits]}else if(2===tail){result+=map[bits>>10&63];result+=map[bits>>4&63];result+=map[bits<<2&63];result+=map[64]}else if(1===tail){result+=map[bits>>2&63];result+=map[bits<<4&63];result+=map[64];result+=map[64]}return result}function isBinary(object){return NodeBuffer&&NodeBuffer.isBuffer(object)}module.exports=new Type("tag:yaml.org,2002:binary",{kind:"scalar",resolve:resolveYamlBinary,construct:constructYamlBinary,predicate:isBinary,represent:representYamlBinary})},6835:function(module,exports){},6836:function(module,exports,__webpack_require__){"use strict";var Type=__webpack_require__(104);var _hasOwnProperty=Object.prototype.hasOwnProperty;var _toString=Object.prototype.toString;function resolveYamlOmap(data){if(null===data)return true;var index,length,pair,pairKey,pairHasKey,objectKeys=[],object=data;for(index=0,length=object.length;index<length;index+=1){pair=object[index];pairHasKey=false;if("[object Object]"!==_toString.call(pair))return false;for(pairKey in pair)if(_hasOwnProperty.call(pair,pairKey)){if(pairHasKey)return false;pairHasKey=true}if(!pairHasKey)return false;if(-1!==objectKeys.indexOf(pairKey))return false;objectKeys.push(pairKey)}return true}function constructYamlOmap(data){return null!==data?data:[]}module.exports=new Type("tag:yaml.org,2002:omap",{kind:"sequence",resolve:resolveYamlOmap,construct:constructYamlOmap})},6837:function(module,exports,__webpack_require__){"use strict";var Type=__webpack_require__(104);var _toString=Object.prototype.toString;function resolveYamlPairs(data){if(null===data)return true;var index,length,pair,keys,result,object=data;result=new Array(object.length);for(index=0,length=object.length;index<length;index+=1){pair=object[index];if("[object Object]"!==_toString.call(pair))return false;keys=Object.keys(pair);if(1!==keys.length)return false;result[index]=[keys[0],pair[keys[0]]]}return true}function constructYamlPairs(data){if(null===data)return[];var index,length,pair,keys,result,object=data;result=new Array(object.length);for(index=0,length=object.length;index<length;index+=1){pair=object[index];keys=Object.keys(pair);result[index]=[keys[0],pair[keys[0]]]}return result}module.exports=new Type("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:resolveYamlPairs,construct:constructYamlPairs})},6838:function(module,exports,__webpack_require__){"use strict";var Type=__webpack_require__(104);var _hasOwnProperty=Object.prototype.hasOwnProperty;function resolveYamlSet(data){if(null===data)return true;var key,object=data;for(key in object)if(_hasOwnProperty.call(object,key)&&null!==object[key])return false;return true}function constructYamlSet(data){return null!==data?data:{}}module.exports=new Type("tag:yaml.org,2002:set",{kind:"mapping",resolve:resolveYamlSet,construct:constructYamlSet})},6839:function(module,exports,__webpack_require__){"use strict";var Type=__webpack_require__(104);function resolveJavascriptUndefined(){return true}function constructJavascriptUndefined(){return}function representJavascriptUndefined(){return""}function isUndefined(object){return"undefined"===typeof object}module.exports=new Type("tag:yaml.org,2002:js/undefined",{kind:"scalar",resolve:resolveJavascriptUndefined,construct:constructJavascriptUndefined,predicate:isUndefined,represent:representJavascriptUndefined})},6840:function(module,exports,__webpack_require__){"use strict";var Type=__webpack_require__(104);function resolveJavascriptRegExp(data){if(null===data)return false;if(0===data.length)return false;var regexp=data,tail=/\/([gim]*)$/.exec(data),modifiers="";if("/"===regexp[0]){tail&&(modifiers=tail[1]);if(modifiers.length>3)return false;if("/"!==regexp[regexp.length-modifiers.length-1])return false;regexp=regexp.slice(1,regexp.length-modifiers.length-1)}try{return true}catch(error){return false}}function constructJavascriptRegExp(data){var regexp=data,tail=/\/([gim]*)$/.exec(data),modifiers="";if("/"===regexp[0]){tail&&(modifiers=tail[1]);regexp=regexp.slice(1,regexp.length-modifiers.length-1)}return new RegExp(regexp,modifiers)}function representJavascriptRegExp(object){var result="/"+object.source+"/";object.global&&(result+="g");object.multiline&&(result+="m");object.ignoreCase&&(result+="i");return result}function isRegExp(object){return"[object RegExp]"===Object.prototype.toString.call(object)}module.exports=new Type("tag:yaml.org,2002:js/regexp",{kind:"scalar",resolve:resolveJavascriptRegExp,construct:constructJavascriptRegExp,predicate:isRegExp,represent:representJavascriptRegExp})},6841:function(module,exports,__webpack_require__){"use strict";var esprima;try{esprima=__webpack_require__(6842)}catch(_){"undefined"!==typeof window&&(esprima=window.esprima)}var Type=__webpack_require__(104);function resolveJavascriptFunction(data){if(null===data)return false;try{var source="("+data+")",ast=esprima.parse(source,{range:true});if("Program"!==ast.type||1!==ast.body.length||"ExpressionStatement"!==ast.body[0].type||"FunctionExpression"!==ast.body[0].expression.type)return false;return true}catch(err){return false}}function constructJavascriptFunction(data){var body,source="("+data+")",ast=esprima.parse(source,{range:true}),params=[];if("Program"!==ast.type||1!==ast.body.length||"ExpressionStatement"!==ast.body[0].type||"FunctionExpression"!==ast.body[0].expression.type)throw new Error("Failed to resolve function");ast.body[0].expression.params.forEach(function(param){params.push(param.name)});body=ast.body[0].expression.body.range;return new Function(params,source.slice(body[0]+1,body[1]-1))}function representJavascriptFunction(object){return object.toString()}function isFunction(object){return"[object Function]"===Object.prototype.toString.call(object)}module.exports=new Type("tag:yaml.org,2002:js/function",{kind:"scalar",resolve:resolveJavascriptFunction,construct:constructJavascriptFunction,predicate:isFunction,represent:representJavascriptFunction})},6842:function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;(function(root,factory){"use strict";true;!(__WEBPACK_AMD_DEFINE_ARRAY__=[exports],__WEBPACK_AMD_DEFINE_FACTORY__=factory,__WEBPACK_AMD_DEFINE_RESULT__="function"===typeof __WEBPACK_AMD_DEFINE_FACTORY__?__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__):__WEBPACK_AMD_DEFINE_FACTORY__,void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))})(0,function(exports){"use strict";var Token,TokenName,FnExprTokens,Syntax,PlaceHolders,Messages,Regex,source,strict,sourceType,index,lineNumber,lineStart,hasLineTerminator,lastIndex,lastLineNumber,lastLineStart,startIndex,startLineNumber,startLineStart,scanning,length,lookahead,state,extra,isBindingElement,isAssignmentTarget,firstCoverInitializedNameError;Token={BooleanLiteral:1,EOF:2,Identifier:3,Keyword:4,NullLiteral:5,NumericLiteral:6,Punctuator:7,StringLiteral:8,RegularExpression:9,Template:10};TokenName={};TokenName[Token.BooleanLiteral]="Boolean";TokenName[Token.EOF]="<end>";TokenName[Token.Identifier]="Identifier";TokenName[Token.Keyword]="Keyword";TokenName[Token.NullLiteral]="Null";TokenName[Token.NumericLiteral]="Numeric";TokenName[Token.Punctuator]="Punctuator";TokenName[Token.StringLiteral]="String";TokenName[Token.RegularExpression]="RegularExpression";TokenName[Token.Template]="Template";FnExprTokens=["(","{","[","in","typeof","instanceof","new","return","case","delete","throw","void","=","+=","-=","*=","/=","%=","<<=",">>=",">>>=","&=","|=","^=",",","+","-","*","/","%","++","--","<<",">>",">>>","&","|","^","!","~","&&","||","?",":","===","==",">=","<=","<",">","!=","!=="];Syntax={AssignmentExpression:"AssignmentExpression",AssignmentPattern:"AssignmentPattern",ArrayExpression:"ArrayExpression",ArrayPattern:"ArrayPattern",ArrowFunctionExpression:"ArrowFunctionExpression",BlockStatement:"BlockStatement",BinaryExpression:"BinaryExpression",BreakStatement:"BreakStatement",CallExpression:"CallExpression",CatchClause:"CatchClause",ClassBody:"ClassBody",ClassDeclaration:"ClassDeclaration",ClassExpression:"ClassExpression",ConditionalExpression:"ConditionalExpression",ContinueStatement:"ContinueStatement",DoWhileStatement:"DoWhileStatement",DebuggerStatement:"DebuggerStatement",EmptyStatement:"EmptyStatement",ExportAllDeclaration:"ExportAllDeclaration",ExportDefaultDeclaration:"ExportDefaultDeclaration",ExportNamedDeclaration:"ExportNamedDeclaration",ExportSpecifier:"ExportSpecifier",ExpressionStatement:"ExpressionStatement",ForStatement:"ForStatement",ForInStatement:"ForInStatement",FunctionDeclaration:"FunctionDeclaration",FunctionExpression:"FunctionExpression",Identifier:"Identifier",IfStatement:"IfStatement",ImportDeclaration:"ImportDeclaration",ImportDefaultSpecifier:"ImportDefaultSpecifier",ImportNamespaceSpecifier:"ImportNamespaceSpecifier",ImportSpecifier:"ImportSpecifier",Literal:"Literal",LabeledStatement:"LabeledStatement",LogicalExpression:"LogicalExpression",MemberExpression:"MemberExpression",MethodDefinition:"MethodDefinition",NewExpression:"NewExpression",ObjectExpression:"ObjectExpression",ObjectPattern:"ObjectPattern",Program:"Program",Property:"Property",RestElement:"RestElement",ReturnStatement:"ReturnStatement",SequenceExpression:"SequenceExpression",SpreadElement:"SpreadElement",Super:"Super",SwitchCase:"SwitchCase",SwitchStatement:"SwitchStatement",TaggedTemplateExpression:"TaggedTemplateExpression",TemplateElement:"TemplateElement",TemplateLiteral:"TemplateLiteral",ThisExpression:"ThisExpression",ThrowStatement:"ThrowStatement",TryStatement:"TryStatement",UnaryExpression:"UnaryExpression",UpdateExpression:"UpdateExpression",VariableDeclaration:"VariableDeclaration",VariableDeclarator:"VariableDeclarator",WhileStatement:"WhileStatement",WithStatement:"WithStatement"};PlaceHolders={ArrowParameterPlaceHolder:"ArrowParameterPlaceHolder"};Messages={UnexpectedToken:"Unexpected token %0",UnexpectedNumber:"Unexpected number",UnexpectedString:"Unexpected string",UnexpectedIdentifier:"Unexpected identifier",UnexpectedReserved:"Unexpected reserved word",UnexpectedTemplate:"Unexpected quasi %0",UnexpectedEOS:"Unexpected end of input",NewlineAfterThrow:"Illegal newline after throw",InvalidRegExp:"Invalid regular expression",UnterminatedRegExp:"Invalid regular expression: missing /",InvalidLHSInAssignment:"Invalid left-hand side in assignment",InvalidLHSInForIn:"Invalid left-hand side in for-in",MultipleDefaultsInSwitch:"More than one default clause in switch statement",NoCatchOrFinally:"Missing catch or finally after try",UnknownLabel:"Undefined label '%0'",Redeclaration:"%0 '%1' has already been declared",IllegalContinue:"Illegal continue statement",IllegalBreak:"Illegal break statement",IllegalReturn:"Illegal return statement",StrictModeWith:"Strict mode code may not include a with statement",StrictCatchVariable:"Catch variable may not be eval or arguments in strict mode",StrictVarName:"Variable name may not be eval or arguments in strict mode",StrictParamName:"Parameter name eval or arguments is not allowed in strict mode",StrictParamDupe:"Strict mode function may not have duplicate parameter names",StrictFunctionName:"Function name may not be eval or arguments in strict mode",StrictOctalLiteral:"Octal literals are not allowed in strict mode.",StrictDelete:"Delete of an unqualified identifier in strict mode.",StrictLHSAssignment:"Assignment to eval or arguments is not allowed in strict mode",StrictLHSPostfix:"Postfix increment/decrement may not have eval or arguments operand in strict mode",StrictLHSPrefix:"Prefix increment/decrement may not have eval or arguments operand in strict mode",StrictReservedWord:"Use of future reserved word in strict mode",TemplateOctalLiteral:"Octal literals are not allowed in template strings.",ParameterAfterRestParameter:"Rest parameter must be last formal parameter",DefaultRestParameter:"Unexpected token =",ObjectPatternAsRestParameter:"Unexpected token {",DuplicateProtoProperty:"Duplicate __proto__ fields are not allowed in object literals",ConstructorSpecialMethod:"Class constructor may not be an accessor",DuplicateConstructor:"A class may only have one constructor",StaticPrototype:"Classes may not have static property named prototype",MissingFromClause:"Unexpected token",NoAsAfterImportNamespace:"Unexpected token",InvalidModuleSpecifier:"Unexpected token",IllegalImportDeclaration:"Unexpected token",IllegalExportDeclaration:"Unexpected token"};Regex={NonAsciiIdentifierStart:new RegExp("[--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------]"),NonAsciiIdentifierPart:new RegExp("[--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------]")};function assert(condition,message){if(!condition)throw new Error("ASSERT: "+message)}function isDecimalDigit(ch){return ch>=48&&ch<=57}function isHexDigit(ch){return"0123456789abcdefABCDEF".indexOf(ch)>=0}function isOctalDigit(ch){return"01234567".indexOf(ch)>=0}function octalToDecimal(ch){var octal="0"!==ch,code="01234567".indexOf(ch);if(index<length&&isOctalDigit(source[index])){octal=true;code=8*code+"01234567".indexOf(source[index++]);"0123".indexOf(ch)>=0&&index<length&&isOctalDigit(source[index])&&(code=8*code+"01234567".indexOf(source[index++]))}return{code:code,octal:octal}}function isWhiteSpace(ch){return 32===ch||9===ch||11===ch||12===ch||160===ch||ch>=5760&&[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(ch)>=0}function isLineTerminator(ch){return 10===ch||13===ch||8232===ch||8233===ch}function isIdentifierStart(ch){return 36===ch||95===ch||ch>=65&&ch<=90||ch>=97&&ch<=122||92===ch||ch>=128&&Regex.NonAsciiIdentifierStart.test(String.fromCharCode(ch))}function isIdentifierPart(ch){return 36===ch||95===ch||ch>=65&&ch<=90||ch>=97&&ch<=122||ch>=48&&ch<=57||92===ch||ch>=128&&Regex.NonAsciiIdentifierPart.test(String.fromCharCode(ch))}function isFutureReservedWord(id){switch(id){case"enum":case"export":case"import":case"super":return true;default:return false}}function isStrictModeReservedWord(id){switch(id){case"implements":case"interface":case"package":case"private":case"protected":case"public":case"static":case"yield":case"let":return true;default:return false}}function isRestrictedWord(id){return"eval"===id||"arguments"===id}function isKeyword(id){switch(id.length){case 2:return"if"===id||"in"===id||"do"===id;case 3:return"var"===id||"for"===id||"new"===id||"try"===id||"let"===id;case 4:return"this"===id||"else"===id||"case"===id||"void"===id||"with"===id||"enum"===id;case 5:return"while"===id||"break"===id||"catch"===id||"throw"===id||"const"===id||"yield"===id||"class"===id||"super"===id;case 6:return"return"===id||"typeof"===id||"delete"===id||"switch"===id||"export"===id||"import"===id;case 7:return"default"===id||"finally"===id||"extends"===id;case 8:return"function"===id||"continue"===id||"debugger"===id;case 10:return"instanceof"===id;default:return false}}function addComment(type,value,start,end,loc){var comment;assert("number"===typeof start,"Comment must have valid position");state.lastCommentStart=start;comment={type:type,value:value};extra.range&&(comment.range=[start,end]);extra.loc&&(comment.loc=loc);extra.comments.push(comment);if(extra.attachComment){extra.leadingComments.push(comment);extra.trailingComments.push(comment)}}function skipSingleLineComment(offset){var start,loc,ch,comment;start=index-offset;loc={start:{line:lineNumber,column:index-lineStart-offset}};while(index<length){ch=source.charCodeAt(index);++index;if(isLineTerminator(ch)){hasLineTerminator=true;if(extra.comments){comment=source.slice(start+offset,index-1);loc.end={line:lineNumber,column:index-lineStart-1};addComment("Line",comment,start,index-1,loc)}13===ch&&10===source.charCodeAt(index)&&++index;++lineNumber;lineStart=index;return}}if(extra.comments){comment=source.slice(start+offset,index);loc.end={line:lineNumber,column:index-lineStart};addComment("Line",comment,start,index,loc)}}function skipMultiLineComment(){var start,loc,ch,comment;if(extra.comments){start=index-2;loc={start:{line:lineNumber,column:index-lineStart-2}}}while(index<length){ch=source.charCodeAt(index);if(isLineTerminator(ch)){13===ch&&10===source.charCodeAt(index+1)&&++index;hasLineTerminator=true;++lineNumber;++index;lineStart=index}else if(42===ch){if(47===source.charCodeAt(index+1)){++index;++index;if(extra.comments){comment=source.slice(start+2,index-2);loc.end={line:lineNumber,column:index-lineStart};addComment("Block",comment,start,index,loc)}return}++index}else++index}if(extra.comments){loc.end={line:lineNumber,column:index-lineStart};comment=source.slice(start+2,index);addComment("Block",comment,start,index,loc)}tolerateUnexpectedToken()}function skipComment(){var ch,start;hasLineTerminator=false;start=0===index;while(index<length){ch=source.charCodeAt(index);if(isWhiteSpace(ch))++index;else if(isLineTerminator(ch)){hasLineTerminator=true;++index;13===ch&&10===source.charCodeAt(index)&&++index;++lineNumber;lineStart=index;start=true}else if(47===ch){ch=source.charCodeAt(index+1);if(47===ch){++index;++index;skipSingleLineComment(2);start=true}else{if(42!==ch)break;++index;++index;skipMultiLineComment()}}else if(start&&45===ch){if(45!==source.charCodeAt(index+1)||62!==source.charCodeAt(index+2))break;index+=3;skipSingleLineComment(3)}else{if(60!==ch)break;if("!--"!==source.slice(index+1,index+4))break;++index;++index;++index;++index;skipSingleLineComment(4)}}}function scanHexEscape(prefix){var i,len,ch,code=0;len="u"===prefix?4:2;for(i=0;i<len;++i){if(!(index<length&&isHexDigit(source[index])))return"";ch=source[index++];code=16*code+"0123456789abcdef".indexOf(ch.toLowerCase())}return String.fromCharCode(code)}function scanUnicodeCodePointEscape(){var ch,code,cu1,cu2;ch=source[index];code=0;"}"===ch&&throwUnexpectedToken();while(index<length){ch=source[index++];if(!isHexDigit(ch))break;code=16*code+"0123456789abcdef".indexOf(ch.toLowerCase())}(code>1114111||"}"!==ch)&&throwUnexpectedToken();if(code<=65535)return String.fromCharCode(code);cu1=55296+(code-65536>>10);cu2=56320+(code-65536&1023);return String.fromCharCode(cu1,cu2)}function getEscapedIdentifier(){var ch,id;ch=source.charCodeAt(index++);id=String.fromCharCode(ch);if(92===ch){117!==source.charCodeAt(index)&&throwUnexpectedToken();++index;ch=scanHexEscape("u");ch&&"\\"!==ch&&isIdentifierStart(ch.charCodeAt(0))||throwUnexpectedToken();id=ch}while(index<length){ch=source.charCodeAt(index);if(!isIdentifierPart(ch))break;++index;id+=String.fromCharCode(ch);if(92===ch){id=id.substr(0,id.length-1);117!==source.charCodeAt(index)&&throwUnexpectedToken();++index;ch=scanHexEscape("u");ch&&"\\"!==ch&&isIdentifierPart(ch.charCodeAt(0))||throwUnexpectedToken();id+=ch}}return id}function getIdentifier(){var start,ch;start=index++;while(index<length){ch=source.charCodeAt(index);if(92===ch){index=start;return getEscapedIdentifier()}if(!isIdentifierPart(ch))break;++index}return source.slice(start,index)}function scanIdentifier(){var start,id,type;start=index;id=92===source.charCodeAt(index)?getEscapedIdentifier():getIdentifier();type=1===id.length?Token.Identifier:isKeyword(id)?Token.Keyword:"null"===id?Token.NullLiteral:"true"===id||"false"===id?Token.BooleanLiteral:Token.Identifier;return{type:type,value:id,lineNumber:lineNumber,lineStart:lineStart,start:start,end:index}}function scanPunctuator(){var token,str;token={type:Token.Punctuator,value:"",lineNumber:lineNumber,lineStart:lineStart,start:index,end:index};str=source[index];switch(str){case"(":extra.tokenize&&(extra.openParenToken=extra.tokens.length);++index;break;case"{":extra.tokenize&&(extra.openCurlyToken=extra.tokens.length);state.curlyStack.push("{");++index;break;case".":++index;if("."===source[index]&&"."===source[index+1]){index+=2;str="..."}break;case"}":++index;state.curlyStack.pop();break;case")":case";":case",":case"[":case"]":case":":case"?":case"~":++index;break;default:str=source.substr(index,4);if(">>>="===str)index+=4;else{str=str.substr(0,3);if("==="===str||"!=="===str||">>>"===str||"<<="===str||">>="===str)index+=3;else{str=str.substr(0,2);if("&&"===str||"||"===str||"=="===str||"!="===str||"+="===str||"-="===str||"*="===str||"/="===str||"++"===str||"--"===str||"<<"===str||">>"===str||"&="===str||"|="===str||"^="===str||"%="===str||"<="===str||">="===str||"=>"===str)index+=2;else{str=source[index];"<>=!+-*%&|^/".indexOf(str)>=0&&++index}}}}index===token.start&&throwUnexpectedToken();token.end=index;token.value=str;return token}function scanHexLiteral(start){var number="";while(index<length){if(!isHexDigit(source[index]))break;number+=source[index++]}0===number.length&&throwUnexpectedToken();isIdentifierStart(source.charCodeAt(index))&&throwUnexpectedToken();return{type:Token.NumericLiteral,value:parseInt("0x"+number,16),lineNumber:lineNumber,lineStart:lineStart,start:start,end:index}}function scanBinaryLiteral(start){var ch,number;number="";while(index<length){ch=source[index];if("0"!==ch&&"1"!==ch)break;number+=source[index++]}0===number.length&&throwUnexpectedToken();if(index<length){ch=source.charCodeAt(index);(isIdentifierStart(ch)||isDecimalDigit(ch))&&throwUnexpectedToken()}return{type:Token.NumericLiteral,value:parseInt(number,2),lineNumber:lineNumber,lineStart:lineStart,start:start,end:index}}function scanOctalLiteral(prefix,start){var number,octal;if(isOctalDigit(prefix)){octal=true;number="0"+source[index++]}else{octal=false;++index;number=""}while(index<length){if(!isOctalDigit(source[index]))break;number+=source[index++]}octal||0!==number.length||throwUnexpectedToken();(isIdentifierStart(source.charCodeAt(index))||isDecimalDigit(source.charCodeAt(index)))&&throwUnexpectedToken();return{type:Token.NumericLiteral,value:parseInt(number,8),octal:octal,lineNumber:lineNumber,lineStart:lineStart,start:start,end:index}}function isImplicitOctalLiteral(){var i,ch;for(i=index+1;i<length;++i){ch=source[i];if("8"===ch||"9"===ch)return false;if(!isOctalDigit(ch))return true}return true}function scanNumericLiteral(){var number,start,ch;ch=source[index];assert(isDecimalDigit(ch.charCodeAt(0))||"."===ch,"Numeric literal must start with a decimal digit or a decimal point");start=index;number="";if("."!==ch){number=source[index++];ch=source[index];if("0"===number){if("x"===ch||"X"===ch){++index;return scanHexLiteral(start)}if("b"===ch||"B"===ch){++index;return scanBinaryLiteral(start)}if("o"===ch||"O"===ch)return scanOctalLiteral(ch,start);if(isOctalDigit(ch)&&isImplicitOctalLiteral())return scanOctalLiteral(ch,start)}while(isDecimalDigit(source.charCodeAt(index)))number+=source[index++];ch=source[index]}if("."===ch){number+=source[index++];while(isDecimalDigit(source.charCodeAt(index)))number+=source[index++];ch=source[index]}if("e"===ch||"E"===ch){number+=source[index++];ch=source[index];"+"!==ch&&"-"!==ch||(number+=source[index++]);if(isDecimalDigit(source.charCodeAt(index)))while(isDecimalDigit(source.charCodeAt(index)))number+=source[index++];else throwUnexpectedToken()}isIdentifierStart(source.charCodeAt(index))&&throwUnexpectedToken();return{type:Token.NumericLiteral,value:parseFloat(number),lineNumber:lineNumber,lineStart:lineStart,start:start,end:index}}function scanStringLiteral(){var quote,start,ch,unescaped,octToDec,str="",octal=false;quote=source[index];assert("'"===quote||'"'===quote,"String literal must starts with a quote");start=index;++index;while(index<length){ch=source[index++];if(ch===quote){quote="";break}if("\\"===ch){ch=source[index++];if(ch&&isLineTerminator(ch.charCodeAt(0))){++lineNumber;"\r"===ch&&"\n"===source[index]&&++index;lineStart=index}else switch(ch){case"u":case"x":if("{"===source[index]){++index;str+=scanUnicodeCodePointEscape()}else{unescaped=scanHexEscape(ch);if(!unescaped)throw throwUnexpectedToken();str+=unescaped}break;case"n":str+="\n";break;case"r":str+="\r";break;case"t":str+="\t";break;case"b":str+="\b";break;case"f":str+="\f";break;case"v":str+="\v";break;case"8":case"9":throw throwUnexpectedToken();default:if(isOctalDigit(ch)){octToDec=octalToDecimal(ch);octal=octToDec.octal||octal;str+=String.fromCharCode(octToDec.code)}else str+=ch}}else{if(isLineTerminator(ch.charCodeAt(0)))break;str+=ch}}""!==quote&&throwUnexpectedToken();return{type:Token.StringLiteral,value:str,octal:octal,lineNumber:startLineNumber,lineStart:startLineStart,start:start,end:index}}function scanTemplate(){var ch,start,rawOffset,terminated,head,tail,restore,unescaped,cooked="";terminated=false;tail=false;start=index;head="`"===source[index];rawOffset=2;++index;while(index<length){ch=source[index++];if("`"===ch){rawOffset=1;tail=true;terminated=true;break}if("$"===ch){if("{"===source[index]){state.curlyStack.push("${");++index;terminated=true;break}cooked+=ch}else if("\\"===ch){ch=source[index++];if(isLineTerminator(ch.charCodeAt(0))){++lineNumber;"\r"===ch&&"\n"===source[index]&&++index;lineStart=index}else switch(ch){case"n":cooked+="\n";break;case"r":cooked+="\r";break;case"t":cooked+="\t";break;case"u":case"x":if("{"===source[index]){++index;cooked+=scanUnicodeCodePointEscape()}else{restore=index;unescaped=scanHexEscape(ch);if(unescaped)cooked+=unescaped;else{index=restore;cooked+=ch}}break;case"b":cooked+="\b";break;case"f":cooked+="\f";break;case"v":cooked+="\v";break;default:if("0"===ch){isDecimalDigit(source.charCodeAt(index))&&throwError(Messages.TemplateOctalLiteral);cooked+="\0"}else isOctalDigit(ch)?throwError(Messages.TemplateOctalLiteral):cooked+=ch}}else if(isLineTerminator(ch.charCodeAt(0))){++lineNumber;"\r"===ch&&"\n"===source[index]&&++index;lineStart=index;cooked+="\n"}else cooked+=ch}terminated||throwUnexpectedToken();head||state.curlyStack.pop();return{type:Token.Template,value:{cooked:cooked,raw:source.slice(start+1,index-rawOffset)},head:head,tail:tail,lineNumber:lineNumber,lineStart:lineStart,start:start,end:index}}function testRegExp(pattern,flags){var tmp=pattern;flags.indexOf("u")>=0&&(tmp=tmp.replace(/\\u\{([0-9a-fA-F]+)\}/g,function($0,$1){if(parseInt($1,16)<=1114111)return"x";throwUnexpectedToken(null,Messages.InvalidRegExp)}).replace(/\\u([a-fA-F0-9]{4})|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"x"));try{RegExp(tmp)}catch(e){throwUnexpectedToken(null,Messages.InvalidRegExp)}try{return new RegExp(pattern,flags)}catch(exception){return null}}function scanRegExpBody(){var ch,str,classMarker,terminated,body;ch=source[index];assert("/"===ch,"Regular expression literal must start with a slash");str=source[index++];classMarker=false;terminated=false;while(index<length){ch=source[index++];str+=ch;if("\\"===ch){ch=source[index++];isLineTerminator(ch.charCodeAt(0))&&throwUnexpectedToken(null,Messages.UnterminatedRegExp);str+=ch}else if(isLineTerminator(ch.charCodeAt(0)))throwUnexpectedToken(null,Messages.UnterminatedRegExp);else if(classMarker)"]"===ch&&(classMarker=false);else{if("/"===ch){terminated=true;break}"["===ch&&(classMarker=true)}}terminated||throwUnexpectedToken(null,Messages.UnterminatedRegExp);body=str.substr(1,str.length-2);return{value:body,literal:str}}function scanRegExpFlags(){var ch,str,flags,restore;str="";flags="";while(index<length){ch=source[index];if(!isIdentifierPart(ch.charCodeAt(0)))break;++index;if("\\"===ch&&index<length){ch=source[index];if("u"===ch){++index;restore=index;ch=scanHexEscape("u");if(ch){flags+=ch;for(str+="\\u";restore<index;++restore)str+=source[restore]}else{index=restore;flags+="u";str+="\\u"}tolerateUnexpectedToken()}else{str+="\\";tolerateUnexpectedToken()}}else{flags+=ch;str+=ch}}return{value:flags,literal:str}}function scanRegExp(){scanning=true;var start,body,flags,value;lookahead=null;skipComment();start=index;body=scanRegExpBody();flags=scanRegExpFlags();value=testRegExp(body.value,flags.value);scanning=false;if(extra.tokenize)return{type:Token.RegularExpression,value:value,regex:{pattern:body.value,flags:flags.value},lineNumber:lineNumber,lineStart:lineStart,start:start,end:index};return{literal:body.literal+flags.literal,value:value,regex:{pattern:body.value,flags:flags.value},start:start,end:index}}function collectRegex(){var pos,loc,regex,token;skipComment();pos=index;loc={start:{line:lineNumber,column:index-lineStart}};regex=scanRegExp();loc.end={line:lineNumber,column:index-lineStart};if(!extra.tokenize){if(extra.tokens.length>0){token=extra.tokens[extra.tokens.length-1];token.range[0]===pos&&"Punctuator"===token.type&&("/"!==token.value&&"/="!==token.value||extra.tokens.pop())}extra.tokens.push({type:"RegularExpression",value:regex.literal,regex:regex.regex,range:[pos,index],loc:loc})}return regex}function isIdentifierName(token){return token.type===Token.Identifier||token.type===Token.Keyword||token.type===Token.BooleanLiteral||token.type===Token.NullLiteral}function advanceSlash(){var prevToken,checkToken;prevToken=extra.tokens[extra.tokens.length-1];if(!prevToken)return collectRegex();if("Punctuator"===prevToken.type){if("]"===prevToken.value)return scanPunctuator();if(")"===prevToken.value){checkToken=extra.tokens[extra.openParenToken-1];if(checkToken&&"Keyword"===checkToken.type&&("if"===checkToken.value||"while"===checkToken.value||"for"===checkToken.value||"with"===checkToken.value))return collectRegex();return scanPunctuator()}if("}"===prevToken.value){if(extra.tokens[extra.openCurlyToken-3]&&"Keyword"===extra.tokens[extra.openCurlyToken-3].type){checkToken=extra.tokens[extra.openCurlyToken-4];if(!checkToken)return scanPunctuator()}else{if(!extra.tokens[extra.openCurlyToken-4]||"Keyword"!==extra.tokens[extra.openCurlyToken-4].type)return scanPunctuator();checkToken=extra.tokens[extra.openCurlyToken-5];if(!checkToken)return collectRegex()}if(FnExprTokens.indexOf(checkToken.value)>=0)return scanPunctuator();return collectRegex()}return collectRegex()}if("Keyword"===prevToken.type&&"this"!==prevToken.value)return collectRegex();return scanPunctuator()}function advance(){var ch,token;if(index>=length)return{type:Token.EOF,lineNumber:lineNumber,lineStart:lineStart,start:index,end:index};ch=source.charCodeAt(index);if(isIdentifierStart(ch)){token=scanIdentifier();strict&&isStrictModeReservedWord(token.value)&&(token.type=Token.Keyword);return token}if(40===ch||41===ch||59===ch)return scanPunctuator();if(39===ch||34===ch)return scanStringLiteral();if(46===ch){if(isDecimalDigit(source.charCodeAt(index+1)))return scanNumericLiteral();return scanPunctuator()}if(isDecimalDigit(ch))return scanNumericLiteral();if(extra.tokenize&&47===ch)return advanceSlash();if(96===ch||125===ch&&"${"===state.curlyStack[state.curlyStack.length-1])return scanTemplate();return scanPunctuator()}function collectToken(){var loc,token,value,entry;loc={start:{line:lineNumber,column:index-lineStart}};token=advance();loc.end={line:lineNumber,column:index-lineStart};if(token.type!==Token.EOF){value=source.slice(token.start,token.end);entry={type:TokenName[token.type],value:value,range:[token.start,token.end],loc:loc};token.regex&&(entry.regex={pattern:token.regex.pattern,flags:token.regex.flags});extra.tokens.push(entry)}return token}function lex(){var token;scanning=true;lastIndex=index;lastLineNumber=lineNumber;lastLineStart=lineStart;skipComment();token=lookahead;startIndex=index;startLineNumber=lineNumber;startLineStart=lineStart;lookahead="undefined"!==typeof extra.tokens?collectToken():advance();scanning=false;return token}function peek(){scanning=true;skipComment();lastIndex=index;lastLineNumber=lineNumber;lastLineStart=lineStart;startIndex=index;startLineNumber=lineNumber;startLineStart=lineStart;lookahead="undefined"!==typeof extra.tokens?collectToken():advance();scanning=false}function Position(){this.line=startLineNumber;this.column=startIndex-startLineStart}function SourceLocation(){this.start=new Position;this.end=null}function WrappingSourceLocation(startToken){this.start={line:startToken.lineNumber,column:startToken.start-startToken.lineStart};this.end=null}function Node(){extra.range&&(this.range=[startIndex,0]);extra.loc&&(this.loc=new SourceLocation)}function WrappingNode(startToken){extra.range&&(this.range=[startToken.start,0]);extra.loc&&(this.loc=new WrappingSourceLocation(startToken))}WrappingNode.prototype=Node.prototype={processComment:function(){var lastChild,leadingComments,trailingComments,i,comment,bottomRight=extra.bottomRightStack,last=bottomRight[bottomRight.length-1];if(this.type===Syntax.Program&&this.body.length>0)return;if(extra.trailingComments.length>0){trailingComments=[];for(i=extra.trailingComments.length-1;i>=0;--i){comment=extra.trailingComments[i];if(comment.range[0]>=this.range[1]){trailingComments.unshift(comment);extra.trailingComments.splice(i,1)}}extra.trailingComments=[]}else if(last&&last.trailingComments&&last.trailingComments[0].range[0]>=this.range[1]){trailingComments=last.trailingComments;delete last.trailingComments}if(last)while(last&&last.range[0]>=this.range[0]){lastChild=last;last=bottomRight.pop()}if(lastChild){if(lastChild.leadingComments&&lastChild.leadingComments[lastChild.leadingComments.length-1].range[1]<=this.range[0]){this.leadingComments=lastChild.leadingComments;lastChild.leadingComments=void 0}}else if(extra.leadingComments.length>0){leadingComments=[];for(i=extra.leadingComments.length-1;i>=0;--i){comment=extra.leadingComments[i];if(comment.range[1]<=this.range[0]){leadingComments.unshift(comment);extra.leadingComments.splice(i,1)}}}leadingComments&&leadingComments.length>0&&(this.leadingComments=leadingComments);trailingComments&&trailingComments.length>0&&(this.trailingComments=trailingComments);bottomRight.push(this)},finish:function(){extra.range&&(this.range[1]=lastIndex);if(extra.loc){this.loc.end={line:lastLineNumber,column:lastIndex-lastLineStart};extra.source&&(this.loc.source=extra.source)}extra.attachComment&&this.processComment()},finishArrayExpression:function(elements){this.type=Syntax.ArrayExpression;this.elements=elements;this.finish();return this},finishArrayPattern:function(elements){this.type=Syntax.ArrayPattern;this.elements=elements;this.finish();return this},finishArrowFunctionExpression:function(params,defaults,body,expression){this.type=Syntax.ArrowFunctionExpression;this.id=null;this.params=params;this.defaults=defaults;this.body=body;this.generator=false;this.expression=expression;this.finish();return this},finishAssignmentExpression:function(operator,left,right){this.type=Syntax.AssignmentExpression;this.operator=operator;this.left=left;this.right=right;this.finish();return this},finishAssignmentPattern:function(left,right){this.type=Syntax.AssignmentPattern;this.left=left;this.right=right;this.finish();return this},finishBinaryExpression:function(operator,left,right){this.type="||"===operator||"&&"===operator?Syntax.LogicalExpression:Syntax.BinaryExpression;this.operator=operator;this.left=left;this.right=right;this.finish();return this},finishBlockStatement:function(body){this.type=Syntax.BlockStatement;this.body=body;this.finish();return this},finishBreakStatement:function(label){this.type=Syntax.BreakStatement;this.label=label;this.finish();return this},finishCallExpression:function(callee,args){this.type=Syntax.CallExpression;this.callee=callee;this.arguments=args;this.finish();return this},finishCatchClause:function(param,body){this.type=Syntax.CatchClause;this.param=param;this.body=body;this.finish();return this},finishClassBody:function(body){this.type=Syntax.ClassBody;this.body=body;this.finish();return this},finishClassDeclaration:function(id,superClass,body){this.type=Syntax.ClassDeclaration;this.id=id;this.superClass=superClass;this.body=body;this.finish();return this},finishClassExpression:function(id,superClass,body){this.type=Syntax.ClassExpression;this.id=id;this.superClass=superClass;this.body=body;this.finish();return this},finishConditionalExpression:function(test,consequent,alternate){this.type=Syntax.ConditionalExpression;this.test=test;this.consequent=consequent;this.alternate=alternate;this.finish();return this},finishContinueStatement:function(label){this.type=Syntax.ContinueStatement;this.label=label;this.finish();return this},finishDebuggerStatement:function(){this.type=Syntax.DebuggerStatement;this.finish();return this},finishDoWhileStatement:function(body,test){this.type=Syntax.DoWhileStatement;this.body=body;this.test=test;this.finish();return this},finishEmptyStatement:function(){this.type=Syntax.EmptyStatement;this.finish();return this},finishExpressionStatement:function(expression){this.type=Syntax.ExpressionStatement;this.expression=expression;this.finish();return this},finishForStatement:function(init,test,update,body){this.type=Syntax.ForStatement;this.init=init;this.test=test;this.update=update;this.body=body;this.finish();return this},finishForInStatement:function(left,right,body){this.type=Syntax.ForInStatement;this.left=left;this.right=right;this.body=body;this.each=false;this.finish();return this},finishFunctionDeclaration:function(id,params,defaults,body){this.type=Syntax.FunctionDeclaration;this.id=id;this.params=params;this.defaults=defaults;this.body=body;this.generator=false;this.expression=false;this.finish();return this},finishFunctionExpression:function(id,params,defaults,body){this.type=Syntax.FunctionExpression;this.id=id;this.params=params;this.defaults=defaults;this.body=body;this.generator=false;this.expression=false;this.finish();return this},finishIdentifier:function(name){this.type=Syntax.Identifier;this.name=name;this.finish();return this},finishIfStatement:function(test,consequent,alternate){this.type=Syntax.IfStatement;this.test=test;this.consequent=consequent;this.alternate=alternate;this.finish();return this},finishLabeledStatement:function(label,body){this.type=Syntax.LabeledStatement;this.label=label;this.body=body;this.finish();return this},finishLiteral:function(token){this.type=Syntax.Literal;this.value=token.value;this.raw=source.slice(token.start,token.end);token.regex&&(this.regex=token.regex);this.finish();return this},finishMemberExpression:function(accessor,object,property){this.type=Syntax.MemberExpression;this.computed="["===accessor;this.object=object;this.property=property;this.finish();return this},finishNewExpression:function(callee,args){this.type=Syntax.NewExpression;this.callee=callee;this.arguments=args;this.finish();return this},finishObjectExpression:function(properties){this.type=Syntax.ObjectExpression;this.properties=properties;this.finish();return this},finishObjectPattern:function(properties){this.type=Syntax.ObjectPattern;this.properties=properties;this.finish();return this},finishPostfixExpression:function(operator,argument){this.type=Syntax.UpdateExpression;this.operator=operator;this.argument=argument;this.prefix=false;this.finish();return this},finishProgram:function(body){this.type=Syntax.Program;this.body=body;"module"===sourceType&&(this.sourceType=sourceType);this.finish();return this},finishProperty:function(kind,key,computed,value,method,shorthand){this.type=Syntax.Property;this.key=key;this.computed=computed;this.value=value;this.kind=kind;this.method=method;this.shorthand=shorthand;this.finish();return this},finishRestElement:function(argument){this.type=Syntax.RestElement;this.argument=argument;this.finish();return this},finishReturnStatement:function(argument){this.type=Syntax.ReturnStatement;this.argument=argument;this.finish();return this},finishSequenceExpression:function(expressions){this.type=Syntax.SequenceExpression;this.expressions=expressions;this.finish();return this},finishSpreadElement:function(argument){this.type=Syntax.SpreadElement;this.argument=argument;this.finish();return this},finishSwitchCase:function(test,consequent){this.type=Syntax.SwitchCase;this.test=test;this.consequent=consequent;this.finish();return this},finishSuper:function(){this.type=Syntax.Super;this.finish();return this},finishSwitchStatement:function(discriminant,cases){this.type=Syntax.SwitchStatement;this.discriminant=discriminant;this.cases=cases;this.finish();return this},finishTaggedTemplateExpression:function(tag,quasi){this.type=Syntax.TaggedTemplateExpression;this.tag=tag;this.quasi=quasi;this.finish();return this},finishTemplateElement:function(value,tail){this.type=Syntax.TemplateElement;this.value=value;this.tail=tail;this.finish();return this},finishTemplateLiteral:function(quasis,expressions){this.type=Syntax.TemplateLiteral;this.quasis=quasis;this.expressions=expressions;this.finish();return this},finishThisExpression:function(){this.type=Syntax.ThisExpression;this.finish();return this},finishThrowStatement:function(argument){this.type=Syntax.ThrowStatement;this.argument=argument;this.finish();return this},finishTryStatement:function(block,handler,finalizer){this.type=Syntax.TryStatement;this.block=block;this.guardedHandlers=[];this.handlers=handler?[handler]:[];this.handler=handler;this.finalizer=finalizer;this.finish();return this},finishUnaryExpression:function(operator,argument){this.type="++"===operator||"--"===operator?Syntax.UpdateExpression:Syntax.UnaryExpression;this.operator=operator;this.argument=argument;this.prefix=true;this.finish();return this},finishVariableDeclaration:function(declarations){this.type=Syntax.VariableDeclaration;this.declarations=declarations;this.kind="var";this.finish();return this},finishLexicalDeclaration:function(declarations,kind){this.type=Syntax.VariableDeclaration;this.declarations=declarations;this.kind=kind;this.finish();return this},finishVariableDeclarator:function(id,init){this.type=Syntax.VariableDeclarator;this.id=id;this.init=init;this.finish();return this},finishWhileStatement:function(test,body){this.type=Syntax.WhileStatement;this.test=test;this.body=body;this.finish();return this},finishWithStatement:function(object,body){this.type=Syntax.WithStatement;this.object=object;this.body=body;this.finish();return this},finishExportSpecifier:function(local,exported){this.type=Syntax.ExportSpecifier;this.exported=exported||local;this.local=local;this.finish();return this},finishImportDefaultSpecifier:function(local){this.type=Syntax.ImportDefaultSpecifier;this.local=local;this.finish();return this},finishImportNamespaceSpecifier:function(local){this.type=Syntax.ImportNamespaceSpecifier;this.local=local;this.finish();return this},finishExportNamedDeclaration:function(declaration,specifiers,src){this.type=Syntax.ExportNamedDeclaration;this.declaration=declaration;this.specifiers=specifiers;this.source=src;this.finish();return this},finishExportDefaultDeclaration:function(declaration){this.type=Syntax.ExportDefaultDeclaration;this.declaration=declaration;this.finish();return this},finishExportAllDeclaration:function(src){this.type=Syntax.ExportAllDeclaration;this.source=src;this.finish();return this},finishImportSpecifier:function(local,imported){this.type=Syntax.ImportSpecifier;this.local=local||imported;this.imported=imported;this.finish();return this},finishImportDeclaration:function(specifiers,src){this.type=Syntax.ImportDeclaration;this.specifiers=specifiers;this.source=src;this.finish();return this}};function recordError(error){var e,existing;for(e=0;e<extra.errors.length;e++){existing=extra.errors[e];if(existing.index===error.index&&existing.message===error.message)return}extra.errors.push(error)}function createError(line,pos,description){var error=new Error("Line "+line+": "+description);error.index=pos;error.lineNumber=line;error.column=pos-(scanning?lineStart:lastLineStart)+1;error.description=description;return error}function throwError(messageFormat){var args,msg;args=Array.prototype.slice.call(arguments,1);msg=messageFormat.replace(/%(\d)/g,function(whole,idx){assert(idx<args.length,"Message reference must be in range");return args[idx]});throw createError(lastLineNumber,lastIndex,msg)}function tolerateError(messageFormat){var args,msg,error;args=Array.prototype.slice.call(arguments,1);msg=messageFormat.replace(/%(\d)/g,function(whole,idx){assert(idx<args.length,"Message reference must be in range");return args[idx]});error=createError(lineNumber,lastIndex,msg);if(!extra.errors)throw error;recordError(error)}function unexpectedTokenError(token,message){var value,msg=message||Messages.UnexpectedToken;if(token){if(!message){msg=token.type===Token.EOF?Messages.UnexpectedEOS:token.type===Token.Identifier?Messages.UnexpectedIdentifier:token.type===Token.NumericLiteral?Messages.UnexpectedNumber:token.type===Token.StringLiteral?Messages.UnexpectedString:token.type===Token.Template?Messages.UnexpectedTemplate:Messages.UnexpectedToken;token.type===Token.Keyword&&(isFutureReservedWord(token.value)?msg=Messages.UnexpectedReserved:strict&&isStrictModeReservedWord(token.value)&&(msg=Messages.StrictReservedWord))}value=token.type===Token.Template?token.value.raw:token.value}else value="ILLEGAL";msg=msg.replace("%0",value);return token&&"number"===typeof token.lineNumber?createError(token.lineNumber,token.start,msg):createError(scanning?lineNumber:lastLineNumber,scanning?index:lastIndex,msg)}function throwUnexpectedToken(token,message){throw unexpectedTokenError(token,message)}function tolerateUnexpectedToken(token,message){var error=unexpectedTokenError(token,message);if(!extra.errors)throw error;recordError(error)}function expect(value){var token=lex();token.type===Token.Punctuator&&token.value===value||throwUnexpectedToken(token)}function expectCommaSeparator(){var token;if(extra.errors){token=lookahead;if(token.type===Token.Punctuator&&","===token.value)lex();else if(token.type===Token.Punctuator&&";"===token.value){lex();tolerateUnexpectedToken(token)}else tolerateUnexpectedToken(token,Messages.UnexpectedToken)}else expect(",")}function expectKeyword(keyword){var token=lex();token.type===Token.Keyword&&token.value===keyword||throwUnexpectedToken(token)}function match(value){return lookahead.type===Token.Punctuator&&lookahead.value===value}function matchKeyword(keyword){return lookahead.type===Token.Keyword&&lookahead.value===keyword}function matchContextualKeyword(keyword){return lookahead.type===Token.Identifier&&lookahead.value===keyword}function matchAssign(){var op;if(lookahead.type!==Token.Punctuator)return false;op=lookahead.value;return"="===op||"*="===op||"/="===op||"%="===op||"+="===op||"-="===op||"<<="===op||">>="===op||">>>="===op||"&="===op||"^="===op||"|="===op}function consumeSemicolon(){if(59===source.charCodeAt(startIndex)||match(";")){lex();return}if(hasLineTerminator)return;lastIndex=startIndex;lastLineNumber=startLineNumber;lastLineStart=startLineStart;lookahead.type===Token.EOF||match("}")||throwUnexpectedToken(lookahead)}function isolateCoverGrammar(parser){var result,oldIsBindingElement=isBindingElement,oldIsAssignmentTarget=isAssignmentTarget,oldFirstCoverInitializedNameError=firstCoverInitializedNameError;isBindingElement=true;isAssignmentTarget=true;firstCoverInitializedNameError=null;result=parser();null!==firstCoverInitializedNameError&&throwUnexpectedToken(firstCoverInitializedNameError);isBindingElement=oldIsBindingElement;isAssignmentTarget=oldIsAssignmentTarget;firstCoverInitializedNameError=oldFirstCoverInitializedNameError;return result}function inheritCoverGrammar(parser){var result,oldIsBindingElement=isBindingElement,oldIsAssignmentTarget=isAssignmentTarget,oldFirstCoverInitializedNameError=firstCoverInitializedNameError;isBindingElement=true;isAssignmentTarget=true;firstCoverInitializedNameError=null;result=parser();isBindingElement=isBindingElement&&oldIsBindingElement;isAssignmentTarget=isAssignmentTarget&&oldIsAssignmentTarget;firstCoverInitializedNameError=oldFirstCoverInitializedNameError||firstCoverInitializedNameError;return result}function parseArrayPattern(){var rest,restNode,node=new Node,elements=[];expect("[");while(!match("]"))if(match(",")){lex();elements.push(null)}else{if(match("...")){restNode=new Node;lex();rest=parseVariableIdentifier();elements.push(restNode.finishRestElement(rest));break}elements.push(parsePatternWithDefault());match("]")||expect(",")}expect("]");return node.finishArrayPattern(elements)}function parsePropertyPattern(){var key,init,node=new Node,computed=match("[");if(lookahead.type===Token.Identifier){key=parseVariableIdentifier();if(match("=")){lex();init=parseAssignmentExpression();return node.finishProperty("init",key,false,new WrappingNode(key).finishAssignmentPattern(key,init),false,false)}if(!match(":"))return node.finishProperty("init",key,false,key,false,true)}else key=parseObjectPropertyKey();expect(":");init=parsePatternWithDefault();return node.finishProperty("init",key,computed,init,false,false)}function parseObjectPattern(){var node=new Node,properties=[];expect("{");while(!match("}")){properties.push(parsePropertyPattern());match("}")||expect(",")}lex();return node.finishObjectPattern(properties)}function parsePattern(){if(lookahead.type===Token.Identifier)return parseVariableIdentifier();if(match("["))return parseArrayPattern();if(match("{"))return parseObjectPattern();throwUnexpectedToken(lookahead)}function parsePatternWithDefault(){var pattern,right,startToken=lookahead;pattern=parsePattern();if(match("=")){lex();right=isolateCoverGrammar(parseAssignmentExpression);pattern=new WrappingNode(startToken).finishAssignmentPattern(pattern,right)}return pattern}function parseArrayInitialiser(){var restSpread,elements=[],node=new Node;expect("[");while(!match("]"))if(match(",")){lex();elements.push(null)}else if(match("...")){restSpread=new Node;lex();restSpread.finishSpreadElement(inheritCoverGrammar(parseAssignmentExpression));if(!match("]")){isAssignmentTarget=isBindingElement=false;expect(",")}elements.push(restSpread)}else{elements.push(inheritCoverGrammar(parseAssignmentExpression));match("]")||expect(",")}lex();return node.finishArrayExpression(elements)}function parsePropertyFunction(node,paramInfo){var previousStrict,body;isAssignmentTarget=isBindingElement=false;previousStrict=strict;body=isolateCoverGrammar(parseFunctionSourceElements);strict&&paramInfo.firstRestricted&&tolerateUnexpectedToken(paramInfo.firstRestricted,paramInfo.message);strict&&paramInfo.stricted&&tolerateUnexpectedToken(paramInfo.stricted,paramInfo.message);strict=previousStrict;return node.finishFunctionExpression(null,paramInfo.params,paramInfo.defaults,body)}function parsePropertyMethodFunction(){var params,method,node=new Node;params=parseParams();method=parsePropertyFunction(node,params);return method}function parseObjectPropertyKey(){var token,expr,node=new Node;token=lex();switch(token.type){case Token.StringLiteral:case Token.NumericLiteral:strict&&token.octal&&tolerateUnexpectedToken(token,Messages.StrictOctalLiteral);return node.finishLiteral(token);case Token.Identifier:case Token.BooleanLiteral:case Token.NullLiteral:case Token.Keyword:return node.finishIdentifier(token.value);case Token.Punctuator:if("["===token.value){expr=isolateCoverGrammar(parseAssignmentExpression);expect("]");return expr}}throwUnexpectedToken(token)}function lookaheadPropertyName(){switch(lookahead.type){case Token.Identifier:case Token.StringLiteral:case Token.BooleanLiteral:case Token.NullLiteral:case Token.NumericLiteral:case Token.Keyword:return true;case Token.Punctuator:return"["===lookahead.value}return false}function tryParseMethodDefinition(token,key,computed,node){var value,options,methodNode;if(token.type===Token.Identifier){if("get"===token.value&&lookaheadPropertyName()){computed=match("[");key=parseObjectPropertyKey();methodNode=new Node;expect("(");expect(")");value=parsePropertyFunction(methodNode,{params:[],defaults:[],stricted:null,firstRestricted:null,message:null});return node.finishProperty("get",key,computed,value,false,false)}if("set"===token.value&&lookaheadPropertyName()){computed=match("[");key=parseObjectPropertyKey();methodNode=new Node;expect("(");options={params:[],defaultCount:0,defaults:[],firstRestricted:null,paramSet:{}};if(match(")"))tolerateUnexpectedToken(lookahead);else{parseParam(options);0===options.defaultCount&&(options.defaults=[])}expect(")");value=parsePropertyFunction(methodNode,options);return node.finishProperty("set",key,computed,value,false,false)}}if(match("(")){value=parsePropertyMethodFunction();return node.finishProperty("init",key,computed,value,true,false)}return null}function checkProto(key,computed,hasProto){false===computed&&(key.type===Syntax.Identifier&&"__proto__"===key.name||key.type===Syntax.Literal&&"__proto__"===key.value)&&(hasProto.value?tolerateError(Messages.DuplicateProtoProperty):hasProto.value=true)}function parseObjectProperty(hasProto){var computed,key,maybeMethod,value,token=lookahead,node=new Node;computed=match("[");key=parseObjectPropertyKey();maybeMethod=tryParseMethodDefinition(token,key,computed,node);if(maybeMethod){checkProto(maybeMethod.key,maybeMethod.computed,hasProto);return maybeMethod}checkProto(key,computed,hasProto);if(match(":")){lex();value=inheritCoverGrammar(parseAssignmentExpression);return node.finishProperty("init",key,computed,value,false,false)}if(token.type===Token.Identifier){if(match("=")){firstCoverInitializedNameError=lookahead;lex();value=isolateCoverGrammar(parseAssignmentExpression);return node.finishProperty("init",key,computed,new WrappingNode(token).finishAssignmentPattern(key,value),false,true)}return node.finishProperty("init",key,computed,key,false,true)}throwUnexpectedToken(lookahead)}function parseObjectInitialiser(){var properties=[],hasProto={value:false},node=new Node;expect("{");while(!match("}")){properties.push(parseObjectProperty(hasProto));match("}")||expectCommaSeparator()}expect("}");return node.finishObjectExpression(properties)}function reinterpretExpressionAsPattern(expr){var i;switch(expr.type){case Syntax.Identifier:case Syntax.MemberExpression:case Syntax.RestElement:case Syntax.AssignmentPattern:break;case Syntax.SpreadElement:expr.type=Syntax.RestElement;reinterpretExpressionAsPattern(expr.argument);break;case Syntax.ArrayExpression:expr.type=Syntax.ArrayPattern;for(i=0;i<expr.elements.length;i++)null!==expr.elements[i]&&reinterpretExpressionAsPattern(expr.elements[i]);break;case Syntax.ObjectExpression:expr.type=Syntax.ObjectPattern;for(i=0;i<expr.properties.length;i++)reinterpretExpressionAsPattern(expr.properties[i].value);break;case Syntax.AssignmentExpression:expr.type=Syntax.AssignmentPattern;reinterpretExpressionAsPattern(expr.left)}}function parseTemplateElement(option){var node,token;(lookahead.type!==Token.Template||option.head&&!lookahead.head)&&throwUnexpectedToken();node=new Node;token=lex();return node.finishTemplateElement({raw:token.value.raw,cooked:token.value.cooked},token.tail)}function parseTemplateLiteral(){var quasi,quasis,expressions,node=new Node;quasi=parseTemplateElement({head:true});quasis=[quasi];expressions=[];while(!quasi.tail){expressions.push(parseExpression());quasi=parseTemplateElement({head:false});quasis.push(quasi)}return node.finishTemplateLiteral(quasis,expressions)}function parseGroupExpression(){var expr,expressions,startToken,i;expect("(");if(match(")")){lex();match("=>")||expect("=>");return{type:PlaceHolders.ArrowParameterPlaceHolder,params:[]}}startToken=lookahead;if(match("...")){expr=parseRestElement();expect(")");match("=>")||expect("=>");return{type:PlaceHolders.ArrowParameterPlaceHolder,params:[expr]}}isBindingElement=true;expr=inheritCoverGrammar(parseAssignmentExpression);if(match(",")){isAssignmentTarget=false;expressions=[expr];while(startIndex<length){if(!match(","))break;lex();if(match("...")){isBindingElement||throwUnexpectedToken(lookahead);expressions.push(parseRestElement());expect(")");match("=>")||expect("=>");isBindingElement=false;for(i=0;i<expressions.length;i++)reinterpretExpressionAsPattern(expressions[i]);return{type:PlaceHolders.ArrowParameterPlaceHolder,params:expressions}}expressions.push(inheritCoverGrammar(parseAssignmentExpression))}expr=new WrappingNode(startToken).finishSequenceExpression(expressions)}expect(")");if(match("=>")){isBindingElement||throwUnexpectedToken(lookahead);if(expr.type===Syntax.SequenceExpression)for(i=0;i<expr.expressions.length;i++)reinterpretExpressionAsPattern(expr.expressions[i]);else reinterpretExpressionAsPattern(expr);expr={type:PlaceHolders.ArrowParameterPlaceHolder,params:expr.type===Syntax.SequenceExpression?expr.expressions:[expr]}}isBindingElement=false;return expr}function parsePrimaryExpression(){var type,token,expr,node;if(match("(")){isBindingElement=false;return inheritCoverGrammar(parseGroupExpression)}if(match("["))return inheritCoverGrammar(parseArrayInitialiser);if(match("{"))return inheritCoverGrammar(parseObjectInitialiser);type=lookahead.type;node=new Node;if(type===Token.Identifier)expr=node.finishIdentifier(lex().value);else if(type===Token.StringLiteral||type===Token.NumericLiteral){isAssignmentTarget=isBindingElement=false;strict&&lookahead.octal&&tolerateUnexpectedToken(lookahead,Messages.StrictOctalLiteral);expr=node.finishLiteral(lex())}else if(type===Token.Keyword){isAssignmentTarget=isBindingElement=false;if(matchKeyword("function"))return parseFunctionExpression();if(matchKeyword("this")){lex();return node.finishThisExpression()}if(matchKeyword("class"))return parseClassExpression();throwUnexpectedToken(lex())}else if(type===Token.BooleanLiteral){isAssignmentTarget=isBindingElement=false;token=lex();token.value="true"===token.value;expr=node.finishLiteral(token)}else if(type===Token.NullLiteral){isAssignmentTarget=isBindingElement=false;token=lex();token.value=null;expr=node.finishLiteral(token)}else if(match("/")||match("/=")){isAssignmentTarget=isBindingElement=false;index=startIndex;token="undefined"!==typeof extra.tokens?collectRegex():scanRegExp();lex();expr=node.finishLiteral(token)}else type===Token.Template?expr=parseTemplateLiteral():throwUnexpectedToken(lex());return expr}function parseArguments(){var args=[];expect("(");if(!match(")"))while(startIndex<length){args.push(isolateCoverGrammar(parseAssignmentExpression));if(match(")"))break;expectCommaSeparator()}expect(")");return args}function parseNonComputedProperty(){var token,node=new Node;token=lex();isIdentifierName(token)||throwUnexpectedToken(token);return node.finishIdentifier(token.value)}function parseNonComputedMember(){expect(".");return parseNonComputedProperty()}function parseComputedMember(){var expr;expect("[");expr=isolateCoverGrammar(parseExpression);expect("]");return expr}function parseNewExpression(){var callee,args,node=new Node;expectKeyword("new");callee=isolateCoverGrammar(parseLeftHandSideExpression);args=match("(")?parseArguments():[];isAssignmentTarget=isBindingElement=false;return node.finishNewExpression(callee,args)}function parseLeftHandSideExpressionAllowCall(){var quasi,expr,args,property,startToken,previousAllowIn=state.allowIn;startToken=lookahead;state.allowIn=true;if(matchKeyword("super")&&state.inFunctionBody){expr=new Node;lex();expr=expr.finishSuper();match("(")||match(".")||match("[")||throwUnexpectedToken(lookahead)}else expr=inheritCoverGrammar(matchKeyword("new")?parseNewExpression:parsePrimaryExpression);for(;;)if(match(".")){isBindingElement=false;isAssignmentTarget=true;property=parseNonComputedMember();expr=new WrappingNode(startToken).finishMemberExpression(".",expr,property)}else if(match("(")){isBindingElement=false;isAssignmentTarget=false;args=parseArguments();expr=new WrappingNode(startToken).finishCallExpression(expr,args)}else if(match("[")){isBindingElement=false;isAssignmentTarget=true;property=parseComputedMember();expr=new WrappingNode(startToken).finishMemberExpression("[",expr,property)}else{if(lookahead.type!==Token.Template||!lookahead.head)break;quasi=parseTemplateLiteral();expr=new WrappingNode(startToken).finishTaggedTemplateExpression(expr,quasi)}state.allowIn=previousAllowIn;return expr}function parseLeftHandSideExpression(){var quasi,expr,property,startToken;assert(state.allowIn,"callee of new expression always allow in keyword.");startToken=lookahead;if(matchKeyword("super")&&state.inFunctionBody){expr=new Node;lex();expr=expr.finishSuper();match("[")||match(".")||throwUnexpectedToken(lookahead)}else expr=inheritCoverGrammar(matchKeyword("new")?parseNewExpression:parsePrimaryExpression);for(;;)if(match("[")){isBindingElement=false;isAssignmentTarget=true;property=parseComputedMember();expr=new WrappingNode(startToken).finishMemberExpression("[",expr,property)}else if(match(".")){isBindingElement=false;isAssignmentTarget=true;property=parseNonComputedMember();expr=new WrappingNode(startToken).finishMemberExpression(".",expr,property)}else{if(lookahead.type!==Token.Template||!lookahead.head)break;quasi=parseTemplateLiteral();expr=new WrappingNode(startToken).finishTaggedTemplateExpression(expr,quasi)}return expr}function parsePostfixExpression(){var expr,token,startToken=lookahead;expr=inheritCoverGrammar(parseLeftHandSideExpressionAllowCall);if(!hasLineTerminator&&lookahead.type===Token.Punctuator&&(match("++")||match("--"))){strict&&expr.type===Syntax.Identifier&&isRestrictedWord(expr.name)&&tolerateError(Messages.StrictLHSPostfix);isAssignmentTarget||tolerateError(Messages.InvalidLHSInAssignment);isAssignmentTarget=isBindingElement=false;token=lex();expr=new WrappingNode(startToken).finishPostfixExpression(token.value,expr)}return expr}function parseUnaryExpression(){var token,expr,startToken;if(lookahead.type!==Token.Punctuator&&lookahead.type!==Token.Keyword)expr=parsePostfixExpression();else if(match("++")||match("--")){startToken=lookahead;token=lex();expr=inheritCoverGrammar(parseUnaryExpression);strict&&expr.type===Syntax.Identifier&&isRestrictedWord(expr.name)&&tolerateError(Messages.StrictLHSPrefix);isAssignmentTarget||tolerateError(Messages.InvalidLHSInAssignment);expr=new WrappingNode(startToken).finishUnaryExpression(token.value,expr);isAssignmentTarget=isBindingElement=false}else if(match("+")||match("-")||match("~")||match("!")){startToken=lookahead;token=lex();expr=inheritCoverGrammar(parseUnaryExpression);expr=new WrappingNode(startToken).finishUnaryExpression(token.value,expr);isAssignmentTarget=isBindingElement=false}else if(matchKeyword("delete")||matchKeyword("void")||matchKeyword("typeof")){startToken=lookahead;token=lex();expr=inheritCoverGrammar(parseUnaryExpression);expr=new WrappingNode(startToken).finishUnaryExpression(token.value,expr);strict&&"delete"===expr.operator&&expr.argument.type===Syntax.Identifier&&tolerateError(Messages.StrictDelete);isAssignmentTarget=isBindingElement=false}else expr=parsePostfixExpression();return expr}function binaryPrecedence(token,allowIn){var prec=0;if(token.type!==Token.Punctuator&&token.type!==Token.Keyword)return 0;switch(token.value){case"||":prec=1;break;case"&&":prec=2;break;case"|":prec=3;break;case"^":prec=4;break;case"&":prec=5;break;case"==":case"!=":case"===":case"!==":prec=6;break;case"<":case">":case"<=":case">=":case"instanceof":prec=7;break;case"in":prec=allowIn?7:0;break;case"<<":case">>":case">>>":prec=8;break;case"+":case"-":prec=9;break;case"*":case"/":case"%":prec=11}return prec}function parseBinaryExpression(){var marker,markers,expr,token,prec,stack,right,operator,left,i;marker=lookahead;left=inheritCoverGrammar(parseUnaryExpression);token=lookahead;prec=binaryPrecedence(token,state.allowIn);if(0===prec)return left;isAssignmentTarget=isBindingElement=false;token.prec=prec;lex();markers=[marker,lookahead];right=isolateCoverGrammar(parseUnaryExpression);stack=[left,token,right];while((prec=binaryPrecedence(lookahead,state.allowIn))>0){while(stack.length>2&&prec<=stack[stack.length-2].prec){right=stack.pop();operator=stack.pop().value;left=stack.pop();markers.pop();expr=new WrappingNode(markers[markers.length-1]).finishBinaryExpression(operator,left,right);stack.push(expr)}token=lex();token.prec=prec;stack.push(token);markers.push(lookahead);expr=isolateCoverGrammar(parseUnaryExpression);stack.push(expr)}i=stack.length-1;expr=stack[i];markers.pop();while(i>1){expr=new WrappingNode(markers.pop()).finishBinaryExpression(stack[i-1].value,stack[i-2],expr);i-=2}return expr}function parseConditionalExpression(){var expr,previousAllowIn,consequent,alternate,startToken;startToken=lookahead;expr=inheritCoverGrammar(parseBinaryExpression);if(match("?")){lex();previousAllowIn=state.allowIn;state.allowIn=true;consequent=isolateCoverGrammar(parseAssignmentExpression);state.allowIn=previousAllowIn;expect(":");alternate=isolateCoverGrammar(parseAssignmentExpression);expr=new WrappingNode(startToken).finishConditionalExpression(expr,consequent,alternate);isAssignmentTarget=isBindingElement=false}return expr}function parseConciseBody(){if(match("{"))return parseFunctionSourceElements();return isolateCoverGrammar(parseAssignmentExpression)}function checkPatternParam(options,param){var i;switch(param.type){case Syntax.Identifier:validateParam(options,param,param.name);break;case Syntax.RestElement:checkPatternParam(options,param.argument);break;case Syntax.AssignmentPattern:checkPatternParam(options,param.left);break;case Syntax.ArrayPattern:for(i=0;i<param.elements.length;i++)null!==param.elements[i]&&checkPatternParam(options,param.elements[i]);break;default:assert(param.type===Syntax.ObjectPattern,"Invalid type");for(i=0;i<param.properties.length;i++)checkPatternParam(options,param.properties[i].value)}}function reinterpretAsCoverFormalsList(expr){var i,len,param,params,defaults,defaultCount,options,token;defaults=[];defaultCount=0;params=[expr];switch(expr.type){case Syntax.Identifier:break;case PlaceHolders.ArrowParameterPlaceHolder:params=expr.params;break;default:return null}options={paramSet:{}};for(i=0,len=params.length;i<len;i+=1){param=params[i];switch(param.type){case Syntax.AssignmentPattern:params[i]=param.left;defaults.push(param.right);++defaultCount;checkPatternParam(options,param.left);break;default:checkPatternParam(options,param);params[i]=param;defaults.push(null)}}if(options.message===Messages.StrictParamDupe){token=strict?options.stricted:options.firstRestricted;throwUnexpectedToken(token,options.message)}0===defaultCount&&(defaults=[]);return{params:params,defaults:defaults,stricted:options.stricted,firstRestricted:options.firstRestricted,message:options.message}}function parseArrowFunctionExpression(options,node){var previousStrict,body;hasLineTerminator&&tolerateUnexpectedToken(lookahead);expect("=>");previousStrict=strict;body=parseConciseBody();strict&&options.firstRestricted&&throwUnexpectedToken(options.firstRestricted,options.message);strict&&options.stricted&&tolerateUnexpectedToken(options.stricted,options.message);strict=previousStrict;return node.finishArrowFunctionExpression(options.params,options.defaults,body,body.type!==Syntax.BlockStatement)}function parseAssignmentExpression(){var token,expr,right,list,startToken;startToken=lookahead;token=lookahead;expr=parseConditionalExpression();if(expr.type===PlaceHolders.ArrowParameterPlaceHolder||match("=>")){isAssignmentTarget=isBindingElement=false;list=reinterpretAsCoverFormalsList(expr);if(list){firstCoverInitializedNameError=null;return parseArrowFunctionExpression(list,new WrappingNode(startToken))}return expr}if(matchAssign()){isAssignmentTarget||tolerateError(Messages.InvalidLHSInAssignment);strict&&expr.type===Syntax.Identifier&&isRestrictedWord(expr.name)&&tolerateUnexpectedToken(token,Messages.StrictLHSAssignment);match("=")?reinterpretExpressionAsPattern(expr):isAssignmentTarget=isBindingElement=false;token=lex();right=isolateCoverGrammar(parseAssignmentExpression);expr=new WrappingNode(startToken).finishAssignmentExpression(token.value,expr,right);firstCoverInitializedNameError=null}return expr}function parseExpression(){var expr,expressions,startToken=lookahead;expr=isolateCoverGrammar(parseAssignmentExpression);if(match(",")){expressions=[expr];while(startIndex<length){if(!match(","))break;lex();expressions.push(isolateCoverGrammar(parseAssignmentExpression))}expr=new WrappingNode(startToken).finishSequenceExpression(expressions)}return expr}function parseStatementListItem(){if(lookahead.type===Token.Keyword)switch(lookahead.value){case"export":"module"!==sourceType&&tolerateUnexpectedToken(lookahead,Messages.IllegalExportDeclaration);return parseExportDeclaration();case"import":"module"!==sourceType&&tolerateUnexpectedToken(lookahead,Messages.IllegalImportDeclaration);return parseImportDeclaration();case"const":case"let":return parseLexicalDeclaration({inFor:false});case"function":return parseFunctionDeclaration(new Node);case"class":return parseClassDeclaration()}return parseStatement()}function parseStatementList(){var list=[];while(startIndex<length){if(match("}"))break;list.push(parseStatementListItem())}return list}function parseBlock(){var block,node=new Node;expect("{");block=parseStatementList();expect("}");return node.finishBlockStatement(block)}function parseVariableIdentifier(){var token,node=new Node;token=lex();token.type!==Token.Identifier&&(strict&&token.type===Token.Keyword&&isStrictModeReservedWord(token.value)?tolerateUnexpectedToken(token,Messages.StrictReservedWord):throwUnexpectedToken(token));return node.finishIdentifier(token.value)}function parseVariableDeclaration(){var id,init=null,node=new Node;id=parsePattern();strict&&isRestrictedWord(id.name)&&tolerateError(Messages.StrictVarName);if(match("=")){lex();init=isolateCoverGrammar(parseAssignmentExpression)}else id.type!==Syntax.Identifier&&expect("=");return node.finishVariableDeclarator(id,init)}function parseVariableDeclarationList(){var list=[];do{list.push(parseVariableDeclaration());if(!match(","))break;lex()}while(startIndex<length);return list}function parseVariableStatement(node){var declarations;expectKeyword("var");declarations=parseVariableDeclarationList();consumeSemicolon();return node.finishVariableDeclaration(declarations)}function parseLexicalBinding(kind,options){var id,init=null,node=new Node;id=parsePattern();strict&&id.type===Syntax.Identifier&&isRestrictedWord(id.name)&&tolerateError(Messages.StrictVarName);if("const"===kind){if(!matchKeyword("in")){expect("=");init=isolateCoverGrammar(parseAssignmentExpression)}}else if(!options.inFor&&id.type!==Syntax.Identifier||match("=")){expect("=");init=isolateCoverGrammar(parseAssignmentExpression)}return node.finishVariableDeclarator(id,init)}function parseBindingList(kind,options){var list=[];do{list.push(parseLexicalBinding(kind,options));if(!match(","))break;lex()}while(startIndex<length);return list}function parseLexicalDeclaration(options){var kind,declarations,node=new Node;kind=lex().value;assert("let"===kind||"const"===kind,"Lexical declaration must be either let or const");declarations=parseBindingList(kind,options);consumeSemicolon();return node.finishLexicalDeclaration(declarations,kind)}function parseRestElement(){var param,node=new Node;lex();match("{")&&throwError(Messages.ObjectPatternAsRestParameter);param=parseVariableIdentifier();match("=")&&throwError(Messages.DefaultRestParameter);match(")")||throwError(Messages.ParameterAfterRestParameter);return node.finishRestElement(param)}function parseEmptyStatement(node){expect(";");return node.finishEmptyStatement()}function parseExpressionStatement(node){var expr=parseExpression();consumeSemicolon();return node.finishExpressionStatement(expr)}function parseIfStatement(node){var test,consequent,alternate;expectKeyword("if");expect("(");test=parseExpression();expect(")");consequent=parseStatement();if(matchKeyword("else")){lex();alternate=parseStatement()}else alternate=null;return node.finishIfStatement(test,consequent,alternate)}function parseDoWhileStatement(node){var body,test,oldInIteration;expectKeyword("do");oldInIteration=state.inIteration;state.inIteration=true;body=parseStatement();state.inIteration=oldInIteration;expectKeyword("while");expect("(");test=parseExpression();expect(")");match(";")&&lex();return node.finishDoWhileStatement(body,test)}function parseWhileStatement(node){var test,body,oldInIteration;expectKeyword("while");expect("(");test=parseExpression();expect(")");oldInIteration=state.inIteration;state.inIteration=true;body=parseStatement();state.inIteration=oldInIteration;return node.finishWhileStatement(test,body)}function parseForStatement(node){var init,initSeq,initStartToken,test,update,left,right,kind,declarations,body,oldInIteration,previousAllowIn=state.allowIn;init=test=update=null;expectKeyword("for");expect("(");if(match(";"))lex();else if(matchKeyword("var")){init=new Node;lex();state.allowIn=false;init=init.finishVariableDeclaration(parseVariableDeclarationList());state.allowIn=previousAllowIn;if(1===init.declarations.length&&matchKeyword("in")){lex();left=init;right=parseExpression();init=null}else expect(";")}else if(matchKeyword("const")||matchKeyword("let")){init=new Node;kind=lex().value;state.allowIn=false;declarations=parseBindingList(kind,{inFor:true});state.allowIn=previousAllowIn;if(1===declarations.length&&null===declarations[0].init&&matchKeyword("in")){init=init.finishLexicalDeclaration(declarations,kind);lex();left=init;right=parseExpression();init=null}else{consumeSemicolon();init=init.finishLexicalDeclaration(declarations,kind)}}else{initStartToken=lookahead;state.allowIn=false;init=inheritCoverGrammar(parseAssignmentExpression);state.allowIn=previousAllowIn;if(matchKeyword("in")){isAssignmentTarget||tolerateError(Messages.InvalidLHSInForIn);lex();reinterpretExpressionAsPattern(init);left=init;right=parseExpression();init=null}else{if(match(",")){initSeq=[init];while(match(",")){lex();initSeq.push(isolateCoverGrammar(parseAssignmentExpression))}init=new WrappingNode(initStartToken).finishSequenceExpression(initSeq)}expect(";")}}if("undefined"===typeof left){match(";")||(test=parseExpression());expect(";");match(")")||(update=parseExpression())}expect(")");oldInIteration=state.inIteration;state.inIteration=true;body=isolateCoverGrammar(parseStatement);state.inIteration=oldInIteration;return"undefined"===typeof left?node.finishForStatement(init,test,update,body):node.finishForInStatement(left,right,body)}function parseContinueStatement(node){var key,label=null;expectKeyword("continue");if(59===source.charCodeAt(startIndex)){lex();state.inIteration||throwError(Messages.IllegalContinue);return node.finishContinueStatement(null)}if(hasLineTerminator){state.inIteration||throwError(Messages.IllegalContinue);return node.finishContinueStatement(null)}if(lookahead.type===Token.Identifier){label=parseVariableIdentifier();key="$"+label.name;Object.prototype.hasOwnProperty.call(state.labelSet,key)||throwError(Messages.UnknownLabel,label.name)}consumeSemicolon();null!==label||state.inIteration||throwError(Messages.IllegalContinue);return node.finishContinueStatement(label)}function parseBreakStatement(node){var key,label=null;expectKeyword("break");if(59===source.charCodeAt(lastIndex)){lex();state.inIteration||state.inSwitch||throwError(Messages.IllegalBreak);return node.finishBreakStatement(null)}if(hasLineTerminator){state.inIteration||state.inSwitch||throwError(Messages.IllegalBreak);return node.finishBreakStatement(null)}if(lookahead.type===Token.Identifier){label=parseVariableIdentifier();key="$"+label.name;Object.prototype.hasOwnProperty.call(state.labelSet,key)||throwError(Messages.UnknownLabel,label.name)}consumeSemicolon();null!==label||state.inIteration||state.inSwitch||throwError(Messages.IllegalBreak);return node.finishBreakStatement(label)}function parseReturnStatement(node){var argument=null;expectKeyword("return");state.inFunctionBody||tolerateError(Messages.IllegalReturn);if(32===source.charCodeAt(lastIndex)&&isIdentifierStart(source.charCodeAt(lastIndex+1))){argument=parseExpression();consumeSemicolon();return node.finishReturnStatement(argument)}if(hasLineTerminator)return node.finishReturnStatement(null);match(";")||match("}")||lookahead.type===Token.EOF||(argument=parseExpression());consumeSemicolon();return node.finishReturnStatement(argument)}function parseWithStatement(node){var object,body;strict&&tolerateError(Messages.StrictModeWith);expectKeyword("with");expect("(");object=parseExpression();expect(")");body=parseStatement();return node.finishWithStatement(object,body)}function parseSwitchCase(){var test,statement,consequent=[],node=new Node;if(matchKeyword("default")){lex();test=null}else{expectKeyword("case");test=parseExpression()}expect(":");while(startIndex<length){if(match("}")||matchKeyword("default")||matchKeyword("case"))break;statement=parseStatementListItem();consequent.push(statement)}return node.finishSwitchCase(test,consequent)}function parseSwitchStatement(node){var discriminant,cases,clause,oldInSwitch,defaultFound;expectKeyword("switch");expect("(");discriminant=parseExpression();expect(")");expect("{");cases=[];if(match("}")){lex();return node.finishSwitchStatement(discriminant,cases)}oldInSwitch=state.inSwitch;state.inSwitch=true;defaultFound=false;while(startIndex<length){if(match("}"))break;clause=parseSwitchCase();if(null===clause.test){defaultFound&&throwError(Messages.MultipleDefaultsInSwitch);defaultFound=true}cases.push(clause)}state.inSwitch=oldInSwitch;expect("}");return node.finishSwitchStatement(discriminant,cases)}function parseThrowStatement(node){var argument;expectKeyword("throw");hasLineTerminator&&throwError(Messages.NewlineAfterThrow);argument=parseExpression();consumeSemicolon();return node.finishThrowStatement(argument)}function parseCatchClause(){var param,body,node=new Node;expectKeyword("catch");expect("(");match(")")&&throwUnexpectedToken(lookahead);param=parsePattern();strict&&isRestrictedWord(param.name)&&tolerateError(Messages.StrictCatchVariable);expect(")");body=parseBlock();return node.finishCatchClause(param,body)}function parseTryStatement(node){var block,handler=null,finalizer=null;expectKeyword("try");block=parseBlock();matchKeyword("catch")&&(handler=parseCatchClause());if(matchKeyword("finally")){lex();finalizer=parseBlock()}handler||finalizer||throwError(Messages.NoCatchOrFinally);return node.finishTryStatement(block,handler,finalizer)}function parseDebuggerStatement(node){expectKeyword("debugger");consumeSemicolon();return node.finishDebuggerStatement()}function parseStatement(){var expr,labeledBody,key,node,type=lookahead.type;type===Token.EOF&&throwUnexpectedToken(lookahead);if(type===Token.Punctuator&&"{"===lookahead.value)return parseBlock();isAssignmentTarget=isBindingElement=true;node=new Node;if(type===Token.Punctuator)switch(lookahead.value){case";":return parseEmptyStatement(node);case"(":return parseExpressionStatement(node)}else if(type===Token.Keyword)switch(lookahead.value){case"break":return parseBreakStatement(node);case"continue":return parseContinueStatement(node);case"debugger":return parseDebuggerStatement(node);case"do":return parseDoWhileStatement(node);case"for":return parseForStatement(node);case"function":return parseFunctionDeclaration(node);case"if":return parseIfStatement(node);case"return":return parseReturnStatement(node);case"switch":return parseSwitchStatement(node);case"throw":return parseThrowStatement(node);case"try":return parseTryStatement(node);case"var":return parseVariableStatement(node);case"while":return parseWhileStatement(node);case"with":return parseWithStatement(node)}expr=parseExpression();if(expr.type===Syntax.Identifier&&match(":")){lex();key="$"+expr.name;Object.prototype.hasOwnProperty.call(state.labelSet,key)&&throwError(Messages.Redeclaration,"Label",expr.name);state.labelSet[key]=true;labeledBody=parseStatement();delete state.labelSet[key];return node.finishLabeledStatement(expr,labeledBody)}consumeSemicolon();return node.finishExpressionStatement(expr)}function parseFunctionSourceElements(){var statement,token,directive,firstRestricted,oldLabelSet,oldInIteration,oldInSwitch,oldInFunctionBody,oldParenthesisCount,body=[],node=new Node;expect("{");while(startIndex<length){if(lookahead.type!==Token.StringLiteral)break;token=lookahead;statement=parseStatementListItem();body.push(statement);if(statement.expression.type!==Syntax.Literal)break;directive=source.slice(token.start+1,token.end-1);if("use strict"===directive){strict=true;firstRestricted&&tolerateUnexpectedToken(firstRestricted,Messages.StrictOctalLiteral)}else!firstRestricted&&token.octal&&(firstRestricted=token)}oldLabelSet=state.labelSet;oldInIteration=state.inIteration;oldInSwitch=state.inSwitch;oldInFunctionBody=state.inFunctionBody;oldParenthesisCount=state.parenthesizedCount;state.labelSet={};state.inIteration=false;state.inSwitch=false;state.inFunctionBody=true;state.parenthesizedCount=0;while(startIndex<length){if(match("}"))break;body.push(parseStatementListItem())}expect("}");state.labelSet=oldLabelSet;state.inIteration=oldInIteration;state.inSwitch=oldInSwitch;state.inFunctionBody=oldInFunctionBody;state.parenthesizedCount=oldParenthesisCount;return node.finishBlockStatement(body)}function validateParam(options,param,name){var key="$"+name;if(strict){if(isRestrictedWord(name)){options.stricted=param;options.message=Messages.StrictParamName}if(Object.prototype.hasOwnProperty.call(options.paramSet,key)){options.stricted=param;options.message=Messages.StrictParamDupe}}else if(!options.firstRestricted)if(isRestrictedWord(name)){options.firstRestricted=param;options.message=Messages.StrictParamName}else if(isStrictModeReservedWord(name)){options.firstRestricted=param;options.message=Messages.StrictReservedWord}else if(Object.prototype.hasOwnProperty.call(options.paramSet,key)){options.firstRestricted=param;options.message=Messages.StrictParamDupe}options.paramSet[key]=true}function parseParam(options){var token,param,def;token=lookahead;if("..."===token.value){param=parseRestElement();validateParam(options,param.argument,param.argument.name);options.params.push(param);options.defaults.push(null);return false}param=parsePatternWithDefault();validateParam(options,token,token.value);if(param.type===Syntax.AssignmentPattern){def=param.right;param=param.left;++options.defaultCount}options.params.push(param);options.defaults.push(def);return!match(")")}function parseParams(firstRestricted){var options;options={params:[],defaultCount:0,defaults:[],firstRestricted:firstRestricted};expect("(");if(!match(")")){options.paramSet={};while(startIndex<length){if(!parseParam(options))break;expect(",")}}expect(")");0===options.defaultCount&&(options.defaults=[]);return{params:options.params,defaults:options.defaults,stricted:options.stricted,firstRestricted:options.firstRestricted,message:options.message}}function parseFunctionDeclaration(node,identifierIsOptional){var body,token,stricted,tmp,firstRestricted,message,previousStrict,id=null,params=[],defaults=[];expectKeyword("function");if(!identifierIsOptional||!match("(")){token=lookahead;id=parseVariableIdentifier();if(strict)isRestrictedWord(token.value)&&tolerateUnexpectedToken(token,Messages.StrictFunctionName);else if(isRestrictedWord(token.value)){firstRestricted=token;message=Messages.StrictFunctionName}else if(isStrictModeReservedWord(token.value)){firstRestricted=token;message=Messages.StrictReservedWord}}tmp=parseParams(firstRestricted);params=tmp.params;defaults=tmp.defaults;stricted=tmp.stricted;firstRestricted=tmp.firstRestricted;tmp.message&&(message=tmp.message);previousStrict=strict;body=parseFunctionSourceElements();strict&&firstRestricted&&throwUnexpectedToken(firstRestricted,message);strict&&stricted&&tolerateUnexpectedToken(stricted,message);strict=previousStrict;return node.finishFunctionDeclaration(id,params,defaults,body)}function parseFunctionExpression(){var token,stricted,firstRestricted,message,tmp,body,previousStrict,id=null,params=[],defaults=[],node=new Node;expectKeyword("function");if(!match("(")){token=lookahead;id=parseVariableIdentifier();if(strict)isRestrictedWord(token.value)&&tolerateUnexpectedToken(token,Messages.StrictFunctionName);else if(isRestrictedWord(token.value)){firstRestricted=token;message=Messages.StrictFunctionName}else if(isStrictModeReservedWord(token.value)){firstRestricted=token;message=Messages.StrictReservedWord}}tmp=parseParams(firstRestricted);params=tmp.params;defaults=tmp.defaults;stricted=tmp.stricted;firstRestricted=tmp.firstRestricted;tmp.message&&(message=tmp.message);previousStrict=strict;body=parseFunctionSourceElements();strict&&firstRestricted&&throwUnexpectedToken(firstRestricted,message);strict&&stricted&&tolerateUnexpectedToken(stricted,message);strict=previousStrict;return node.finishFunctionExpression(id,params,defaults,body)}function parseClassBody(){var classBody,token,isStatic,body,method,computed,key,hasConstructor=false;classBody=new Node;expect("{");body=[];while(!match("}"))if(match(";"))lex();else{method=new Node;token=lookahead;isStatic=false;computed=match("[");key=parseObjectPropertyKey();if("static"===key.name&&lookaheadPropertyName()){token=lookahead;isStatic=true;computed=match("[");key=parseObjectPropertyKey()}method=tryParseMethodDefinition(token,key,computed,method);if(method){method["static"]=isStatic;"init"===method.kind&&(method.kind="method");if(isStatic)method.computed||"prototype"!==(method.key.name||method.key.value.toString())||throwUnexpectedToken(token,Messages.StaticPrototype);else if(!method.computed&&"constructor"===(method.key.name||method.key.value.toString())){"method"===method.kind&&method.method&&!method.value.generator||throwUnexpectedToken(token,Messages.ConstructorSpecialMethod);hasConstructor?throwUnexpectedToken(token,Messages.DuplicateConstructor):hasConstructor=true;method.kind="constructor"}method.type=Syntax.MethodDefinition;delete method.method;delete method.shorthand;body.push(method)}else throwUnexpectedToken(lookahead)}lex();return classBody.finishClassBody(body)}function parseClassDeclaration(identifierIsOptional){var classBody,id=null,superClass=null,classNode=new Node,previousStrict=strict;strict=true;expectKeyword("class");identifierIsOptional&&lookahead.type!==Token.Identifier||(id=parseVariableIdentifier());if(matchKeyword("extends")){lex();superClass=isolateCoverGrammar(parseLeftHandSideExpressionAllowCall)}classBody=parseClassBody();strict=previousStrict;return classNode.finishClassDeclaration(id,superClass,classBody)}function parseClassExpression(){var classBody,id=null,superClass=null,classNode=new Node,previousStrict=strict;strict=true;expectKeyword("class");lookahead.type===Token.Identifier&&(id=parseVariableIdentifier());if(matchKeyword("extends")){lex();superClass=isolateCoverGrammar(parseLeftHandSideExpressionAllowCall)}classBody=parseClassBody();strict=previousStrict;return classNode.finishClassExpression(id,superClass,classBody)}function parseModuleSpecifier(){var node=new Node;lookahead.type!==Token.StringLiteral&&throwError(Messages.InvalidModuleSpecifier);return node.finishLiteral(lex())}function parseExportSpecifier(){var exported,local,def,node=new Node;if(matchKeyword("default")){def=new Node;lex();local=def.finishIdentifier("default")}else local=parseVariableIdentifier();if(matchContextualKeyword("as")){lex();exported=parseNonComputedProperty()}return node.finishExportSpecifier(local,exported)}function parseExportNamedDeclaration(node){var isExportFromIdentifier,declaration=null,src=null,specifiers=[];if(lookahead.type===Token.Keyword)switch(lookahead.value){case"let":case"const":case"var":case"class":case"function":declaration=parseStatementListItem();return node.finishExportNamedDeclaration(declaration,specifiers,null)}expect("{");if(!match("}"))do{isExportFromIdentifier=isExportFromIdentifier||matchKeyword("default");specifiers.push(parseExportSpecifier())}while(match(",")&&lex());expect("}");if(matchContextualKeyword("from")){lex();src=parseModuleSpecifier();consumeSemicolon()}else isExportFromIdentifier?throwError(lookahead.value?Messages.UnexpectedToken:Messages.MissingFromClause,lookahead.value):consumeSemicolon();return node.finishExportNamedDeclaration(declaration,specifiers,src)}function parseExportDefaultDeclaration(node){var declaration=null,expression=null;expectKeyword("default");if(matchKeyword("function")){declaration=parseFunctionDeclaration(new Node,true);return node.finishExportDefaultDeclaration(declaration)}if(matchKeyword("class")){declaration=parseClassDeclaration(true);return node.finishExportDefaultDeclaration(declaration)}matchContextualKeyword("from")&&throwError(Messages.UnexpectedToken,lookahead.value);expression=match("{")?parseObjectInitialiser():match("[")?parseArrayInitialiser():parseAssignmentExpression();consumeSemicolon();return node.finishExportDefaultDeclaration(expression)}function parseExportAllDeclaration(node){var src;expect("*");matchContextualKeyword("from")||throwError(lookahead.value?Messages.UnexpectedToken:Messages.MissingFromClause,lookahead.value);lex();src=parseModuleSpecifier();consumeSemicolon();return node.finishExportAllDeclaration(src)}function parseExportDeclaration(){var node=new Node;state.inFunctionBody&&throwError(Messages.IllegalExportDeclaration);expectKeyword("export");if(matchKeyword("default"))return parseExportDefaultDeclaration(node);if(match("*"))return parseExportAllDeclaration(node);return parseExportNamedDeclaration(node)}function parseImportSpecifier(){var local,imported,node=new Node;imported=parseNonComputedProperty();if(matchContextualKeyword("as")){lex();local=parseVariableIdentifier()}return node.finishImportSpecifier(local,imported)}function parseNamedImports(){var specifiers=[];expect("{");if(!match("}"))do{specifiers.push(parseImportSpecifier())}while(match(",")&&lex());expect("}");return specifiers}function parseImportDefaultSpecifier(){var local,node=new Node;local=parseNonComputedProperty();return node.finishImportDefaultSpecifier(local)}function parseImportNamespaceSpecifier(){var local,node=new Node;expect("*");matchContextualKeyword("as")||throwError(Messages.NoAsAfterImportNamespace);lex();local=parseNonComputedProperty();return node.finishImportNamespaceSpecifier(local)}function parseImportDeclaration(){var specifiers,src,node=new Node;state.inFunctionBody&&throwError(Messages.IllegalImportDeclaration);expectKeyword("import");specifiers=[];if(lookahead.type===Token.StringLiteral){src=parseModuleSpecifier();consumeSemicolon();return node.finishImportDeclaration(specifiers,src)}if(!matchKeyword("default")&&isIdentifierName(lookahead)){specifiers.push(parseImportDefaultSpecifier());match(",")&&lex()}match("*")?specifiers.push(parseImportNamespaceSpecifier()):match("{")&&(specifiers=specifiers.concat(parseNamedImports()));matchContextualKeyword("from")||throwError(lookahead.value?Messages.UnexpectedToken:Messages.MissingFromClause,lookahead.value);lex();src=parseModuleSpecifier();consumeSemicolon();return node.finishImportDeclaration(specifiers,src)}function parseScriptBody(){var statement,token,directive,firstRestricted,body=[];while(startIndex<length){token=lookahead;if(token.type!==Token.StringLiteral)break;statement=parseStatementListItem();body.push(statement);if(statement.expression.type!==Syntax.Literal)break;directive=source.slice(token.start+1,token.end-1);if("use strict"===directive){strict=true;firstRestricted&&tolerateUnexpectedToken(firstRestricted,Messages.StrictOctalLiteral)}else!firstRestricted&&token.octal&&(firstRestricted=token)}while(startIndex<length){statement=parseStatementListItem();if("undefined"===typeof statement)break;body.push(statement)}return body}function parseProgram(){var body,node;peek();node=new Node;body=parseScriptBody();return node.finishProgram(body)}function filterTokenLocation(){var i,entry,token,tokens=[];for(i=0;i<extra.tokens.length;++i){entry=extra.tokens[i];token={type:entry.type,value:entry.value};entry.regex&&(token.regex={pattern:entry.regex.pattern,flags:entry.regex.flags});extra.range&&(token.range=entry.range);extra.loc&&(token.loc=entry.loc);tokens.push(token)}extra.tokens=tokens}function tokenize(code,options){var toString,tokens;toString=String;"string"===typeof code||code instanceof String||(code=toString(code));source=code;index=0;lineNumber=source.length>0?1:0;lineStart=0;startIndex=index;startLineNumber=lineNumber;startLineStart=lineStart;length=source.length;lookahead=null;state={allowIn:true,labelSet:{},inFunctionBody:false,inIteration:false,inSwitch:false,lastCommentStart:-1,curlyStack:[]};extra={};options=options||{};options.tokens=true;extra.tokens=[];extra.tokenize=true;extra.openParenToken=-1;extra.openCurlyToken=-1;extra.range="boolean"===typeof options.range&&options.range;extra.loc="boolean"===typeof options.loc&&options.loc;"boolean"===typeof options.comment&&options.comment&&(extra.comments=[]);"boolean"===typeof options.tolerant&&options.tolerant&&(extra.errors=[]);try{peek();if(lookahead.type===Token.EOF)return extra.tokens;lex();while(lookahead.type!==Token.EOF)try{lex()}catch(lexError){if(extra.errors){recordError(lexError);break}throw lexError}filterTokenLocation();tokens=extra.tokens;"undefined"!==typeof extra.comments&&(tokens.comments=extra.comments);"undefined"!==typeof extra.errors&&(tokens.errors=extra.errors)}catch(e){throw e}finally{extra={}}return tokens}function parse(code,options){var program,toString;toString=String;"string"===typeof code||code instanceof String||(code=toString(code));source=code;index=0;lineNumber=source.length>0?1:0;lineStart=0;startIndex=index;startLineNumber=lineNumber;startLineStart=lineStart;length=source.length;lookahead=null;state={allowIn:true,labelSet:{},inFunctionBody:false,inIteration:false,inSwitch:false,lastCommentStart:-1,curlyStack:[]};sourceType="script";strict=false;extra={};if("undefined"!==typeof options){extra.range="boolean"===typeof options.range&&options.range;extra.loc="boolean"===typeof options.loc&&options.loc;extra.attachComment="boolean"===typeof options.attachComment&&options.attachComment;extra.loc&&null!==options.source&&void 0!==options.source&&(extra.source=toString(options.source));"boolean"===typeof options.tokens&&options.tokens&&(extra.tokens=[]);"boolean"===typeof options.comment&&options.comment&&(extra.comments=[]);"boolean"===typeof options.tolerant&&options.tolerant&&(extra.errors=[]);if(extra.attachComment){extra.range=true;extra.comments=[];extra.bottomRightStack=[];extra.trailingComments=[];extra.leadingComments=[]}if("module"===options.sourceType){sourceType=options.sourceType;strict=true}}try{program=parseProgram();"undefined"!==typeof extra.comments&&(program.comments=extra.comments);if("undefined"!==typeof extra.tokens){filterTokenLocation();program.tokens=extra.tokens}"undefined"!==typeof extra.errors&&(program.errors=extra.errors)}catch(e){throw e}finally{extra={}}return program}exports.version="2.2.0";exports.tokenize=tokenize;exports.parse=parse;exports.Syntax=function(){var name,types={};"function"===typeof Object.create&&(types=Object.create(null));for(name in Syntax)Syntax.hasOwnProperty(name)&&(types[name]=Syntax[name]);"function"===typeof Object.freeze&&Object.freeze(types);return types}()})},6843:function(module,exports,__webpack_require__){"use strict";var common=__webpack_require__(538);var YAMLException=__webpack_require__(642);var DEFAULT_FULL_SCHEMA=__webpack_require__(842);var DEFAULT_SAFE_SCHEMA=__webpack_require__(643);var _toString=Object.prototype.toString;var _hasOwnProperty=Object.prototype.hasOwnProperty;var CHAR_TAB=9;var CHAR_LINE_FEED=10;var CHAR_CARRIAGE_RETURN=13;var CHAR_SPACE=32;var CHAR_EXCLAMATION=33;var CHAR_DOUBLE_QUOTE=34;var CHAR_SHARP=35;var CHAR_PERCENT=37;var CHAR_AMPERSAND=38;var CHAR_SINGLE_QUOTE=39;var CHAR_ASTERISK=42;var CHAR_COMMA=44;var CHAR_MINUS=45;var CHAR_COLON=58;var CHAR_GREATER_THAN=62;var CHAR_QUESTION=63;var CHAR_COMMERCIAL_AT=64;var CHAR_LEFT_SQUARE_BRACKET=91;var CHAR_RIGHT_SQUARE_BRACKET=93;var CHAR_GRAVE_ACCENT=96;var CHAR_LEFT_CURLY_BRACKET=123;var CHAR_VERTICAL_LINE=124;var CHAR_RIGHT_CURLY_BRACKET=125;var ESCAPE_SEQUENCES={};ESCAPE_SEQUENCES[0]="\\0";ESCAPE_SEQUENCES[7]="\\a";ESCAPE_SEQUENCES[8]="\\b";ESCAPE_SEQUENCES[9]="\\t";ESCAPE_SEQUENCES[10]="\\n";ESCAPE_SEQUENCES[11]="\\v";ESCAPE_SEQUENCES[12]="\\f";ESCAPE_SEQUENCES[13]="\\r";ESCAPE_SEQUENCES[27]="\\e";ESCAPE_SEQUENCES[34]='\\"';ESCAPE_SEQUENCES[92]="\\\\";ESCAPE_SEQUENCES[133]="\\N";ESCAPE_SEQUENCES[160]="\\_";ESCAPE_SEQUENCES[8232]="\\L";ESCAPE_SEQUENCES[8233]="\\P";var DEPRECATED_BOOLEANS_SYNTAX=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"];function compileStyleMap(schema,map){var result,keys,index,length,tag,style,type;if(null===map)return{};result={};keys=Object.keys(map);for(index=0,length=keys.length;index<length;index+=1){tag=keys[index];style=String(map[tag]);"!!"===tag.slice(0,2)&&(tag="tag:yaml.org,2002:"+tag.slice(2));type=schema.compiledTypeMap[tag];type&&_hasOwnProperty.call(type.styleAliases,style)&&(style=type.styleAliases[style]);result[tag]=style}return result}function encodeHex(character){var string,handle,length;string=character.toString(16).toUpperCase();if(character<=255){handle="x";length=2}else if(character<=65535){handle="u";length=4}else{if(!(character<=4294967295))throw new YAMLException("code point within a string may not be greater than 0xFFFFFFFF");handle="U";length=8}return"\\"+handle+common.repeat("0",length-string.length)+string}function State(options){this.schema=options["schema"]||DEFAULT_FULL_SCHEMA;this.indent=Math.max(1,options["indent"]||2);this.skipInvalid=options["skipInvalid"]||false;this.flowLevel=common.isNothing(options["flowLevel"])?-1:options["flowLevel"];this.styleMap=compileStyleMap(this.schema,options["styles"]||null);this.sortKeys=options["sortKeys"]||false;this.implicitTypes=this.schema.compiledImplicit;this.explicitTypes=this.schema.compiledExplicit;this.tag=null;this.result="";this.duplicates=[];this.usedDuplicates=null}function indentString(string,spaces){var line,ind=common.repeat(" ",spaces),position=0,next=-1,result="",length=string.length;while(position<length){next=string.indexOf("\n",position);if(-1===next){line=string.slice(position);position=length}else{line=string.slice(position,next+1);position=next+1}line.length&&"\n"!==line&&(result+=ind);result+=line}return result}function generateNextLine(state,level){return"\n"+common.repeat(" ",state.indent*level)}function testImplicitResolving(state,str){var index,length,type;for(index=0,length=state.implicitTypes.length;index<length;index+=1){type=state.implicitTypes[index];if(type.resolve(str))return true}return false}function StringBuilder(source){this.source=source;this.result="";this.checkpoint=0}StringBuilder.prototype.takeUpTo=function(position){var er;if(position<this.checkpoint){er=new Error("position should be > checkpoint");er.position=position;er.checkpoint=this.checkpoint;throw er}this.result+=this.source.slice(this.checkpoint,position);this.checkpoint=position;return this};StringBuilder.prototype.escapeChar=function(){var character,esc;character=this.source.charCodeAt(this.checkpoint);esc=ESCAPE_SEQUENCES[character]||encodeHex(character);this.result+=esc;this.checkpoint+=1;return this};StringBuilder.prototype.finish=function(){this.source.length>this.checkpoint&&this.takeUpTo(this.source.length)};function writeScalar(state,object,level,iskey){var simple,first,spaceWrap,folded,literal,single,double,sawLineFeed,linePosition,longestLine,indent,max,character,position,escapeSeq,hexEsc,previous,lineLength,modifier,trailingLineBreaks,result;if(0===object.length){state.dump="''";return}if(-1!==DEPRECATED_BOOLEANS_SYNTAX.indexOf(object)){state.dump="'"+object+"'";return}simple=true;first=object.length?object.charCodeAt(0):0;spaceWrap=CHAR_SPACE===first||CHAR_SPACE===object.charCodeAt(object.length-1);CHAR_MINUS!==first&&CHAR_QUESTION!==first&&CHAR_COMMERCIAL_AT!==first&&CHAR_GRAVE_ACCENT!==first||(simple=false);if(spaceWrap){simple=false;folded=false;literal=false}else{folded=!iskey;literal=!iskey}single=true;double=new StringBuilder(object);sawLineFeed=false;linePosition=0;longestLine=0;indent=state.indent*level;max=80;indent<40?max-=indent:max=40;for(position=0;position<object.length;position++){character=object.charCodeAt(position);if(simple){if(simpleChar(character))continue;simple=false}single&&character===CHAR_SINGLE_QUOTE&&(single=false);escapeSeq=ESCAPE_SEQUENCES[character];hexEsc=needsHexEscape(character);if(!escapeSeq&&!hexEsc)continue;if(character!==CHAR_LINE_FEED&&character!==CHAR_DOUBLE_QUOTE&&character!==CHAR_SINGLE_QUOTE){folded=false;literal=false}else if(character===CHAR_LINE_FEED){sawLineFeed=true;single=false;if(position>0){previous=object.charCodeAt(position-1);if(previous===CHAR_SPACE){literal=false;folded=false}}if(folded){lineLength=position-linePosition;linePosition=position;lineLength>longestLine&&(longestLine=lineLength)}}character!==CHAR_DOUBLE_QUOTE&&(single=false);double.takeUpTo(position);double.escapeChar()}simple&&testImplicitResolving(state,object)&&(simple=false);modifier="";if(folded||literal){trailingLineBreaks=0;if(object.charCodeAt(object.length-1)===CHAR_LINE_FEED){trailingLineBreaks+=1;object.charCodeAt(object.length-2)===CHAR_LINE_FEED&&(trailingLineBreaks+=1)}0===trailingLineBreaks?modifier="-":2===trailingLineBreaks&&(modifier="+")}literal&&longestLine<max&&(folded=false);sawLineFeed||(literal=false);if(simple)state.dump=object;else if(single)state.dump="'"+object+"'";else if(folded){result=fold(object,max);state.dump=">"+modifier+"\n"+indentString(result,indent)}else if(literal){modifier||(object=object.replace(/\n$/,""));state.dump="|"+modifier+"\n"+indentString(object,indent)}else{if(!double)throw new Error("Failed to dump scalar value");double.finish();state.dump='"'+double.result+'"'}return}function fold(object,max){var newLine,result="",position=0,length=object.length,trailing=/\n+$/.exec(object);trailing&&(length=trailing.index+1);while(position<length){newLine=object.indexOf("\n",position);if(newLine>length||-1===newLine){result&&(result+="\n\n");result+=foldLine(object.slice(position,length),max);position=length}else{result&&(result+="\n\n");result+=foldLine(object.slice(position,newLine),max);position=newLine+1}}trailing&&"\n"!==trailing[0]&&(result+=trailing[0]);return result}function foldLine(line,max){if(""===line)return line;var index,foldEnd,folded,foldRe=/[^\s] [^\s]/g,result="",prevMatch=0,foldStart=0,match=foldRe.exec(line);while(match){index=match.index;if(index-foldStart>max){foldEnd=prevMatch!==foldStart?prevMatch:index;result&&(result+="\n");folded=line.slice(foldStart,foldEnd);result+=folded;foldStart=foldEnd+1}prevMatch=index+1;match=foldRe.exec(line)}result&&(result+="\n");foldStart!==prevMatch&&line.length-foldStart>max?result+=line.slice(foldStart,prevMatch)+"\n"+line.slice(prevMatch+1):result+=line.slice(foldStart);return result}function simpleChar(character){return CHAR_TAB!==character&&CHAR_LINE_FEED!==character&&CHAR_CARRIAGE_RETURN!==character&&CHAR_COMMA!==character&&CHAR_LEFT_SQUARE_BRACKET!==character&&CHAR_RIGHT_SQUARE_BRACKET!==character&&CHAR_LEFT_CURLY_BRACKET!==character&&CHAR_RIGHT_CURLY_BRACKET!==character&&CHAR_SHARP!==character&&CHAR_AMPERSAND!==character&&CHAR_ASTERISK!==character&&CHAR_EXCLAMATION!==character&&CHAR_VERTICAL_LINE!==character&&CHAR_GREATER_THAN!==character&&CHAR_SINGLE_QUOTE!==character&&CHAR_DOUBLE_QUOTE!==character&&CHAR_PERCENT!==character&&CHAR_COLON!==character&&!ESCAPE_SEQUENCES[character]&&!needsHexEscape(character)}function needsHexEscape(character){return!(32<=character&&character<=126||133===character||160<=character&&character<=55295||57344<=character&&character<=65533||65536<=character&&character<=1114111)}function writeFlowSequence(state,level,object){var index,length,_result="",_tag=state.tag;for(index=0,length=object.length;index<length;index+=1)if(writeNode(state,level,object[index],false,false)){0!==index&&(_result+=", ");_result+=state.dump}state.tag=_tag;state.dump="["+_result+"]"}function writeBlockSequence(state,level,object,compact){var index,length,_result="",_tag=state.tag;for(index=0,length=object.length;index<length;index+=1)if(writeNode(state,level+1,object[index],true,true)){compact&&0===index||(_result+=generateNextLine(state,level));_result+="- "+state.dump}state.tag=_tag;state.dump=_result||"[]"}function writeFlowMapping(state,level,object){var index,length,objectKey,objectValue,pairBuffer,_result="",_tag=state.tag,objectKeyList=Object.keys(object);for(index=0,length=objectKeyList.length;index<length;index+=1){pairBuffer="";0!==index&&(pairBuffer+=", ");objectKey=objectKeyList[index];objectValue=object[objectKey];if(!writeNode(state,level,objectKey,false,false))continue;state.dump.length>1024&&(pairBuffer+="? ");pairBuffer+=state.dump+": ";if(!writeNode(state,level,objectValue,false,false))continue;pairBuffer+=state.dump;_result+=pairBuffer}state.tag=_tag;state.dump="{"+_result+"}"}function writeBlockMapping(state,level,object,compact){var index,length,objectKey,objectValue,explicitPair,pairBuffer,_result="",_tag=state.tag,objectKeyList=Object.keys(object);if(true===state.sortKeys)objectKeyList.sort();else if("function"===typeof state.sortKeys)objectKeyList.sort(state.sortKeys);else if(state.sortKeys)throw new YAMLException("sortKeys must be a boolean or a function");for(index=0,length=objectKeyList.length;index<length;index+=1){pairBuffer="";compact&&0===index||(pairBuffer+=generateNextLine(state,level));objectKey=objectKeyList[index];objectValue=object[objectKey];if(!writeNode(state,level+1,objectKey,true,true,true))continue;explicitPair=null!==state.tag&&"?"!==state.tag||state.dump&&state.dump.length>1024;explicitPair&&(state.dump&&CHAR_LINE_FEED===state.dump.charCodeAt(0)?pairBuffer+="?":pairBuffer+="? ");pairBuffer+=state.dump;explicitPair&&(pairBuffer+=generateNextLine(state,level));if(!writeNode(state,level+1,objectValue,true,explicitPair))continue;state.dump&&CHAR_LINE_FEED===state.dump.charCodeAt(0)?pairBuffer+=":":pairBuffer+=": ";pairBuffer+=state.dump;_result+=pairBuffer}state.tag=_tag;state.dump=_result||"{}"}function detectType(state,object,explicit){var _result,typeList,index,length,type,style;typeList=explicit?state.explicitTypes:state.implicitTypes;for(index=0,length=typeList.length;index<length;index+=1){type=typeList[index];if((type.instanceOf||type.predicate)&&(!type.instanceOf||"object"===typeof object&&object instanceof type.instanceOf)&&(!type.predicate||type.predicate(object))){state.tag=explicit?type.tag:"?";if(type.represent){style=state.styleMap[type.tag]||type.defaultStyle;if("[object Function]"===_toString.call(type.represent))_result=type.represent(object,style);else{if(!_hasOwnProperty.call(type.represent,style))throw new YAMLException("!<"+type.tag+'> tag resolver accepts not "'+style+'" style');_result=type.represent[style](object,style)}state.dump=_result}return true}}return false}function writeNode(state,level,object,block,compact,iskey){state.tag=null;state.dump=object;detectType(state,object,false)||detectType(state,object,true);var type=_toString.call(state.dump);block&&(block=0>state.flowLevel||state.flowLevel>level);(null!==state.tag&&"?"!==state.tag||2!==state.indent&&level>0)&&(compact=false);var duplicateIndex,duplicate,objectOrArray="[object Object]"===type||"[object Array]"===type;if(objectOrArray){duplicateIndex=state.duplicates.indexOf(object);duplicate=-1!==duplicateIndex}if(duplicate&&state.usedDuplicates[duplicateIndex])state.dump="*ref_"+duplicateIndex;else{objectOrArray&&duplicate&&!state.usedDuplicates[duplicateIndex]&&(state.usedDuplicates[duplicateIndex]=true);if("[object Object]"===type)if(block&&0!==Object.keys(state.dump).length){writeBlockMapping(state,level,state.dump,compact);duplicate&&(state.dump="&ref_"+duplicateIndex+(0===level?"\n":"")+state.dump)}else{writeFlowMapping(state,level,state.dump);duplicate&&(state.dump="&ref_"+duplicateIndex+" "+state.dump)}else if("[object Array]"===type)if(block&&0!==state.dump.length){writeBlockSequence(state,level,state.dump,compact);duplicate&&(state.dump="&ref_"+duplicateIndex+(0===level?"\n":"")+state.dump)}else{writeFlowSequence(state,level,state.dump);duplicate&&(state.dump="&ref_"+duplicateIndex+" "+state.dump)}else{if("[object String]"!==type){if(state.skipInvalid)return false;throw new YAMLException("unacceptable kind of an object to dump "+type)}"?"!==state.tag&&writeScalar(state,state.dump,level,iskey)}null!==state.tag&&"?"!==state.tag&&(state.dump="!<"+state.tag+"> "+state.dump)}return true}function getDuplicateReferences(object,state){var index,length,objects=[],duplicatesIndexes=[];inspectNode(object,objects,duplicatesIndexes);for(index=0,length=duplicatesIndexes.length;index<length;index+=1)state.duplicates.push(objects[duplicatesIndexes[index]]);state.usedDuplicates=new Array(length)}function inspectNode(object,objects,duplicatesIndexes){var objectKeyList,index,length;if(null!==object&&"object"===typeof object){index=objects.indexOf(object);if(-1!==index)-1===duplicatesIndexes.indexOf(index)&&duplicatesIndexes.push(index);else{objects.push(object);if(Array.isArray(object))for(index=0,length=object.length;index<length;index+=1)inspectNode(object[index],objects,duplicatesIndexes);else{objectKeyList=Object.keys(object);for(index=0,length=objectKeyList.length;index<length;index+=1)inspectNode(object[objectKeyList[index]],objects,duplicatesIndexes)}}}}function dump(input,options){options=options||{};var state=new State(options);getDuplicateReferences(input,state);if(writeNode(state,0,input,true,true))return state.dump+"\n";return""}function safeDump(input,options){return dump(input,common.extend({schema:DEFAULT_SAFE_SCHEMA},options))}module.exports.dump=dump;module.exports.safeDump=safeDump},6844:function(module,exports,__webpack_require__){"use strict";function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}return Array.from(arr)}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var react_1=tslib_1.__importDefault(__webpack_require__(0));var react_router_dom_1=__webpack_require__(49);var header_1=__webpack_require__(6845);var route_with_breadcrumb_1=__webpack_require__(1251);var beat_1=__webpack_require__(6846);var enforce_security_1=__webpack_require__(6875);var invalid_license_1=__webpack_require__(6876);var main_1=__webpack_require__(6877);var no_access_1=__webpack_require__(6884);var tag_1=__webpack_require__(6885);exports.PageRouter=function(_ref){var libs=_ref.libs;return react_1.default.createElement(react_router_dom_1.HashRouter,{basename:"/management/beats_management"},react_1.default.createElement("div",null,react_1.default.createElement(route_with_breadcrumb_1.BreadcrumbConsumer,null,function(_ref2){var breadcrumbs=_ref2.breadcrumbs;return react_1.default.createElement(header_1.Header,{breadcrumbs:[{href:"#/management",text:"Management"},{href:"#/management/beats_management",text:"Beats"}].concat(_toConsumableArray(breadcrumbs))})}),react_1.default.createElement(react_router_dom_1.Switch,null,libs.framework.licenseExpired()&&react_1.default.createElement(react_router_dom_1.Route,{render:function render(){return react_1.default.createElement(invalid_license_1.InvalidLicensePage,null)}}),!libs.framework.securityEnabled()&&react_1.default.createElement(react_router_dom_1.Route,{render:function render(){return react_1.default.createElement(enforce_security_1.EnforceSecurityPage,null)}}),!libs.framework.getCurrentUser()||!libs.framework.getCurrentUser().roles.includes("beats_admin")&&!libs.framework.getDefaultUserRoles().some(function(r){return libs.framework.getCurrentUser().roles.includes(r)})&&react_1.default.createElement(react_router_dom_1.Route,{render:function render(){return react_1.default.createElement(no_access_1.NoAccessPage,null)}}),react_1.default.createElement(react_router_dom_1.Route,{path:"/",exact:true,render:function render(){return react_1.default.createElement(react_router_dom_1.Redirect,{from:"/",exact:true,to:"/overview/beats"})}}),react_1.default.createElement(react_router_dom_1.Route,{path:"/overview",render:function render(props){return react_1.default.createElement(main_1.MainPages,Object.assign({},props,{libs:libs}))}}),react_1.default.createElement(route_with_breadcrumb_1.RouteWithBreadcrumb,{title:function title(params){return"Beats: "+params.beatId},parentBreadcrumbs:[{text:"Beats List",href:"#/management/beats_management/overview/beats"}],path:"/beat/:beatId",render:function render(props){return react_1.default.createElement(beat_1.BeatDetailsPage,Object.assign({},props,{libs:libs}))}}),react_1.default.createElement(route_with_breadcrumb_1.RouteWithBreadcrumb,{title:function title(params){if("create"===params.action)return"Create Tag";return"Tag: "+params.tagid},parentBreadcrumbs:[{text:"Tags List",href:"#/management/beats_management/overview/tags"}],path:"/tag/:action/:tagid?",render:function render(props){return react_1.default.createElement(tag_1.TagPage,Object.assign({},props,{libs:libs}))}}))))}},6845:function(module,exports,__webpack_require__){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _templateObject=_taggedTemplateLiteral(["\n  height: 29px;\n"],["\n  height: 29px;\n"]);function _taggedTemplateLiteral(strings,raw){return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}return Array.from(arr)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var eui_1=__webpack_require__(2);var react_1=tslib_1.__importDefault(__webpack_require__(0));var styled_components_1=tslib_1.__importDefault(__webpack_require__(20));var Header=function(_react_1$default$Pure){_inherits(Header,_react_1$default$Pure);function Header(){_classCallCheck(this,Header);return _possibleConstructorReturn(this,(Header.__proto__||Object.getPrototypeOf(Header)).apply(this,arguments))}_createClass(Header,[{key:"render",value:function render(){var _props$breadcrumbs=this.props.breadcrumbs,breadcrumbs=void 0===_props$breadcrumbs?[]:_props$breadcrumbs;return react_1.default.createElement(HeaderWrapper,null,react_1.default.createElement(eui_1.EuiHeaderSection,null,react_1.default.createElement(eui_1.EuiHeaderBreadcrumbs,{breadcrumbs:[].concat(_toConsumableArray(breadcrumbs))})))}}]);return Header}(react_1.default.PureComponent);exports.Header=Header;var HeaderWrapper=styled_components_1.default(eui_1.EuiHeader)(_templateObject)},6846:function(module,exports,__webpack_require__){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var eui_1=__webpack_require__(2);var react_1=tslib_1.__importDefault(__webpack_require__(0));var react_router_dom_1=__webpack_require__(49);var primary_1=__webpack_require__(1253);var with_url_state_1=__webpack_require__(540);var action_section_1=__webpack_require__(6847);var activity_1=__webpack_require__(6848);var detail_1=__webpack_require__(6849);var tags_1=__webpack_require__(6874);var BeatDetailsPageComponent=function(_react_1$default$Pure){_inherits(BeatDetailsPageComponent,_react_1$default$Pure);function BeatDetailsPageComponent(props){_classCallCheck(this,BeatDetailsPageComponent);var _this=_possibleConstructorReturn(this,(BeatDetailsPageComponent.__proto__||Object.getPrototypeOf(BeatDetailsPageComponent)).call(this,props));_this.onSelectedTabChanged=function(id){_this.props.history.push({pathname:id,search:_this.props.location.search})};_this.state={beat:void 0,beatId:_this.props.match.params.beatId,isLoading:true};_this.loadBeat();return _this}_createClass(BeatDetailsPageComponent,[{key:"render",value:function render(){var _this2=this;var beat=this.state.beat;var id=void 0;var name=void 0;if(beat){id=beat.id;name=beat.name}var title=this.state.isLoading?"Loading":"Beat: "+(name||"No name receved from beat")+" (id: "+id+")";var tabs=[{id:"/beat/"+id,name:"Config",disabled:false},{id:"/beat/"+id+"/tags",name:"Configuration Tags",disabled:false}];return react_1.default.createElement(primary_1.PrimaryLayout,{title:title,actionSection:react_1.default.createElement(action_section_1.BeatDetailsActionSection,{beat:beat})},react_1.default.createElement(eui_1.EuiTabs,null,tabs.map(function(tab,index){return react_1.default.createElement(eui_1.EuiTab,{disabled:tab.disabled,key:index,isSelected:tab.id===_this2.props.history.location.pathname,onClick:function onClick(){_this2.props.history.push({pathname:tab.id,search:_this2.props.location.search})}},tab.name)})),react_1.default.createElement(eui_1.EuiSpacer,{size:"l"}),react_1.default.createElement(react_router_dom_1.Switch,null,react_1.default.createElement(react_router_dom_1.Route,{path:"/beat/:beatId/activity",render:function render(props){return react_1.default.createElement(activity_1.BeatActivityPage,Object.assign({libs:_this2.props.libs},props))}}),react_1.default.createElement(react_router_dom_1.Route,{path:"/beat/:beatId/tags",render:function render(props){return react_1.default.createElement(tags_1.BeatTagsPage,Object.assign({beatId:_this2.state.beatId,libs:_this2.props.libs,refreshBeat:function refreshBeat(){return _this2.loadBeat()}},props))}}),react_1.default.createElement(react_router_dom_1.Route,{path:"/beat/:beatId",render:function render(props){return react_1.default.createElement(detail_1.BeatDetailPage,Object.assign({beat:_this2.state.beat,libs:_this2.props.libs},props))}})))}},{key:"loadBeat",value:function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee(){var beatId,beat;return regeneratorRuntime.wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:beatId=this.props.match.params.beatId;beat=void 0;_context.prev=2;_context.next=5;return this.props.libs.beats.get(beatId);case 5:beat=_context.sent;if(beat){_context.next=8;break}throw new Error("beat not found");case 8:_context.next=13;break;case 10:_context.prev=10;_context.t0=_context["catch"](2);throw new Error(_context.t0);case 13:this.setState({beat:beat,isLoading:false});case 14:case"end":return _context.stop()}},_callee,this,[[2,10]])}));function loadBeat(){return _ref.apply(this,arguments)}return loadBeat}()}]);return BeatDetailsPageComponent}(react_1.default.PureComponent);exports.BeatDetailsPage=with_url_state_1.withUrlState(BeatDetailsPageComponent)},6847:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var eui_1=__webpack_require__(2);var lodash_1=__webpack_require__(1);var moment_1=tslib_1.__importDefault(__webpack_require__(12));var react_1=tslib_1.__importDefault(__webpack_require__(0));exports.BeatDetailsActionSection=function(_ref){var beat=_ref.beat;return react_1.default.createElement("div",null,beat?react_1.default.createElement(eui_1.EuiFlexGroup,null,react_1.default.createElement(eui_1.EuiFlexItem,{grow:false},react_1.default.createElement(eui_1.EuiText,{size:"xs"},"Type:",react_1.default.createElement("strong",null,beat.type),".")),react_1.default.createElement(eui_1.EuiFlexItem,{grow:false},react_1.default.createElement(eui_1.EuiText,{size:"xs"},"Version:",react_1.default.createElement("strong",null,beat.version),".")),beat.full_tags&&beat.full_tags.length>0&&react_1.default.createElement(eui_1.EuiFlexItem,{grow:false},react_1.default.createElement(eui_1.EuiText,{size:"xs"},"Last Config Update:"," ",react_1.default.createElement("strong",null,moment_1.default(lodash_1.first(lodash_1.sortByOrder(beat.full_tags,"last_updated")).last_updated).fromNow()),"."))):react_1.default.createElement("div",null,"Beat not found"))}},6848:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var react_1=tslib_1.__importDefault(__webpack_require__(0));exports.BeatActivityPage=function(props){return react_1.default.createElement("div",null,"Beat Activity View")}},6849:function(module,exports,__webpack_require__){"use strict";var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var eui_1=__webpack_require__(2);var lodash_1=__webpack_require__(1);var react_1=tslib_1.__importDefault(__webpack_require__(0));var constants_1=__webpack_require__(390);var connected_link_1=__webpack_require__(1254);var tag_1=__webpack_require__(843);var index_1=__webpack_require__(2193);var config_schemas_1=__webpack_require__(841);var BeatDetailPage=function(_react_1$default$Pure){_inherits(BeatDetailPage,_react_1$default$Pure);function BeatDetailPage(props){_classCallCheck(this,BeatDetailPage);var _this=_possibleConstructorReturn(this,(BeatDetailPage.__proto__||Object.getPrototypeOf(BeatDetailPage)).call(this,props));_this.state={selectedConfig:null};return _this}_createClass(BeatDetailPage,[{key:"render",value:function render(){var _this2=this;var props=this.props;var beat=props.beat;if(!beat)return react_1.default.createElement("div",null,"Beat not found");var configurationBlocks=lodash_1.flatten(beat.full_tags.map(function(tag){return tag.configuration_blocks.map(function(configuration){return _extends({module:configuration.configs[0].module||null,tagId:tag.id,tagColor:tag.color},beat,configuration,{displayValue:lodash_1.get(config_schemas_1.supportedConfigs.find(function(config){return config.value===configuration.type}),"text",null)})})}));var columns=[{field:"displayValue",name:"Type",sortable:true,render:function render(value,configuration){return react_1.default.createElement(eui_1.EuiLink,{onClick:function onClick(){_this2.setState({selectedConfig:configuration})}},value||configuration.type)}},{field:"module",name:"Module",sortable:true},{field:"description",name:"Description",sortable:true},{field:"tagId",name:"Tag",render:function render(id,block){return react_1.default.createElement(connected_link_1.ConnectedLink,{path:"/tag/edit/"+id},react_1.default.createElement(tag_1.TagBadge,{maxIdRenderSize:constants_1.TABLE_CONFIG.TRUNCATE_TAG_LENGTH_SMALL,tag:{color:block.tagColor,id:id}}))},sortable:true}];return react_1.default.createElement(react_1.default.Fragment,null,react_1.default.createElement(eui_1.EuiFlexGroup,null,react_1.default.createElement(eui_1.EuiFlexItem,null,react_1.default.createElement(eui_1.EuiTitle,{size:"xs"},react_1.default.createElement("h4",null,"Configurations")),react_1.default.createElement(eui_1.EuiText,{size:"s"},react_1.default.createElement("p",null,"You can have multiple configurations applied to an individual tag. These configurations can repeat or mix types as necessary. For example, you may utilize three metricbeat configurations alongside one input and filebeat configuration."))),react_1.default.createElement(eui_1.EuiFlexItem,null,react_1.default.createElement(eui_1.EuiInMemoryTable,{columns:columns,items:configurationBlocks}))),this.state.selectedConfig&&react_1.default.createElement(index_1.ConfigView,{configBlock:this.state.selectedConfig,onClose:function onClose(){return _this2.setState({selectedConfig:null})}}))}}]);return BeatDetailPage}(react_1.default.PureComponent);exports.BeatDetailPage=BeatDetailPage},6850:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var eui_1=__webpack_require__(2);var react_1=tslib_1.__importDefault(__webpack_require__(0));var constants_1=__webpack_require__(390);exports.DisabledTagBadge=function(props){var id=props.id,maxIdRenderSize=props.maxIdRenderSize;var idRenderSize=maxIdRenderSize||constants_1.TABLE_CONFIG.TRUNCATE_TAG_LENGTH;var idToRender=id.length>idRenderSize?id.substring(0,idRenderSize)+"...":id;return react_1.default.createElement(eui_1.EuiBadge,{color:"default",iconType:"cross"},idToRender)}},6851:function(module,exports,__webpack_require__){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}return Array.from(arr)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var eui_1=__webpack_require__(2);__webpack_require__(1256);__webpack_require__(616);var lodash_1=__webpack_require__(1);var react_1=tslib_1.__importDefault(__webpack_require__(0));var config_list_1=__webpack_require__(6852);var table_1=__webpack_require__(449);var table_2=__webpack_require__(449);var table_3=__webpack_require__(449);var config_view_1=__webpack_require__(2193);var tag_badge_1=__webpack_require__(1255);var TagEdit=function(_react_1$default$Pure){_inherits(TagEdit,_react_1$default$Pure);function TagEdit(props){_classCallCheck(this,TagEdit);var _this=_possibleConstructorReturn(this,(TagEdit.__proto__||Object.getPrototypeOf(TagEdit)).call(this,props));_this.getNameError=function(name){return!(!name||""===name||-1!==name.search(/^[a-zA-Z0-9-]+$/))&&"Tag name must consist of letters, numbers, and dashes only"};_this.handleAssignmentActions=function(action){switch(action){case table_1.AssignmentActionType.Delete:var selection=_this.state.tableRef.current.state.selection;_this.props.onDetachBeat(selection.map(function(beat){return beat.id}))}};_this.updateTag=function(key,value){return void 0!==value?_this.props.onTagChange(key,value):function(e){return _this.props.onTagChange(key,e.target?e.target.value:e)}};_this.state={showFlyout:false,tableRef:react_1.default.createRef()};return _this}_createClass(TagEdit,[{key:"render",value:function render(){var _this2=this;var _props=this.props,tag=_props.tag,attachedBeats=_props.attachedBeats;return react_1.default.createElement("div",null,react_1.default.createElement(eui_1.EuiFlexGroup,null,react_1.default.createElement(eui_1.EuiFlexItem,null,react_1.default.createElement(eui_1.EuiTitle,{size:"xs"},react_1.default.createElement("h3",null,"Tag details")),react_1.default.createElement(eui_1.EuiText,{color:"subdued"},react_1.default.createElement("p",null,"A tag is a group of configuration blocks that you can apply to one or more Beats.")),react_1.default.createElement("div",null,react_1.default.createElement(tag_badge_1.TagBadge,{tag:{color:tag.color||"#FF0",id:tag.id}}))),react_1.default.createElement(eui_1.EuiFlexItem,null,react_1.default.createElement(eui_1.EuiForm,null,react_1.default.createElement(eui_1.EuiFormRow,{label:"Tag Name",isInvalid:!!this.getNameError(tag.id),error:this.getNameError(tag.id)||void 0},react_1.default.createElement(eui_1.EuiFieldText,{name:"name",isInvalid:!!this.getNameError(tag.id),onChange:this.updateTag("id"),disabled:"edit"===this.props.mode,value:tag.id,placeholder:"Tag name (required)"})),"create"===this.props.mode&&react_1.default.createElement(eui_1.EuiFormRow,{label:"Tag Color"},react_1.default.createElement(eui_1.EuiColorPicker,{color:tag.color,onChange:this.updateTag("color")}))))),react_1.default.createElement(eui_1.EuiSpacer,null),react_1.default.createElement(eui_1.EuiHorizontalRule,null),react_1.default.createElement(eui_1.EuiFlexGroup,{alignItems:tag.configuration_blocks&&tag.configuration_blocks.length?"stretch":"center"},react_1.default.createElement(eui_1.EuiFlexItem,null,react_1.default.createElement(eui_1.EuiTitle,{size:"xs"},react_1.default.createElement("h3",null,"Configuration blocks")),react_1.default.createElement(eui_1.EuiText,{color:"subdued"},react_1.default.createElement("p",null,"A tag can have configuration blocks for different types of Beats. For example, a tag can have two Metricbeat configuration blocks and one Filebeat input configuration block."))),react_1.default.createElement(eui_1.EuiFlexItem,null,react_1.default.createElement("div",null,react_1.default.createElement(config_list_1.ConfigList,{configs:tag.configuration_blocks,onConfigClick:function onConfigClick(action,config){var selectedIndex=tag.configuration_blocks.findIndex(function(c){return lodash_1.isEqual(config,c)});if("delete"===action){var configs=[].concat(_toConsumableArray(tag.configuration_blocks));configs.splice(selectedIndex,1);_this2.updateTag("configuration_blocks",configs)}else _this2.setState({showFlyout:true,selectedConfigIndex:selectedIndex})}}),react_1.default.createElement("br",null),react_1.default.createElement(eui_1.EuiButton,{onClick:function onClick(){_this2.setState({showFlyout:true})}},"Add configuration block")))),react_1.default.createElement(eui_1.EuiSpacer,null),attachedBeats&&react_1.default.createElement("div",null,react_1.default.createElement(eui_1.EuiHorizontalRule,null),react_1.default.createElement(eui_1.EuiTitle,{size:"xs"},react_1.default.createElement("h3",null,"Beats with this tag")),react_1.default.createElement(table_1.Table,{assignmentOptions:{schema:table_3.tagConfigAssignmentOptions,items:[],type:"primary",actionHandler:this.handleAssignmentActions},items:attachedBeats,ref:this.state.tableRef,type:table_2.BeatsTableType})),this.state.showFlyout&&react_1.default.createElement(config_view_1.ConfigView,{configBlock:void 0!==this.state.selectedConfigIndex?tag.configuration_blocks[this.state.selectedConfigIndex]:void 0,onClose:function onClose(){return _this2.setState({showFlyout:false,selectedConfigIndex:void 0})},onSave:function onSave(config){_this2.setState({showFlyout:false,selectedConfigIndex:void 0});if(void 0!==_this2.state.selectedConfigIndex){var configs=[].concat(_toConsumableArray(tag.configuration_blocks));configs[_this2.state.selectedConfigIndex]=config;_this2.updateTag("configuration_blocks",configs)}else _this2.updateTag("configuration_blocks",[].concat(_toConsumableArray(tag.configuration_blocks||[]),[config]))}}))}}]);return TagEdit}(react_1.default.PureComponent);exports.TagEdit=TagEdit},6852:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var eui_1=__webpack_require__(2);var react_1=tslib_1.__importDefault(__webpack_require__(0));var config_schemas_1=__webpack_require__(841);exports.ConfigList=function(props){return react_1.default.createElement(eui_1.EuiBasicTable,{items:props.configs||[],columns:[{field:"type",name:"Type",truncateText:false,render:function render(value,config){var type=config_schemas_1.supportedConfigs.find(function(sc){return sc.value===config.type});return react_1.default.createElement(eui_1.EuiLink,{onClick:function onClick(){return props.onConfigClick("edit",config)}},type?type.text:config.type)}},{field:"module",name:"Module",truncateText:false,render:function render(value){return value||"N/A"}},{field:"description",name:"Description"},{name:"Actions",actions:[{name:"Remove",description:"Remove this config from tag",type:"icon",icon:"trash",onClick:function onClick(item){return props.onConfigClick("delete",item)}}]}]})}},6853:function(module,exports,__webpack_require__){"use strict";var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _templateObject=_taggedTemplateLiteral(["\n  position: relative;\n"],["\n  position: relative;\n"]),_templateObject2=_taggedTemplateLiteral(["\n  position: absolute;\n  width: 100%;\n  margin-top: 2px;\n  overflow: hidden;\n  z-index: 1000;\n"],["\n  position: absolute;\n  width: 100%;\n  margin-top: 2px;\n  overflow: hidden;\n  z-index: 1000;\n"]);function _taggedTemplateLiteral(strings,raw){return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var eui_1=__webpack_require__(2);var react_1=tslib_1.__importDefault(__webpack_require__(0));var styled_components_1=tslib_1.__importDefault(__webpack_require__(20));var typed_react_1=__webpack_require__(6854);var suggestion_item_1=__webpack_require__(6855);var AutocompleteField=function(_react_1$default$Comp){_inherits(AutocompleteField,_react_1$default$Comp);function AutocompleteField(){_classCallCheck(this,AutocompleteField);var _this=_possibleConstructorReturn(this,(AutocompleteField.__proto__||Object.getPrototypeOf(AutocompleteField)).apply(this,arguments));_this.state={areSuggestionsVisible:false,selectedIndex:null};_this.inputElement=null;_this.handleChangeInputRef=function(element){_this.inputElement=element};_this.handleChange=function(evt){_this.changeValue(evt.currentTarget.value)};_this.handleKeyDown=function(evt){var suggestions=_this.props.suggestions;switch(evt.key){case"ArrowUp":evt.preventDefault();suggestions.length>0&&_this.setState(typed_react_1.composeStateUpdaters(withSuggestionsVisible,withPreviousSuggestionSelected));break;case"ArrowDown":evt.preventDefault();suggestions.length>0?_this.setState(typed_react_1.composeStateUpdaters(withSuggestionsVisible,withNextSuggestionSelected)):_this.updateSuggestions();break;case"Enter":evt.preventDefault();null!==_this.state.selectedIndex?_this.applySelectedSuggestion():_this.submit();break;case"Escape":evt.preventDefault();_this.setState(withSuggestionsHidden)}};_this.handleKeyUp=function(evt){switch(evt.key){case"ArrowLeft":case"ArrowRight":case"Home":case"End":_this.updateSuggestions()}};_this.selectSuggestionAt=function(index){return function(){_this.setState(withSuggestionAtIndexSelected(index))}};_this.applySelectedSuggestion=function(){null!==_this.state.selectedIndex&&_this.applySuggestionAt(_this.state.selectedIndex)()};_this.applySuggestionAt=function(index){return function(){var _this$props=_this.props,value=_this$props.value,suggestions=_this$props.suggestions;var selectedSuggestion=suggestions[index];if(!selectedSuggestion)return;var newValue=value.substr(0,selectedSuggestion.start)+selectedSuggestion.text+value.substr(selectedSuggestion.end);_this.setState(withSuggestionsHidden);_this.changeValue(newValue);_this.focusInputElement()}};_this.changeValue=function(value){var onChange=_this.props.onChange;onChange&&onChange(value)};_this.focusInputElement=function(){_this.inputElement&&_this.inputElement.focus()};_this.showSuggestions=function(){_this.setState(withSuggestionsVisible)};_this.hideSuggestions=function(){_this.setState(withSuggestionsHidden)};_this.submit=function(){var _this$props2=_this.props,isValid=_this$props2.isValid,onSubmit=_this$props2.onSubmit,value=_this$props2.value;isValid&&onSubmit&&onSubmit(value);_this.setState(withSuggestionsHidden)};_this.updateSuggestions=function(value){var inputCursorPosition=_this.inputElement&&_this.inputElement.selectionStart||0;_this.props.loadSuggestions(value||_this.props.value,inputCursorPosition,10)};return _this}_createClass(AutocompleteField,[{key:"render",value:function render(){var _this2=this;var _props=this.props,suggestions=_props.suggestions,isLoadingSuggestions=_props.isLoadingSuggestions,isValid=_props.isValid,placeholder=_props.placeholder,value=_props.value;var _state=this.state,areSuggestionsVisible=_state.areSuggestionsVisible,selectedIndex=_state.selectedIndex;return react_1.default.createElement(eui_1.EuiOutsideClickDetector,{onOutsideClick:this.hideSuggestions},react_1.default.createElement(AutocompleteContainer,null,react_1.default.createElement(FixedEuiFieldSearch,{fullWidth:true,inputRef:this.handleChangeInputRef,isLoading:isLoadingSuggestions,isInvalid:!isValid,onChange:this.handleChange,onFocus:this.showSuggestions,onKeyDown:this.handleKeyDown,onKeyUp:this.handleKeyUp,onSearch:this.submit,placeholder:placeholder,value:value}),areSuggestionsVisible&&!isLoadingSuggestions&&suggestions.length>0?react_1.default.createElement(SuggestionsPanel,null,suggestions.map(function(suggestion,suggestionIndex){return react_1.default.createElement(suggestion_item_1.SuggestionItem,{key:suggestion.text,suggestion:suggestion,isSelected:suggestionIndex===selectedIndex,onMouseEnter:_this2.selectSuggestionAt(suggestionIndex),onClick:_this2.applySuggestionAt(suggestionIndex)})})):null))}},{key:"componentDidUpdate",value:function componentDidUpdate(prevProps,prevState){var hasNewSuggestions=prevProps.suggestions!==this.props.suggestions;var hasNewValue=prevProps.value!==this.props.value;hasNewValue&&this.updateSuggestions();hasNewSuggestions&&this.showSuggestions()}}]);return AutocompleteField}(react_1.default.Component);exports.AutocompleteField=AutocompleteField;var withPreviousSuggestionSelected=function withPreviousSuggestionSelected(state,props){return _extends({},state,{selectedIndex:0===props.suggestions.length?null:null!==state.selectedIndex?(state.selectedIndex+props.suggestions.length-1)%props.suggestions.length:Math.max(props.suggestions.length-1,0)})};var withNextSuggestionSelected=function withNextSuggestionSelected(state,props){return _extends({},state,{selectedIndex:0===props.suggestions.length?null:null!==state.selectedIndex?(state.selectedIndex+1)%props.suggestions.length:0})};var withSuggestionAtIndexSelected=function withSuggestionAtIndexSelected(suggestionIndex){return function(state,props){return _extends({},state,{selectedIndex:0===props.suggestions.length?null:suggestionIndex>=0&&suggestionIndex<props.suggestions.length?suggestionIndex:0})}};var withSuggestionsVisible=function withSuggestionsVisible(state){return _extends({},state,{areSuggestionsVisible:true})};var withSuggestionsHidden=function withSuggestionsHidden(state){return _extends({},state,{areSuggestionsVisible:false,selectedIndex:null})};var FixedEuiFieldSearch=eui_1.EuiFieldSearch;var AutocompleteContainer=styled_components_1.default.div(_templateObject);var SuggestionsPanel=styled_components_1.default(eui_1.EuiPanel).attrs({paddingSize:"none",hasShadow:true})(_templateObject2)},6854:function(module,exports,__webpack_require__){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var lodash_1=__webpack_require__(1);var react_1=tslib_1.__importDefault(__webpack_require__(0));exports.asChildFunctionRenderer=function(hoc){var _ref=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},onInitialize=_ref.onInitialize,onCleanup=_ref.onCleanup;return hoc(function(_react_1$default$Comp){_inherits(ChildFunctionRenderer,_react_1$default$Comp);function ChildFunctionRenderer(){_classCallCheck(this,ChildFunctionRenderer);var _this=_possibleConstructorReturn(this,(ChildFunctionRenderer.__proto__||Object.getPrototypeOf(ChildFunctionRenderer)).apply(this,arguments));_this.displayName="ChildFunctionRenderer";_this.getRendererArgs=function(){return lodash_1.omit(["children","initializeOnMount","resetOnUnmount"],_this.props)};return _this}_createClass(ChildFunctionRenderer,[{key:"componentDidMount",value:function componentDidMount(){this.props.initializeOnMount&&onInitialize&&onInitialize(this.getRendererArgs())}},{key:"componentWillUnmount",value:function componentWillUnmount(){this.props.resetOnUnmount&&onCleanup&&onCleanup(this.getRendererArgs())}},{key:"render",value:function render(){return this.props.children(this.getRendererArgs())}}]);return ChildFunctionRenderer}(react_1.default.Component))};function composeStateUpdaters(){for(var _len=arguments.length,updaters=Array(_len),_key=0;_key<_len;_key++)updaters[_key]=arguments[_key];return function(state,props){return updaters.reduce(function(currentState,updater){return updater(currentState,props)||currentState},state)}}exports.composeStateUpdaters=composeStateUpdaters},6855:function(module,exports,__webpack_require__){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _templateObject=_taggedTemplateLiteral(["\n  display: flex;\n  flex-direction: row;\n  font-size: ",";\n  height: ",";\n  white-space: nowrap;\n  background-color: ",";\n"],["\n  display: flex;\n  flex-direction: row;\n  font-size: ",";\n  height: ",";\n  white-space: nowrap;\n  background-color: ",";\n"]),_templateObject2=_taggedTemplateLiteral(["\n  align-items: center;\n  cursor: pointer;\n  display: flex;\n  flex-direction: row;\n  height: ",";\n  padding: ",";\n"],["\n  align-items: center;\n  cursor: pointer;\n  display: flex;\n  flex-direction: row;\n  height: ",";\n  padding: ",";\n"]),_templateObject3=_taggedTemplateLiteral(["\n  background-color: ",";\n  color: ",";\n  flex: 0 0 auto;\n  justify-content: center;\n  width: ",";\n"],["\n  background-color: ",";\n  color: ",";\n  flex: 0 0 auto;\n  justify-content: center;\n  width: ",";\n"]),_templateObject4=_taggedTemplateLiteral(["\n  flex: 2 0 0;\n  font-family: ",";\n"],["\n  flex: 2 0 0;\n  font-family: ",";\n"]),_templateObject5=_taggedTemplateLiteral(["\n  flex: 3 0 0;\n  p {\n    display: inline;\n    span {\n      font-family: ",";\n    }\n  }\n"],["\n  flex: 3 0 0;\n  p {\n    display: inline;\n    span {\n      font-family: ",";\n    }\n  }\n"]);function _taggedTemplateLiteral(strings,raw){return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var eui_1=__webpack_require__(2);var polished_1=__webpack_require__(291);var react_1=tslib_1.__importDefault(__webpack_require__(0));var styled_components_1=tslib_1.__importDefault(__webpack_require__(20));var SuggestionItem=function(_react_1$default$Comp){_inherits(SuggestionItem,_react_1$default$Comp);function SuggestionItem(){_classCallCheck(this,SuggestionItem);return _possibleConstructorReturn(this,(SuggestionItem.__proto__||Object.getPrototypeOf(SuggestionItem)).apply(this,arguments))}_createClass(SuggestionItem,[{key:"render",value:function render(){var _props=this.props,isSelected=_props.isSelected,onClick=_props.onClick,onMouseEnter=_props.onMouseEnter,suggestion=_props.suggestion;return react_1.default.createElement(SuggestionItemContainer,{isSelected:isSelected,onClick:onClick,onMouseEnter:onMouseEnter},react_1.default.createElement(SuggestionItemIconField,{suggestionType:suggestion.type},react_1.default.createElement(eui_1.EuiIcon,{type:getEuiIconType(suggestion.type)})),react_1.default.createElement(SuggestionItemTextField,null,suggestion.text),react_1.default.createElement(SuggestionItemDescriptionField,{dangerouslySetInnerHTML:{__html:suggestion.description}}))}}]);return SuggestionItem}(react_1.default.Component);SuggestionItem.defaultProps={isSelected:false};exports.SuggestionItem=SuggestionItem;var SuggestionItemContainer=styled_components_1.default.div(_templateObject,function(props){return props.theme.eui.euiFontSizeS},function(props){return props.theme.eui.euiSizeXl},function(props){return props.isSelected?props.theme.eui.euiColorLightestShade:"transparent"});var SuggestionItemField=styled_components_1.default.div(_templateObject2,function(props){return props.theme.eui.euiSizeXl},function(props){return props.theme.eui.euiSizeXs});var SuggestionItemIconField=SuggestionItemField.extend(_templateObject3,function(props){return polished_1.tint(.1,getEuiIconColor(props.theme,props.suggestionType))},function(props){return getEuiIconColor(props.theme,props.suggestionType)},function(props){return props.theme.eui.euiSizeXl});var SuggestionItemTextField=SuggestionItemField.extend(_templateObject4,function(props){return props.theme.eui.euiCodeFontFamily});var SuggestionItemDescriptionField=SuggestionItemField.extend(_templateObject5,function(props){return props.theme.eui.euiCodeFontFamily});var getEuiIconType=function getEuiIconType(suggestionType){switch(suggestionType){case"field":return"kqlField";case"value":return"kqlValue";case"recentSearch":return"search";case"conjunction":return"kqlSelector";case"operator":return"kqlOperand";default:return"empty"}};var getEuiIconColor=function getEuiIconColor(theme,suggestionType){switch(suggestionType){case"field":return theme.eui.euiColorVis7;case"value":return theme.eui.euiColorVis0;case"operator":return theme.eui.euiColorVis1;case"conjunction":return theme.eui.euiColorVis2;case"recentSearch":default:return theme.eui.euiColorMediumShade}}},6856:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var option_control_1=__webpack_require__(6857);exports.OptionControl=option_control_1.OptionControl},6857:function(module,exports,__webpack_require__){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var eui_1=__webpack_require__(2);var eui_2=__webpack_require__(2);var lodash_1=__webpack_require__(1);var react_1=tslib_1.__importDefault(__webpack_require__(0));var table_1=__webpack_require__(449);var action_control_1=__webpack_require__(6858);var tag_badge_list_1=__webpack_require__(6859);var FixedEuiToolTip=eui_1.EuiToolTip;var OptionControl=function(_react_1$default$Pure){_inherits(OptionControl,_react_1$default$Pure);function OptionControl(props){_classCallCheck(this,OptionControl);var _this=_possibleConstructorReturn(this,(OptionControl.__proto__||Object.getPrototypeOf(OptionControl)).call(this,props));_this.state={showPopover:false};return _this}_createClass(OptionControl,[{key:"schemaToPanelTree",value:function schemaToPanelTree(schemaOrArray){var _this2=this;var panels=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];var _props=this.props,items=_props.items,actionHandler=_props.actionHandler;var schema=null;var schemaArray=null;lodash_1.isArray(schemaOrArray)?schemaArray=schemaOrArray:schema=schemaOrArray;var panel={title:schema?schema.name:void 0,id:panels.length};schemaArray?panel.items=schemaArray.map(function(def){return{onClick:def.lazyLoad?function(){return actionHandler(table_1.AssignmentActionType.Reload)}:void 0,panel:def.panel?def.panel.id:void 0,name:def.action?react_1.default.createElement(action_control_1.ActionControl,{actionHandler:actionHandler,action:def.action,danger:def.danger,name:def.name,showWarning:def.showWarning,warningHeading:def.warningHeading,warningMessage:def.warningMessage}):react_1.default.createElement(eui_1.EuiTextColor,{color:def.danger?"danger":"default"},def.name)}}):void 0===items?panel.content="Unknown Error.":0===items.length?panel.content=react_1.default.createElement(eui_1.EuiPanel,null,react_1.default.createElement(eui_1.EuiCard,{icon:react_1.default.createElement(eui_2.EuiIcon,{size:"l",type:"bolt"}),title:"No tags found.",description:"Please create a new configuration tag."})):panel.content=react_1.default.createElement(tag_badge_list_1.TagBadgeList,{items:items,actionHandler:actionHandler});panels.push(panel);null!==schemaArray&&schemaArray.forEach(function(item){item.panel&&_this2.schemaToPanelTree(item.panel,panels)});return panels}},{key:"render",value:function render(){var _this3=this;var _props2=this.props,itemType=_props2.itemType,selectionCount=_props2.selectionCount,schema=_props2.schema;return react_1.default.createElement(eui_1.EuiPopover,{button:react_1.default.createElement(FixedEuiToolTip,{position:"top",delay:"long",content:0===selectionCount?"Select "+itemType+" to perform operations such as setting tags and unenrolling Beats.":"Manage your selected "+itemType},react_1.default.createElement(eui_1.EuiButton,{color:"primary",iconSide:"right",disabled:0===selectionCount,iconType:"arrowDown",onClick:function onClick(){_this3.setState({showPopover:true})}},"Manage ",itemType)),closePopover:function closePopover(){_this3.setState({showPopover:false})},id:"assignmentList",isOpen:this.state.showPopover,panelPaddingSize:"none",anchorPosition:"downLeft",withTitle:true},react_1.default.createElement(eui_1.EuiContextMenu,{initialPanelId:0,panels:this.schemaToPanelTree(schema)}))}}]);return OptionControl}(react_1.default.PureComponent);exports.OptionControl=OptionControl},6858:function(module,exports,__webpack_require__){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var eui_1=__webpack_require__(2);var react_1=tslib_1.__importDefault(__webpack_require__(0));var ActionControl=function(_react_1$default$Pure){_inherits(ActionControl,_react_1$default$Pure);function ActionControl(props){_classCallCheck(this,ActionControl);var _this=_possibleConstructorReturn(this,(ActionControl.__proto__||Object.getPrototypeOf(ActionControl)).call(this,props));_this.state={showModal:false};return _this}_createClass(ActionControl,[{key:"render",value:function render(){var _this2=this;var _props=this.props,action=_props.action,actionHandler=_props.actionHandler,danger=_props.danger,name=_props.name,showWarning=_props.showWarning,warningHeading=_props.warningHeading,warningMessage=_props.warningMessage;return react_1.default.createElement("div",null,react_1.default.createElement(eui_1.EuiTextColor,{color:danger?"danger":"default",onClick:showWarning?function(){return _this2.setState({showModal:true})}:function(){return actionHandler(action)}},name),this.state.showModal&&react_1.default.createElement(eui_1.EuiOverlayMask,null,react_1.default.createElement(eui_1.EuiConfirmModal,{buttonColor:danger?"danger":"primary",cancelButtonText:"Cancel",confirmButtonText:"Confirm",onConfirm:function onConfirm(){actionHandler(action);_this2.setState({showModal:false})},onCancel:function onCancel(){return _this2.setState({showModal:false})},title:warningHeading||"Confirm"},warningMessage)))}}]);return ActionControl}(react_1.default.PureComponent);exports.ActionControl=ActionControl},6859:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var eui_1=__webpack_require__(2);var react_1=tslib_1.__importDefault(__webpack_require__(0));var table_1=__webpack_require__(844);var tag_assignment_1=__webpack_require__(6860);exports.TagBadgeList=function(props){return react_1.default.createElement(eui_1.EuiFlexGroup,{direction:"column",gutterSize:"xs",style:{margin:10}},props.items.map(function(item){return react_1.default.createElement(eui_1.EuiFlexItem,{key:""+item.id},react_1.default.createElement(tag_assignment_1.TagAssignment,{tag:item,assignTag:function assignTag(id){return props.actionHandler(table_1.AssignmentActionType.Assign,id)}}))}))}},6860:function(module,exports,__webpack_require__){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var eui_1=__webpack_require__(2);var react_1=tslib_1.__importDefault(__webpack_require__(0));var constants_1=__webpack_require__(390);var tag_badge_1=__webpack_require__(1255);var TagAssignment=function(_react_1$default$Pure){_inherits(TagAssignment,_react_1$default$Pure);function TagAssignment(props){_classCallCheck(this,TagAssignment);var _this=_possibleConstructorReturn(this,(TagAssignment.__proto__||Object.getPrototypeOf(TagAssignment)).call(this,props));_this.state={isFetchingTags:false};return _this}_createClass(TagAssignment,[{key:"render",value:function render(){var _props=this.props,assignTag=_props.assignTag,tag=_props.tag,id=_props.tag.id;return react_1.default.createElement(eui_1.EuiFlexGroup,{gutterSize:"xs",key:id},this.state.isFetchingTags&&react_1.default.createElement(eui_1.EuiFlexItem,null,react_1.default.createElement(eui_1.EuiLoadingSpinner,{size:"m"})),react_1.default.createElement(eui_1.EuiFlexItem,null,react_1.default.createElement(tag_badge_1.TagBadge,{maxIdRenderSize:constants_1.TABLE_CONFIG.TRUNCATE_TAG_LENGTH_SMALL,onClick:function onClick(){return assignTag(id)},onClickAriaLabel:id,tag:tag})))}}]);return TagAssignment}(react_1.default.PureComponent);exports.TagAssignment=TagAssignment},6861:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var eui_1=__webpack_require__(2);var lodash_1=__webpack_require__(1);var moment_1=tslib_1.__importDefault(__webpack_require__(12));var react_1=tslib_1.__importDefault(__webpack_require__(0));var connected_link_1=__webpack_require__(1254);var tag_1=__webpack_require__(843);exports.BeatsTableType={itemType:"Beats",columnDefinitions:[{field:"name",name:"Beat name",render:function render(name,beat){return react_1.default.createElement(connected_link_1.ConnectedLink,{path:"/beat/"+beat.id},name)},sortable:true},{field:"type",name:"Type",sortable:true},{field:"full_tags",name:"Tags",render:function render(value,beat){return react_1.default.createElement(eui_1.EuiFlexGroup,{wrap:true,responsive:true,gutterSize:"xs"},(lodash_1.sortBy(beat.full_tags,"id")||[]).map(function(tag){return react_1.default.createElement(eui_1.EuiFlexItem,{key:tag.id,grow:false},react_1.default.createElement(connected_link_1.ConnectedLink,{path:"/tag/edit/"+tag.id},react_1.default.createElement(tag_1.TagBadge,{tag:tag})))}))},sortable:false},{field:"config_status",name:"Config Status",render:function render(value,beat){var color="success";var statusText="OK";var tooltipText="Beat successfully applied latest config";switch(beat.config_status){case"UNKNOWN":color="subdued";statusText="Offline";tooltipText=moment_1.default().diff(beat.last_checkin,"minutes")>=10?"This Beat has not connected to kibana in over 10min":"This Beat has not yet been started.";break;case"ERROR":color="danger";statusText="Error";tooltipText="Please check the logs of this Beat for error details"}return react_1.default.createElement(eui_1.EuiFlexGroup,{wrap:true,responsive:true,gutterSize:"xs"},react_1.default.createElement(eui_1.EuiToolTip,{content:tooltipText},react_1.default.createElement(eui_1.EuiHealth,{color:color},statusText)))},sortable:false},{field:"full_tags",name:"Last config update",render:function render(tags){return tags.length?react_1.default.createElement("span",null,moment_1.default(lodash_1.first(lodash_1.sortByOrder(tags,["last_updated"],["desc"])).last_updated).fromNow()):null},sortable:true}],controlDefinitions:function controlDefinitions(data){return{actions:[{name:"Disenroll Selected",action:"delete",danger:true}],filters:[{type:"field_value_selection",field:"type",name:"Type",options:lodash_1.uniq(data.map(function(_ref){var type=_ref.type;return{value:type}}),"value")}]}}};exports.TagsTableType={itemType:"Tags",columnDefinitions:[{field:"id",name:"Tag name",render:function render(id,tag){return react_1.default.createElement(connected_link_1.ConnectedLink,{path:"/tag/edit/"+tag.id},react_1.default.createElement(tag_1.TagBadge,{tag:tag}))},sortable:true,width:"45%"},{align:"right",field:"configuration_blocks",name:"Configurations",render:function render(configurationBlocks){return react_1.default.createElement("div",null,configurationBlocks.length)},sortable:false},{align:"right",field:"last_updated",name:"Last update",render:function render(lastUpdate){return react_1.default.createElement("div",null,moment_1.default(lastUpdate).fromNow())},sortable:true}],controlDefinitions:function controlDefinitions(data){return{actions:[{name:"Remove Selected",action:"delete",danger:true}],filters:[]}}};exports.BeatDetailTagsTable={itemType:"Tags",columnDefinitions:[{field:"id",name:"Tag name",render:function render(id,tag){return react_1.default.createElement(connected_link_1.ConnectedLink,{path:"/tag/edit/"+tag.id},react_1.default.createElement(tag_1.TagBadge,{tag:tag}))},sortable:true,width:"55%"},{align:"right",field:"configuration_blocks",name:"Configurations",render:function render(configurations){return react_1.default.createElement("span",null,configurations.length)},sortable:true},{align:"right",field:"last_updated",name:"Last update",render:function render(lastUpdate){return react_1.default.createElement("span",null,moment_1.default(lastUpdate).fromNow())},sortable:true}],controlDefinitions:function controlDefinitions(data){return{actions:[],filters:[],primaryActions:[{name:"Add Tag",action:"add",danger:false},{name:"Remove Selected",action:"remove",danger:true}]}}}},6862:function(module,exports,__webpack_require__){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var formsy_react_1=tslib_1.__importStar(__webpack_require__(541));var js_yaml_1=tslib_1.__importDefault(__webpack_require__(2189));var lodash_1=__webpack_require__(1);var react_1=tslib_1.__importDefault(__webpack_require__(0));var inputs_1=__webpack_require__(6868);formsy_react_1.addValidationRule("isHosts",function(form,values){return true});formsy_react_1.addValidationRule("isString",function(values,value){return true});formsy_react_1.addValidationRule("isPeriod",function(values,value){return true});formsy_react_1.addValidationRule("isPath",function(values,value){return value&&value.length>0});formsy_react_1.addValidationRule("isPaths",function(values,value){return true});formsy_react_1.addValidationRule("isYaml",function(values,value){try{var stuff=js_yaml_1.default.safeLoad(value||"");if("string"===typeof stuff)return false;return true}catch(e){return false}});var ConfigForm=function(_react_1$default$Comp){_inherits(ConfigForm,_react_1$default$Comp);function ConfigForm(props){_classCallCheck(this,ConfigForm);var _this=_possibleConstructorReturn(this,(ConfigForm.__proto__||Object.getPrototypeOf(ConfigForm)).call(this,props));_this.form=react_1.default.createRef();_this.enableButton=function(){_this.setState({canSubmit:true});_this.props.canSubmit(true)};_this.disableButton=function(){_this.setState({canSubmit:false});_this.props.canSubmit(false)};_this.submit=function(){_this.form.current&&_this.props.onSubmit&&_this.form.current.click()};_this.onValidSubmit=function(model){if(!_this.props.onSubmit)return;_this.props.onSubmit(model)};_this.state={canSubmit:false};return _this}_createClass(ConfigForm,[{key:"render",value:function render(){var _this2=this;return react_1.default.createElement("div",null,react_1.default.createElement("br",null),react_1.default.createElement(formsy_react_1.default,{onValidSubmit:this.onValidSubmit,onValid:this.enableButton,onInvalid:this.disableButton},this.props.schema.map(function(schema){switch(schema.ui.type){case"input":return react_1.default.createElement(inputs_1.FormsyEuiFieldText,{key:schema.id,id:schema.id,defaultValue:lodash_1.get(_this2.props,"values.configs[0]."+schema.id,schema.defaultValue),name:schema.id,disabled:!_this2.props.onSubmit,helpText:schema.ui.helpText,placeholder:schema.ui.placeholder,label:schema.ui.label,validations:schema.validations,validationError:schema.error,required:schema.required||false});case"password":return react_1.default.createElement(inputs_1.FormsyEuiPasswordText,{key:schema.id,id:schema.id,disabled:!_this2.props.onSubmit,defaultValue:lodash_1.get(_this2.props,"values.configs[0]."+schema.id,schema.defaultValue),name:schema.id,placeholder:schema.ui.placeholder,helpText:schema.ui.helpText,label:schema.ui.label,validations:schema.validations,validationError:schema.error,required:schema.required||false});case"multi-input":return react_1.default.createElement(inputs_1.FormsyEuiMultiFieldText,{key:schema.id,id:schema.id,disabled:!_this2.props.onSubmit,defaultValue:lodash_1.get(_this2.props,"values.configs[0]."+schema.id,schema.defaultValue),name:schema.id,placeholder:schema.ui.placeholder,helpText:schema.ui.helpText,label:schema.ui.label,validations:schema.validations,validationError:schema.error,required:schema.required});case"select":return react_1.default.createElement(inputs_1.FormsyEuiSelect,{key:schema.id,id:schema.id,name:schema.id,disabled:!_this2.props.onSubmit,defaultValue:lodash_1.get(_this2.props,"values.configs[0]."+schema.id,schema.defaultValue),helpText:schema.ui.helpText,label:schema.ui.label,options:[{value:"",text:"Please Select An Option"}].concat(schema.options||[]),validations:schema.validations,validationError:schema.error,required:schema.required});case"code":return react_1.default.createElement(inputs_1.FormsyEuiCodeEditor,{key:schema.id+"-"+_this2.props.id,mode:"yaml",disabled:!_this2.props.onSubmit,id:schema.id,defaultValue:lodash_1.get(_this2.props,"values.configs[0]."+schema.id,schema.defaultValue),name:schema.id,helpText:schema.ui.helpText,label:schema.ui.label,options:schema.options?schema.options:[],validations:schema.validations,validationError:schema.error,required:schema.required})}}),this.props.onSubmit&&react_1.default.createElement("button",{type:"submit",style:{display:"none"},disabled:!this.state.canSubmit,ref:this.form})))}}]);return ConfigForm}(react_1.default.Component);exports.ConfigForm=ConfigForm},6863:function(module,exports){function toObj(source){return Object.keys(source).reduce(function(output,key){var parentKey=key.match(/[^\[]*/i);var paths=key.match(/\[.*?\]/g)||[];paths=[parentKey[0]].concat(paths).map(function(key){return key.replace(/\[|\]/g,"")});var currentPath=output;while(paths.length){var pathKey=paths.shift();if(pathKey in currentPath)currentPath=currentPath[pathKey];else{currentPath[pathKey]=paths.length?isNaN(paths[0])?{}:[]:source[key];currentPath=currentPath[pathKey]}}return output},{})}function fromObj(obj){function recur(newObj,propName,currVal){if(Array.isArray(currVal)||"[object Object]"===Object.prototype.toString.call(currVal)){Object.keys(currVal).forEach(function(v){recur(newObj,propName+"["+v+"]",currVal[v])});return newObj}newObj[propName]=currVal;return newObj}var keys=Object.keys(obj);return keys.reduce(function(newObj,propName){return recur(newObj,propName,obj[propName])},{})}module.exports={fromObj:fromObj,toObj:toObj}},6864:function(module,exports,__webpack_require__){"use strict";var emptyFunction=__webpack_require__(36);var invariant=__webpack_require__(55);var ReactPropTypesSecret=__webpack_require__(6865);module.exports=function(){function shim(props,propName,componentName,location,propFullName,secret){if(secret===ReactPropTypesSecret)return;invariant(false,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}shim.isRequired=shim;function getShim(){return shim}var ReactPropTypes={array:shim,bool:shim,func:shim,number:shim,object:shim,string:shim,symbol:shim,any:shim,arrayOf:getShim,element:shim,instanceOf:getShim,node:shim,objectOf:getShim,oneOf:getShim,oneOfType:getShim,shape:getShim,exact:getShim};ReactPropTypes.checkPropTypes=emptyFunction;ReactPropTypes.PropTypes=ReactPropTypes;return ReactPropTypes}},6865:function(module,exports,__webpack_require__){"use strict";var ReactPropTypesSecret="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";module.exports=ReactPropTypesSecret},6866:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _isExisty=function _isExisty(value){return null!==value&&void 0!==value};var isEmpty=function isEmpty(value){return""===value};var validations={isDefaultRequiredValue:function isDefaultRequiredValue(values,value){return void 0===value||null===value||""===value},isExisty:function isExisty(values,value){return _isExisty(value)},matchRegexp:function matchRegexp(values,value,regexp){return!_isExisty(value)||isEmpty(value)||regexp.test(value)},isUndefined:function isUndefined(values,value){return void 0===value},isEmptyString:function isEmptyString(values,value){return isEmpty(value)},isEmail:function isEmail(values,value){return validations.matchRegexp(values,value,/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/i)},isUrl:function isUrl(values,value){return validations.matchRegexp(values,value,/^(?:\w+:)?\/\/([^\s.]+\.\S{2}|localhost[:?\d]*)\S*$/i)},isTrue:function isTrue(values,value){return true===value},isFalse:function isFalse(values,value){return false===value},isNumeric:function isNumeric(values,value){if("number"===typeof value)return true;return validations.matchRegexp(values,value,/^[-+]?(?:\d*[.])?\d+$/)},isAlpha:function isAlpha(values,value){return validations.matchRegexp(values,value,/^[A-Z]+$/i)},isAlphanumeric:function isAlphanumeric(values,value){return validations.matchRegexp(values,value,/^[0-9A-Z]+$/i)},isInt:function isInt(values,value){return validations.matchRegexp(values,value,/^(?:[-+]?(?:0|[1-9]\d*))$/)},isFloat:function isFloat(values,value){return validations.matchRegexp(values,value,/^(?:[-+]?(?:\d+))?(?:\.\d*)?(?:[eE][+-]?(?:\d+))?$/)},isWords:function isWords(values,value){return validations.matchRegexp(values,value,/^[A-Z\s]+$/i)},isSpecialWords:function isSpecialWords(values,value){return validations.matchRegexp(values,value,/^[A-Z\s\u00C0-\u017F]+$/i)},isLength:function isLength(values,value,length){return!_isExisty(value)||isEmpty(value)||value.length===length},equals:function equals(values,value,eql){return!_isExisty(value)||isEmpty(value)||value===eql},equalsField:function equalsField(values,value,field){return value===values[field]},maxLength:function maxLength(values,value,length){return!_isExisty(value)||value.length<=length},minLength:function minLength(values,value,length){return!_isExisty(value)||isEmpty(value)||value.length>=length}};exports.default=validations},6867:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.propTypes=void 0;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _propTypes=__webpack_require__(2194);var _propTypes2=_interopRequireDefault(_propTypes);var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _utils=__webpack_require__(2195);var _utils2=_interopRequireDefault(_utils);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var convertValidationsToObject=function convertValidationsToObject(validations){if("string"===typeof validations)return validations.split(/,(?![^{[]*[}\]])/g).reduce(function(validationsAccumulator,validation){var args=validation.split(":");var validateMethod=args.shift();args=args.map(function(arg){try{return JSON.parse(arg)}catch(e){return arg}});if(args.length>1)throw new Error("Formsy does not support multiple args on string validations. Use object format of validations instead.");var validationsAccumulatorCopy=Object.assign({},validationsAccumulator);validationsAccumulatorCopy[validateMethod]=!args.length||args[0];return validationsAccumulatorCopy},{});return validations||{}};var propTypes={innerRef:_propTypes2.default.func,name:_propTypes2.default.string.isRequired,required:_propTypes2.default.oneOfType([_propTypes2.default.bool,_propTypes2.default.object,_propTypes2.default.string]),validations:_propTypes2.default.oneOfType([_propTypes2.default.object,_propTypes2.default.string]),value:_propTypes2.default.any};exports.propTypes=propTypes;exports.default=function(Component){var WrappedComponent=function(_React$Component){_inherits(WrappedComponent,_React$Component);function WrappedComponent(props){_classCallCheck(this,WrappedComponent);var _this=_possibleConstructorReturn(this,(WrappedComponent.__proto__||Object.getPrototypeOf(WrappedComponent)).call(this,props));_this.getErrorMessage=function(){var messages=_this.getErrorMessages();return messages.length?messages[0]:null};_this.getErrorMessages=function(){if(!_this.isValid()||_this.showRequired())return _this.state.externalError||_this.state.validationError||[];return[]};_this.getValue=function(){return _this.state.value};_this.setValidations=function(validations,required){_this.validations=convertValidationsToObject(validations)||{};_this.requiredValidations=true===required?{isDefaultRequiredValue:true}:convertValidationsToObject(required)};_this.setValue=function(value){var validate=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];validate?_this.setState({value:value,isPristine:false},function(){_this.context.formsy.validate(_this)}):_this.setState({value:value})};_this.hasValue=function(){return""!==_this.state.value};_this.isFormDisabled=function(){return _this.context.formsy.isFormDisabled()};_this.isFormSubmitted=function(){return _this.state.formSubmitted};_this.isPristine=function(){return _this.state.isPristine};_this.isRequired=function(){return!!_this.props.required};_this.isValid=function(){return _this.state.isValid};_this.isValidValue=function(value){return _this.context.formsy.isValidValue.call(null,_this,value)};_this.resetValue=function(){_this.setState({value:_this.state.pristineValue,isPristine:true},function(){_this.context.formsy.validate(_this)})};_this.showError=function(){return!_this.showRequired()&&!_this.isValid()};_this.showRequired=function(){return _this.state.isRequired};_this.state={value:props.value,isRequired:false,isValid:true,isPristine:true,pristineValue:props.value,validationError:[],externalError:null,formSubmitted:false};return _this}_createClass(WrappedComponent,[{key:"componentWillMount",value:function componentWillMount(){var _this2=this;var configure=function configure(){_this2.setValidations(_this2.props.validations,_this2.props.required);_this2.context.formsy.attachToForm(_this2)};if(!this.props.name)throw new Error("Form Input requires a name property when used");configure()}},{key:"componentWillReceiveProps",value:function componentWillReceiveProps(nextProps){this.setValidations(nextProps.validations,nextProps.required)}},{key:"componentDidUpdate",value:function componentDidUpdate(prevProps){_utils2.default.isSame(this.props.value,prevProps.value)||this.setValue(this.props.value);_utils2.default.isSame(this.props.validations,prevProps.validations)&&_utils2.default.isSame(this.props.required,prevProps.required)||this.context.formsy.validate(this)}},{key:"componentWillUnmount",value:function componentWillUnmount(){this.context.formsy.detachFromForm(this)}},{key:"render",value:function render(){var innerRef=this.props.innerRef;var propsForElement=_extends({getErrorMessage:this.getErrorMessage,getErrorMessages:this.getErrorMessages,getValue:this.getValue,hasValue:this.hasValue,isFormDisabled:this.isFormDisabled,isValid:this.isValid,isPristine:this.isPristine,isFormSubmitted:this.isFormSubmitted,isRequired:this.isRequired,isValidValue:this.isValidValue,resetValue:this.resetValue,setValidations:this.setValidations,setValue:this.setValue,showRequired:this.showRequired,showError:this.showError},this.props);innerRef&&(propsForElement.ref=innerRef);return _react2.default.createElement(Component,propsForElement)}}]);return WrappedComponent}(_react2.default.Component);function getDisplayName(component){return component.displayName||component.name||("string"===typeof component?component:"Component")}WrappedComponent.displayName="Formsy("+getDisplayName(Component)+")";WrappedComponent.contextTypes={formsy:_propTypes2.default.object};WrappedComponent.defaultProps={required:false,validationError:"",validationErrors:{},validations:null,value:Component.defaultValue};WrappedComponent.propTypes=propTypes;return WrappedComponent}},6868:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var code_editor_1=__webpack_require__(6869);exports.FormsyEuiCodeEditor=code_editor_1.FormsyEuiCodeEditor;var input_1=__webpack_require__(6870);exports.FormsyEuiFieldText=input_1.FormsyEuiFieldText;var password_input_1=__webpack_require__(6871);exports.FormsyEuiPasswordText=password_input_1.FormsyEuiPasswordText;var multi_input_1=__webpack_require__(6872);exports.FormsyEuiMultiFieldText=multi_input_1.FormsyEuiMultiFieldText;var select_1=__webpack_require__(6873);exports.FormsyEuiSelect=select_1.FormsyEuiSelect},6869:function(module,exports,__webpack_require__){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var eui_1=__webpack_require__(2);var formsy_react_1=__webpack_require__(541);var react_1=tslib_1.__importStar(__webpack_require__(0));var CodeEditor=function(_react_1$Component){_inherits(CodeEditor,_react_1$Component);function CodeEditor(){_classCallCheck(this,CodeEditor);var _this=_possibleConstructorReturn(this,(CodeEditor.__proto__||Object.getPrototypeOf(CodeEditor)).apply(this,arguments));_this.state={allowError:false};_this.handleChange=function(value){_this.props.setValue(value);_this.props.onChange&&_this.props.onChange(value);_this.props.instantValidation&&_this.showError()};_this.handleBlur=function(){_this.showError();_this.props.onBlur&&_this.props.onBlur()};_this.showError=function(){return _this.setState({allowError:true})};return _this}_createClass(CodeEditor,[{key:"componentDidMount",value:function componentDidMount(){var _props=this.props,defaultValue=_props.defaultValue,setValue=_props.setValue;setValue(defaultValue||"")}},{key:"componentWillReceiveProps",value:function componentWillReceiveProps(nextProps){nextProps.isFormSubmitted()&&this.showError()}},{key:"render",value:function render(){var _props2=this.props,id=_props2.id,label=_props2.label,isReadOnly=_props2.isReadOnly,isValid=_props2.isValid,getValue=_props2.getValue,isPristine=_props2.isPristine,getErrorMessage=_props2.getErrorMessage,mode=_props2.mode,fullWidth=_props2.fullWidth,className=_props2.className,helpText=_props2.helpText;var allowError=this.state.allowError;var error=!isPristine()&&!isValid()&&allowError;return react_1.default.createElement(eui_1.EuiFormRow,{id:id,label:label,helpText:helpText,isInvalid:error,error:error?getErrorMessage():[]},react_1.default.createElement(eui_1.EuiCodeEditor,{id:id,name:name,mode:mode,theme:"github",value:getValue()||"",isReadOnly:isReadOnly||false,isInvalid:error,onChange:this.handleChange,onBlur:this.handleBlur,width:fullWidth?"100%":void 0,className:className}))}}]);return CodeEditor}(react_1.Component);CodeEditor.defaultProps={passRequiredToField:true};exports.FormsyEuiCodeEditor=formsy_react_1.withFormsy(CodeEditor)},6870:function(module,exports,__webpack_require__){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var eui_1=__webpack_require__(2);var formsy_react_1=__webpack_require__(541);var react_1=tslib_1.__importStar(__webpack_require__(0));var FieldText=function(_react_1$Component){_inherits(FieldText,_react_1$Component);function FieldText(){_classCallCheck(this,FieldText);var _this=_possibleConstructorReturn(this,(FieldText.__proto__||Object.getPrototypeOf(FieldText)).apply(this,arguments));_this.state={allowError:false};_this.handleChange=function(e){var value=e.currentTarget.value;_this.props.setValue(value);_this.props.onChange&&_this.props.onChange(e,e.currentTarget.value);_this.props.instantValidation&&_this.showError()};_this.handleBlur=function(e){_this.showError();_this.props.onBlur&&_this.props.onBlur(e,e.currentTarget.value)};_this.showError=function(){return _this.setState({allowError:true})};return _this}_createClass(FieldText,[{key:"componentDidMount",value:function componentDidMount(){var _props=this.props,defaultValue=_props.defaultValue,setValue=_props.setValue;defaultValue&&setValue(defaultValue)}},{key:"componentWillReceiveProps",value:function componentWillReceiveProps(nextProps){nextProps.isFormSubmitted()&&this.showError()}},{key:"render",value:function render(){var _props2=this.props,id=_props2.id,required=_props2.required,label=_props2.label,getValue=_props2.getValue,isValid=_props2.isValid,isPristine=_props2.isPristine,getErrorMessage=_props2.getErrorMessage,fullWidth=_props2.fullWidth,className=_props2.className,disabled=_props2.disabled,helpText=_props2.helpText,placeholder=_props2.placeholder;var allowError=this.state.allowError;var error=!isPristine()&&!isValid()&&allowError;return react_1.default.createElement(eui_1.EuiFormRow,{id:id,label:label,helpText:helpText,isInvalid:!disabled&&error,error:!disabled&&error?getErrorMessage():[]},react_1.default.createElement(eui_1.EuiFieldText,{id:id,name:name,placeholder:placeholder,value:getValue()||"",isInvalid:!disabled&&error,onChange:this.handleChange,onBlur:this.handleBlur,fullWidth:fullWidth,disabled:disabled,required:required,className:className}))}}]);return FieldText}(react_1.Component);FieldText.defaultProps={passRequiredToField:true};exports.FormsyEuiFieldText=formsy_react_1.withFormsy(FieldText)},6871:function(module,exports,__webpack_require__){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var eui_1=__webpack_require__(2);var formsy_react_1=__webpack_require__(541);var react_1=tslib_1.__importStar(__webpack_require__(0));var FieldPassword=function(_react_1$Component){_inherits(FieldPassword,_react_1$Component);function FieldPassword(props){_classCallCheck(this,FieldPassword);var _this=_possibleConstructorReturn(this,(FieldPassword.__proto__||Object.getPrototypeOf(FieldPassword)).call(this,props));_this.handleChange=function(e){var value=e.currentTarget.value;_this.props.setValue(value);_this.props.onChange&&_this.props.onChange(e,value);_this.props.instantValidation&&_this.showError()};_this.handleBlur=function(e){_this.showError();_this.props.onBlur&&_this.props.onBlur(e,e.currentTarget.value)};_this.showError=function(){return _this.setState({allowError:true})};_this.state={allowError:false};return _this}_createClass(FieldPassword,[{key:"componentDidMount",value:function componentDidMount(){var _props=this.props,defaultValue=_props.defaultValue,setValue=_props.setValue;defaultValue&&setValue(defaultValue)}},{key:"render",value:function render(){var _props2=this.props,id=_props2.id,required=_props2.required,label=_props2.label,getValue=_props2.getValue,isValid=_props2.isValid,isPristine=_props2.isPristine,getErrorMessage=_props2.getErrorMessage,fullWidth=_props2.fullWidth,className=_props2.className,disabled=_props2.disabled,helpText=_props2.helpText,onBlur=_props2.onBlur;var allowError=this.state.allowError;var error=!isPristine()&&!isValid()&&allowError;return react_1.default.createElement(eui_1.EuiFormRow,{id:id,label:label,helpText:helpText,isInvalid:!disabled&&error,error:!disabled&&error?getErrorMessage():[]},react_1.default.createElement(eui_1.EuiFieldPassword,{id:id,name:name,value:getValue()||"",isInvalid:!disabled&&error,onChange:this.handleChange,onBlur:onBlur,fullWidth:fullWidth,disabled:disabled,required:required,className:className}))}}]);return FieldPassword}(react_1.Component);exports.FormsyEuiPasswordText=formsy_react_1.withFormsy(FieldPassword)},6872:function(module,exports,__webpack_require__){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var eui_1=__webpack_require__(2);var formsy_react_1=__webpack_require__(541);var react_1=tslib_1.__importStar(__webpack_require__(0));var MultiFieldText=function(_react_1$Component){_inherits(MultiFieldText,_react_1$Component);function MultiFieldText(){_classCallCheck(this,MultiFieldText);var _this=_possibleConstructorReturn(this,(MultiFieldText.__proto__||Object.getPrototypeOf(MultiFieldText)).apply(this,arguments));_this.state={allowError:false};_this.handleChange=function(e){var value=e.currentTarget.value.split("\n");_this.props.setValue(value);_this.props.onChange&&_this.props.onChange(e,value);_this.props.instantValidation&&_this.showError()};_this.handleBlur=function(e){_this.showError();_this.props.onBlur&&_this.props.onBlur(e,e.currentTarget.value)};_this.showError=function(){return _this.setState({allowError:true})};return _this}_createClass(MultiFieldText,[{key:"componentDidMount",value:function componentDidMount(){var _props=this.props,defaultValue=_props.defaultValue,setValue=_props.setValue;defaultValue&&setValue(defaultValue)}},{key:"componentWillReceiveProps",value:function componentWillReceiveProps(nextProps){nextProps.isFormSubmitted()&&this.showError()}},{key:"render",value:function render(){var _props2=this.props,id=_props2.id,required=_props2.required,label=_props2.label,getValue=_props2.getValue,isValid=_props2.isValid,isPristine=_props2.isPristine,getErrorMessage=_props2.getErrorMessage,fullWidth=_props2.fullWidth,className=_props2.className,disabled=_props2.disabled,helpText=_props2.helpText,placeholder=_props2.placeholder;var allowError=this.state.allowError;var error=!isPristine()&&!isValid()&&allowError;return react_1.default.createElement(eui_1.EuiFormRow,{id:id,label:label,helpText:helpText,isInvalid:!disabled&&error,error:!disabled&&error?getErrorMessage():[]},react_1.default.createElement(eui_1.EuiTextArea,{id:id,name:name,value:getValue()?getValue().join("\n"):"",isInvalid:!disabled&&error,placeholder:placeholder,onChange:this.handleChange,onBlur:this.handleBlur,fullWidth:fullWidth,disabled:disabled,required:required,className:className}))}}]);return MultiFieldText}(react_1.Component);MultiFieldText.defaultProps={passRequiredToField:true};exports.FormsyEuiMultiFieldText=formsy_react_1.withFormsy(MultiFieldText)},6873:function(module,exports,__webpack_require__){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var eui_1=__webpack_require__(2);var formsy_react_1=__webpack_require__(541);var react_1=tslib_1.__importStar(__webpack_require__(0));var FixedSelect=eui_1.EuiSelect;var FieldSelect=function(_react_1$Component){_inherits(FieldSelect,_react_1$Component);function FieldSelect(){_classCallCheck(this,FieldSelect);var _this=_possibleConstructorReturn(this,(FieldSelect.__proto__||Object.getPrototypeOf(FieldSelect)).apply(this,arguments));_this.state={allowError:false};_this.handleChange=function(e){var value=e.currentTarget.value;_this.props.setValue(value);_this.props.onChange&&_this.props.onChange(e,e.currentTarget.value);_this.props.instantValidation&&_this.showError()};_this.handleBlur=function(e){_this.showError();_this.props.onBlur&&_this.props.onBlur(e,e.currentTarget.value)};_this.showError=function(){return _this.setState({allowError:true})};return _this}_createClass(FieldSelect,[{key:"componentDidMount",value:function componentDidMount(){var _props=this.props,defaultValue=_props.defaultValue,setValue=_props.setValue;defaultValue&&setValue(defaultValue)}},{key:"componentWillReceiveProps",value:function componentWillReceiveProps(nextProps){nextProps.isFormSubmitted()&&this.showError()}},{key:"render",value:function render(){var _props2=this.props,id=_props2.id,required=_props2.required,label=_props2.label,options=_props2.options,getValue=_props2.getValue,isValid=_props2.isValid,isPristine=_props2.isPristine,getErrorMessage=_props2.getErrorMessage,fullWidth=_props2.fullWidth,className=_props2.className,disabled=_props2.disabled,helpText=_props2.helpText;var allowError=this.state.allowError;var error=!isPristine()&&!isValid()&&allowError;return react_1.default.createElement(eui_1.EuiFormRow,{id:id,label:label,helpText:helpText,isInvalid:!disabled&&error,error:!disabled&&error?getErrorMessage():[]},react_1.default.createElement(FixedSelect,{id:id,name:name,value:getValue()||"",options:options,isInvalid:!disabled&&error,onChange:this.handleChange,onBlur:this.handleBlur,fullWidth:fullWidth,disabled:disabled,required:required,className:className}))}}]);return FieldSelect}(react_1.Component);FieldSelect.defaultProps={passRequiredToField:true};exports.FormsyEuiSelect=formsy_react_1.withFormsy(FieldSelect)},6874:function(module,exports,__webpack_require__){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var eui_1=__webpack_require__(2);var react_1=tslib_1.__importDefault(__webpack_require__(0));var table_1=__webpack_require__(449);var BeatTagsPage=function(_react_1$default$Pure){_inherits(BeatTagsPage,_react_1$default$Pure);function BeatTagsPage(props){var _this2=this;_classCallCheck(this,BeatTagsPage);var _this=_possibleConstructorReturn(this,(BeatTagsPage.__proto__||Object.getPrototypeOf(BeatTagsPage)).call(this,props));_this.tableRef=react_1.default.createRef();_this.getBeat=_asyncToGenerator(regeneratorRuntime.mark(function _callee(){var beat;return regeneratorRuntime.wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return _this.props.libs.beats.get(_this.props.beatId);case 3:beat=_context.sent;_this.setState({beat:beat});_context.next=10;break;case 7:_context.prev=7;_context.t0=_context["catch"](0);throw new Error(_context.t0);case 10:case"end":return _context.stop()}},_callee,_this2,[[0,7]])}));_this.state={beat:null,notifications:[]};return _this}_createClass(BeatTagsPage,[{key:"componentWillMount",value:function(){var _ref2=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(){return regeneratorRuntime.wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.next=2;return this.getBeat();case 2:case"end":return _context2.stop()}},_callee2,this)}));function componentWillMount(){return _ref2.apply(this,arguments)}return componentWillMount}()},{key:"render",value:function render(){var _this3=this;var beat=this.state.beat;return react_1.default.createElement("div",null,react_1.default.createElement(table_1.Table,{hideTableControls:true,items:beat?beat.full_tags:[],ref:this.tableRef,type:table_1.BeatDetailTagsTable}),react_1.default.createElement(eui_1.EuiGlobalToastList,{toasts:this.state.notifications,dismissToast:function dismissToast(){return _this3.setState({notifications:[]})},toastLifeTimeMs:5e3}))}}]);return BeatTagsPage}(react_1.default.PureComponent);exports.BeatTagsPage=BeatTagsPage},6875:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var React=tslib_1.__importStar(__webpack_require__(0));var no_data_1=__webpack_require__(845);exports.EnforceSecurityPage=function(){return React.createElement(no_data_1.NoDataLayout,{title:"Security is not enabled",actionSection:[]},React.createElement("p",null,"You must enable security in Kibana and Elasticsearch to use Beats central management."))}},6876:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var React=tslib_1.__importStar(__webpack_require__(0));var no_data_1=__webpack_require__(845);exports.InvalidLicensePage=function(){return React.createElement(no_data_1.NoDataLayout,{title:"Expired license",actionSection:[]},React.createElement("p",null,"Your current license is expired. Enrolled Beats will continue to work, but you need a valid license to access the Beats Management UI."))}},6877:function(module,exports,__webpack_require__){"use strict";var _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[];var _n=true;var _d=false;var _e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{!_n&&_i["return"]&&_i["return"]()}finally{if(_d)throw _e}}return _arr}return function(arr,i){if(Array.isArray(arr))return arr;if(Symbol.iterator in Object(arr))return sliceIterator(arr,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var eui_1=__webpack_require__(2);var eui_2=__webpack_require__(2);var react_1=tslib_1.__importDefault(__webpack_require__(0));var react_router_dom_1=__webpack_require__(49);var connected_link_1=__webpack_require__(1254);var no_data_1=__webpack_require__(845);var primary_1=__webpack_require__(1253);var walkthrough_1=__webpack_require__(6878);var route_with_breadcrumb_1=__webpack_require__(1251);var with_url_state_1=__webpack_require__(540);var activity_1=__webpack_require__(6879);var beats_1=__webpack_require__(6880);var create_tag_fragment_1=__webpack_require__(6881);var enroll_fragment_1=__webpack_require__(2197);var finish_walkthrough_1=__webpack_require__(6882);var tags_1=__webpack_require__(6883);var MainPagesComponent=function(_react_1$default$Pure){_inherits(MainPagesComponent,_react_1$default$Pure);function MainPagesComponent(props){var _this2=this;_classCallCheck(this,MainPagesComponent);var _this=_possibleConstructorReturn(this,(MainPagesComponent.__proto__||Object.getPrototypeOf(MainPagesComponent)).call(this,props));_this.mounted=false;_this.onSelectedTabChanged=function(id){_this.props.goTo(id)};_this.loadBeats=_asyncToGenerator(regeneratorRuntime.mark(function _callee(){var query,beats,unfilteredBeats,_ref2,_ref3;return regeneratorRuntime.wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:query=void 0;if(!_this.props.urlState.beatsKBar){_context.next=5;break}_context.next=4;return _this.props.libs.elasticsearch.convertKueryToEsQuery(_this.props.urlState.beatsKBar);case 4:query=_context.sent;case 5:beats=void 0;unfilteredBeats=void 0;_context.prev=7;_context.next=10;return Promise.all([_this.props.libs.beats.getAll(query),_this.props.libs.beats.getAll()]);case 10:_ref2=_context.sent;_ref3=_slicedToArray(_ref2,2);beats=_ref3[0];unfilteredBeats=_ref3[1];_context.next=20;break;case 16:_context.prev=16;_context.t0=_context["catch"](7);beats=[];unfilteredBeats=[];case 20:_this.mounted&&_this.setState({loadedBeatsAtLeastOnce:true,beats:beats,unfilteredBeats:unfilteredBeats});case 21:case"end":return _context.stop()}},_callee,_this2,[[7,16]])}));_this.state={loadedBeatsAtLeastOnce:false,beats:[],unfilteredBeats:[]};return _this}_createClass(MainPagesComponent,[{key:"componentDidMount",value:function componentDidMount(){this.mounted=true;this.loadBeats()}},{key:"componentWillUnmount",value:function componentWillUnmount(){this.mounted=false}},{key:"render",value:function render(){var _this3=this;if(this.state.loadedBeatsAtLeastOnce&&0===this.state.unfilteredBeats.length&&!this.props.location.pathname.includes("/overview/initial"))return react_1.default.createElement(react_router_dom_1.Redirect,{to:"/overview/initial/help"});var tabs=[{id:"/overview/beats",name:"Enrolled Beats",disabled:false},{id:"/overview/tags",name:"Configuration tags",disabled:false}];var walkthroughSteps=[{id:"/overview/initial/beats",name:"Enroll Beat",disabled:false,page:enroll_fragment_1.EnrollBeatPage},{id:"/overview/initial/tag",name:"Create tag",disabled:false,page:create_tag_fragment_1.CreateTagPageFragment},{id:"/overview/initial/finish",name:"finish",disabled:false,page:finish_walkthrough_1.FinishWalkthroughPage}];if("/overview/initial/help"===this.props.location.pathname)return react_1.default.createElement(no_data_1.NoDataLayout,{title:"Beats central management (Beta)",actionSection:react_1.default.createElement(connected_link_1.ConnectedLink,{path:"/overview/initial/beats"},react_1.default.createElement(eui_2.EuiButton,{color:"primary",fill:true},"Enroll Beat"))},react_1.default.createElement("p",null,"Manage your configurations in a central location."));if(this.props.location.pathname.includes("/overview/initial"))return react_1.default.createElement(walkthrough_1.WalkthroughLayout,{title:"Get started with Beats central management",walkthroughSteps:walkthroughSteps,goTo:this.props.goTo,activePath:this.props.location.pathname},react_1.default.createElement(react_router_dom_1.Switch,null,walkthroughSteps.map(function(step){return react_1.default.createElement(react_router_dom_1.Route,{path:step.id,render:function render(props){return react_1.default.createElement(step.page,Object.assign({},_this3.props,props,{libs:_this3.props.libs,loadBeats:_this3.loadBeats}))}})})));var renderedTabs=tabs.map(function(tab,index){return react_1.default.createElement(eui_1.EuiTab,{onClick:function onClick(){return _this3.onSelectedTabChanged(tab.id)},isSelected:tab.id===_this3.props.location.pathname,disabled:tab.disabled,key:index},tab.name)});return react_1.default.createElement(primary_1.PrimaryLayout,{title:"Beats",actionSection:react_1.default.createElement(react_router_dom_1.Switch,null,react_1.default.createElement(react_router_dom_1.Route,{path:"/overview/beats/:action?/:enrollmentToken?",render:function render(props){return react_1.default.createElement(beats_1.BeatsPage.ActionArea,Object.assign({},_this3.props,props,{libs:_this3.props.libs}))}}),react_1.default.createElement(react_router_dom_1.Route,{path:"/overview/tags",render:function render(props){return react_1.default.createElement(tags_1.TagsPage.ActionArea,Object.assign({},_this3.props,props,{libs:_this3.props.libs}))}}))},react_1.default.createElement(eui_1.EuiTabs,null,renderedTabs),react_1.default.createElement(route_with_breadcrumb_1.RouteWithBreadcrumb,{title:"Beats List",path:"/overview/beats/:action?/:enrollmentToken?",render:function render(props){return react_1.default.createElement(beats_1.BeatsPage,Object.assign({},_this3.props,{libs:_this3.props.libs},props,{loadBeats:_this3.loadBeats,beats:_this3.state.beats}))}}),react_1.default.createElement(route_with_breadcrumb_1.RouteWithBreadcrumb,{title:"Activity Overview",path:"/overview/activity",exact:true,render:function render(props){return react_1.default.createElement(activity_1.ActivityPage,Object.assign({},_this3.props,{libs:_this3.props.libs},props))}}),react_1.default.createElement(route_with_breadcrumb_1.RouteWithBreadcrumb,{title:"Tags List",path:"/overview/tags",exact:true,render:function render(props){return react_1.default.createElement(tags_1.TagsPage,Object.assign({},_this3.props,{libs:_this3.props.libs},props))}}))}}]);return MainPagesComponent}(react_1.default.PureComponent);exports.MainPages=with_url_state_1.withUrlState(MainPagesComponent)},6878:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var react_1=tslib_1.__importDefault(__webpack_require__(0));var eui_1=__webpack_require__(2);exports.WalkthroughLayout=function(_ref){var walkthroughSteps=_ref.walkthroughSteps,title=_ref.title,activePath=_ref.activePath,goTo=_ref.goTo,children=_ref.children;var indexOfCurrent=walkthroughSteps.findIndex(function(step){return activePath===step.id});return react_1.default.createElement(eui_1.EuiPage,null,react_1.default.createElement(eui_1.EuiPageBody,null,react_1.default.createElement(eui_1.EuiPageContent,null,react_1.default.createElement(eui_1.EuiTitle,null,react_1.default.createElement("h1",{style:{textAlign:"center"}},title)),react_1.default.createElement("br",null),react_1.default.createElement("br",null),react_1.default.createElement(eui_1.EuiStepsHorizontal,{steps:walkthroughSteps.map(function(step,i){return{title:step.name,isComplete:i<=indexOfCurrent,onClick:function onClick(){return goTo(step.id)}}})}),react_1.default.createElement("br",null),react_1.default.createElement("br",null),react_1.default.createElement(eui_1.EuiPageContentBody,null,children))))}},6879:function(module,exports,__webpack_require__){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var react_1=tslib_1.__importDefault(__webpack_require__(0));var ActivityPage=function(_react_1$default$Pure){_inherits(ActivityPage,_react_1$default$Pure);function ActivityPage(){_classCallCheck(this,ActivityPage);return _possibleConstructorReturn(this,(ActivityPage.__proto__||Object.getPrototypeOf(ActivityPage)).apply(this,arguments))}_createClass(ActivityPage,[{key:"render",value:function render(){return react_1.default.createElement("div",null,"activity logs view")}}]);return ActivityPage}(react_1.default.PureComponent);exports.ActivityPage=ActivityPage},6880:function(module,exports,__webpack_require__){"use strict";var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var eui_1=__webpack_require__(2);var lodash_1=__webpack_require__(1);var moment_1=tslib_1.__importDefault(__webpack_require__(12));var react_1=tslib_1.__importDefault(__webpack_require__(0));var constants_1=__webpack_require__(390);var table_1=__webpack_require__(449);var assignment_schema_1=__webpack_require__(1257);var table_2=__webpack_require__(844);var with_kuery_autocompletion_1=__webpack_require__(2196);var enroll_fragment_1=__webpack_require__(2197);var BeatsPage=function(_react_1$default$Pure){_inherits(BeatsPage,_react_1$default$Pure);function BeatsPage(props){var _this2=this;_classCallCheck(this,BeatsPage);var _this=_possibleConstructorReturn(this,(BeatsPage.__proto__||Object.getPrototypeOf(BeatsPage)).call(this,props));_this.handleBeatsActions=function(action,payload){switch(action){case table_2.AssignmentActionType.Assign:_this.handleBeatTagAssignment(payload);break;case table_2.AssignmentActionType.Edit:break;case table_2.AssignmentActionType.Delete:_this.deleteSelected();break;case table_2.AssignmentActionType.Reload:_this.loadTags()}_this.props.loadBeats()};_this.handleBeatTagAssignment=(_ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee(tagId){var selected;return regeneratorRuntime.wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:selected=_this.getSelectedBeats();if(!selected.some(function(beat){return beat.full_tags.some(function(_ref2){var id=_ref2.id;return id===tagId})})){_context.next=6;break}_context.next=4;return _this.removeTagsFromBeats(selected,tagId);case 4:_context.next=8;break;case 6:_context.next=8;return _this.assignTagsToBeats(selected,tagId);case 8:case"end":return _context.stop()}},_callee,_this2)})),function(_x){return _ref.apply(this,arguments)});var _ref;_this.deleteSelected=_asyncToGenerator(regeneratorRuntime.mark(function _callee3(){var selected,_iteratorNormalCompletion,_didIteratorError,_iteratorError,_iterator,_step,beat;return regeneratorRuntime.wrap(function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:selected=_this.getSelectedBeats();_iteratorNormalCompletion=true;_didIteratorError=false;_iteratorError=void 0;_context3.prev=4;_iterator=selected[Symbol.iterator]();case 6:if(_iteratorNormalCompletion=(_step=_iterator.next()).done){_context3.next=13;break}beat=_step.value;_context3.next=10;return _this.props.libs.beats.update(beat.id,{active:false});case 10:_iteratorNormalCompletion=true;_context3.next=6;break;case 13:_context3.next=19;break;case 15:_context3.prev=15;_context3.t0=_context3["catch"](4);_didIteratorError=true;_iteratorError=_context3.t0;case 19:_context3.prev=19;_context3.prev=20;!_iteratorNormalCompletion&&_iterator.return&&_iterator.return();case 22:_context3.prev=22;if(!_didIteratorError){_context3.next=25;break}throw _iteratorError;case 25:return _context3.finish(22);case 26:return _context3.finish(19);case 27:_this.notifyBeatDisenrolled(selected);setTimeout(_asyncToGenerator(regeneratorRuntime.mark(function _callee2(){return regeneratorRuntime.wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.next=2;return _this.props.loadBeats();case 2:case"end":return _context2.stop()}},_callee2,_this2)})),100);case 29:case"end":return _context3.stop()}},_callee3,_this2,[[4,15,19,27],[20,,22,26]])}));_this.loadTags=_asyncToGenerator(regeneratorRuntime.mark(function _callee4(){var tags;return regeneratorRuntime.wrap(function _callee4$(_context4){while(1)switch(_context4.prev=_context4.next){case 0:_context4.next=2;return _this.props.libs.tags.getAll();case 2:tags=_context4.sent;_this.setState({tags:tags});case 4:case"end":return _context4.stop()}},_callee4,_this2)}));_this.createBeatTagAssignments=function(beats,tagId){return beats.map(function(_ref6){var id=_ref6.id;return{beatId:id,tag:tagId}})};_this.removeTagsFromBeats=(_ref7=_asyncToGenerator(regeneratorRuntime.mark(function _callee5(beats,tagId){var assignments;return regeneratorRuntime.wrap(function _callee5$(_context5){while(1)switch(_context5.prev=_context5.next){case 0:if(!beats.length){_context5.next=7;break}assignments=_this.createBeatTagAssignments(beats,tagId);_context5.next=4;return _this.props.libs.beats.removeTagsFromBeats(assignments);case 4:_context5.next=6;return _this.refreshData();case 6:_this.notifyUpdatedTagAssociation("remove",assignments,tagId);case 7:case"end":return _context5.stop()}},_callee5,_this2)})),function(_x2,_x3){return _ref7.apply(this,arguments)});var _ref7;_this.assignTagsToBeats=(_ref8=_asyncToGenerator(regeneratorRuntime.mark(function _callee6(beats,tagId){var assignments;return regeneratorRuntime.wrap(function _callee6$(_context6){while(1)switch(_context6.prev=_context6.next){case 0:if(!beats.length){_context6.next=7;break}assignments=_this.createBeatTagAssignments(beats,tagId);_context6.next=4;return _this.props.libs.beats.assignTagsToBeats(assignments);case 4:_context6.next=6;return _this.refreshData();case 6:_this.notifyUpdatedTagAssociation("add",assignments,tagId);case 7:case"end":return _context6.stop()}},_callee6,_this2)})),function(_x4,_x5){return _ref8.apply(this,arguments)});var _ref8;_this.notifyBeatDisenrolled=(_ref9=_asyncToGenerator(regeneratorRuntime.mark(function _callee7(beats){var title,text;return regeneratorRuntime.wrap(function _callee7$(_context7){while(1)switch(_context7.prev=_context7.next){case 0:title=void 0;text=void 0;if(1===beats.length){title='"'+(beats[0].name||beats[0].id)+'" disenrolled';text='Beat with ID "'+beats[0].id+'" was disenrolled.'}else title=beats.length+" beats disenrolled";_this.setState({notifications:_this.state.notifications.concat({color:"warning",id:"disenroll_"+new Date,title:title,text:text})});case 4:case"end":return _context7.stop()}},_callee7,_this2)})),function(_x6){return _ref9.apply(this,arguments)});var _ref9;_this.notifyUpdatedTagAssociation=function(action,assignments,tag){var actionName="remove"===action?"Removed":"Added";var preposition="remove"===action?"from":"to";var beatMessage=assignments.length&&1===assignments.length?'beat "'+_this.getNameForBeatId(assignments[0].beatId)+'"':assignments.length+" beats";_this.setState({notifications:_this.state.notifications.concat({color:"success",id:"tag-"+moment_1.default.now(),text:react_1.default.createElement("p",null,actionName+' tag "'+tag+'" '+preposition+" "+beatMessage+"."),title:"Tag "+actionName})})};_this.getNameForBeatId=function(beatId){var beat=_this.props.beats.find(function(b){return b.id===beatId});if(beat)return beat.name;return null};_this.refreshData=_asyncToGenerator(regeneratorRuntime.mark(function _callee8(){return regeneratorRuntime.wrap(function _callee8$(_context8){while(1)switch(_context8.prev=_context8.next){case 0:_context8.next=2;return _this.loadTags();case 2:_context8.next=4;return _this.props.loadBeats();case 4:_this.state.tableRef.current.setSelection(_this.getSelectedBeats());case 5:case"end":return _context8.stop()}},_callee8,_this2)}));_this.getSelectedBeats=function(){var selectedIds=_this.state.tableRef.current.state.selection.map(function(beat){return beat.id});var beats=[];selectedIds.forEach(function(id){var beat=_this.props.beats.find(function(b){return b.id===id});beat&&beats.push(beat)});return beats};_this.filterSelectedBeatTags=function(){if(!_this.state.tags)return[];return _this.selectedBeatConfigsRequireUniqueness()?_this.state.tags.map(_this.disableTagForUniquenessEnforcement):_this.state.tags};_this.configBlocksRequireUniqueness=function(configurationBlocks){return 0!==lodash_1.intersection(constants_1.UNIQUENESS_ENFORCING_TYPES,configurationBlocks.map(function(block){return block.type})).length};_this.disableTagForUniquenessEnforcement=function(tag){return _this.configBlocksRequireUniqueness(tag.configuration_blocks)&&!_this.getSelectedBeats().some(function(beat){return beat.full_tags.some(function(_ref11){var id=_ref11.id;return id===tag.id})})?_extends({},tag,{disabled:true}):tag};_this.selectedBeatConfigsRequireUniqueness=function(){return lodash_1.flatten(_this.getSelectedBeats().map(function(_ref12){var full_tags=_ref12.full_tags;return full_tags})).map(function(_ref13){var configuration_blocks=_ref13.configuration_blocks;return _this.configBlocksRequireUniqueness(configuration_blocks)}).reduce(function(acc,cur){return acc||cur},false)};_this.state={notifications:[],tableRef:react_1.default.createRef(),tags:null};return _this}_createClass(BeatsPage,[{key:"componentDidUpdate",value:function componentDidUpdate(prevProps){this.props.location!==prevProps.location&&this.props.loadBeats()}},{key:"render",value:function render(){var _this3=this;return react_1.default.createElement("div",null,react_1.default.createElement(with_kuery_autocompletion_1.WithKueryAutocompletion,{libs:this.props.libs,fieldPrefix:"beat"},function(autocompleteProps){return react_1.default.createElement(table_1.Table,{kueryBarProps:_extends({},autocompleteProps,{filterQueryDraft:"false",isValid:_this3.props.libs.elasticsearch.isKueryValid(_this3.props.urlState.beatsKBar||""),onChange:function onChange(value){return _this3.props.setUrlState({beatsKBar:value})},onSubmit:function onSubmit(){return null},value:_this3.props.urlState.beatsKBar||""}),assignmentOptions:{items:_this3.filterSelectedBeatTags(),schema:assignment_schema_1.beatsListAssignmentOptions,type:"assignment",actionHandler:_this3.handleBeatsActions},items:lodash_1.sortBy(_this3.props.beats,"id")||[],ref:_this3.state.tableRef,type:table_1.BeatsTableType})}),react_1.default.createElement(eui_1.EuiGlobalToastList,{toasts:this.state.notifications,dismissToast:function dismissToast(){return _this3.setState({notifications:[]})},toastLifeTimeMs:5e3}))}}]);return BeatsPage}(react_1.default.PureComponent);BeatsPage.ActionArea=function(props){return react_1.default.createElement(react_1.default.Fragment,null,react_1.default.createElement(eui_1.EuiButtonEmpty,{onClick:function onClick(){window.open("https://www.elastic.co/guide/en/beats/libbeat/current/getting-started.html","_newtab35628937456")}},"Learn how to install beats"),react_1.default.createElement(eui_1.EuiButton,{size:"s",color:"primary",onClick:function(){var _ref14=_asyncToGenerator(regeneratorRuntime.mark(function _callee9(){return regeneratorRuntime.wrap(function _callee9$(_context9){while(1)switch(_context9.prev=_context9.next){case 0:props.goTo("/overview/beats/enroll");case 1:case"end":return _context9.stop()}},_callee9,void 0)}));function onClick(){return _ref14.apply(this,arguments)}return onClick}()},"Enroll Beats"),"/overview/beats/enroll"===props.location.pathname&&react_1.default.createElement(eui_1.EuiOverlayMask,null,react_1.default.createElement(eui_1.EuiModal,{onClose:function onClose(){props.goTo("/overview/beats")},style:{width:"640px"}},react_1.default.createElement(eui_1.EuiModalHeader,null,react_1.default.createElement(eui_1.EuiModalHeaderTitle,null,"Enroll a new Beat")),react_1.default.createElement(eui_1.EuiModalBody,null,react_1.default.createElement(enroll_fragment_1.EnrollBeatPage,Object.assign({},props))))))};exports.BeatsPage=BeatsPage},6881:function(module,exports,__webpack_require__){"use strict";var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();function _defineProperty(obj,key,value){key in obj?Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true}):obj[key]=value;return obj}function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var eui_1=__webpack_require__(2);__webpack_require__(1256);__webpack_require__(616);var react_1=tslib_1.__importDefault(__webpack_require__(0));var tag_1=__webpack_require__(843);var with_url_state_1=__webpack_require__(540);var CreateTagFragment=function(_react_1$default$Pure){_inherits(CreateTagFragment,_react_1$default$Pure);function CreateTagFragment(props){var _this2=this;_classCallCheck(this,CreateTagFragment);var _this=_possibleConstructorReturn(this,(CreateTagFragment.__proto__||Object.getPrototypeOf(CreateTagFragment)).call(this,props));_this.mode="create";_this.loadTag=_asyncToGenerator(regeneratorRuntime.mark(function _callee(){var tags;return regeneratorRuntime.wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return _this.props.libs.tags.getTagsWithIds([_this.state.tag.id]);case 2:tags=_context.sent;tags.length>0&&_this.setState({tag:tags[0]});case 4:case"end":return _context.stop()}},_callee,_this2)}));_this.saveTag=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(){var newTag;return regeneratorRuntime.wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.next=2;return _this.props.libs.tags.upsertTag(_this.state.tag);case 2:newTag=_context2.sent;if(newTag){_context2.next=5;break}return _context2.abrupt("return",alert("error saving tag"));case 5:_this.props.setUrlState({createdTag:newTag.id});_this.props.goTo("/overview/initial/finish");case 7:case"end":return _context2.stop()}},_callee2,_this2)}));_this.state={showFlyout:false,tag:{id:props.urlState.createdTag?props.urlState.createdTag:"",color:"#DD0A73",configuration_blocks:[],last_updated:new Date}};if(props.urlState.createdTag){_this.mode="edit";_this.loadTag()}return _this}_createClass(CreateTagFragment,[{key:"render",value:function render(){var _this3=this;return react_1.default.createElement(react_1.default.Fragment,null,react_1.default.createElement(tag_1.TagEdit,{tag:this.state.tag,mode:this.mode,onDetachBeat:function onDetachBeat(beatIds){_this3.props.libs.beats.removeTagsFromBeats(beatIds.map(function(id){return{beatId:id,tag:_this3.state.tag.id}}))},onTagChange:function onTagChange(field,value){return _this3.setState(function(oldState){return{tag:_extends({},oldState.tag,_defineProperty({},field,value))}})},attachedBeats:null}),react_1.default.createElement(eui_1.EuiSpacer,null),react_1.default.createElement(eui_1.EuiHorizontalRule,null),react_1.default.createElement(eui_1.EuiFlexGroup,null,react_1.default.createElement(eui_1.EuiFlexItem,{grow:false},react_1.default.createElement(eui_1.EuiButton,{fill:true,disabled:-1===this.state.tag.id.search(/^[a-zA-Z0-9-]+$/)||""===this.state.tag.id||0===this.state.tag.configuration_blocks.length,onClick:this.saveTag},"Save & Continue"))))}}]);return CreateTagFragment}(react_1.default.PureComponent);exports.CreateTagFragment=CreateTagFragment;exports.CreateTagPageFragment=with_url_state_1.withUrlState(CreateTagFragment)},6882:function(module,exports,__webpack_require__){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var eui_1=__webpack_require__(2);var react_1=tslib_1.__importDefault(__webpack_require__(0));var with_url_state_1=__webpack_require__(540);var FinishWalkthrough=function(_react_1$default$Comp){_inherits(FinishWalkthrough,_react_1$default$Comp);function FinishWalkthrough(props){var _this2=this;_classCallCheck(this,FinishWalkthrough);var _this=_possibleConstructorReturn(this,(FinishWalkthrough.__proto__||Object.getPrototypeOf(FinishWalkthrough)).call(this,props));_this.createBeatTagAssignments=function(beats,tag){return beats.map(function(_ref){var id=_ref.id;return{beatId:id,tag:tag.id}})};_this.assignTagToBeat=_asyncToGenerator(regeneratorRuntime.mark(function _callee(){var beat,tags,assignments;return regeneratorRuntime.wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:if(_this.props.urlState.enrollmentToken){_context.next=2;break}return _context.abrupt("return",alert("Invalid URL, no enrollmentToken found"));case 2:if(_this.props.urlState.createdTag){_context.next=4;break}return _context.abrupt("return",alert("Invalid URL, no createdTag found"));case 4:_context.next=6;return _this.props.libs.beats.getBeatWithToken(_this.props.urlState.enrollmentToken);case 6:beat=_context.sent;if(beat){_context.next=9;break}return _context.abrupt("return",alert("Error: Beat not enrolled properly"));case 9:_context.next=11;return _this.props.libs.tags.getTagsWithIds([_this.props.urlState.createdTag]);case 11:tags=_context.sent;assignments=_this.createBeatTagAssignments([beat],tags[0]);_context.next=15;return _this.props.libs.beats.assignTagsToBeats(assignments);case 15:_this.props.setUrlState({createdTag:"",enrollmentToken:""});return _context.abrupt("return",true);case 17:case"end":return _context.stop()}},_callee,_this2)}));_this.state={assigned:false};return _this}_createClass(FinishWalkthrough,[{key:"componentDidMount",value:function componentDidMount(){var _this3=this;setTimeout(_asyncToGenerator(regeneratorRuntime.mark(function _callee2(){var done;return regeneratorRuntime.wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.next=2;return _this3.props.loadBeats();case 2:_context2.next=4;return _this3.assignTagToBeat();case 4:done=_context2.sent;done&&_this3.setState({assigned:true});case 6:case"end":return _context2.stop()}},_callee2,_this3)})),300)}},{key:"render",value:function render(){var _this4=this;var goTo=this.props.goTo;return react_1.default.createElement(eui_1.EuiFlexGroup,{justifyContent:"spaceAround",style:{marginTop:50}},react_1.default.createElement(eui_1.EuiFlexItem,{grow:false},react_1.default.createElement(eui_1.EuiPageContent,null,react_1.default.createElement(eui_1.EuiEmptyPrompt,{iconType:"logoBeats",title:react_1.default.createElement("h2",null,"Your Beat is enrolled. What's next?"),body:react_1.default.createElement(react_1.default.Fragment,null,react_1.default.createElement("p",null,"Start your Beat to check for configuration errors, then click Done.")),actions:react_1.default.createElement(eui_1.EuiButton,{fill:true,disabled:!this.state.assigned,onClick:function(){var _ref4=_asyncToGenerator(regeneratorRuntime.mark(function _callee3(){return regeneratorRuntime.wrap(function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:goTo("/overview/beats");case 1:case"end":return _context3.stop()}},_callee3,_this4)}));function onClick(){return _ref4.apply(this,arguments)}return onClick}()},"Done")}))))}}]);return FinishWalkthrough}(react_1.default.Component);exports.FinishWalkthrough=FinishWalkthrough;exports.FinishWalkthroughPage=with_url_state_1.withUrlState(FinishWalkthrough)},6883:function(module,exports,__webpack_require__){"use strict";var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var eui_1=__webpack_require__(2);var react_1=tslib_1.__importDefault(__webpack_require__(0));var table_1=__webpack_require__(449);var assignment_schema_1=__webpack_require__(1257);var with_kuery_autocompletion_1=__webpack_require__(2196);var TagsPage=function(_react_1$default$Pure){_inherits(TagsPage,_react_1$default$Pure);function TagsPage(props){var _this2=this;_classCallCheck(this,TagsPage);var _this=_possibleConstructorReturn(this,(TagsPage.__proto__||Object.getPrototypeOf(TagsPage)).call(this,props));_this.handleTagsAction=(_ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee(action,payload){var tags,success;return regeneratorRuntime.wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.t0=action;_context.next=_context.t0===table_1.AssignmentActionType.Delete?3:9;break;case 3:tags=_this.getSelectedTags().map(function(tag){return tag.id});_context.next=6;return _this.props.libs.tags.delete(tags);case 6:success=_context.sent;if(success){_this.loadTags();_this.state.tableRef&&_this.state.tableRef.current&&_this.state.tableRef.current.resetSelection()}else alert("Some of these tags might be assigned to beats. Please ensure tags being removed are not activly assigned");return _context.abrupt("break",9);case 9:_this.loadTags();case 10:case"end":return _context.stop()}},_callee,_this2)})),function(_x,_x2){return _ref.apply(this,arguments)});var _ref;_this.getSelectedTags=function(){return _this.state.tableRef.current?_this.state.tableRef.current.state.selection:[]};_this.state={tags:[],tableRef:react_1.default.createRef()};_this.loadTags();return _this}_createClass(TagsPage,[{key:"render",value:function render(){var _this3=this;return react_1.default.createElement(with_kuery_autocompletion_1.WithKueryAutocompletion,{libs:this.props.libs,fieldPrefix:"tag"},function(autocompleteProps){return react_1.default.createElement(table_1.Table,{kueryBarProps:_extends({},autocompleteProps,{filterQueryDraft:"false",isValid:_this3.props.libs.elasticsearch.isKueryValid(_this3.props.urlState.tagsKBar||""),onChange:function onChange(value){return _this3.props.setUrlState({tagsKBar:value})},onSubmit:function onSubmit(){return null},value:_this3.props.urlState.tagsKBar||""}),assignmentOptions:{schema:assignment_schema_1.tagListAssignmentOptions,type:"primary",items:[],actionHandler:_this3.handleTagsAction},ref:_this3.state.tableRef,items:_this3.state.tags,type:table_1.TagsTableType})})}},{key:"loadTags",value:function(){var _ref2=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(){var tags;return regeneratorRuntime.wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.next=2;return this.props.libs.tags.getAll();case 2:tags=_context2.sent;this.setState({tags:tags});case 4:case"end":return _context2.stop()}},_callee2,this)}));function loadTags(){return _ref2.apply(this,arguments)}return loadTags}()}]);return TagsPage}(react_1.default.PureComponent);TagsPage.ActionArea=function(_ref3){var goTo=_ref3.goTo;return react_1.default.createElement(eui_1.EuiButton,{size:"s",color:"primary",onClick:function(){var _ref4=_asyncToGenerator(regeneratorRuntime.mark(function _callee3(){return regeneratorRuntime.wrap(function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:goTo("/tag/create");case 1:case"end":return _context3.stop()}},_callee3,void 0)}));function onClick(){return _ref4.apply(this,arguments)}return onClick}()},"Add Tag")};exports.TagsPage=TagsPage},6884:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var React=tslib_1.__importStar(__webpack_require__(0));var no_data_1=__webpack_require__(845);exports.NoAccessPage=function(){return React.createElement(no_data_1.NoDataLayout,{title:"Access denied",actionSection:[]},React.createElement("p",null,"You are not authorized to access Beats central management. To use Beats central management, you need the privileges granted by the `beats_admin` role."))}},6885:function(module,exports,__webpack_require__){"use strict";var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();function _defineProperty(obj,key,value){key in obj?Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true}):obj[key]=value;return obj}function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);__webpack_require__(1256);__webpack_require__(616);var eui_1=__webpack_require__(2);var euiVars=tslib_1.__importStar(__webpack_require__(818));var lodash_1=__webpack_require__(1);var react_1=tslib_1.__importDefault(__webpack_require__(0));var constants_1=__webpack_require__(390);var primary_1=__webpack_require__(1253);var tag_1=__webpack_require__(843);var with_url_state_1=__webpack_require__(540);var TagPageComponent=function(_react_1$default$Pure){_inherits(TagPageComponent,_react_1$default$Pure);function TagPageComponent(props){var _this2=this;_classCallCheck(this,TagPageComponent);var _this=_possibleConstructorReturn(this,(TagPageComponent.__proto__||Object.getPrototypeOf(TagPageComponent)).call(this,props));_this.mode="create";_this.loadTag=_asyncToGenerator(regeneratorRuntime.mark(function _callee(){var tags;return regeneratorRuntime.wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return _this.props.libs.tags.getTagsWithIds([_this.props.match.params.tagid]);case 2:tags=_context.sent;0===tags.length;_this.setState({tag:tags[0]});case 5:case"end":return _context.stop()}},_callee,_this2)}));_this.loadAttachedBeats=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(){var beats;return regeneratorRuntime.wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.next=2;return _this.props.libs.beats.getBeatsWithTag(_this.props.match.params.tagid);case 2:beats=_context2.sent;_this.setState({attachedBeats:beats});case 4:case"end":return _context2.stop()}},_callee2,_this2)}));_this.saveTag=_asyncToGenerator(regeneratorRuntime.mark(function _callee3(){return regeneratorRuntime.wrap(function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:_context3.next=2;return _this.props.libs.tags.upsertTag(_this.state.tag);case 2:_this.props.goTo("/overview/tags");case 3:case"end":return _context3.stop()}},_callee3,_this2)}));_this.getNumExclusiveConfigurationBlocks=function(){return _this.state.tag.configuration_blocks.map(function(_ref4){var type=_ref4.type;return constants_1.UNIQUENESS_ENFORCING_TYPES.some(function(uniqueType){return uniqueType===type})}).reduce(function(acc,cur){return cur?acc+1:acc},0)};var randomColor=lodash_1.sample(Object.keys(euiVars).filter(function(key){return key.startsWith("euiColorVis")}).map(function(key){return euiVars[key]}));_this.state={showFlyout:false,attachedBeats:null,tag:{id:"create"===props.match.params.action?"":props.match.params.tagid,color:_this.rgb2hex(randomColor),configuration_blocks:[],last_updated:new Date}};if("create"!==props.match.params.action){_this.mode="edit";_this.loadTag();_this.loadAttachedBeats()}return _this}_createClass(TagPageComponent,[{key:"render",value:function render(){var _this3=this;return react_1.default.createElement(primary_1.PrimaryLayout,{title:"create"===this.mode?"Create Tag":"Update Tag: "+this.state.tag.id},react_1.default.createElement("div",null,react_1.default.createElement(tag_1.TagEdit,{tag:this.state.tag,mode:this.mode,onDetachBeat:function(){var _ref5=_asyncToGenerator(regeneratorRuntime.mark(function _callee4(beatIds){return regeneratorRuntime.wrap(function _callee4$(_context4){while(1)switch(_context4.prev=_context4.next){case 0:_context4.next=2;return _this3.props.libs.beats.removeTagsFromBeats(beatIds.map(function(id){return{beatId:id,tag:_this3.state.tag.id}}));case 2:_context4.next=4;return _this3.loadAttachedBeats();case 4:case"end":return _context4.stop()}},_callee4,_this3)}));function onDetachBeat(_x){return _ref5.apply(this,arguments)}return onDetachBeat}(),onTagChange:function onTagChange(field,value){return _this3.setState(function(oldState){return{tag:_extends({},oldState.tag,_defineProperty({},field,value))}})},attachedBeats:this.state.attachedBeats}),react_1.default.createElement(eui_1.EuiSpacer,{size:"m"}),react_1.default.createElement(eui_1.EuiFlexGroup,null,react_1.default.createElement(eui_1.EuiFlexItem,{grow:false},react_1.default.createElement(eui_1.EuiButton,{fill:true,disabled:-1===this.state.tag.id.search(/^[a-zA-Z0-9-]+$/)||""===this.state.tag.id||this.getNumExclusiveConfigurationBlocks()>1,onClick:this.saveTag},"Save")),react_1.default.createElement(eui_1.EuiFlexItem,{grow:false},react_1.default.createElement(eui_1.EuiButtonEmpty,{onClick:function onClick(){return _this3.props.goTo("/overview/tags")}},"Cancel")))))}},{key:"rgb2hex",value:function rgb2hex(rgb){var matchedrgb=rgb.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i);return matchedrgb&&4===matchedrgb.length?"#"+("0"+parseInt(matchedrgb[1],10).toString(16)).slice(-2)+("0"+parseInt(matchedrgb[2],10).toString(16)).slice(-2)+("0"+parseInt(matchedrgb[3],10).toString(16)).slice(-2):""}}]);return TagPageComponent}(react_1.default.PureComponent);exports.TagPageComponent=TagPageComponent;exports.TagPage=with_url_state_1.withUrlState(TagPageComponent)},6886:function(module,exports,__webpack_require__){"use strict";__webpack_require__(6887);__webpack_require__(6890)},6887:function(module,exports,__webpack_require__){"use strict";var _management=__webpack_require__(84);var _i18n=__webpack_require__(18);var _constants=__webpack_require__(542);var esSection=_management.management.getSection("elasticsearch");esSection.register("index_management",{visible:true,display:_i18n.i18n.translate("xpack.idxMgmt.appTitle",{defaultMessage:"Index Management"}),order:1,url:"#"+_constants.BASE_PATH+"home"})},6888:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.PLUGIN={ID:"index_management"}},6889:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.INDEX_CLOSED="close";exports.INDEX_OPEN="open";exports.INDEX_CLOSING="closing";exports.INDEX_OPENING="opening";exports.INDEX_REFRESHING="refreshing";exports.INDEX_FLUSHING="flushing";exports.INDEX_FORCEMERGING="forcemerging";exports.INDEX_MERGING="merging";exports.INDEX_CLEARING_CACHE="clearing cache"},6890:function(module,exports,__webpack_require__){"use strict";var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _reactDom=__webpack_require__(14);var _reactRedux=__webpack_require__(19);var _reactRouterDom=__webpack_require__(49);var _react3=__webpack_require__(10);var _api=__webpack_require__(2199);var _app=__webpack_require__(6891);var _base_path=__webpack_require__(2198);var _routes=__webpack_require__(13);var _routes2=_interopRequireDefault(_routes);var _main=__webpack_require__(6938);var _main2=_interopRequireDefault(_main);var _manage_angular_lifecycle=__webpack_require__(6939);var _store=__webpack_require__(6940);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}var renderReact=(_ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee(elem){return regeneratorRuntime.wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:(0,_reactDom.render)(_react2.default.createElement(_react3.I18nProvider,null,_react2.default.createElement(_reactRedux.Provider,{store:(0,_store.indexManagementStore)()},_react2.default.createElement(_reactRouterDom.HashRouter,null,_react2.default.createElement(_app.App,null)))),elem);case 1:case"end":return _context.stop()}},_callee,void 0)})),function renderReact(_x){return _ref.apply(this,arguments)});var _ref;_routes2.default.when(_base_path.BASE_PATH+":view?/:id?",{template:_main2.default,controllerAs:"indexManagement",controller:function IndexManagementController($scope,$route,$http){_classCallCheck(this,IndexManagementController);(0,_api.setHttpClient)($http);$scope.$$postDigest(function(){var elem=document.getElementById("indexManagementReactRoot");renderReact(elem);(0,_manage_angular_lifecycle.manageAngularLifecycle)($scope,$route,elem)})}})},6891:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.App=void 0;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _reactRouterDom=__webpack_require__(49);var _constants=__webpack_require__(542);var _index_list=__webpack_require__(6892);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}exports.App=function App(){return _react2.default.createElement("div",null,_react2.default.createElement(_reactRouterDom.Switch,null,_react2.default.createElement(_reactRouterDom.Route,{path:_constants.BASE_PATH,component:_index_list.IndexList})))}},6892:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _index_list=__webpack_require__(2200);Object.defineProperty(exports,"IndexList",{enumerable:true,get:function get(){return _index_list.IndexList}})},6893:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.IndexList=void 0;var _reactRedux=__webpack_require__(19);var _index_list=__webpack_require__(6894);var _actions=__webpack_require__(121);var mapDispatchToProps=function mapDispatchToProps(dispatch){return{loadIndices:function loadIndices(){dispatch((0,_actions.loadIndices)())},reloadIndices:function reloadIndices(){dispatch((0,_actions.reloadIndices)())}}};exports.IndexList=(0,_reactRedux.connect)(null,mapDispatchToProps)(_index_list.IndexList)},6894:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.IndexList=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _components=__webpack_require__(1258);var _constants=__webpack_require__(6936);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}exports.IndexList=function(_React$PureComponent){_inherits(IndexList,_React$PureComponent);function IndexList(){_classCallCheck(this,IndexList);return _possibleConstructorReturn(this,(IndexList.__proto__||Object.getPrototypeOf(IndexList)).apply(this,arguments))}_createClass(IndexList,[{key:"componentWillMount",value:function componentWillMount(){this.props.loadIndices()}},{key:"componentDidMount",value:function componentDidMount(){this.interval=setInterval(this.props.reloadIndices,_constants.REFRESH_RATE_INDEX_LIST)}},{key:"componentWillUnmount",value:function componentWillUnmount(){clearInterval(this.interval)}},{key:"render",value:function render(){return _react2.default.createElement("div",{className:"indTable__horizontalScroll im-snapshotTestSubject"},_react2.default.createElement(_components.IndexTable,null),_react2.default.createElement(_components.DetailPanel,null))}}]);return IndexList}(_react2.default.PureComponent)},6895:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _index_actions_context_menu=__webpack_require__(6896);Object.defineProperty(exports,"IndexActionsContextMenu",{enumerable:true,get:function get(){return _index_actions_context_menu.IndexActionsContextMenu}})},6896:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.IndexActionsContextMenu=void 0;var _reactRedux=__webpack_require__(19);var _index_actions_context_menu=__webpack_require__(6897);var _actions=__webpack_require__(121);var _selectors=__webpack_require__(450);var mapStateToProps=function mapStateToProps(state,ownProps){var indexStatusByName={};var indexNames=ownProps.indexNames;indexNames.forEach(function(indexName){indexStatusByName[indexName]=(0,_selectors.getIndexStatusByIndexName)(state,indexName)});return{indexStatusByName:indexStatusByName}};var mapDispatchToProps=function mapDispatchToProps(dispatch,_ref){var indexNames=_ref.indexNames;return{editIndexSettings:function editIndexSettings(){dispatch((0,_actions.editIndexSettings)({indexName:indexNames[0]}))},clearCacheIndices:function clearCacheIndices(){dispatch((0,_actions.clearCacheIndices)({indexNames:indexNames}))},closeIndices:function closeIndices(){dispatch((0,_actions.closeIndices)({indexNames:indexNames}))},flushIndices:function flushIndices(){dispatch((0,_actions.flushIndices)({indexNames:indexNames}))},openIndices:function openIndices(){dispatch((0,_actions.openIndices)({indexNames:indexNames}))},refreshIndices:function refreshIndices(){dispatch((0,_actions.refreshIndices)({indexNames:indexNames}))},forcemergeIndices:function forcemergeIndices(maxNumSegments){dispatch((0,_actions.forcemergeIndices)({indexNames:indexNames,maxNumSegments:maxNumSegments}))},showSettings:function showSettings(){dispatch((0,_actions.openDetailPanel)({indexName:indexNames[0],panelType:"Settings"}))},showMapping:function showMapping(){dispatch((0,_actions.openDetailPanel)({indexName:indexNames[0],panelType:"Mapping"}))},showStats:function showStats(){dispatch((0,_actions.openDetailPanel)({indexName:indexNames[0],panelType:"Stats"}))},editIndex:function editIndex(){var indexName=indexNames?indexNames[0]:null;indexName&&dispatch((0,_actions.openDetailPanel)({indexName:indexName,panelType:"Edit settings"}))},deleteIndices:function deleteIndices(){dispatch((0,_actions.deleteIndices)({indexNames:indexNames}))}}};exports.IndexActionsContextMenu=(0,_reactRedux.connect)(mapStateToProps,mapDispatchToProps)(_index_actions_context_menu.IndexActionsContextMenu)},6897:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.IndexActionsContextMenu=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _react3=__webpack_require__(10);var _lodash=__webpack_require__(1);var _eui=__webpack_require__(2);var _flatten_panel_tree=__webpack_require__(6898);var _constants=__webpack_require__(542);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var IndexActionsContextMenuUi=function(_Component){_inherits(IndexActionsContextMenuUi,_Component);function IndexActionsContextMenuUi(props){_classCallCheck(this,IndexActionsContextMenuUi);var _this=_possibleConstructorReturn(this,(IndexActionsContextMenuUi.__proto__||Object.getPrototypeOf(IndexActionsContextMenuUi)).call(this,props));_this.onButtonClick=function(){_this.setState(function(prevState){return{isPopoverOpen:!prevState.isPopoverOpen}})};_this.closePopoverAndExecute=function(func){_this.setState({isPopoverOpen:false,showDeleteConfirmation:false});func();_this.props.resetSelection&&_this.props.resetSelection()};_this.closePopover=function(){_this.setState({isPopoverOpen:false})};_this.closeDeleteConfirmationModal=function(){_this.setState({showDeleteConfirmation:false})};_this.openDeleteConfirmationModal=function(){_this.setState({showDeleteConfirmation:true})};_this.openForcemergeSegmentsModal=function(){_this.setState({showForcemergeSegmentsModal:true})};_this.closeForcemergeSegmentsModal=function(){_this.setState({showForcemergeSegmentsModal:false})};_this.forcemergeSegmentsError=function(){var forcemergeSegments=_this.state.forcemergeSegments;var intl=_this.props.intl;return!forcemergeSegments||forcemergeSegments.match(/^([1-9][0-9]*)?$/)?void 0:intl.formatMessage({id:"xpack.idxMgmt.indexActionsMenu.segmentsNumberErrorMessage",defaultMessage:"The number of segments must be greater than zero."})};_this.forcemergeSegmentsModal=function(){var _this$props=_this.props,forcemergeIndices=_this$props.forcemergeIndices,indexNames=_this$props.indexNames,intl=_this$props.intl;var helpText=intl.formatMessage({id:"xpack.idxMgmt.indexActionsMenu.forceMerge.forceMergeSegmentsHelpText",defaultMessage:"Merge the segments in an index until the number is reduced to this or fewer segments. The default is 1."});var oneIndexSelected=_this.oneIndexSelected();var entity=_this.getEntity(oneIndexSelected);var showForcemergeSegmentsModal=_this.state.showForcemergeSegmentsModal;if(!showForcemergeSegmentsModal)return null;return _react2.default.createElement(_eui.EuiOverlayMask,null,_react2.default.createElement(_eui.EuiConfirmModal,{title:intl.formatMessage({id:"xpack.idxMgmt.indexActionsMenu.forceMerge.confirmModal.modalTitle",defaultMessage:"Force merge"}),onCancel:_this.closeForcemergeSegmentsModal,onConfirm:function onConfirm(){_this.forcemergeSegmentsError()||_this.closePopoverAndExecute(function(){forcemergeIndices(_this.state.forcemergeSegments);_this.setState({forcemergeSegments:null,showForcemergeSegmentsModal:null})})},cancelButtonText:intl.formatMessage({id:"xpack.idxMgmt.indexActionsMenu.forceMerge.confirmModal.cancelButtonText",defaultMessage:"Cancel"}),confirmButtonText:intl.formatMessage({id:"xpack.idxMgmt.indexActionsMenu.forceMerge.confirmModal.confirmButtonText",defaultMessage:"Force merge"})},_react2.default.createElement("div",null,_react2.default.createElement("p",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.idxMgmt.indexActionsMenu.forceMerge.forceMergeDescription",defaultMessage:"You are about to force merge {oneIndexSelected, plural, one {this} other {these}}",values:{oneIndexSelected:oneIndexSelected?1:0}})," ",entity,":"),_react2.default.createElement("ul",null,indexNames.map(function(indexName){return _react2.default.createElement("li",{key:indexName},indexName)})),_react2.default.createElement(_eui.EuiCallOut,{title:intl.formatMessage({id:"xpack.idxMgmt.indexActionsMenu.forceMerge.proceedWithCautionCallOutTitle",defaultMessage:"Proceed with caution!"}),color:"warning",iconType:"help"},_react2.default.createElement("p",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.idxMgmt.indexActionsMenu.forceMerge.forceMergeWarningDescription",defaultMessage:" Force merging a large index or an index that is not read-only can potentially cause performance and stability issues in the cluster if it is not run properly (run against non-read-only indices) or run during peak hours. "}))),_react2.default.createElement(_eui.EuiSpacer,{size:"m"}),_react2.default.createElement(_eui.EuiForm,{isInvalid:_this.forcemergeSegmentsError(),error:_this.forcemergeSegmentsError()},_react2.default.createElement(_eui.EuiFormRow,{label:intl.formatMessage({id:"xpack.idxMgmt.indexActionsMenu.forceMerge.maximumNumberOfSegmentsFormRowLabel",defaultMessage:"Maximum number of segments per shard"}),helpText:helpText},_react2.default.createElement(_eui.EuiFieldText,{onChange:function onChange(event){_this.setState({forcemergeSegments:event.target.value})},name:"maxNumberSegments"}))))))};_this.confirmDeleteModal=function(){var oneIndexSelected=_this.oneIndexSelected();var entity=_this.getEntity(oneIndexSelected);var _this$props2=_this.props,deleteIndices=_this$props2.deleteIndices,indexNames=_this$props2.indexNames,intl=_this$props2.intl;var showDeleteConfirmation=_this.state.showDeleteConfirmation;if(!showDeleteConfirmation)return null;return _react2.default.createElement(_eui.EuiOverlayMask,null,_react2.default.createElement(_eui.EuiConfirmModal,{title:intl.formatMessage({id:"xpack.idxMgmt.indexActionsMenu.deleteEntity.confirmModal.modalTitle",defaultMessage:"Confirm Delete {entity}"},{entity:entity}),onCancel:_this.closeDeleteConfirmationModal,onConfirm:function onConfirm(){return _this.closePopoverAndExecute(deleteIndices)},cancelButtonText:intl.formatMessage({id:"xpack.idxMgmt.indexActionsMenu.deleteEntity.confirmModal.cancelButtonText",defaultMessage:"Cancel"}),confirmButtonText:intl.formatMessage({id:"xpack.idxMgmt.indexActionsMenu.deleteEntity.confirmModal.confirmButtonText",defaultMessage:"Confirm"})},_react2.default.createElement("div",null,_react2.default.createElement("p",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.idxMgmt.indexActionsMenu.deleteEntity.deleteDescription",defaultMessage:"You are about to delete  {oneIndexSelected, plural, one {this} other {these}}",values:{oneIndexSelected:oneIndexSelected?1:0}})," ",entity,":"),_react2.default.createElement("ul",null,indexNames.map(function(indexName){return _react2.default.createElement("li",{key:indexName},indexName)})),_react2.default.createElement(_eui.EuiCallOut,{title:intl.formatMessage({id:"xpack.idxMgmt.indexActionsMenu.deleteEntity.proceedWithCautionCallOutTitle",defaultMessage:"Proceed with caution!"}),color:"warning",iconType:"help"},_react2.default.createElement("p",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.idxMgmt.indexActionsMenu.deleteEntity.deleteEntityWarningDescription",defaultMessage:" This operation cannot be undone. Make sure you have appropriate backups. "}))))))};_this.oneIndexSelected=function(){return 1===_this.props.indexNames.length};_this.getEntity=function(oneIndexSelected){return oneIndexSelected?"index":"indices"};_this.state={isPopoverOpen:false,showDeleteConfirmation:false};return _this}_createClass(IndexActionsContextMenuUi,[{key:"panels",value:function panels(){var _this2=this;var _props=this.props,closeIndices=_props.closeIndices,openIndices=_props.openIndices,flushIndices=_props.flushIndices,refreshIndices=_props.refreshIndices,clearCacheIndices=_props.clearCacheIndices,editIndex=_props.editIndex,showMapping=_props.showMapping,showStats=_props.showStats,showSettings=_props.showSettings,detailPanel=_props.detailPanel,indexNames=_props.indexNames,indexStatusByName=_props.indexStatusByName,intl=_props.intl;var allOpen=(0,_lodash.all)(indexNames,function(indexName){return indexStatusByName[indexName]===_constants.INDEX_OPEN});var oneIndexSelected=this.oneIndexSelected();var entity=this.getEntity(oneIndexSelected);var entityUpper=""+entity[0].toUpperCase()+entity.slice(1);var items=[];if(!detailPanel&&oneIndexSelected){items.push({name:intl.formatMessage({id:"xpack.idxMgmt.indexActionsMenu.showEntitySettingsLabel",defaultMessage:"Show {entity} settings"},{entity:entity}),icon:_react2.default.createElement(_eui.EuiIcon,{type:"indexSettings"}),onClick:function onClick(){_this2.closePopoverAndExecute(showSettings)}});items.push({name:intl.formatMessage({id:"xpack.idxMgmt.indexActionsMenu.showEntityMappingLabel",defaultMessage:"Show {entity} mapping"},{entity:entity}),icon:_react2.default.createElement(_eui.EuiIcon,{type:"indexMapping"}),onClick:function onClick(){_this2.closePopoverAndExecute(showMapping)}});allOpen&&items.push({name:intl.formatMessage({id:"xpack.idxMgmt.indexActionsMenu.showEntityStatsLabel",defaultMessage:"Show {entity} stats"},{entity:entity}),icon:_react2.default.createElement(_eui.EuiIcon,{type:"stats"}),onClick:function onClick(){_this2.closePopoverAndExecute(showStats)}});items.push({name:intl.formatMessage({id:"xpack.idxMgmt.indexActionsMenu.editEntitySettingsLabel",defaultMessage:"Edit {entity} settings"},{entity:entity}),icon:_react2.default.createElement(_eui.EuiIcon,{type:"indexEdit"}),onClick:function onClick(){_this2.closePopoverAndExecute(editIndex)}})}if(allOpen){items.push({name:intl.formatMessage({id:"xpack.idxMgmt.indexActionsMenu.closeEntityLabel",defaultMessage:"Close {entity}"},{entity:entity}),icon:_react2.default.createElement(_eui.EuiIcon,{type:"indexClose"}),onClick:function onClick(){_this2.closePopoverAndExecute(closeIndices)}});items.push({name:intl.formatMessage({id:"xpack.idxMgmt.indexActionsMenu.forceMergeEntityLabel",defaultMessage:"Force merge {entity}"},{entity:entity}),icon:_react2.default.createElement(_eui.EuiIcon,{type:"merge"}),onClick:function onClick(){_this2.closePopover();_this2.openForcemergeSegmentsModal()}});items.push({name:intl.formatMessage({id:"xpack.idxMgmt.indexActionsMenu.refreshEntityLabel",defaultMessage:"Refresh {entity}"},{entity:entity}),icon:_react2.default.createElement(_eui.EuiIcon,{type:"refresh"}),onClick:function onClick(){_this2.closePopoverAndExecute(refreshIndices)}});items.push({name:intl.formatMessage({id:"xpack.idxMgmt.indexActionsMenu.clearEntityCacheLabel",defaultMessage:"Clear {entity} cache"},{entity:entity}),icon:_react2.default.createElement(_eui.EuiIcon,{type:"broom"}),onClick:function onClick(){_this2.closePopoverAndExecute(clearCacheIndices)}});items.push({name:intl.formatMessage({id:"xpack.idxMgmt.indexActionsMenu.flushEntityLabel",defaultMessage:"Flush {entity}"},{entity:entity}),icon:_react2.default.createElement(_eui.EuiIcon,{type:"indexFlush"}),onClick:function onClick(){_this2.closePopoverAndExecute(flushIndices)}})}else items.push({name:intl.formatMessage({id:"xpack.idxMgmt.indexActionsMenu.openEntityLabel",defaultMessage:"Open {entity}"},{entity:entity}),icon:_react2.default.createElement(_eui.EuiIcon,{type:"indexOpen"}),onClick:function onClick(){_this2.closePopoverAndExecute(openIndices)}});items.push({name:intl.formatMessage({id:"xpack.idxMgmt.indexActionsMenu.deleteEntityLabel",defaultMessage:"Delete {entity}"},{entity:entity}),icon:_react2.default.createElement(_eui.EuiIcon,{type:"trash"}),onClick:function onClick(){_this2.closePopover();_this2.openDeleteConfirmationModal()}});items.forEach(function(item){item["data-test-subj"]="indexTableContextMenuButton"});var panelTree={id:0,title:intl.formatMessage({id:"xpack.idxMgmt.indexActionsMenu.panelTitle",defaultMessage:"{entityUpper} options"},{entityUpper:entityUpper}),items:items};return(0,_flatten_panel_tree.flattenPanelTree)(panelTree)}},{key:"render",value:function render(){var intl=this.props.intl;var indexNamesLength=this.props.indexNames.length;var _props2=this.props,_props2$iconSide=_props2.iconSide,iconSide=void 0===_props2$iconSide?"right":_props2$iconSide,_props2$anchorPositio=_props2.anchorPosition,anchorPosition=void 0===_props2$anchorPositio?"rightUp":_props2$anchorPositio,_props2$label=_props2.label,label=void 0===_props2$label?intl.formatMessage({id:"xpack.idxMgmt.indexActionsMenu.manageButtonLabel",defaultMessage:"Manage {indexNamesLength, plural, one {index} other {indices}}"},{indexNamesLength:indexNamesLength}):_props2$label,_props2$iconType=_props2.iconType,iconType=void 0===_props2$iconType?"arrowDown":_props2$iconType;var panels=this.panels();var oneIndexSelected=this.oneIndexSelected();var entity=this.getEntity(oneIndexSelected);var button=_react2.default.createElement(_eui.EuiButton,{"data-test-subj":"indexActionsContextMenuButton",iconSide:iconSide,"aria-label":entity+" options",onClick:this.onButtonClick,iconType:iconType,fill:true},label);return _react2.default.createElement("div",null,this.confirmDeleteModal(),this.forcemergeSegmentsModal(),_react2.default.createElement(_eui.EuiPopover,{id:"contextMenu"+entity,button:button,isOpen:this.state.isPopoverOpen,closePopover:this.closePopover,panelPaddingSize:"none",withTitle:true,anchorPosition:anchorPosition,repositionOnScroll:true},_react2.default.createElement(_eui.EuiContextMenu,{initialPanelId:0,panels:panels})))}}]);return IndexActionsContextMenuUi}(_react.Component);exports.IndexActionsContextMenu=(0,_react3.injectI18n)(IndexActionsContextMenuUi)},6898:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.flattenPanelTree=function flattenPanelTree(tree){var array=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];array.push(tree);tree.items&&tree.items.forEach(function(item){if(item.panel){flattenPanelTree(item.panel,array);item.panel=item.panel.id}});return array}},6899:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.clearCacheIndices=exports.clearCacheIndicesStart=void 0;var _reduxActions=__webpack_require__(29);var _i18n=__webpack_require__(18);var _notify=__webpack_require__(11);var _services=__webpack_require__(131);var _actions=__webpack_require__(121);function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}var clearCacheIndicesStart=exports.clearCacheIndicesStart=(0,_reduxActions.createAction)("INDEX_MANAGEMENT_CLEAR_CACHE_INDICES_START");exports.clearCacheIndices=function clearCacheIndices(_ref){var indexNames=_ref.indexNames;return _ref2=_asyncToGenerator(regeneratorRuntime.mark(function _callee(dispatch){return regeneratorRuntime.wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:dispatch(clearCacheIndicesStart({indexNames:indexNames}));_context.prev=1;_context.next=4;return(0,_services.clearCacheIndices)(indexNames);case 4:_context.next=10;break;case 6:_context.prev=6;_context.t0=_context["catch"](1);_notify.toastNotifications.addDanger(_context.t0.data.message);return _context.abrupt("return",dispatch((0,_actions.clearRowStatus)({indexNames:indexNames})));case 10:dispatch((0,_actions.reloadIndices)(indexNames));_notify.toastNotifications.addSuccess(_i18n.i18n.translate("xpack.idxMgmt.clearCacheIndicesAction.successMessage",{defaultMessage:"Successfully cleared cache: [{indexNames}]",values:{indexNames:indexNames.join(", ")}}));case 12:case"end":return _context.stop()}},_callee,void 0,[[1,6]])})),function(_x){return _ref2.apply(this,arguments)};var _ref2}},6900:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.sortTable=void 0;var _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[];var _n=true;var _d=false;var _e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{!_n&&_i["return"]&&_i["return"]()}finally{if(_d)throw _e}}return _arr}return function(arr,i){if(Array.isArray(arr))return arr;if(Symbol.iterator in Object(arr))return sliceIterator(arr,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();var _lodash=__webpack_require__(1);var stringSort=function stringSort(fieldName){return function(item){return item[fieldName]}};var numericSort=function numericSort(fieldName){return function(item){return+item[fieldName]}};var unitMagnitude={kb:1,mb:2,gb:3,tb:4,pb:5};var byteSort=function byteSort(fieldName){return function(item){var rawValue=item[fieldName];if(!rawValue)return 0;var matchResult=rawValue.match(/(.*)([kmgtp]b)/);if(!matchResult)return 0;var _matchResult=_slicedToArray(matchResult,3),number=_matchResult[1],unit=_matchResult[2];return+number*Math.pow(1024,unitMagnitude[unit])}};var sorters={name:stringSort("name"),status:stringSort("status"),health:stringSort("health"),primary:numericSort("primary"),replica:numericSort("replica"),documents:numericSort("documents"),size:byteSort("size"),primary_size:byteSort("primary_size")};exports.sortTable=function sortTable(){var array=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];var sortField=arguments[1];var isSortAscending=arguments[2];var sorted=(0,_lodash.sortBy)(array,sorters[sortField]);return isSortAscending?sorted:sorted.reverse()}},6901:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.filterItems=function filterItems(fields){var filter=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";var items=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];var lowerFilter=filter.toLowerCase();return items.filter(function(item){var actualFields=fields||Object.keys(item);var indexOfMatch=actualFields.findIndex(function(field){var normalizedField=String(item[field]).toLowerCase();return normalizedField.includes(lowerFilter)});return-1!==indexOfMatch})}},6902:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.healthToColor=function healthToColor(health){switch(health){case"green":return"success";case"yellow":return"warning";case"red":return"danger"}}},6903:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.clearRowStatus=void 0;var _reduxActions=__webpack_require__(29);exports.clearRowStatus=(0,_reduxActions.createAction)("INDEX_MANAGEMENT_CLEAR_ROW_STATUS")},6904:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.closeIndices=exports.closeIndicesStart=void 0;var _reduxActions=__webpack_require__(29);var _i18n=__webpack_require__(18);var _services=__webpack_require__(131);var _notify=__webpack_require__(11);var _actions=__webpack_require__(121);function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}var closeIndicesStart=exports.closeIndicesStart=(0,_reduxActions.createAction)("INDEX_MANAGEMENT_CLOSE_INDICES_START");exports.closeIndices=function closeIndices(_ref){var indexNames=_ref.indexNames;return _ref2=_asyncToGenerator(regeneratorRuntime.mark(function _callee(dispatch){return regeneratorRuntime.wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:dispatch(closeIndicesStart({indexNames:indexNames}));_context.prev=1;_context.next=4;return(0,_services.closeIndices)(indexNames);case 4:_context.next=10;break;case 6:_context.prev=6;_context.t0=_context["catch"](1);_notify.toastNotifications.addDanger(_context.t0.data.message);return _context.abrupt("return",dispatch((0,_actions.clearRowStatus)({indexNames:indexNames})));case 10:dispatch((0,_actions.reloadIndices)(indexNames));_notify.toastNotifications.addSuccess(_i18n.i18n.translate("xpack.idxMgmt.closeIndicesAction.successfullyClosedIndicesMessage",{defaultMessage:"Successfully closed: [{indexNames}]",values:{indexNames:indexNames.join(", ")}}));case 12:case"end":return _context.stop()}},_callee,void 0,[[1,6]])})),function(_x){return _ref2.apply(this,arguments)};var _ref2}},6905:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.flushIndices=exports.flushIndicesStart=void 0;var _reduxActions=__webpack_require__(29);var _i18n=__webpack_require__(18);var _services=__webpack_require__(131);var _actions=__webpack_require__(121);var _notify=__webpack_require__(11);function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}var flushIndicesStart=exports.flushIndicesStart=(0,_reduxActions.createAction)("INDEX_MANAGEMENT_FLUSH_INDICES_START");exports.flushIndices=function flushIndices(_ref){var indexNames=_ref.indexNames;return _ref2=_asyncToGenerator(regeneratorRuntime.mark(function _callee(dispatch){return regeneratorRuntime.wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:dispatch(flushIndicesStart({indexNames:indexNames}));_context.prev=1;_context.next=4;return(0,_services.flushIndices)(indexNames);case 4:_context.next=10;break;case 6:_context.prev=6;_context.t0=_context["catch"](1);_notify.toastNotifications.addDanger(_context.t0.data.message);return _context.abrupt("return",dispatch((0,_actions.clearRowStatus)({indexNames:indexNames})));case 10:dispatch((0,_actions.reloadIndices)(indexNames));_notify.toastNotifications.addSuccess(_i18n.i18n.translate("xpack.idxMgmt.flushIndicesAction.successfullyFlushedIndicesMessage",{defaultMessage:"Successfully flushed: [{indexNames}]",values:{indexNames:indexNames.join(", ")}}));case 12:case"end":return _context.stop()}},_callee,void 0,[[1,6]])})),function(_x){return _ref2.apply(this,arguments)};var _ref2}},6906:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.forcemergeIndices=exports.forcemergeIndicesStart=void 0;var _reduxActions=__webpack_require__(29);var _i18n=__webpack_require__(18);var _services=__webpack_require__(131);var _actions=__webpack_require__(121);var _notify=__webpack_require__(11);function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}var forcemergeIndicesStart=exports.forcemergeIndicesStart=(0,_reduxActions.createAction)("INDEX_MANAGEMENT_FORCEMERGE_INDICES_START");exports.forcemergeIndices=function forcemergeIndices(_ref){var indexNames=_ref.indexNames,maxNumSegments=_ref.maxNumSegments;return _ref2=_asyncToGenerator(regeneratorRuntime.mark(function _callee(dispatch){return regeneratorRuntime.wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:dispatch(forcemergeIndicesStart({indexNames:indexNames}));_context.prev=1;_context.next=4;return(0,_services.forcemergeIndices)(indexNames,maxNumSegments);case 4:_context.next=10;break;case 6:_context.prev=6;_context.t0=_context["catch"](1);_notify.toastNotifications.addDanger(_context.t0.data.message);return _context.abrupt("return",dispatch((0,_actions.clearRowStatus)({indexNames:indexNames})));case 10:dispatch((0,_actions.reloadIndices)(indexNames));_notify.toastNotifications.addSuccess(_i18n.i18n.translate("xpack.idxMgmt.forceMergeIndicesAction.successfullyForceMergedIndicesMessage",{defaultMessage:"Successfully force merged: [{indexNames}]",values:{indexNames:indexNames.join(", ")}}));case 12:case"end":return _context.stop()}},_callee,void 0,[[1,6]])})),function(_x){return _ref2.apply(this,arguments)};var _ref2}},6907:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.loadIndices=exports.loadIndicesSuccess=void 0;var _reduxActions=__webpack_require__(29);var _services=__webpack_require__(131);var _notify=__webpack_require__(11);function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}var loadIndicesSuccess=exports.loadIndicesSuccess=(0,_reduxActions.createAction)("INDEX_MANAGEMENT_LOAD_INDICES_SUCCESS");exports.loadIndices=function loadIndices(){return _ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee(dispatch){var indices;return regeneratorRuntime.wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:indices=void 0;_context.prev=1;_context.next=4;return(0,_services.loadIndices)();case 4:indices=_context.sent;_context.next=10;break;case 7:_context.prev=7;_context.t0=_context["catch"](1);return _context.abrupt("return",_notify.toastNotifications.addDanger(_context.t0.data.message));case 10:dispatch(loadIndicesSuccess({indices:indices}));case 11:case"end":return _context.stop()}},_callee,void 0,[[1,7]])})),function(_x){return _ref.apply(this,arguments)};var _ref}},6908:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.openIndices=exports.openIndicesStart=void 0;var _reduxActions=__webpack_require__(29);var _i18n=__webpack_require__(18);var _services=__webpack_require__(131);var _actions=__webpack_require__(121);var _notify=__webpack_require__(11);function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}var openIndicesStart=exports.openIndicesStart=(0,_reduxActions.createAction)("INDEX_MANAGEMENT_OPEN_INDICES_START");exports.openIndices=function openIndices(_ref){var indexNames=_ref.indexNames;return _ref2=_asyncToGenerator(regeneratorRuntime.mark(function _callee(dispatch){return regeneratorRuntime.wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:dispatch(openIndicesStart({indexNames:indexNames}));_context.prev=1;_context.next=4;return(0,_services.openIndices)(indexNames);case 4:_context.next=10;break;case 6:_context.prev=6;_context.t0=_context["catch"](1);_notify.toastNotifications.addDanger(_context.t0.data.message);return _context.abrupt("return",dispatch((0,_actions.clearRowStatus)({indexNames:indexNames})));case 10:dispatch((0,_actions.reloadIndices)(indexNames));_notify.toastNotifications.addSuccess(_i18n.i18n.translate("xpack.idxMgmt.openIndicesAction.successfullyOpenedIndicesMessage",{defaultMessage:"Successfully opened: [{indexNames}]",values:{indexNames:indexNames.join(", ")}}));case 12:case"end":return _context.stop()}},_callee,void 0,[[1,6]])})),function(_x){return _ref2.apply(this,arguments)};var _ref2}},6909:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.refreshIndices=exports.refreshIndicesStart=void 0;var _reduxActions=__webpack_require__(29);var _i18n=__webpack_require__(18);var _services=__webpack_require__(131);var _actions=__webpack_require__(121);var _notify=__webpack_require__(11);function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}var refreshIndicesStart=exports.refreshIndicesStart=(0,_reduxActions.createAction)("INDEX_MANAGEMENT_REFRESH_INDICES_START");exports.refreshIndices=function refreshIndices(_ref){var indexNames=_ref.indexNames;return _ref2=_asyncToGenerator(regeneratorRuntime.mark(function _callee(dispatch){return regeneratorRuntime.wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:dispatch(refreshIndicesStart({indexNames:indexNames}));_context.prev=1;_context.next=4;return(0,_services.refreshIndices)(indexNames);case 4:_context.next=10;break;case 6:_context.prev=6;_context.t0=_context["catch"](1);_notify.toastNotifications.addDanger(_context.t0.data.message);return _context.abrupt("return",dispatch((0,_actions.clearRowStatus)({indexNames:indexNames})));case 10:dispatch((0,_actions.reloadIndices)(indexNames));_notify.toastNotifications.addSuccess(_i18n.i18n.translate("xpack.idxMgmt.refreshIndicesAction.successfullyRefreshedIndicesMessage",{defaultMessage:"Successfully refreshed: [{indexNames}]",values:{indexNames:indexNames.join(", ")}}));case 12:case"end":return _context.stop()}},_callee,void 0,[[1,6]])})),function(_x){return _ref2.apply(this,arguments)};var _ref2}},6910:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.indexStatusLabels=void 0;var _indexStatusLabels;var _i18n=__webpack_require__(18);var _constants=__webpack_require__(542);function _defineProperty(obj,key,value){key in obj?Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true}):obj[key]=value;return obj}exports.indexStatusLabels=(_indexStatusLabels={},_defineProperty(_indexStatusLabels,_constants.INDEX_CLEARING_CACHE,_i18n.i18n.translate("xpack.idxMgmt.indexStatusLabels.clearingCacheStatusLabel",{defaultMessage:"clearing cache..."})),_defineProperty(_indexStatusLabels,_constants.INDEX_CLOSED,_i18n.i18n.translate("xpack.idxMgmt.indexStatusLabels.closedStatusLabel",{defaultMessage:"closed"})),_defineProperty(_indexStatusLabels,_constants.INDEX_CLOSING,_i18n.i18n.translate("xpack.idxMgmt.indexStatusLabels.closingStatusLabel",{defaultMessage:"closing..."})),_defineProperty(_indexStatusLabels,_constants.INDEX_MERGING,_i18n.i18n.translate("xpack.idxMgmt.indexStatusLabels.mergingStatusLabel",{defaultMessage:"merging..."})),_defineProperty(_indexStatusLabels,_constants.INDEX_OPENING,_i18n.i18n.translate("xpack.idxMgmt.indexStatusLabels.openingStatusLabel",{defaultMessage:"opening..."})),_defineProperty(_indexStatusLabels,_constants.INDEX_REFRESHING,_i18n.i18n.translate("xpack.idxMgmt.indexStatusLabels.refreshingStatusLabel",{defaultMessage:"refreshing..."})),_defineProperty(_indexStatusLabels,_constants.INDEX_FLUSHING,_i18n.i18n.translate("xpack.idxMgmt.indexStatusLabels.flushingStatusLabel",{defaultMessage:"flushing..."})),_defineProperty(_indexStatusLabels,_constants.INDEX_FORCEMERGING,_i18n.i18n.translate("xpack.idxMgmt.indexStatusLabels.forcingMergeStatusLabel",{defaultMessage:"forcing merge..."})),_indexStatusLabels)},6911:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.showSystemIndicesChanged=exports.sortChanged=exports.pageSizeChanged=exports.pageChanged=exports.filterChanged=exports.filtersApplied=exports.applyFilters=void 0;var _reduxActions=__webpack_require__(29);exports.applyFilters=(0,_reduxActions.createAction)("INDEX_MANAGEMENT_APPLY_FILTERS");exports.filtersApplied=(0,_reduxActions.createAction)("INDEX_MANAGEMENT_FILTERS_APPLIED");exports.filterChanged=(0,_reduxActions.createAction)("INDEX_MANAGEMENT_FILTER_CHANGED");exports.pageChanged=(0,_reduxActions.createAction)("INDEX_MANAGEMENT_PAGE_CHANGED");exports.pageSizeChanged=(0,_reduxActions.createAction)("INDEX_MANAGEMENT_PAGE_SIZE_CHANGED");exports.sortChanged=(0,_reduxActions.createAction)("INDEX_MANAGEMENT_SORT_CHANGED");exports.showSystemIndicesChanged=(0,_reduxActions.createAction)("INDEX_MANAGEMENT_SHOW_SYSTEM_INDICES_CHANGED")},6912:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.editIndexSettings=void 0;var _i18n=__webpack_require__(18);var _services=__webpack_require__(131);var _load_index_data=__webpack_require__(1259);var _notify=__webpack_require__(11);function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}exports.editIndexSettings=function editIndexSettings(_ref){var indexName=_ref.indexName;return _ref2=_asyncToGenerator(regeneratorRuntime.mark(function _callee(dispatch){var indexSettings;return regeneratorRuntime.wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:indexSettings=void 0;_context.prev=1;_context.next=4;return(0,_services.loadIndexSettings)(indexName);case 4:indexSettings=_context.sent;_context.next=10;break;case 7:_context.prev=7;_context.t0=_context["catch"](1);return _context.abrupt("return",_notify.toastNotifications.addDanger(_context.t0.data.message));case 10:_notify.toastNotifications.addSuccess(_i18n.i18n.translate("xpack.idxMgmt.editIndexSettingsAction.successfullySavedSettingsForIndicesMessage",{defaultMessage:"Successfully saved settings for {indexName}",values:{indexName:indexName}}));dispatch((0,_load_index_data.loadIndexDataSuccess)({data:indexSettings,panelType:"editIndexSettings",indexName:indexName}));case 12:case"end":return _context.stop()}},_callee,void 0,[[1,7]])})),function(_x){return _ref2.apply(this,arguments)};var _ref2}},6913:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _detail_panel=__webpack_require__(6914);Object.defineProperty(exports,"DetailPanel",{enumerable:true,get:function get(){return _detail_panel.DetailPanel}})},6914:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.DetailPanel=void 0;var _reactRedux=__webpack_require__(19);var _detail_panel=__webpack_require__(6915);var _selectors=__webpack_require__(450);var _actions=__webpack_require__(121);var mapStateToProps=function mapStateToProps(state){var indexName=(0,_selectors.getDetailPanelIndexName)(state);return{panelType:(0,_selectors.getDetailPanelType)(state),indexName:indexName,indexStatus:(0,_selectors.getIndexStatusByIndexName)(state,indexName)}};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{clearCacheIndex:function clearCacheIndex(indexName){dispatch((0,_actions.clearCacheIndices)({indexNames:[indexName]}))},closeIndex:function closeIndex(indexName){dispatch((0,_actions.closeIndices)({indexNames:[indexName]}))},flushIndex:function flushIndex(indexName){dispatch((0,_actions.flushIndices)({indexNames:[indexName]}))},openIndex:function openIndex(indexName){dispatch((0,_actions.openIndices)({indexNames:[indexName]}))},refreshIndex:function refreshIndex(indexName){dispatch((0,_actions.refreshIndices)({indexNames:[indexName]}))},forcemergeIndex:function forcemergeIndex(indexName){dispatch((0,_actions.forcemergeIndices)({indexNames:[indexName]}))},deleteIndex:function deleteIndex(indexName){dispatch((0,_actions.deleteIndices)({indexNames:[indexName]}))},closeDetailPanel:function closeDetailPanel(){return dispatch((0,_actions.closeDetailPanel)())},openDetailPanel:function openDetailPanel(indexName,panelType){return dispatch((0,_actions.openDetailPanel)(indexName,panelType))}}};exports.DetailPanel=(0,_reactRedux.connect)(mapStateToProps,mapDispatchToProps)(_detail_panel.DetailPanel)},6915:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.DetailPanel=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _react3=__webpack_require__(10);var _reactRouterDom=__webpack_require__(49);var _show_json=__webpack_require__(6916);var _summary=__webpack_require__(6919);var _edit_settings_json=__webpack_require__(6922);var _eui=__webpack_require__(2);var _components=__webpack_require__(1258);var _constants=__webpack_require__(542);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function capitalizeFirstLetter(string){return string.charAt(0).toUpperCase()+string.slice(1)}var tabs=["Summary","Settings","Mapping","Stats","Edit settings"];exports.DetailPanel=function(_Component){_inherits(DetailPanel,_Component);function DetailPanel(){_classCallCheck(this,DetailPanel);return _possibleConstructorReturn(this,(DetailPanel.__proto__||Object.getPrototypeOf(DetailPanel)).apply(this,arguments))}_createClass(DetailPanel,[{key:"renderTabs",value:function renderTabs(){var _props=this.props,panelType=_props.panelType,indexName=_props.indexName,indexStatus=_props.indexStatus,openDetailPanel=_props.openDetailPanel;return tabs.map(function(tab,index){var isSelected=tab===panelType;return _react2.default.createElement(_eui.EuiTab,{onClick:function onClick(){return openDetailPanel({panelType:tab,indexName:indexName})},isSelected:isSelected,"data-test-subj":"detailPanelTab"+(isSelected?"Selected":""),disabled:"stats"===tab&&indexStatus!==_constants.INDEX_OPEN,key:index},capitalizeFirstLetter(tab))})}},{key:"render",value:function render(){var _props2=this.props,panelType=_props2.panelType,indexName=_props2.indexName,closeDetailPanel=_props2.closeDetailPanel;if(!panelType)return null;var component=null;switch(panelType){case"Edit settings":component=_react2.default.createElement(_edit_settings_json.EditSettingsJson,null);break;case"Mapping":case"Settings":case"Stats":component=_react2.default.createElement(_show_json.ShowJson,null);break;default:component=_react2.default.createElement(_summary.Summary,null)}return _react2.default.createElement(_eui.EuiFlyout,{"data-test-subj":"indexDetailFlyout",onClose:closeDetailPanel,"aria-labelledby":"indexDetailsFlyoutTitle"},_react2.default.createElement(_eui.EuiFlyoutHeader,null,_react2.default.createElement(_eui.EuiTitle,{size:"l",id:"indexDetailsFlyoutTitle"},_react2.default.createElement("h2",null,indexName)),_react2.default.createElement(_eui.EuiTabs,null,this.renderTabs())),_react2.default.createElement(_eui.EuiFlyoutBody,null,component),_react2.default.createElement(_eui.EuiFlyoutFooter,null,_react2.default.createElement(_eui.EuiFlexGroup,{justifyContent:"flexEnd"},_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_reactRouterDom.Route,{key:"menu",render:function render(){return _react2.default.createElement(_components.IndexActionsContextMenu,{iconSide:"left",indexNames:[indexName],anchorPosition:"upRight",detailPanel:true,iconType:"arrowUp",label:_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.idxMgmt.detailPanel.manageContextMenuLabel",defaultMessage:"Manage"})})}})))))}}]);return DetailPanel}(_react.Component)},6916:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _show_json=__webpack_require__(6917);Object.defineProperty(exports,"ShowJson",{enumerable:true,get:function get(){return _show_json.ShowJson}})},6917:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ShowJson=void 0;var _reactRedux=__webpack_require__(19);var _show_json=__webpack_require__(6918);var _actions=__webpack_require__(121);var _selectors=__webpack_require__(450);var mapStateToProps=function mapStateToProps(state){var indexName=(0,_selectors.getDetailPanelIndexName)(state);return{error:(0,_selectors.getDetailPanelError)(state),data:(0,_selectors.getDetailPanelData)(state),dataType:(0,_selectors.getDetailPanelType)(state),indexName:indexName,indexStatus:(0,_selectors.getIndexStatusByIndexName)(state,indexName)}};var mapDispatchToProps={loadIndexData:_actions.loadIndexData,closeDetailPanel:_actions.closeDetailPanel};exports.ShowJson=(0,_reactRedux.connect)(mapStateToProps,mapDispatchToProps)(_show_json.ShowJson)},6918:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ShowJson=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _eui=__webpack_require__(2);__webpack_require__(1618);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}exports.ShowJson=function(_React$PureComponent){_inherits(ShowJson,_React$PureComponent);function ShowJson(){_classCallCheck(this,ShowJson);return _possibleConstructorReturn(this,(ShowJson.__proto__||Object.getPrototypeOf(ShowJson)).apply(this,arguments))}_createClass(ShowJson,[{key:"componentWillMount",value:function componentWillMount(){this.props.loadIndexData(this.props)}},{key:"componentWillUpdate",value:function componentWillUpdate(newProps){var data=newProps.data,loadIndexData=newProps.loadIndexData;data||loadIndexData(newProps)}},{key:"render",value:function render(){var data=this.props.data;if(!data)return null;var json=JSON.stringify(data,null,2);return _react2.default.createElement(_eui.EuiCodeEditor,{mode:"json",theme:"textmate",isReadOnly:true,setOptions:{maxLines:Infinity},value:json,editorProps:{$blockScrolling:Infinity}})}}]);return ShowJson}(_react2.default.PureComponent)},6919:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _summary=__webpack_require__(6920);Object.defineProperty(exports,"Summary",{enumerable:true,get:function get(){return _summary.Summary}})},6920:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Summary=void 0;var _reactRedux=__webpack_require__(19);var _summary=__webpack_require__(6921);var _selectors=__webpack_require__(450);var mapStateToProps=function mapStateToProps(state){var indexName=(0,_selectors.getDetailPanelIndexName)(state);return{indexName:indexName,index:(0,_selectors.getIndexByIndexName)(state,indexName)}};exports.Summary=(0,_reactRedux.connect)(mapStateToProps)(_summary.Summary)},6921:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Summary=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _i18n=__webpack_require__(18);var _services=__webpack_require__(131);var _eui=__webpack_require__(2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var HEADERS={health:_i18n.i18n.translate("xpack.idxMgmt.summary.headers.healthHeader",{defaultMessage:"Health"}),status:_i18n.i18n.translate("xpack.idxMgmt.summary.headers.statusHeader",{defaultMessage:"Status"}),primary:_i18n.i18n.translate("xpack.idxMgmt.summary.headers.primaryHeader",{defaultMessage:"Primaries"}),replica:_i18n.i18n.translate("xpack.idxMgmt.summary.headers.replicaHeader",{defaultMessage:"Replicas"}),documents:_i18n.i18n.translate("xpack.idxMgmt.summary.headers.documentsHeader",{defaultMessage:"Docs Count"}),documents_deleted:_i18n.i18n.translate("xpack.idxMgmt.summary.headers.deletedDocumentsHeader",{defaultMessage:"Docs Deleted"}),size:_i18n.i18n.translate("xpack.idxMgmt.summary.headers.storageSizeHeader",{defaultMessage:"Storage Size"}),primary_size:_i18n.i18n.translate("xpack.idxMgmt.summary.headers.primaryStorageSizeHeader",{defaultMessage:"Primary Storage Size"})};exports.Summary=function(_React$PureComponent){_inherits(Summary,_React$PureComponent);function Summary(){_classCallCheck(this,Summary);return _possibleConstructorReturn(this,(Summary.__proto__||Object.getPrototypeOf(Summary)).apply(this,arguments))}_createClass(Summary,[{key:"buildRows",value:function buildRows(){var index=this.props.index;return Object.keys(HEADERS).map(function(fieldName){var value=index[fieldName];var content="health"===fieldName?_react2.default.createElement(_eui.EuiHealth,{color:(0,_services.healthToColor)(value)},value):value;return[_react2.default.createElement(_eui.EuiDescriptionListTitle,{key:fieldName},_react2.default.createElement("strong",null,HEADERS[fieldName],":")),_react2.default.createElement(_eui.EuiDescriptionListDescription,{key:fieldName+"_desc"},content)]})}},{key:"render",value:function render(){return _react2.default.createElement(_eui.EuiDescriptionList,{type:"column",align:"center"},this.buildRows())}}]);return Summary}(_react2.default.PureComponent)},6922:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _edit_settings_json=__webpack_require__(6923);Object.defineProperty(exports,"EditSettingsJson",{enumerable:true,get:function get(){return _edit_settings_json.EditSettingsJson}})},6923:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.EditSettingsJson=void 0;var _reactRedux=__webpack_require__(19);var _edit_settings_json=__webpack_require__(6924);var _actions=__webpack_require__(121);var _selectors=__webpack_require__(450);var mapStateToProps=function mapStateToProps(state){var indexName=(0,_selectors.getDetailPanelIndexName)(state);return{error:(0,_selectors.getDetailPanelError)(state),data:(0,_selectors.getDetailPanelData)(state),indexName:indexName,indexStatus:(0,_selectors.getIndexStatusByIndexName)(state,indexName)}};var mapDispatchToProps={loadIndexData:_actions.loadIndexData,closeDetailPanel:_actions.closeDetailPanel,updateIndexSettings:_actions.updateIndexSettings};exports.EditSettingsJson=(0,_reactRedux.connect)(mapStateToProps,mapDispatchToProps)(_edit_settings_json.EditSettingsJson)},6924:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.EditSettingsJson=void 0;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _react3=__webpack_require__(10);var _documentation_links=__webpack_require__(6925);var _eui=__webpack_require__(2);var _editSettings=__webpack_require__(6926);var _ace=__webpack_require__(6927);var _lodash=__webpack_require__(1);var _lodash2=_interopRequireDefault(_lodash);var _flatten_object=__webpack_require__(6928);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}exports.EditSettingsJson=function(_React$PureComponent){_inherits(EditSettingsJson,_React$PureComponent);function EditSettingsJson(){_classCallCheck(this,EditSettingsJson);var _this=_possibleConstructorReturn(this,(EditSettingsJson.__proto__||Object.getPrototypeOf(EditSettingsJson)).call(this));_this.commitSettings=function(){var _this$props=_this.props,updateIndexSettings=_this$props.updateIndexSettings,indexName=_this$props.indexName;var json=_this.editor.getValue();var settings=JSON.parse(json);Object.keys(_this.originalSettings).forEach(function(key){_lodash2.default.isEqual(_this.originalSettings[key],settings[key])&&delete settings[key]});updateIndexSettings({indexName:indexName,settings:settings})};_this.state={valid:true};return _this}_createClass(EditSettingsJson,[{key:"transformSettingsForApi",value:function transformSettingsForApi(data,isOpen){var defaults=data.defaults,settings=data.settings;var flattenedSettings=(0,_flatten_object.flattenObject)(settings);var flattenedDefaults=(0,_flatten_object.flattenObject)(defaults);var filteredDefaults=_lodash2.default.pick(flattenedDefaults,_editSettings.settingsToDisplay);var newSettings=_extends({},filteredDefaults,flattenedSettings);this.settingsKeys=Object.keys(newSettings);_editSettings.readOnlySettings.forEach(function(e){return delete newSettings[e]});isOpen&&delete newSettings["index.codec"];return newSettings}},{key:"componentWillMount",value:function componentWillMount(){var indexName=this.props.indexName;this.props.loadIndexData({dataType:"Settings",indexName:indexName})}},{key:"componentDidUpdate",value:function componentDidUpdate(){var _this2=this;var _props=this.props,data=_props.data,indexStatus=_props.indexStatus;if(data&&!this.editor){var isOpen="open"===indexStatus;var newSettings=this.transformSettingsForApi(data,isOpen);this.originalSettings=newSettings;var prettyJson=JSON.stringify(newSettings,null,2);var settingsKeys=Object.keys(newSettings);var editor=this.editor=(0,_ace.createAceEditor)(this.aceDiv,prettyJson,false,settingsKeys);var session=editor.getSession();session.on("changeAnnotation",function(){_this2.setState({valid:0===session.getAnnotations().length})})}}},{key:"componentWillUnmount",value:function componentWillUnmount(){this.editor&&this.editor.destroy()}},{key:"errorMessage",value:function errorMessage(){var error=this.props.error;if(!error)return null;return _react2.default.createElement("div",null,_react2.default.createElement(_eui.EuiSpacer,null),_react2.default.createElement(_eui.EuiIcon,{color:"danger",type:"alert"}),_react2.default.createElement(_eui.EuiTextColor,{color:"danger"},error),_react2.default.createElement(_eui.EuiSpacer,null))}},{key:"render",value:function render(){var _this3=this;var data=this.props.data;if(!data)return null;return _react2.default.createElement("div",null,_react2.default.createElement(_eui.EuiFlexGroup,{justifyContent:"spaceBetween",alignItems:"center"},_react2.default.createElement(_eui.EuiFlexItem,null,_react2.default.createElement(_eui.EuiTitle,null,_react2.default.createElement("p",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.idxMgmt.editSettingsJSON.saveJSONDescription",defaultMessage:"Edit, then save your JSON"})))),_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiButton,{size:"s",fill:true,"data-test-subj":"updateEditIndexSettingsButton",onClick:this.commitSettings,disabled:!this.state.valid},_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.idxMgmt.editSettingsJSON.saveJSONButtonLabel",defaultMessage:"Save"})))),_react2.default.createElement(_eui.EuiSpacer,null),_react2.default.createElement(_eui.EuiLink,{href:_documentation_links.settingsDocumentationLink,target:"_blank",rel:"noopener noreferrer"},_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.idxMgmt.editSettingsJSON.settingsReferenceLinkText",defaultMessage:"Settings reference"})),_react2.default.createElement(_eui.EuiSpacer,null),_react2.default.createElement("div",{"data-test-subj":"indexJsonEditor",ref:function ref(aceDiv){_this3.aceDiv=aceDiv}}),this.errorMessage(),_react2.default.createElement(_eui.EuiSpacer,null))}}]);return EditSettingsJson}(_react2.default.PureComponent)},6925:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.settingsDocumentationLink=void 0;var _documentation_links=__webpack_require__(242);var esBase=_documentation_links.ELASTIC_WEBSITE_URL+"guide/en/elasticsearch/reference/"+_documentation_links.DOC_LINK_VERSION;exports.settingsDocumentationLink=esBase+"/index-modules.html#index-modules-settings"},6926:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.readOnlySettings=["index.creation_date","index.number_of_shards","index.provided_name","index.uuid","index.version.created","index.compound_format","index.data_path","index.format","index.number_of_routing_shards","index.sort.field","index.sort.missing","index.sort.mode","index.sort.order","index.routing_partition_size","index.store.type"];exports.settingsToDisplay=["index.number_of_replicas","index.blocks.read_only_allow_delete","index.codec","index.priority","index.query.default_field","index.refresh_interval","index.write.wait_for_active_shards"]},6927:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.createAceEditor=void 0;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};var _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[];var _n=true;var _d=false;var _e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{!_n&&_i["return"]&&_i["return"]()}finally{if(_d)throw _e}}return _arr}return function(arr,i){if(Array.isArray(arr))return arr;if(Symbol.iterator in Object(arr))return sliceIterator(arr,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();var _ace=__webpack_require__(230);var _ace2=_interopRequireDefault(_ace);__webpack_require__(2205);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var splitTokens=function splitTokens(line){return line.split(/\s+/)};var wordCompleter=function wordCompleter(words){return{identifierRegexps:[/[a-zA-Z_0-9\.\$\-\u00A2-\uFFFF]/],getCompletions:function getCompletions(editor,session,pos,prefix,callback){var document=session.getDocument();var currentLine=document.getLine(pos.row);var previousLine=document.getLine(pos.row-1);var currentTokens=splitTokens(currentLine.slice(0,pos.column));var fullLineTokens=splitTokens(currentLine);var isInArray=previousLine&&"["===splitTokens(previousLine).slice(-1)[0];var _currentTokens=_slicedToArray(currentTokens,2),_currentTokens$=_currentTokens[1],secondToken=void 0===_currentTokens$?null:_currentTokens$;var _fullLineTokens=_slicedToArray(fullLineTokens,2),_fullLineTokens$=_fullLineTokens[1],secondFullToken=void 0===_fullLineTokens$?null:_fullLineTokens$;if(isInArray||currentTokens.length>2)return callback(null,[]);var startQuote='"'===secondToken?"":'"';var endQuote='""'===secondFullToken?"":'"';callback(null,words.map(function(word){return{caption:" "+word,value:""+startQuote+word+endQuote}}))}}};exports.createAceEditor=function createAceEditor(div,value){var readOnly=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];var autocompleteArray=arguments[3];var editor=_ace2.default.edit(div);editor.$blockScrolling=Infinity;editor.setValue(value,-1);var session=editor.getSession();session.setUseWrapMode(true);session.setMode("ace/mode/json");if(autocompleteArray){var languageTools=_ace2.default.acequire("ace/ext/language_tools");var autocompleter=wordCompleter(autocompleteArray);languageTools.setCompleters([autocompleter])}var options={readOnly:readOnly,highlightActiveLine:false,highlightGutterLine:false,minLines:20,maxLines:30};var autocompleteOptions=readOnly?{}:{enableBasicAutocompletion:true,enableLiveAutocompletion:true};editor.setOptions(_extends({},options,autocompleteOptions));editor.setBehavioursEnabled(!readOnly);return editor}},6928:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.flattenObject=void 0;var _lodash=__webpack_require__(1);var _lodash2=_interopRequireDefault(_lodash);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}exports.flattenObject=function flattenObject(nestedObj,flattenArrays){var stack=[];var flatObj={};var dot=".";(function flattenObj(obj){_lodash2.default.keys(obj).forEach(function(key){stack.push(key);!flattenArrays&&Array.isArray(obj[key])?flatObj[stack.join(dot)]=obj[key]:_lodash2.default.isObject(obj[key])?flattenObj(obj[key]):flatObj[stack.join(dot)]=obj[key];stack.pop()})})(nestedObj);return flatObj}},6929:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _index_table=__webpack_require__(6930);Object.defineProperty(exports,"IndexTable",{enumerable:true,get:function get(){return _index_table.IndexTable}})},6930:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.IndexTable=void 0;var _reactRedux=__webpack_require__(19);var _selectors=__webpack_require__(450);var _actions=__webpack_require__(121);var _index_table=__webpack_require__(6931);var mapStateToProps=function mapStateToProps(state){return{isDetailPanelOpen:(0,_selectors.isDetailPanelOpen)(state),detailPanelIndexName:(0,_selectors.getDetailPanelIndexName)(state),indices:(0,_selectors.getPageOfIndices)(state),pager:(0,_selectors.getPager)(state),filter:(0,_selectors.getFilter)(state),showSystemIndices:(0,_selectors.showSystemIndices)(state),sortField:(0,_selectors.getSortField)(state),isSortAscending:(0,_selectors.isSortAscending)(state)}};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{filterChanged:function filterChanged(filter){dispatch((0,_actions.filterChanged)({filter:filter}))},pageChanged:function pageChanged(pageNumber){dispatch((0,_actions.pageChanged)({pageNumber:pageNumber}))},pageSizeChanged:function pageSizeChanged(pageSize){dispatch((0,_actions.pageSizeChanged)({pageSize:pageSize}))},sortChanged:function sortChanged(sortField,isSortAscending){dispatch((0,_actions.sortChanged)({sortField:sortField,isSortAscending:isSortAscending}))},showSystemIndicesChanged:function showSystemIndicesChanged(showSystemIndices){dispatch((0,_actions.showSystemIndicesChanged)({showSystemIndices:showSystemIndices}))},openDetailPanel:function openDetailPanel(indexName){dispatch((0,_actions.openDetailPanel)({indexName:indexName}))},closeDetailPanel:function closeDetailPanel(){dispatch((0,_actions.closeDetailPanel)())}}};exports.IndexTable=(0,_reactRedux.connect)(mapStateToProps,mapDispatchToProps)(_index_table.IndexTable)},6931:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.IndexTable=exports.IndexTableUi=void 0;var _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[];var _n=true;var _d=false;var _e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{!_n&&_i["return"]&&_i["return"]()}finally{if(_d)throw _e}}return _arr}return function(arr,i){if(Array.isArray(arr))return arr;if(Symbol.iterator in Object(arr))return sliceIterator(arr,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _i18n=__webpack_require__(18);var _react3=__webpack_require__(10);var _reactRouterDom=__webpack_require__(49);var _no_match=__webpack_require__(6932);var _services=__webpack_require__(131);__webpack_require__(6935);var _eui=__webpack_require__(2);var _components=__webpack_require__(1258);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var HEADERS={name:_i18n.i18n.translate("xpack.idxMgmt.indexTable.headers.nameHeader",{defaultMessage:"Name"}),health:_i18n.i18n.translate("xpack.idxMgmt.indexTable.headers.healthHeader",{defaultMessage:"Health"}),status:_i18n.i18n.translate("xpack.idxMgmt.indexTable.headers.statusHeader",{defaultMessage:"Status"}),primary:_i18n.i18n.translate("xpack.idxMgmt.indexTable.headers.primaryHeader",{defaultMessage:"Primaries"}),replica:_i18n.i18n.translate("xpack.idxMgmt.indexTable.headers.replicaHeader",{defaultMessage:"Replicas"}),documents:_i18n.i18n.translate("xpack.idxMgmt.indexTable.headers.documentsHeader",{defaultMessage:"Docs count"}),size:_i18n.i18n.translate("xpack.idxMgmt.indexTable.headers.storageSizeHeader",{defaultMessage:"Storage size"}),primary_size:_i18n.i18n.translate("xpack.idxMgmt.indexTable.headers.primaryStorageSizeHeader",{defaultMessage:"Primary storage size"})};var IndexTableUi=exports.IndexTableUi=function(_Component){_inherits(IndexTableUi,_Component);_createClass(IndexTableUi,null,[{key:"getDerivedStateFromProps",value:function getDerivedStateFromProps(props,state){var selectedIndicesMap=state.selectedIndicesMap;var indexNames=props.indices.map(function(index){return index.name});var selectedIndexNames=Object.keys(selectedIndicesMap);var missingIndexNames=selectedIndexNames.filter(function(selectedIndexName){return!indexNames.includes(selectedIndexName)});if(missingIndexNames.length){var newMap=_extends({},selectedIndicesMap);missingIndexNames.forEach(function(missingIndexName){return delete newMap[missingIndexName]});return{selectedIndicesMap:newMap}}return null}}]);function IndexTableUi(props){_classCallCheck(this,IndexTableUi);var _this=_possibleConstructorReturn(this,(IndexTableUi.__proto__||Object.getPrototypeOf(IndexTableUi)).call(this,props));_this.onSort=function(column){var _this$props=_this.props,sortField=_this$props.sortField,isSortAscending=_this$props.isSortAscending,sortChanged=_this$props.sortChanged;var newIsSortAscending=sortField!==column||!isSortAscending;sortChanged(column,newIsSortAscending)};_this.toggleAll=function(){var allSelected=_this.areAllItemsSelected();if(allSelected)return _this.setState({selectedIndicesMap:{}});var indices=_this.props.indices;var selectedIndicesMap={};indices.forEach(function(_ref){var name=_ref.name;selectedIndicesMap[name]=true});_this.setState({selectedIndicesMap:selectedIndicesMap})};_this.toggleItem=function(name){_this.setState(function(_ref2){var selectedIndicesMap=_ref2.selectedIndicesMap;var newMap=_extends({},selectedIndicesMap);newMap[name]?delete newMap[name]:newMap[name]=true;return{selectedIndicesMap:newMap}})};_this.isItemSelected=function(name){return!!_this.state.selectedIndicesMap[name]};_this.areAllItemsSelected=function(){var indices=_this.props.indices;var indexOfUnselectedItem=indices.findIndex(function(index){return!_this.isItemSelected(index.name)});return-1===indexOfUnselectedItem};_this.onItemSelectionChanged=function(selectedIndices){_this.setState({selectedIndices:selectedIndices})};_this.state={selectedIndicesMap:{}};return _this}_createClass(IndexTableUi,[{key:"buildHeader",value:function buildHeader(){var _this2=this;var _props=this.props,sortField=_props.sortField,isSortAscending=_props.isSortAscending;return Object.entries(HEADERS).map(function(_ref3){var _ref4=_slicedToArray(_ref3,2),fieldName=_ref4[0],label=_ref4[1];var isSorted=sortField===fieldName;return _react2.default.createElement(_eui.EuiTableHeaderCell,{key:fieldName,onSort:function onSort(){return _this2.onSort(fieldName)},isSorted:isSorted,isSortAscending:isSortAscending,"data-test-subj":"indexTableHeaderCell-"+fieldName,className:"indexTable__header--"+fieldName},label)})}},{key:"buildRowCell",value:function buildRowCell(fieldName,value){var openDetailPanel=this.props.openDetailPanel;if("health"===fieldName)return _react2.default.createElement(_eui.EuiHealth,{color:(0,_services.healthToColor)(value)},value);if("name"===fieldName)return _react2.default.createElement(_eui.EuiLink,{className:"indTable__link","data-test-subj":"indexTableIndexNameLink",onClick:function onClick(){openDetailPanel(value)}},value);return value}},{key:"buildRowCells",value:function buildRowCells(index){var _this3=this;return Object.keys(HEADERS).map(function(fieldName){var name=index.name;var value=index[fieldName];return _react2.default.createElement(_eui.EuiTableRowCell,{key:fieldName+"-"+name,truncateText:false,"data-test-subj":"indexTableCell-"+fieldName},_this3.buildRowCell(fieldName,value))})}},{key:"buildRows",value:function buildRows(){var _this4=this;var _props2=this.props,_props2$indices=_props2.indices,indices=void 0===_props2$indices?[]:_props2$indices,detailPanelIndexName=_props2.detailPanelIndexName;return indices.map(function(index){var name=index.name;return _react2.default.createElement(_eui.EuiTableRow,{isSelected:_this4.isItemSelected(name)||name===detailPanelIndexName,key:name+"-row"},_react2.default.createElement(_eui.EuiTableRowCellCheckbox,{key:"checkbox-"+name},_react2.default.createElement(_eui.EuiCheckbox,{type:"inList",id:"checkboxSelectIndex-"+name,checked:_this4.isItemSelected(name),onChange:function onChange(){_this4.toggleItem(name)},"data-test-subj":"indexTableRowCheckbox"})),_this4.buildRowCells(index))})}},{key:"renderPager",value:function renderPager(){var _props3=this.props,pager=_props3.pager,pageChanged=_props3.pageChanged,pageSizeChanged=_props3.pageSizeChanged;return _react2.default.createElement(_eui.EuiTablePagination,{activePage:pager.getCurrentPageIndex(),itemsPerPage:pager.itemsPerPage,itemsPerPageOptions:[10,50,100],pageCount:pager.getTotalPages(),onChangeItemsPerPage:pageSizeChanged,onChangePage:pageChanged})}},{key:"render",value:function render(){var _this5=this;var _props4=this.props,filterChanged=_props4.filterChanged,filter=_props4.filter,showSystemIndices=_props4.showSystemIndices,showSystemIndicesChanged=_props4.showSystemIndicesChanged,indices=_props4.indices,intl=_props4.intl;var selectedIndicesMap=this.state.selectedIndicesMap;var atLeastOneItemSelected=Object.keys(selectedIndicesMap).length>0;return _react2.default.createElement(_eui.EuiPage,null,_react2.default.createElement(_eui.EuiPageBody,null,_react2.default.createElement(_eui.EuiPageContent,null,_react2.default.createElement(_eui.EuiFlexGroup,{justifyContent:"spaceBetween",alignItems:"flexEnd"},_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiTitle,{size:"l"},_react2.default.createElement("h1",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.idxMgmt.indexTable.sectionHeading",defaultMessage:"Index management"}))),_react2.default.createElement(_eui.EuiSpacer,{size:"s"}),_react2.default.createElement(_eui.EuiText,null,_react2.default.createElement("p",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.idxMgmt.indexTable.sectionDescription",defaultMessage:"Update your Elasticsearch indices individually or in bulk"})))),_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiSwitch,{id:"checkboxShowSystemIndices",checked:showSystemIndices,onChange:function onChange(event){return showSystemIndicesChanged(event.target.checked)},label:_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.idxMgmt.indexTable.systemIndicesSwitchLabel",defaultMessage:"Include system indices"})}))),_react2.default.createElement(_eui.EuiSpacer,null),_react2.default.createElement(_eui.EuiFlexGroup,{gutterSize:"l",alignItems:"center"},atLeastOneItemSelected?_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_reactRouterDom.Route,{key:"menu",render:function render(){return _react2.default.createElement(_components.IndexActionsContextMenu,{indexNames:Object.keys(selectedIndicesMap),resetSelection:function resetSelection(){_this5.setState({selectedIndicesMap:{}})}})}})):null,_react2.default.createElement(_eui.EuiFlexItem,null,_react2.default.createElement(_eui.EuiFieldSearch,{fullWidth:true,value:filter,onChange:function onChange(event){filterChanged(event.target.value)},"data-test-subj":"indexTableFilterInput",placeholder:intl.formatMessage({id:"xpack.idxMgmt.indexTable.systemIndicesSearchInputPlaceholder",defaultMessage:"Search"}),"aria-label":intl.formatMessage({id:"xpack.idxMgmt.indexTable.systemIndicesSearchIndicesAriaLabel",defaultMessage:"Search indices"})}))),_react2.default.createElement(_eui.EuiSpacer,{size:"m"}),indices.length>0?_react2.default.createElement(_eui.EuiTable,null,_react2.default.createElement(_eui.EuiTableHeader,null,_react2.default.createElement(_eui.EuiTableHeaderCellCheckbox,null,_react2.default.createElement(_eui.EuiCheckbox,{id:"selectAllIndexes",checked:this.areAllItemsSelected(),onChange:this.toggleAll,type:"inList"})),this.buildHeader()),_react2.default.createElement(_eui.EuiTableBody,null,this.buildRows())):_react2.default.createElement(_no_match.NoMatch,null),_react2.default.createElement(_eui.EuiSpacer,{size:"m"}),indices.length>0?this.renderPager():null)))}}]);return IndexTableUi}(_react.Component);exports.IndexTable=(0,_react3.injectI18n)(IndexTableUi)},6932:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _no_match=__webpack_require__(6933);Object.defineProperty(exports,"NoMatch",{enumerable:true,get:function get(){return _no_match.NoMatch}})},6933:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _no_match=__webpack_require__(6934);Object.defineProperty(exports,"NoMatch",{enumerable:true,get:function get(){return _no_match.NoMatch}})},6934:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.NoMatch=void 0;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _react3=__webpack_require__(10);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}exports.NoMatch=function NoMatch(){return _react2.default.createElement("div",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.idxMgmt.noMatch.noIndicesDescription",defaultMessage:"No indices to show"}))}},6935:function(module,exports){},6936:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _refresh_intervals=__webpack_require__(6937);Object.defineProperty(exports,"REFRESH_RATE_INDEX_LIST",{enumerable:true,get:function get(){return _refresh_intervals.REFRESH_RATE_INDEX_LIST}})},6937:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.REFRESH_RATE_INDEX_LIST=3e4},6938:function(module,exports){module.exports='<kbn-management-app section="elasticsearch/index_management">\n  <div id="indexManagementReactRoot" class="indTable__horizontalScrollContainer"></div>\n</kbn-management-app>\n'},6939:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.manageAngularLifecycle=void 0;var _reactDom=__webpack_require__(14);exports.manageAngularLifecycle=function manageAngularLifecycle($scope,$route,elem){var lastRoute=$route.current;var deregister=$scope.$on("$locationChangeSuccess",function(){var currentRoute=$route.current;lastRoute.$$route.template===currentRoute.$$route.template&&($route.current=lastRoute)});$scope.$on("$destroy",function(){deregister&&deregister();elem&&(0,_reactDom.unmountComponentAtNode)(elem)})}},6940:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _store=__webpack_require__(6941);Object.defineProperty(exports,"indexManagementStore",{enumerable:true,get:function get(){return _store.indexManagementStore}})},6941:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.indexManagementStore=void 0;var _redux=__webpack_require__(53);var _reduxThunk=__webpack_require__(434);var _reduxThunk2=_interopRequireDefault(_reduxThunk);var _reducers=__webpack_require__(6942);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}exports.indexManagementStore=function indexManagementStore(){var initialState=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var enhancers=[(0,_redux.applyMiddleware)(_reduxThunk2.default)];window.__REDUX_DEVTOOLS_EXTENSION__&&enhancers.push(window.__REDUX_DEVTOOLS_EXTENSION__());return(0,_redux.createStore)(_reducers.indexManagement,initialState,_redux.compose.apply(void 0,enhancers))}},6942:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _index_management=__webpack_require__(6943);Object.defineProperty(exports,"indexManagement",{enumerable:true,get:function get(){return _index_management.indexManagement}})},6943:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.indexManagement=void 0;var _redux=__webpack_require__(53);var _detail_panel=__webpack_require__(6944);var _indices=__webpack_require__(6945);var _row_status=__webpack_require__(6946);var _table_state=__webpack_require__(6947);exports.indexManagement=(0,_redux.combineReducers)({indices:_indices.indices,rowStatus:_row_status.rowStatus,tableState:_table_state.tableState,detailPanel:_detail_panel.detailPanel})},6944:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.detailPanel=void 0;var _handleActions;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};var _reduxActions=__webpack_require__(29);var _detail_panel=__webpack_require__(2204);var _load_index_data=__webpack_require__(1259);var _update_index_settings=__webpack_require__(2203);var _delete_indices=__webpack_require__(2201);function _defineProperty(obj,key,value){key in obj?Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true}):obj[key]=value;return obj}var defaultState={};exports.detailPanel=(0,_reduxActions.handleActions)((_handleActions={},_defineProperty(_handleActions,_delete_indices.deleteIndicesSuccess,function(state,action){var indexNames=action.payload.indexNames;var indexName=state.indexName;return indexNames.includes(indexName)?{}:state}),_defineProperty(_handleActions,_detail_panel.openDetailPanel,function(state,action){var _action$payload=action.payload,panelType=_action$payload.panelType,indexName=_action$payload.indexName,title=_action$payload.title;return{panelType:panelType||state.panelType||"Summary",indexName:indexName,title:title}}),_defineProperty(_handleActions,_detail_panel.closeDetailPanel,function(){return{}}),_defineProperty(_handleActions,_load_index_data.loadIndexDataSuccess,function(state,action){var data=action.payload.data;var newState=_extends({},state,{data:data});return newState}),_defineProperty(_handleActions,_update_index_settings.updateIndexSettingsError,function(state,action){var error=action.payload.error;var newState=_extends({},state,{error:error});return newState}),_defineProperty(_handleActions,_update_index_settings.updateIndexSettingsSuccess,function(){return{}}),_handleActions),defaultState)},6945:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.indices=void 0;var _handleActions,_handleActions2;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};var _redux=__webpack_require__(53);var _reduxActions=__webpack_require__(29);var _actions=__webpack_require__(121);function _defineProperty(obj,key,value){key in obj?Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true}):obj[key]=value;return obj}var byId=(0,_reduxActions.handleActions)((_handleActions={},_defineProperty(_handleActions,_actions.deleteIndicesSuccess,function(state,action){var indexNames=action.payload.indexNames;var newState={};Object.values(state).forEach(function(index){indexNames.includes(index.name)||(newState[index.name]=index)});return newState}),_defineProperty(_handleActions,_actions.loadIndicesSuccess,function(state,action){var indices=action.payload.indices;var newState={};indices.forEach(function(index){newState[index.name]=index});return newState}),_defineProperty(_handleActions,_actions.reloadIndicesSuccess,function(state,action){var indices=action.payload.indices;var newState={};indices.forEach(function(index){newState[index.name]=index});return _extends({},state,newState)}),_handleActions),{});var allIds=(0,_reduxActions.handleActions)((_handleActions2={},_defineProperty(_handleActions2,_actions.deleteIndicesSuccess,function(state,action){var indexNames=action.payload.indexNames;var newState=[];state.forEach(function(indexName){indexNames.includes(indexName)||newState.push(indexName)});return newState}),_defineProperty(_handleActions2,_actions.loadIndicesSuccess,function(state,action){var indices=action.payload.indices;return indices.map(function(index){return index.name})}),_defineProperty(_handleActions2,_actions.reloadIndicesSuccess,function(state){return state}),_handleActions2),[]);exports.indices=(0,_redux.combineReducers)({byId:byId,allIds:allIds})},6946:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.rowStatus=void 0;var _handleActions;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};var _reduxActions=__webpack_require__(29);var _actions=__webpack_require__(121);var _constants=__webpack_require__(542);function _defineProperty(obj,key,value){key in obj?Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true}):obj[key]=value;return obj}exports.rowStatus=(0,_reduxActions.handleActions)((_handleActions={},_defineProperty(_handleActions,_actions.clearRowStatus,function(state,action){var indexNames=action.payload.indexNames;var newState=_extends({},state);indexNames.forEach(function(indexName){delete newState[indexName]});return newState}),_defineProperty(_handleActions,_actions.closeIndicesStart,function(state,action){var indexNames=action.payload.indexNames;var statuses={};indexNames.forEach(function(indexName){statuses[indexName]=_constants.INDEX_CLOSING});return _extends({},state,statuses)}),_defineProperty(_handleActions,_actions.openIndicesStart,function(state,action){var indexNames=action.payload.indexNames;var statuses={};indexNames.forEach(function(indexName){statuses[indexName]=_constants.INDEX_OPENING});return _extends({},state,statuses)}),_defineProperty(_handleActions,_actions.refreshIndicesStart,function(state,action){var indexNames=action.payload.indexNames;var statuses={};indexNames.forEach(function(indexName){statuses[indexName]=_constants.INDEX_REFRESHING});return _extends({},state,statuses)}),_defineProperty(_handleActions,_actions.flushIndicesStart,function(state,action){var indexNames=action.payload.indexNames;var statuses={};indexNames.forEach(function(indexName){statuses[indexName]=_constants.INDEX_FLUSHING});return _extends({},state,statuses)}),_defineProperty(_handleActions,_actions.forcemergeIndicesStart,function(state,action){var indexNames=action.payload.indexNames;var statuses={};indexNames.forEach(function(indexName){statuses[indexName]=_constants.INDEX_FORCEMERGING});return _extends({},state,statuses)}),_defineProperty(_handleActions,_actions.clearCacheIndicesStart,function(state,action){var indexNames=action.payload.indexNames;var statuses={};indexNames.forEach(function(indexName){statuses[indexName]=_constants.INDEX_CLEARING_CACHE});return _extends({},state,statuses)}),_defineProperty(_handleActions,_actions.reloadIndicesSuccess,function(state,action){var indices=action.payload.indices;var indicesByName=indices.reduce(function(acc,index){acc[index.name]=index;return acc},{});var newState=_extends({},state);for(var indexName in state){state[indexName]===_constants.INDEX_CLOSING&&indicesByName[indexName].status===_constants.INDEX_CLOSED&&delete newState[indexName];state[indexName]===_constants.INDEX_OPENING&&indicesByName[indexName].status===_constants.INDEX_OPEN&&delete newState[indexName];state[indexName]===_constants.INDEX_REFRESHING&&indicesByName[indexName].status===_constants.INDEX_OPEN&&delete newState[indexName];state[indexName]===_constants.INDEX_REFRESHING&&indicesByName[indexName].status===_constants.INDEX_CLOSED&&delete newState[indexName];state[indexName]===_constants.INDEX_FLUSHING&&indicesByName[indexName].status===_constants.INDEX_OPEN&&delete newState[indexName];state[indexName]===_constants.INDEX_FLUSHING&&indicesByName[indexName].status===_constants.INDEX_CLOSED&&delete newState[indexName];state[indexName]===_constants.INDEX_FORCEMERGING&&indicesByName[indexName].status===_constants.INDEX_OPEN&&delete newState[indexName];state[indexName]===_constants.INDEX_FORCEMERGING&&indicesByName[indexName].status===_constants.INDEX_CLOSED&&delete newState[indexName];state[indexName]===_constants.INDEX_CLEARING_CACHE&&indicesByName[indexName].status===_constants.INDEX_OPEN&&delete newState[indexName];state[indexName]===_constants.INDEX_CLEARING_CACHE&&indicesByName[indexName].status===_constants.INDEX_CLOSED&&delete newState[indexName]}return newState}),_handleActions),{})},6947:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.tableState=void 0;var _handleActions;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};var _reduxActions=__webpack_require__(29);var _actions=__webpack_require__(121);function _defineProperty(obj,key,value){key in obj?Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true}):obj[key]=value;return obj}var defaultState={filter:"",pageSize:10,currentPage:0,sortField:"index.name",isSortAscending:true,showSystemIndices:false};exports.tableState=(0,_reduxActions.handleActions)((_handleActions={},_defineProperty(_handleActions,_actions.filterChanged,function(state,action){var filter=action.payload.filter;return _extends({},state,{filter:filter,currentPage:0})}),_defineProperty(_handleActions,_actions.showSystemIndicesChanged,function(state,action){var showSystemIndices=action.payload.showSystemIndices;return _extends({},state,{showSystemIndices:showSystemIndices})}),_defineProperty(_handleActions,_actions.sortChanged,function(state,action){var _action$payload=action.payload,sortField=_action$payload.sortField,isSortAscending=_action$payload.isSortAscending;return _extends({},state,{sortField:sortField,isSortAscending:isSortAscending})}),_defineProperty(_handleActions,_actions.pageChanged,function(state,action){var pageNumber=action.payload.pageNumber;return _extends({},state,{currentPage:pageNumber})}),_defineProperty(_handleActions,_actions.pageSizeChanged,function(state,action){var pageSize=action.payload.pageSize;return _extends({},state,{pageSize:pageSize})}),_handleActions),defaultState)},6948:function(module,exports,__webpack_require__){"use strict";__webpack_require__(6949);__webpack_require__(6950)},6949:function(module,exports,__webpack_require__){"use strict";var _management=__webpack_require__(84);var _constants=__webpack_require__(588);_management.management.getSection("elasticsearch").register("license_management",{visible:true,display:"License Management",order:4,url:"#"+_constants.BASE_PATH+"home"})},6950:function(module,exports,__webpack_require__){"use strict";var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _reactDom=__webpack_require__(14);var _reactRedux=__webpack_require__(19);var _reactRouterDom=__webpack_require__(49);var _telemetry=__webpack_require__(846);var _app=__webpack_require__(6951);var _app2=_interopRequireDefault(_app);var _base_path=__webpack_require__(1002);var _routes=__webpack_require__(13);var _routes2=_interopRequireDefault(_routes);var _xpack_info=__webpack_require__(73);var _main=__webpack_require__(6976);var _main2=_interopRequireDefault(_main);var _store=__webpack_require__(6977);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var renderReact=function renderReact(elem,store){(0,_reactDom.render)(_react2.default.createElement(_reactRedux.Provider,{store:store},_react2.default.createElement(_reactRouterDom.HashRouter,null,_react2.default.createElement(_app2.default,null))),elem)};var manageAngularLifecycle=function manageAngularLifecycle($scope,$route,elem){var lastRoute=$route.current;var deregister=$scope.$on("$locationChangeSuccess",function(){var currentRoute=$route.current;lastRoute.$$route.template===currentRoute.$$route.template&&($route.current=lastRoute)});$scope.$on("$destroy",function(){deregister&&deregister();elem&&(0,_reactDom.unmountComponentAtNode)(elem)})};var initializeTelemetry=function initializeTelemetry($injector){var telemetryEnabled=$injector.get("telemetryEnabled");var Private=$injector.get("Private");var telemetryOptInProvider=Private(_telemetry.TelemetryOptInProvider);(0,_telemetry.setTelemetryOptInService)(telemetryOptInProvider);(0,_telemetry.setTelemetryEnabled)(telemetryEnabled);(0,_telemetry.setHttpClient)($injector.get("$http"))};_routes2.default.when(_base_path.BASE_PATH+":view?",{template:_main2.default,controllerAs:"licenseManagement",controller:function LicenseManagementController($injector,$window,$rootScope,$scope,$route,kbnUrl){_classCallCheck(this,LicenseManagementController);initializeTelemetry($injector);var autoLogout=null;try{autoLogout=$injector.get("autoLogout")}catch(e){autoLogout=function autoLogout(){}}$scope.$$postDigest(function(){var elem=document.getElementById("licenseReactRoot");var xPackInfo=(0,_xpack_info.XPackInfoProvider)($window,$injector,$injector.get("Private"));var initialState={license:xPackInfo.get("license")};var kbnUrlWrapper={change:function change(url){kbnUrl.change(url);$rootScope.$digest()}};var services={autoLogout:autoLogout,xPackInfo:xPackInfo,kbnUrl:kbnUrlWrapper};var store=(0,_store.licenseManagementStore)(initialState,services);renderReact(elem,store);manageAngularLifecycle($scope,$route,elem)})}})},6951:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _sections=__webpack_require__(6952);var _reactRouterDom=__webpack_require__(49);var _constants=__webpack_require__(588);var _eui=__webpack_require__(2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}exports.default=function(){return _react2.default.createElement(_eui.EuiPage,{restrictWidth:true},_react2.default.createElement(_eui.EuiPageBody,{className:"licManagement__pageBody"},_react2.default.createElement(_reactRouterDom.Switch,null,_react2.default.createElement(_reactRouterDom.Route,{path:_constants.BASE_PATH+"upload_license",component:_sections.UploadLicense}),_react2.default.createElement(_reactRouterDom.Route,{path:""+_constants.BASE_PATH,component:_sections.LicenseDashboard}))))};module.exports=exports["default"]},6952:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _license_dashboard=__webpack_require__(6953);Object.defineProperty(exports,"LicenseDashboard",{enumerable:true,get:function get(){return _license_dashboard.LicenseDashboard}});var _upload_license=__webpack_require__(6973);Object.defineProperty(exports,"UploadLicense",{enumerable:true,get:function get(){return _upload_license.UploadLicense}})},6953:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _license_dashboard=__webpack_require__(6954);Object.defineProperty(exports,"LicenseDashboard",{enumerable:true,get:function get(){return _license_dashboard.LicenseDashboard}})},6954:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.LicenseDashboard=void 0;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _license_status=__webpack_require__(6955);var _revert_to_basic=__webpack_require__(6962);var _start_trial=__webpack_require__(6965);var _add_license=__webpack_require__(6969);var _request_trial_extension=__webpack_require__(6970);var _eui=__webpack_require__(2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}exports.LicenseDashboard=function LicenseDashboard(){return _react2.default.createElement("div",{className:"licManagement__contain"},_react2.default.createElement(_eui.EuiFlexGroup,{justifyContent:"spaceAround"},_react2.default.createElement(_license_status.LicenseStatus,null)),_react2.default.createElement(_eui.EuiSpacer,{size:"l"}),_react2.default.createElement(_eui.EuiFlexGroup,{justifyContent:"spaceAround"},_react2.default.createElement(_eui.EuiFlexItem,null,_react2.default.createElement(_add_license.AddLicense,null)),_react2.default.createElement(_start_trial.StartTrial,null),_react2.default.createElement(_request_trial_extension.RequestTrialExtension,null),_react2.default.createElement(_revert_to_basic.RevertToBasic,null)))}},6955:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _license_status=__webpack_require__(6956);Object.defineProperty(exports,"LicenseStatus",{enumerable:true,get:function get(){return _license_status.LicenseStatus}})},6956:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.LicenseStatus=void 0;var _license_status=__webpack_require__(1611);var _reactRedux=__webpack_require__(19);var _licenseManagement=__webpack_require__(543);var mapStateToProps=function mapStateToProps(state){var _getLicense=(0,_licenseManagement.getLicense)(state),isActive=_getLicense.isActive,type=_getLicense.type;return{status:isActive?"Active":"Inactive",type:type,isExpired:(0,_licenseManagement.isExpired)(state),expiryDate:(0,_licenseManagement.getExpirationDateFormatted)(state)}};exports.LicenseStatus=(0,_reactRedux.connect)(mapStateToProps)(_license_status.LicenseStatus)},6957:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.license=void 0;var _reduxActions=__webpack_require__(29);var _add_license=__webpack_require__(2206);function _defineProperty(obj,key,value){key in obj?Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true}):obj[key]=value;return obj}exports.license=(0,_reduxActions.handleActions)(_defineProperty({},_add_license.addLicense,function(state,_ref){var payload=_ref.payload;return payload}),{})},6958:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.uploadStatus=void 0;var _reduxActions=__webpack_require__(29);var _upload_license=__webpack_require__(2207);function _defineProperty(obj,key,value){key in obj?Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true}):obj[key]=value;return obj}exports.uploadStatus=(0,_reduxActions.handleActions)(_defineProperty({},_upload_license.uploadLicenseStatus,function(state,_ref){var payload=_ref.payload;return payload}),{})},6959:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.startBasicStatus=void 0;var _handleActions;var _reduxActions=__webpack_require__(29);var _start_basic=__webpack_require__(2208);function _defineProperty(obj,key,value){key in obj?Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true}):obj[key]=value;return obj}exports.startBasicStatus=(0,_reduxActions.handleActions)((_handleActions={},_defineProperty(_handleActions,_start_basic.startBasicLicenseStatus,function(state,_ref){var payload=_ref.payload;return payload}),_defineProperty(_handleActions,_start_basic.cancelStartBasicLicense,function(){return{}}),_handleActions),{})},6960:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.uploadErrorMessage=void 0;var _reduxActions=__webpack_require__(29);var _add_error_message=__webpack_require__(1261);function _defineProperty(obj,key,value){key in obj?Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true}):obj[key]=value;return obj}exports.uploadErrorMessage=(0,_reduxActions.handleActions)(_defineProperty({},_add_error_message.addUploadErrorMessage,function(state,_ref){var payload=_ref.payload;return payload}),"")},6961:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.trialStatus=void 0;var _reduxActions=__webpack_require__(29);var _start_trial=__webpack_require__(2209);function _defineProperty(obj,key,value){key in obj?Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true}):obj[key]=value;return obj}exports.trialStatus=(0,_reduxActions.handleActions)(_defineProperty({},_start_trial.trialStatusLoaded,function(state,_ref){var payload=_ref.payload;return{canStartTrial:payload}}),{})},6962:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _revert_to_basic=__webpack_require__(6963);Object.defineProperty(exports,"RevertToBasic",{enumerable:true,get:function get(){return _revert_to_basic.RevertToBasic}})},6963:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.RevertToBasic=void 0;var _reactRedux=__webpack_require__(19);var _revert_to_basic=__webpack_require__(6964);var _licenseManagement=__webpack_require__(543);var _start_basic=__webpack_require__(2208);var mapStateToProps=function mapStateToProps(state){return{shouldShowRevertToBasicLicense:(0,_licenseManagement.shouldShowRevertToBasicLicense)(state),licenseType:(0,_licenseManagement.getLicenseType)(state),needsAcknowledgement:(0,_licenseManagement.startBasicLicenseNeedsAcknowledgement)(state),messages:(0,_licenseManagement.getStartBasicMessages)(state)}};var mapDispatchToProps={startBasicLicense:_start_basic.startBasicLicense,cancelStartBasicLicense:_start_basic.cancelStartBasicLicense};exports.RevertToBasic=(0,_reactRedux.connect)(mapStateToProps,mapDispatchToProps)(_revert_to_basic.RevertToBasic)},6964:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.RevertToBasic=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _eui=__webpack_require__(2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _toArray(arr){return Array.isArray(arr)?arr:Array.from(arr)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}exports.RevertToBasic=function(_React$PureComponent){_inherits(RevertToBasic,_React$PureComponent);function RevertToBasic(){var _ref;var _temp,_this,_ret;_classCallCheck(this,RevertToBasic);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _ret=(_temp=(_this=_possibleConstructorReturn(this,(_ref=RevertToBasic.__proto__||Object.getPrototypeOf(RevertToBasic)).call.apply(_ref,[this].concat(args))),_this),_this.cancel=function(){_this.props.uploadLicenseStatus({})},_temp),_possibleConstructorReturn(_this,_ret)}_createClass(RevertToBasic,[{key:"acknowledgeModal",value:function acknowledgeModal(){var _props=this.props,needsAcknowledgement=_props.needsAcknowledgement,_props$messages=_props.messages;_props$messages=void 0===_props$messages?[]:_props$messages;var _props$messages2=_toArray(_props$messages),firstLine=_props$messages2[0],messages=_props$messages2.slice(1),startBasicLicense=_props.startBasicLicense,cancelStartBasicLicense=_props.cancelStartBasicLicense,licenseType=_props.licenseType;if(!needsAcknowledgement)return null;return _react2.default.createElement(_eui.EuiOverlayMask,null,_react2.default.createElement(_eui.EuiConfirmModal,{title:"Confirm Revert to Basic License",onCancel:cancelStartBasicLicense,onConfirm:function onConfirm(){return startBasicLicense(licenseType,true)},cancelButtonText:"Cancel",confirmButtonText:"Confirm"},_react2.default.createElement("div",null,_react2.default.createElement(_eui.EuiText,null,firstLine),_react2.default.createElement(_eui.EuiText,null,_react2.default.createElement("ul",null,messages.map(function(message){return _react2.default.createElement("li",{key:message},message)}))))))}},{key:"render",value:function render(){var _props2=this.props,licenseType=_props2.licenseType,shouldShowRevertToBasicLicense=_props2.shouldShowRevertToBasicLicense,startBasicLicense=_props2.startBasicLicense;if(!shouldShowRevertToBasicLicense)return null;var description=_react2.default.createElement("span",null,"Youll revert to our free features and lose access to security, machine learning and other"," ",_react2.default.createElement(_eui.EuiLink,{href:"https://www.elastic.co/subscriptions/xpack",target:"_blank"},"Platinum features"),".");return _react2.default.createElement(_eui.EuiFlexItem,null,this.acknowledgeModal(),_react2.default.createElement(_eui.EuiCard,{title:"Revert to Basic license",description:description,footer:_react2.default.createElement(_eui.EuiButton,{"data-test-subj":"revertToBasicButton",onClick:function onClick(){return startBasicLicense(licenseType)}},"Revert to Basic")}))}}]);return RevertToBasic}(_react2.default.PureComponent)},6965:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _start_trial=__webpack_require__(6966);Object.defineProperty(exports,"StartTrial",{enumerable:true,get:function get(){return _start_trial.StartTrial}})},6966:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.StartTrial=void 0;var _reactRedux=__webpack_require__(19);var _start_trial=__webpack_require__(6967);var _start_trial2=__webpack_require__(2209);var _licenseManagement=__webpack_require__(543);var mapStateToProps=function mapStateToProps(state){return{shouldShowStartTrial:(0,_licenseManagement.shouldShowStartTrial)(state)}};var mapDispatchToProps={loadTrialStatus:_start_trial2.loadTrialStatus,startLicenseTrial:_start_trial2.startLicenseTrial};exports.StartTrial=(0,_reactRedux.connect)(mapStateToProps,mapDispatchToProps)(_start_trial.StartTrial)},6967:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.StartTrial=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _eui=__webpack_require__(2);var _documentation_links=__webpack_require__(242);var _telemetry_opt_in=__webpack_require__(2210);var _telemetry=__webpack_require__(846);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var esBase=_documentation_links.ELASTIC_WEBSITE_URL+"guide/en/elasticsearch/reference/"+_documentation_links.DOC_LINK_VERSION;var securityDocumentationLink=esBase+"/security-settings.html";exports.StartTrial=function(_React$PureComponent){_inherits(StartTrial,_React$PureComponent);function StartTrial(props){_classCallCheck(this,StartTrial);var _this=_possibleConstructorReturn(this,(StartTrial.__proto__||Object.getPrototypeOf(StartTrial)).call(this,props));_this.startLicenseTrial=function(){var startLicenseTrial=_this.props.startLicenseTrial;_this.telemetryOptIn.isOptingInToTelemetry()&&(0,_telemetry.optInToTelemetry)(true);startLicenseTrial()};_this.cancel=function(){_this.setState({showConfirmation:false})};_this.state={showConfirmation:false};return _this}_createClass(StartTrial,[{key:"componentWillMount",value:function componentWillMount(){this.props.loadTrialStatus()}},{key:"acknowledgeModal",value:function acknowledgeModal(){var _this2=this;var showConfirmation=this.state.showConfirmation;if(!showConfirmation)return null;return _react2.default.createElement(_eui.EuiOverlayMask,null,_react2.default.createElement(_eui.EuiModal,{className:"licManagement__modal",onClose:this.cancel},_react2.default.createElement(_eui.EuiModalHeader,null,_react2.default.createElement(_eui.EuiModalHeaderTitle,{"data-test-subj":"confirmModalTitleText"},"Start your free 30-day trial")),_react2.default.createElement(_eui.EuiModalBody,null,_react2.default.createElement(_eui.EuiText,{"data-test-subj":"confirmModalBodyText"},_react2.default.createElement("div",null,_react2.default.createElement(_eui.EuiText,null,_react2.default.createElement("p",null,"This trial is for the full set of"," ",_react2.default.createElement(_eui.EuiLink,{href:"https://www.elastic.co/subscriptions/xpack",target:"_blank"},"Platinum features")," of the Elastic Stack. You'll get immediate access to:"),_react2.default.createElement("ul",null,_react2.default.createElement("li",null,"Machine learning"),_react2.default.createElement("li",null,"Alerting"),_react2.default.createElement("li",null,"Graph capabilities"),_react2.default.createElement("li",null,"JDBC connectivity for SQL")),_react2.default.createElement("p",null,"Security features, such as authentication (native, AD/LDAP, SAML, PKI), role-based access control, and auditing, require configuration. See the"," ",_react2.default.createElement(_eui.EuiLink,{href:securityDocumentationLink,target:"_blank"},"documentation")," ","for instructions."),_react2.default.createElement("p",null,"By starting this trial, you agree that it is subject to these"," ",_react2.default.createElement(_eui.EuiLink,{href:"https://elastic.co/legal/trial_license",target:"_blank"},"terms and conditions"),"."))))),_react2.default.createElement(_eui.EuiModalFooter,null,_react2.default.createElement(_eui.EuiFlexGroup,{justifyContent:"spaceBetween",alignItems:"center"},_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_telemetry_opt_in.TelemetryOptIn,{isStartTrial:true,ref:function ref(_ref){_this2.telemetryOptIn=_ref}})),_react2.default.createElement(_eui.EuiFlexItem,{grow:false,className:"licManagement__ieFlex"},_react2.default.createElement(_eui.EuiFlexGroup,{responsive:false},_react2.default.createElement(_eui.EuiFlexItem,{grow:false,className:"licManagement__ieFlex"},_react2.default.createElement(_eui.EuiButtonEmpty,{"data-test-subj":"confirmModalCancelButton",onClick:this.cancel,buttonRef:this.cancelRef},"Cancel")),_react2.default.createElement(_eui.EuiFlexItem,{grow:false,className:"licManagement__ieFlex"},_react2.default.createElement(_eui.EuiButton,{"data-test-subj":"confirmModalConfirmButton",onClick:this.startLicenseTrial,fill:true,buttonRef:this.confirmRef,color:"primary"},"Start my trial"))))))))}},{key:"render",value:function render(){var _this3=this;var shouldShowStartTrial=this.props.shouldShowStartTrial;if(!shouldShowStartTrial)return null;var description=_react2.default.createElement("span",null,"Experience what security, machine learning, and all our other"," ",_react2.default.createElement(_eui.EuiLink,{href:"https://www.elastic.co/subscriptions/xpack",target:"_blank"},"Platinum features")," ","have to offer.");var footer=_react2.default.createElement(_eui.EuiButton,{"data-test-subj":"startTrialButton",onClick:function onClick(){return _this3.setState({showConfirmation:true})}},"Start trial");return _react2.default.createElement(_eui.EuiFlexItem,null,this.acknowledgeModal(),_react2.default.createElement(_eui.EuiCard,{title:"Start a 30-day trial",description:description,footer:footer}))}}]);return StartTrial}(_react2.default.PureComponent)},6968:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.TelemetryOptIn=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _eui=__webpack_require__(2);var _telemetry=__webpack_require__(846);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}exports.TelemetryOptIn=function(_React$Component){_inherits(TelemetryOptIn,_React$Component);function TelemetryOptIn(){_classCallCheck(this,TelemetryOptIn);var _this=_possibleConstructorReturn(this,(TelemetryOptIn.__proto__||Object.getPrototypeOf(TelemetryOptIn)).call(this));_this.isOptingInToTelemetry=function(){return _this.state.isOptingInToTelemetry};_this.closeReadMorePopover=function(){_this.setState({showMoreTelemetryInfo:false})};_this.onClickReadMore=function(){var showMoreTelemetryInfo=_this.state.showMoreTelemetryInfo;_this.setState({showMoreTelemetryInfo:!showMoreTelemetryInfo})};_this.onClickExample=function(){_this.setState({showExample:true});_this.closeReadMorePopover()};_this.onChangeOptIn=function(event){var isOptingInToTelemetry=event.target.checked;_this.setState({isOptingInToTelemetry:isOptingInToTelemetry})};_this.state={showMoreTelemetryInfo:false,isOptingInToTelemetry:false,showExample:false};return _this}_createClass(TelemetryOptIn,[{key:"render",value:function render(){var _this2=this;var _state=this.state,showMoreTelemetryInfo=_state.showMoreTelemetryInfo,isOptingInToTelemetry=_state.isOptingInToTelemetry,showExample=_state.showExample;var isStartTrial=this.props.isStartTrial;var example=null;showExample&&(example=_react2.default.createElement(_telemetry.OptInExampleFlyout,{onClose:function onClose(){return _this2.setState({showExample:false})},fetchTelemetry:_telemetry.getTelemetryFetcher}));var toCurrentCustomers=void 0;isStartTrial||(toCurrentCustomers=_react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_eui.EuiText,null,_react2.default.createElement("p",null,"Gold and platinum customers: help support give you better service.")),_react2.default.createElement(_eui.EuiSpacer,{size:"s"})));var readMoreButton=_react2.default.createElement(_eui.EuiLink,{onClick:this.onClickReadMore},"Read more");var popover=_react2.default.createElement(_eui.EuiPopover,{ownFocus:true,id:"readMorePopover",button:readMoreButton,isOpen:showMoreTelemetryInfo,closePopover:this.closeReadMorePopover,className:"eui-AlignBaseline"},_react2.default.createElement(_eui.EuiText,{className:"licManagement__narrowText"},_react2.default.createElement("p",null,"This feature periodically sends basic feature usage statistics. This information will not be shared outside of Elastic. See an ",_react2.default.createElement(_eui.EuiLink,{onClick:this.onClickExample},"example")," ","or read our"," ",_react2.default.createElement(_eui.EuiLink,{href:_telemetry.PRIVACY_STATEMENT_URL,target:"_blank"},"telemetry privacy statement"),". You can disable this feature any time.")));return(0,_telemetry.showTelemetryOptIn)()?_react2.default.createElement(_react.Fragment,null,example,toCurrentCustomers,_react2.default.createElement(_eui.EuiCheckbox,{label:_react2.default.createElement("span",null,"Send basic feature usage statistics to Elastic periodically. ",popover),id:"isOptingInToTelemetry",checked:isOptingInToTelemetry,onChange:this.onChangeOptIn})):null}}]);return TelemetryOptIn}(_react2.default.Component)},6969:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _add_license=__webpack_require__(1612);Object.defineProperty(exports,"AddLicense",{enumerable:true,get:function get(){return _add_license.AddLicense}})},6970:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _request_trial_extension=__webpack_require__(6971);Object.defineProperty(exports,"RequestTrialExtension",{enumerable:true,get:function get(){return _request_trial_extension.RequestTrialExtension}})},6971:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.RequestTrialExtension=void 0;var _reactRedux=__webpack_require__(19);var _request_trial_extension=__webpack_require__(6972);var _licenseManagement=__webpack_require__(543);var mapStateToProps=function mapStateToProps(state){return{shouldShowRequestTrialExtension:(0,_licenseManagement.shouldShowRequestTrialExtension)(state)}};exports.RequestTrialExtension=(0,_reactRedux.connect)(mapStateToProps)(_request_trial_extension.RequestTrialExtension)},6972:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.RequestTrialExtension=void 0;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _eui=__webpack_require__(2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}exports.RequestTrialExtension=function RequestTrialExtension(_ref){var shouldShowRequestTrialExtension=_ref.shouldShowRequestTrialExtension;if(!shouldShowRequestTrialExtension)return null;var description=_react2.default.createElement("span",null,"If youd like to continuing using security, machine learning, and our other awesome"," ",_react2.default.createElement(_eui.EuiLink,{href:"https://www.elastic.co/subscriptions/xpack",target:"_blank"},"Platinum features"),", request an extension now.");return _react2.default.createElement(_eui.EuiFlexItem,null,_react2.default.createElement(_eui.EuiCard,{title:"Extend your trial",description:description,footer:_react2.default.createElement(_eui.EuiButton,{"data-test-subj":"extendTrialButton",target:"_blank",href:"https://www.elastic.co/trialextension"},"Extend trial")}))}},6973:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _upload_license=__webpack_require__(6974);Object.defineProperty(exports,"UploadLicense",{enumerable:true,get:function get(){return _upload_license.UploadLicense}})},6974:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.UploadLicense=void 0;var _reactRedux=__webpack_require__(19);var _upload_license=__webpack_require__(2207);var _add_error_message=__webpack_require__(1261);var _licenseManagement=__webpack_require__(543);var _upload_license2=__webpack_require__(6975);var mapStateToProps=function mapStateToProps(state){return{isInvalid:(0,_licenseManagement.isInvalid)(state),needsAcknowledgement:(0,_licenseManagement.uploadNeedsAcknowledgement)(state),messages:(0,_licenseManagement.uploadMessages)(state),errorMessage:(0,_licenseManagement.getUploadErrorMessage)(state),applying:(0,_licenseManagement.isApplying)(state),currentLicenseType:(0,_licenseManagement.getLicenseType)(state)||""}};var mapDispatchToProps={addUploadErrorMessage:_add_error_message.addUploadErrorMessage,uploadLicense:_upload_license.uploadLicense,uploadLicenseStatus:_upload_license.uploadLicenseStatus};exports.UploadLicense=(0,_reactRedux.connect)(mapStateToProps,mapDispatchToProps)(_upload_license2.UploadLicense)},6975:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.UploadLicense=void 0;var _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[];var _n=true;var _d=false;var _e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{!_n&&_i["return"]&&_i["return"]()}finally{if(_d)throw _e}}return _arr}return function(arr,i){if(Array.isArray(arr))return arr;if(Symbol.iterator in Object(arr))return sliceIterator(arr,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _constants=__webpack_require__(588);var _eui=__webpack_require__(2);var _telemetry_opt_in=__webpack_require__(2210);var _telemetry=__webpack_require__(846);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _toArray(arr){return Array.isArray(arr)?arr:Array.from(arr)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}exports.UploadLicense=function(_React$PureComponent){_inherits(UploadLicense,_React$PureComponent);function UploadLicense(){var _ref;var _temp,_this,_ret;_classCallCheck(this,UploadLicense);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _ret=(_temp=(_this=_possibleConstructorReturn(this,(_ref=UploadLicense.__proto__||Object.getPrototypeOf(UploadLicense)).call.apply(_ref,[this].concat(args))),_this),_this.send=function(acknowledge){var file=_this.file;var fr=new FileReader;fr.onload=function(_ref2){var result=_ref2.target.result;_this.telemetryOptIn.isOptingInToTelemetry()&&(0,_telemetry.optInToTelemetry)(true);_this.props.uploadLicense(result,_this.props.currentLicenseType,acknowledge)};fr.readAsText(file)},_this.cancel=function(){_this.props.uploadLicenseStatus({})},_this.handleFile=function(_ref3){var _ref4=_slicedToArray(_ref3,1),file=_ref4[0];file&&_this.props.addUploadErrorMessage("");_this.file=file},_this.submit=function(event){event.preventDefault();_this.file?_this.send():_this.props.addUploadErrorMessage("You must select a license file.")},_temp),_possibleConstructorReturn(_this,_ret)}_createClass(UploadLicense,[{key:"componentDidMount",value:function componentDidMount(){this.props.addUploadErrorMessage("")}},{key:"acknowledgeModal",value:function acknowledgeModal(){var _this2=this;var _props=this.props,needsAcknowledgement=_props.needsAcknowledgement,_props$messages=_props.messages;_props$messages=void 0===_props$messages?[]:_props$messages;var _props$messages2=_toArray(_props$messages),firstLine=_props$messages2[0],messages=_props$messages2.slice(1);if(!needsAcknowledgement)return null;return _react2.default.createElement(_eui.EuiOverlayMask,null,_react2.default.createElement(_eui.EuiConfirmModal,{title:"Confirm License Upload",onCancel:this.cancel,onConfirm:function onConfirm(){return _this2.send(true)},cancelButtonText:"Cancel",confirmButtonText:"Confirm"},_react2.default.createElement("div",null,_react2.default.createElement(_eui.EuiText,null,firstLine),_react2.default.createElement(_eui.EuiText,null,_react2.default.createElement("ul",null,messages.map(function(message){return _react2.default.createElement("li",{key:message},message)}))))))}},{key:"errorMessage",value:function errorMessage(){var errorMessage=this.props.errorMessage;if(!errorMessage)return null;return[errorMessage]}},{key:"render",value:function render(){var _this3=this;var _props2=this.props,currentLicenseType=_props2.currentLicenseType,applying=_props2.applying;return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_eui.EuiTitle,{className:"eui-textCenter",size:"l"},_react2.default.createElement("h1",null,"Upload your license")),_react2.default.createElement(_eui.EuiSpacer,null),_react2.default.createElement(_eui.EuiPageContent,{horizontalPosition:"center",verticalPosition:"center"},_react2.default.createElement(_eui.EuiPageContentBody,null,this.acknowledgeModal(),_react2.default.createElement(_eui.EuiText,null,_react2.default.createElement("p",null,"Your license key is a JSON file with a signature attached."),_react2.default.createElement("p",null,"Uploading a license will replace your current"," ",_react2.default.createElement("strong",null,currentLicenseType.toUpperCase())," license.")),_react2.default.createElement(_eui.EuiSpacer,null),_react2.default.createElement(_eui.EuiForm,{isInvalid:!!this.errorMessage(),error:this.errorMessage()},_react2.default.createElement(_eui.EuiText,null,_react2.default.createElement(_eui.EuiFilePicker,{id:"licenseFile",initialPromptText:"Select or drag your license file",onChange:this.handleFile})),_react2.default.createElement(_eui.EuiSpacer,{size:"m"}),_react2.default.createElement(_telemetry_opt_in.TelemetryOptIn,{ref:function ref(_ref5){_this3.telemetryOptIn=_ref5}}),_react2.default.createElement(_eui.EuiSpacer,{size:"m"}),_react2.default.createElement(_eui.EuiFlexGroup,{justifyContent:"spaceBetween"},_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiButtonEmpty,{href:"#"+_constants.BASE_PATH+"home"},"Cancel")),_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiButton,{"data-test-subj":"uploadLicenseButton",fill:true,isLoading:applying,onClick:this.submit},applying?"Uploading...":"Upload")))))))}}]);return UploadLicense}(_react2.default.PureComponent)},6976:function(module,exports){module.exports='<kbn-management-app section="elasticsearch/license_management">\n  <div id="licenseReactRoot"></div>\n</kbn-management-app>\n'},6977:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _store=__webpack_require__(6978);Object.defineProperty(exports,"licenseManagementStore",{enumerable:true,get:function get(){return _store.licenseManagementStore}})},6978:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.licenseManagementStore=void 0;var _redux=__webpack_require__(53);var _reduxThunk=__webpack_require__(434);var _reduxThunk2=_interopRequireDefault(_reduxThunk);var _reducers=__webpack_require__(6979);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}exports.licenseManagementStore=function licenseManagementStore(){var initialState=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var services=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var enhancers=[(0,_redux.applyMiddleware)(_reduxThunk2.default.withExtraArgument(services))];window.__REDUX_DEVTOOLS_EXTENSION__&&enhancers.push(window.__REDUX_DEVTOOLS_EXTENSION__());return(0,_redux.createStore)(_reducers.licenseManagement,initialState,_redux.compose.apply(void 0,enhancers))}},6979:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _licenseManagement=__webpack_require__(543);Object.defineProperty(exports,"licenseManagement",{enumerable:true,get:function get(){return _licenseManagement.licenseManagement}})},6980:function(module,exports,__webpack_require__){"use strict";__webpack_require__(6981)},6981:function(module,exports,__webpack_require__){"use strict";var _routes=__webpack_require__(13);var _routes2=_interopRequireDefault(_routes);var _notify=__webpack_require__(11);var _pipeline_edit_route=__webpack_require__(6982);var _pipeline_edit_route2=_interopRequireDefault(_pipeline_edit_route);__webpack_require__(6983);__webpack_require__(847);__webpack_require__(6997);__webpack_require__(7e3);__webpack_require__(7010);var _update_management_sections=__webpack_require__(7017);var _pipeline=__webpack_require__(2212);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}_routes2.default.when("/management/logstash/pipelines/pipeline/:id/edit").when("/management/logstash/pipelines/new-pipeline").defaults(/management\/logstash\/pipelines\/(new-pipeline|pipeline\/:id\/edit)/,{template:_pipeline_edit_route2.default,controller:function PipelineEditRouteController($injector){_classCallCheck(this,PipelineEditRouteController);var $route=$injector.get("$route");this.pipeline=$route.current.locals.pipeline;this.isUpgraded=$route.current.locals.isUpgraded},controllerAs:"pipelineEditRoute",resolve:{logstashTabs:function logstashTabs($injector){var $route=$injector.get("$route");var pipelineId=$route.current.params.id;(0,_update_management_sections.updateLogstashSections)(pipelineId)},pipeline:function pipeline($injector){var $route=$injector.get("$route");var pipelineService=$injector.get("pipelineService");var licenseService=$injector.get("logstashLicenseService");var kbnUrl=$injector.get("kbnUrl");var pipelineId=$route.current.params.id;if(!pipelineId)return new _pipeline.Pipeline;return pipelineService.loadPipeline(pipelineId).then(function(pipeline){return!$route.current.params.clone?pipeline:pipeline.clone}).catch(function(err){return licenseService.checkValidity().then(function(){403!==err.status&&_notify.toastNotifications.addDanger("Couldn't load pipeline. Error: '"+err.statusText+"'.");kbnUrl.redirect("/management/logstash/pipelines");return Promise.reject()})})},checkLicense:function checkLicense($injector){var licenseService=$injector.get("logstashLicenseService");return licenseService.checkValidity()},isUpgraded:function isUpgraded($injector){var upgradeService=$injector.get("upgradeService");return upgradeService.executeUpgrade()}}});_routes2.default.when("/management/logstash/pipelines/pipeline/:id",{redirectTo:"/management/logstash/pipelines/pipeline/:id/edit"})},6982:function(module,exports){module.exports='<kbn-management-app section="logstash/pipelines/pipeline" omit-breadcrumb-pages="[\'pipeline\']">\n  <pipeline-edit ng-if="pipelineEditRoute.isUpgraded" pipeline="pipelineEditRoute.pipeline"></pipeline-edit>\n\n  <upgrade-failure ng-if="!pipelineEditRoute.isUpgraded" pipeline="pipelineEditRoute.pipeline"></upgrade-failure>\n</kbn-management-app>\n'},6983:function(module,exports,__webpack_require__){"use strict";__webpack_require__(6984)},6984:function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(3);var _pipeline_service=__webpack_require__(6985);_modules.uiModules.get("xpack/logstash").factory("pipelineService",function($injector){var $http=$injector.get("$http");var pipelinesService=$injector.get("pipelinesService");return new _pipeline_service.PipelineService($http,pipelinesService)})},6985:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.PipelineService=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _chrome=__webpack_require__(9);var _chrome2=_interopRequireDefault(_chrome);var _constants=__webpack_require__(451);var _pipeline=__webpack_require__(2212);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}exports.PipelineService=function(){function PipelineService($http,pipelinesService){_classCallCheck(this,PipelineService);this.$http=$http;this.pipelinesService=pipelinesService;this.basePath=_chrome2.default.addBasePath(_constants.ROUTES.API_ROOT)}_createClass(PipelineService,[{key:"loadPipeline",value:function loadPipeline(id){return this.$http.get(this.basePath+"/pipeline/"+id).then(function(response){return _pipeline.Pipeline.fromUpstreamJSON(response.data)})}},{key:"savePipeline",value:function savePipeline(pipelineModel){return this.$http.put(this.basePath+"/pipeline/"+pipelineModel.id,pipelineModel.upstreamJSON).catch(function(e){throw e.data.message})}},{key:"deletePipeline",value:function deletePipeline(id){var _this=this;return this.$http.delete(this.basePath+"/pipeline/"+id).then(function(){return _this.pipelinesService.addToRecentlyDeleted(id)}).catch(function(e){throw e.data.message})}}]);return PipelineService}()},6986:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.INDEX_NAMES={PIPELINES:".logstash"}},6987:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.TYPE_NAMES={PIPELINES:"doc"}},6988:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ROUTES={API_ROOT:"/api/logstash",MONITORING_API_ROOT:"/api/monitoring"}},6989:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.PAGINATION={PAGE_SIZE:20}},6990:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.PLUGIN={ID:"logstash"}},6991:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ES_SCROLL_SETTINGS={KEEPALIVE:"30s",PAGE_SIZE:100}},6992:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.PIPELINE={ORIGIN:{CCM:"centralized_configuration_management",OTHER:"file_or_command_line_interface_or_pipelines_yml"}}},6993:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.MONITORING={ACTIVE_PIPELINE_RANGE_S:30}},6994:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Pipeline=void 0;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _lodash=__webpack_require__(1);function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var emptyPipeline="input {\n}\nfilter {\n}\noutput {\n}";var settingsDefaults={"pipeline.workers":null,"pipeline.batch.size":125,"pipeline.batch.delay":50,"queue.type":"memory","queue.max_bytes.number":1,"queue.max_bytes.units":"gb","queue.checkpoint.writes":1024};exports.Pipeline=function(){function Pipeline(props){var _this=this;_classCallCheck(this,Pipeline);this.isEqualTo=function(otherPipeline){var cleanPipeline=_extends({},_this);var cleanOtherPipeline=_extends({},otherPipeline);return(0,_lodash.isEqual)(cleanPipeline,cleanOtherPipeline)};this.id=(0,_lodash.get)(props,"id");this.description=(0,_lodash.get)(props,"description","");this.pipeline=(0,_lodash.get)(props,"pipeline",emptyPipeline);this.username=(0,_lodash.get)(props,"username");this.settings=(0,_lodash.defaultsDeep)((0,_lodash.get)(props,"settings",{}),settingsDefaults)}_createClass(Pipeline,[{key:"clone",get:function get(){return new Pipeline(_extends({},(0,_lodash.omit)(this,["id","username"])))}},{key:"upstreamJSON",get:function get(){var settings=this.settings;var maxBytesNumber=(0,_lodash.get)(settings,"queue.max_bytes.number");var maxBytesUnits=(0,_lodash.get)(settings,"queue.max_bytes.units");var upstreamSettings=_extends({},settings);if(maxBytesNumber&&maxBytesUnits){delete upstreamSettings["queue.max_bytes.number"];delete upstreamSettings["queue.max_bytes.units"];upstreamSettings["queue.max_bytes"]=""+maxBytesNumber+maxBytesUnits}return{description:this.description,pipeline:this.pipeline,username:this.username,settings:upstreamSettings}}}],[{key:"fromUpstreamJSON",value:function fromUpstreamJSON(pipeline){var settings=pipeline.settings;var maxBytesStr=(0,_lodash.get)(settings,"queue.max_bytes","");var maxBytesParts=maxBytesStr.match(/(\d+)(\w+)/);if(Array.isArray(maxBytesParts)&&3===maxBytesParts.length){var maxBytesNumber=maxBytesParts[1];var maxBytesUnits=maxBytesParts[2];if(maxBytesNumber&&maxBytesUnits){delete settings["queue.max_bytes"];settings["queue.max_bytes.number"]=parseInt(maxBytesNumber);settings["queue.max_bytes.units"]=maxBytesUnits}}return new Pipeline({id:pipeline.id,description:pipeline.description,pipeline:pipeline.pipeline,username:pipeline.username,settings:settings})}}]);return Pipeline}()},6995:function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(3);var _xpack_info=__webpack_require__(73);__webpack_require__(240);var _logstash_license_service=__webpack_require__(6996);_modules.uiModules.get("xpack/logstash").factory("logstashLicenseService",function($injector){var Private=$injector.get("Private");var xpackInfoService=Private(_xpack_info.XPackInfoProvider);var kbnUrlService=$injector.get("kbnUrl");var $timeout=$injector.get("$timeout");return new _logstash_license_service.LogstashLicenseService(xpackInfoService,kbnUrlService,$timeout)})},6996:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.LogstashLicenseService=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _notify=__webpack_require__(11);var _markdown=__webpack_require__(581);var _constants=__webpack_require__(451);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}exports.LogstashLicenseService=function(){function LogstashLicenseService(xpackInfoService,kbnUrlService,$timeout){_classCallCheck(this,LogstashLicenseService);this.xpackInfoService=xpackInfoService;this.kbnUrlService=kbnUrlService;this.$timeout=$timeout}_createClass(LogstashLicenseService,[{key:"notifyAndRedirect",value:function notifyAndRedirect(){_notify.toastNotifications.addDanger({title:_react2.default.createElement(_markdown.MarkdownSimple,null,this.xpackInfoService.get("features."+_constants.PLUGIN.ID+".message"))});this.kbnUrlService.redirect("/management")}},{key:"checkValidity",value:function checkValidity(){var _this=this;return new Promise(function(resolve,reject){_this.$timeout(function(){if(_this.isAvailable)return resolve();_this.notifyAndRedirect();return reject()},10)})}},{key:"enableLinks",get:function get(){return Boolean(this.xpackInfoService.get("features."+_constants.PLUGIN.ID+".enableLinks"))}},{key:"isAvailable",get:function get(){return Boolean(this.xpackInfoService.get("features."+_constants.PLUGIN.ID+".isAvailable"))}},{key:"isReadOnly",get:function get(){return Boolean(this.xpackInfoService.get("features."+_constants.PLUGIN.ID+".isReadOnly"))}},{key:"message",get:function get(){return this.xpackInfoService.get("features."+_constants.PLUGIN.ID+".message")}}]);return LogstashLicenseService}()},6997:function(module,exports,__webpack_require__){"use strict";__webpack_require__(6998)},6998:function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(3);var _upgrade_service=__webpack_require__(6999);_modules.uiModules.get("xpack/logstash").factory("upgradeService",function($injector){var $http=$injector.get("$http");return new _upgrade_service.UpgradeService($http)})},6999:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.UpgradeService=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _chrome=__webpack_require__(9);var _chrome2=_interopRequireDefault(_chrome);var _constants=__webpack_require__(451);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}exports.UpgradeService=function(){function UpgradeService($http){_classCallCheck(this,UpgradeService);this.$http=$http;this.basePath=_chrome2.default.addBasePath(_constants.ROUTES.API_ROOT)}_createClass(UpgradeService,[{key:"executeUpgrade",value:function executeUpgrade(){return this.$http.post(this.basePath+"/upgrade").then(function(response){return response.data.is_upgraded}).catch(function(e){throw e.data.message})}}]);return UpgradeService}()},7000:function(module,exports,__webpack_require__){"use strict";__webpack_require__(7001)},7001:function(module,exports,__webpack_require__){"use strict";var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _reactDom=__webpack_require__(14);var _lodash=__webpack_require__(1);var _modules=__webpack_require__(3);var _notify=__webpack_require__(11);var _pipeline_editor=__webpack_require__(7002);__webpack_require__(847);__webpack_require__(7007);__webpack_require__(230);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}var app=_modules.uiModules.get("xpack/logstash");app.directive("pipelineEdit",function($injector){var _this=this;var pipelineService=$injector.get("pipelineService");var licenseService=$injector.get("logstashLicenseService");var securityService=$injector.get("logstashSecurityService");var kbnUrl=$injector.get("kbnUrl");var shieldUser=$injector.get("ShieldUser");var $route=$injector.get("$route");return{restrict:"E",link:function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee(scope,el){var close,open,userResource;return regeneratorRuntime.wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:close=function close(){return scope.$evalAsync(kbnUrl.change("/management/logstash/pipelines",{}))};open=function open(id){return scope.$evalAsync(kbnUrl.change("/management/logstash/pipelines/"+id+"/edit"))};if(!securityService.isSecurityEnabled){_context.next=8;break}_context.next=5;return shieldUser.getCurrent().$promise;case 5:_context.t0=_context.sent;_context.next=9;break;case 8:_context.t0=null;case 9:userResource=_context.t0;(0,_reactDom.render)(_react2.default.createElement(_pipeline_editor.PipelineEditor,{kbnUrl:kbnUrl,close:close,open:open,isNewPipeline:(0,_lodash.isEmpty)(scope.pipeline.id),username:userResource?userResource.username:null,pipeline:scope.pipeline,pipelineService:pipelineService,routeService:$route,toastNotifications:_notify.toastNotifications,licenseService:licenseService,notifier:new _notify.Notifier({location:"Logstash"})}),el[0]);case 11:case"end":return _context.stop()}},_callee,_this)}));function link(_x,_x2){return _ref.apply(this,arguments)}return link}(),scope:{pipeline:"="}}})},7002:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _pipeline_editor=__webpack_require__(7003);Object.defineProperty(exports,"PipelineEditor",{enumerable:true,get:function get(){return _pipeline_editor.PipelineEditor}})},7003:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.PipelineEditor=void 0;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(4);__webpack_require__(7004);__webpack_require__(616);var _lodash=__webpack_require__(1);var _tooltips=__webpack_require__(2211);var _eui=__webpack_require__(2);var _confirm_delete_pipeline_modal=__webpack_require__(7005);var _flex_item_setting=__webpack_require__(7006);var _form_label_with_icon_tip=__webpack_require__(2214);var _constants=__webpack_require__(2213);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var PipelineEditor=exports.PipelineEditor=function(_React$Component){_inherits(PipelineEditor,_React$Component);function PipelineEditor(props){_classCallCheck(this,PipelineEditor);var _this=_possibleConstructorReturn(this,(PipelineEditor.__proto__||Object.getPrototypeOf(PipelineEditor)).call(this,props));_initialiseProps.call(_this);var _this$props=_this.props,_this$props$pipeline=_this$props.pipeline,id=_this$props$pipeline.id,description=_this$props$pipeline.description,pipeline=_this$props$pipeline.pipeline,settings=_this$props$pipeline.settings,username=_this$props.username;var pipelineWorkers=settings["pipeline.workers"]?settings["pipeline.workers"]:1;_this.state={maxBytesNumber:settings["queue.max_bytes.number"],maxBytesUnit:settings["queue.max_bytes.units"],pipeline:{id:id,description:description,pipeline:pipeline,settings:{"pipeline.batch.delay":settings["pipeline.batch.delay"],"pipeline.batch.size":settings["pipeline.batch.size"],"pipeline.workers":pipelineWorkers,"queue.checkpoint.writes":settings["queue.checkpoint.writes"],"queue.max_bytes":settings["queue.max_bytes.number"]+settings["queue.max_bytes.units"],"queue.type":settings["queue.type"]},username:username},pipelineIdErrors:[],pipelineIdPattern:/^[A-Za-z\_][A-Za-z0-9\-\_]*$/,showConfirmDeleteModal:false,showPipelineIdError:false};return _this}_createClass(PipelineEditor,[{key:"render",value:function render(){var _this2=this;return _react2.default.createElement(_eui.EuiPage,{"data-test-subj":"pipelineEdit pipelineEdit-"+this.state.pipeline.id},_react2.default.createElement(_eui.EuiPageContent,{style:{width:1100},verticalPosition:"center",horizontalPosition:"center"},_react2.default.createElement(_eui.EuiTitle,{size:"m"},_react2.default.createElement("h2",null,this.getPipelineHeadingText())),_react2.default.createElement(_eui.EuiSpacer,{size:"m"}),_react2.default.createElement(_eui.EuiForm,{isInvalid:this.state.showPipelineIdError,error:this.state.pipelineIdErrors},this.props.isNewPipeline&&_react2.default.createElement(_eui.EuiFormRow,{fullWidth:true,label:"Pipeline ID"},_react2.default.createElement(_eui.EuiFieldText,{fullWidth:true,"data-test-subj":"inputId",isInvalid:this.state.showPipelineIdError,name:"pipelineId",onBlur:this.onPipelineIdChange,onChange:this.onPipelineIdChange,value:this.state.pipeline.id||""})),_react2.default.createElement(_eui.EuiFormRow,{fullWidth:true,label:"Description"},_react2.default.createElement(_eui.EuiFieldText,{"data-test-subj":"inputDescription",fullWidth:true,name:"pipelineDescription",onChange:this.onPipelineDescriptionChange,value:this.state.pipeline.description||""})),_react2.default.createElement(_eui.EuiFormRow,{fullWidth:true,label:"Pipeline"},_react2.default.createElement("div",{"data-test-subj":"acePipeline"},_react2.default.createElement(_eui.EuiCodeEditor,{mode:"plain_text",onChange:this.onPipelineChange,setOptions:{minLines:25,maxLines:Infinity,readOnly:this.props.licenseService.isReadOnly},theme:"github",value:this.state.pipeline.pipeline,width:"1017"}))),_react2.default.createElement(_eui.EuiFormRow,{label:_react2.default.createElement(_form_label_with_icon_tip.FormLabelWithIconTip,{formRowLabelText:"Pipeline workers",formRowTooltipText:_tooltips.TOOLTIPS.settings["pipeline.workers"]})},_react2.default.createElement(_eui.EuiFieldNumber,{"data-test-subj":"inputWorkers",onChange:function onChange(e){return _this2.handleNumberChange("pipeline.workers",e.target.value)},value:this.state.pipeline.settings["pipeline.workers"]})),_react2.default.createElement(_eui.EuiFlexGroup,null,_react2.default.createElement(_flex_item_setting.FlexItemSetting,{formRowLabelText:"Pipeline batch size",formRowTooltipText:_tooltips.TOOLTIPS.settings["pipeline.batch.size"]},_react2.default.createElement(_eui.EuiFieldNumber,{"data-test-subj":"inputBatchSize",onChange:function onChange(e){return _this2.handleNumberChange("pipeline.batch.size",e.target.value)},value:this.state.pipeline.settings["pipeline.batch.size"]})),_react2.default.createElement(_flex_item_setting.FlexItemSetting,{formRowLabelText:"Pipeline batch delay",formRowTooltipText:_tooltips.TOOLTIPS.settings["pipeline.batch.delay"]},_react2.default.createElement(_eui.EuiFieldNumber,{"data-test-subj":"inputBatchDelay",onChange:function onChange(e){return _this2.handleNumberChange("pipeline.batch.delay",e.target.value)},value:this.state.pipeline.settings["pipeline.batch.delay"]}))),_react2.default.createElement(_eui.EuiFlexGroup,null,_react2.default.createElement(_flex_item_setting.FlexItemSetting,{formRowLabelText:"Queue type",formRowTooltipText:_tooltips.TOOLTIPS.settings["queue.type"]},_react2.default.createElement(_eui.EuiSelect,{"data-test-subj":"selectQueueType",onChange:function onChange(e){return _this2.handleSettingChange("queue.type",e.target.value)},options:_constants.PIPELINE_EDITOR.QUEUE_TYPES,value:this.state.pipeline.settings["queue.type"]})),_react2.default.createElement(_flex_item_setting.FlexItemSetting,{formRowLabelText:"Queue max bytes",formRowTooltipText:_tooltips.TOOLTIPS.settings["queue.max_bytes"]},_react2.default.createElement(_eui.EuiFieldNumber,{"data-test-subj":"inputQueueMaxBytesNumber",onChange:function onChange(e){return _this2.handleMaxByteNumberChange(e.target.value)},value:this.state.maxBytesNumber})),_react2.default.createElement(_flex_item_setting.FlexItemSetting,null,_react2.default.createElement(_eui.EuiSelect,{"data-test-subj":"selectQueueMaxBytesUnits",onChange:function onChange(e){return _this2.handleMaxByteUnitChange(e.target.value)},options:_constants.PIPELINE_EDITOR.UNITS,value:this.state.maxBytesUnit})),_react2.default.createElement(_flex_item_setting.FlexItemSetting,{formRowLabelText:"Queue checkpoint writes",formRowTooltipText:_tooltips.TOOLTIPS.settings["queue.checkpoint.writes"]},_react2.default.createElement(_eui.EuiFieldNumber,{"data-test-subj":"inputQueueCheckpointWrites",onChange:function onChange(e){return _this2.handleNumberChange("queue.checkpoint.writes",e.target.value)},value:this.state.pipeline.settings["queue.checkpoint.writes"]})))),_react2.default.createElement(_eui.EuiSpacer,{size:"l"}),_react2.default.createElement(_eui.EuiFlexGroup,{justifyContent:"flexStart"},_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiButton,{"data-test-subj":"btnSavePipeline",fill:true,isDisabled:this.isSaveDisabled(),onClick:this.onPipelineSave},"Create and deploy")),_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiButton,{"data-test-subj":"btnCancel",onClick:this.onClose},"Cancel")),!this.props.isNewPipeline&&_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiButtonEmpty,{color:"danger","data-test-subj":"btnDeletePipeline",onClick:this.showConfirmDeleteModal},"Delete pipeline")))),this.state.showConfirmDeleteModal&&_react2.default.createElement(_confirm_delete_pipeline_modal.ConfirmDeletePipelineModal,{id:this.props.pipeline.id,cancelDeleteModal:this.hideConfirmDeleteModal,confirmDeletePipeline:this.deletePipeline}))}}]);return PipelineEditor}(_react2.default.Component);var _initialiseProps=function _initialiseProps(){var _this3=this;this.componentDidMount=function(){var _props=_this3.props,_props$licenseService=_props.licenseService,isReadOnly=_props$licenseService.isReadOnly,message=_props$licenseService.message,toastNotifications=_props.toastNotifications;isReadOnly&&toastNotifications.addWarning(message)};this.hideConfirmDeleteModal=function(){_this3.setState({showConfirmDeleteModal:false})};this.showConfirmDeleteModal=function(){_this3.setState({showConfirmDeleteModal:true})};this.onPipelineIdChange=function(_ref){var value=_ref.target.value;var pipelineIdErrors=[];value||pipelineIdErrors.push(_constants.PIPELINE_EDITOR.ID_REQUIRED_ERR_MSG);_this3.state.pipelineIdPattern.test(value)||pipelineIdErrors.push(_constants.PIPELINE_EDITOR.ID_FORMAT_ERR_MSG);_this3.setState({pipelineIdErrors:pipelineIdErrors,showPipelineIdError:!!pipelineIdErrors.length,pipeline:_extends({},_this3.state.pipeline,{id:value})})};this.isSaveDisabled=function(){return _this3.state.showPipelineIdError||(0,_lodash.isEmpty)(_this3.state.pipeline.id)};this.onClose=_asyncToGenerator(regeneratorRuntime.mark(function _callee(){return regeneratorRuntime.wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return _this3.props.close();case 2:case"end":return _context.stop()}},_callee,_this3)}));this.open=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(){var id;return regeneratorRuntime.wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:id=_this3.state.pipeline.id;if(!id){_context2.next=4;break}_context2.next=4;return _this3.props.open(id);case 4:case"end":return _context2.stop()}},_callee2,_this3)}));this.onPipelineSave=function(){var _props2=_this3.props,pipelineService=_props2.pipelineService,toastNotifications=_props2.toastNotifications;var id=_this3.state.pipeline.id;return pipelineService.savePipeline({id:id,upstreamJSON:_this3.state.pipeline}).then(function(){toastNotifications.addSuccess('Saved "'+id+'"');_this3.onClose()}).catch(_this3.notifyOnError)};this.onPipelineDescriptionChange=function(_ref4){var value=_ref4.target.value;_this3.setState({pipeline:_extends({},_this3.state.pipeline,{description:value})})};this.onPipelineChange=function(e){_this3.setState({pipeline:_extends({},_this3.state.pipeline,{pipeline:e})})};this.handleNumberChange=function(settingName,value){var numberValue=parseInt(value,10);_this3.handleSettingChange(settingName,isNaN(numberValue)?value:numberValue)};this.handleMaxByteNumberChange=function(value){_this3.setState({maxBytesNumber:parseInt(value,10)});_this3.handleSettingChange("queue.max_bytes",value+_this3.state.maxBytesUnit)};this.handleMaxByteUnitChange=function(value){_this3.setState({maxBytesUnit:value});_this3.handleSettingChange("queue.max_bytes",_this3.state.maxBytesNumber+value)};this.handleSettingChange=function(settingName,value){var settings=_extends({},_this3.state.pipeline.settings);settings[settingName]=value;_this3.setState({pipeline:_extends({},_this3.state.pipeline,{settings:settings})})};this.notifyOnError=function(err){var _props3=_this3.props,notifier=_props3.notifier,licenseService=_props3.licenseService;return licenseService.checkValidity().then(function(){return notifier.error(err)})};this.deletePipeline=function(){var _props4=_this3.props,id=_props4.pipeline.id,pipelineService=_props4.pipelineService,toastNotifications=_props4.toastNotifications;_this3.hideConfirmDeleteModal();return pipelineService.deletePipeline(id).then(function(){toastNotifications.addSuccess('Deleted "'+id+'"');_this3.onClose()}).catch(_this3.notifyOnError)};this.getPipelineHeadingText=function(){var _props5=_this3.props,_props5$routeService$=_props5.routeService.current.params,clone=_props5$routeService$.clone,id=_props5$routeService$.id,isNewPipeline=_props5.isNewPipeline;if(!!clone&&id)return'Clone Pipeline "'+id+'"';if(!isNewPipeline)return'Edit Pipeline "'+_this3.state.pipeline.id+'"';return"Create Pipeline"}};PipelineEditor.propTypes={close:_propTypes.PropTypes.func.isRequired,isNewPipeline:_propTypes.PropTypes.bool.isRequired,licenseService:_propTypes.PropTypes.shape({checkValidity:_propTypes.PropTypes.func.isRequired,isReadOnly:_propTypes.PropTypes.bool.isRequired,message:_propTypes.PropTypes.string}).isRequired,notifier:_propTypes.PropTypes.shape({error:_propTypes.PropTypes.func.isRequired}).isRequired,open:_propTypes.PropTypes.func.isRequired,pipeline:_propTypes.PropTypes.shape({id:_propTypes.PropTypes.string,description:_propTypes.PropTypes.string,pipeline:_propTypes.PropTypes.any,settings:_propTypes.PropTypes.shape({"pipeline.batch.delay":_propTypes.PropTypes.number.isRequired,"pipeline.batch.size":_propTypes.PropTypes.number.isRequired,"pipeline.workers":_propTypes.PropTypes.number,"queue.checkpoint.writes":_propTypes.PropTypes.number.isRequired,"queue.max_bytes":_propTypes.PropTypes.number,"queue.type":_propTypes.PropTypes.string.isRequired})}).isRequired,pipelineService:_propTypes.PropTypes.shape({deletePipeline:_propTypes.PropTypes.func.isRequired,savePipeline:_propTypes.PropTypes.func.isRequired}).isRequired,routeService:_propTypes.PropTypes.shape({current:_propTypes.PropTypes.shape({params:_propTypes.PropTypes.shape({clone:_propTypes.PropTypes.oneOf([true,void 0]),id:_propTypes.PropTypes.string})})}).isRequired,toastNotifications:_propTypes.PropTypes.shape({addWarning:_propTypes.PropTypes.func.isRequired,addSuccess:_propTypes.PropTypes.func.isRequired}).isRequired,username:_propTypes.PropTypes.string}},7004:function(module,exports){ace.define("ace/mode/plain_text",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/text_highlight_rules","ace/mode/behaviour"],function(acequire,exports,module){"use strict";var oop=acequire("../lib/oop");var TextMode=acequire("./text").Mode;var TextHighlightRules=acequire("./text_highlight_rules").TextHighlightRules;var Behaviour=acequire("./behaviour").Behaviour;var Mode=function(){this.HighlightRules=TextHighlightRules;this.$behaviour=new Behaviour};oop.inherits(Mode,TextMode);(function(){this.type="text";this.getNextLineIndent=function(state,line,tab){return""};this.$id="ace/mode/plain_text"}).call(Mode.prototype);exports.Mode=Mode})},7005:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ConfirmDeletePipelineModal=ConfirmDeletePipelineModal;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(4);var _propTypes2=_interopRequireDefault(_propTypes);var _eui=__webpack_require__(2);var _constants=__webpack_require__(2213);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function ConfirmDeletePipelineModal(_ref){var id=_ref.id,cancelDeleteModal=_ref.cancelDeleteModal,confirmDeletePipeline=_ref.confirmDeletePipeline;return _react2.default.createElement(_eui.EuiOverlayMask,null,_react2.default.createElement(_eui.EuiConfirmModal,{buttonColor:"danger",cancelButtonText:"Cancel",confirmButtonText:"Delete pipeline",defaultFocusedButton:_eui.EUI_MODAL_CANCEL_BUTTON,onCancel:cancelDeleteModal,onConfirm:confirmDeletePipeline,title:"Delete pipeline "+id},_react2.default.createElement("p",null,_constants.PIPELINE_EDITOR.DELETE_PIPELINE_MODAL_MESSAGE)))}ConfirmDeletePipelineModal.propTypes={cancelDeleteModal:_propTypes2.default.func.isRequired,confirmDeletePipeline:_propTypes2.default.func.isRequired,id:_propTypes2.default.string.isRequired}},7006:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.FlexItemSetting=FlexItemSetting;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(4);var _propTypes2=_interopRequireDefault(_propTypes);var _eui=__webpack_require__(2);var _form_label_with_icon_tip=__webpack_require__(2214);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function FlexItemSetting(props){var formRowLabelText=props.formRowLabelText,formRowTooltipText=props.formRowTooltipText;var label=formRowLabelText&&formRowTooltipText?_react2.default.createElement(_form_label_with_icon_tip.FormLabelWithIconTip,{formRowLabelText:formRowLabelText,formRowTooltipText:formRowTooltipText}):null;return _react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiFormRow,{label:label,hasEmptyLabelSpace:!label},props.children))}FlexItemSetting.propTypes={formRowLabelText:_propTypes2.default.string,formRowTooltipText:_propTypes2.default.string}},7007:function(module,exports,__webpack_require__){"use strict";__webpack_require__(7008)},7008:function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(3);var _xpack_info=__webpack_require__(73);var _logstash_security_service=__webpack_require__(7009);_modules.uiModules.get("xpack/logstash").factory("logstashSecurityService",function($injector){var Private=$injector.get("Private");var xpackInfoService=Private(_xpack_info.XPackInfoProvider);return new _logstash_security_service.LogstashSecurityService(xpackInfoService)})},7009:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}exports.LogstashSecurityService=function(){function LogstashSecurityService(xpackInfoService){_classCallCheck(this,LogstashSecurityService);this.xpackInfoService=xpackInfoService}_createClass(LogstashSecurityService,[{key:"isSecurityEnabled",get:function get(){return Boolean(this.xpackInfoService.get("features.security"))}}]);return LogstashSecurityService}()},7010:function(module,exports,__webpack_require__){"use strict";__webpack_require__(7011)},7011:function(module,exports,__webpack_require__){"use strict";var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _reactDom=__webpack_require__(14);var _lodash=__webpack_require__(1);var _modules=__webpack_require__(3);var _upgrade_failure=__webpack_require__(7012);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var app=_modules.uiModules.get("xpack/logstash");app.directive("upgradeFailure",function($injector){var $route=$injector.get("$route");var kbnUrl=$injector.get("kbnUrl");return{link:function link(scope,el){var onRetry=function onRetry(){$route.updateParams({retry:true});$route.reload()};var onClose=function onClose(){scope.$evalAsync(kbnUrl.change("management/logstash/pipelines",{}))};var isNewPipeline=(0,_lodash.isEmpty)(scope.pipeline.id);var isManualUpgrade=!!$route.current.params.retry;(0,_reactDom.render)(_react2.default.createElement(_upgrade_failure.UpgradeFailure,{isNewPipeline:isNewPipeline,isManualUpgrade:isManualUpgrade,onRetry:onRetry,onClose:onClose}),el[0])},restrict:"E",scope:{pipeline:"="}}})},7012:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _upgrade_failure=__webpack_require__(7013);Object.defineProperty(exports,"UpgradeFailure",{enumerable:true,get:function get(){return _upgrade_failure.UpgradeFailure}})},7013:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.UpgradeFailure=UpgradeFailure;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _eui=__webpack_require__(2);var _upgrade_failure_title=__webpack_require__(7014);var _upgrade_failure_actions=__webpack_require__(7015);var _constants=__webpack_require__(7016);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function UpgradeFailure(_ref){var isNewPipeline=_ref.isNewPipeline,isManualUpgrade=_ref.isManualUpgrade,onClose=_ref.onClose,onRetry=_ref.onRetry;var titleText=isManualUpgrade?_constants.UPGRADE_FAILURE.TITLE.IS_MANUAL_UPGRADE:_constants.UPGRADE_FAILURE.TITLE.NOT_MANUAL_UPGRADE;var messageText=isNewPipeline?_constants.UPGRADE_FAILURE.MESSAGE.IS_NEW_PIPELINE:_constants.UPGRADE_FAILURE.MESSAGE.NOT_NEW_PIPELINE;var upgradeButtonText=isManualUpgrade?_constants.UPGRADE_FAILURE.UPGRADE_BUTTON_TEXT.IS_MANUAL_UPGRADE:_constants.UPGRADE_FAILURE.UPGRADE_BUTTON_TEXT.NOT_MANUAL_UPGRADE;return _react2.default.createElement(_eui.EuiPage,{"data-test-subj":"pipelineEdit upgradeFailure",style:{minHeight:"100vh"}},_react2.default.createElement(_eui.EuiPageContent,null,_react2.default.createElement(_eui.EuiEmptyPrompt,{actions:_react2.default.createElement(_upgrade_failure_actions.UpgradeFailureActions,{onClose:onClose,onRetry:onRetry,upgradeButtonText:upgradeButtonText}),title:_react2.default.createElement(_upgrade_failure_title.UpgradeFailureTitle,{titleText:titleText}),body:_react2.default.createElement("p",{style:{textAlign:"left"}},messageText)})))}},7014:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.UpgradeFailureTitle=UpgradeFailureTitle;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(4);var _propTypes2=_interopRequireDefault(_propTypes);var _eui=__webpack_require__(2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function UpgradeFailureTitle(_ref){var titleText=_ref.titleText;return _react2.default.createElement(_eui.EuiFlexGroup,null,_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiIcon,{size:"xl",type:"alert"})),_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiTitle,null,_react2.default.createElement("h2",null,titleText))))}UpgradeFailureTitle.propTypes={titleText:_propTypes2.default.string.isRequired}},7015:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.UpgradeFailureActions=UpgradeFailureActions;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(4);var _propTypes2=_interopRequireDefault(_propTypes);var _eui=__webpack_require__(2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function UpgradeFailureActions(_ref){var onClose=_ref.onClose,onRetry=_ref.onRetry,upgradeButtonText=_ref.upgradeButtonText;return _react2.default.createElement(_eui.EuiFlexGroup,{justifyContent:"flexStart"},_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiButton,{fill:true,onClick:onRetry},upgradeButtonText)),_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiButtonEmpty,{color:"primary",onClick:onClose},"Go back")))}UpgradeFailureActions.propTypes={onClose:_propTypes2.default.func.isRequired,onRetry:_propTypes2.default.func.isRequired,upgradeButtonText:_propTypes2.default.string.isRequired}},7016:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.UPGRADE_FAILURE={TITLE:{IS_MANUAL_UPGRADE:"Upgrade failed",NOT_MANUAL_UPGRADE:"Time for an upgrade!"},MESSAGE:{IS_NEW_PIPELINE:"Before you can add a pipeline, we need to upgrade your configuration.",NOT_NEW_PIPELINE:"Before you can edit this pipeline, we need to upgrade your configuration."},UPGRADE_BUTTON_TEXT:{IS_MANUAL_UPGRADE:"Try again",NOT_MANUAL_UPGRADE:"Upgrade"}}},7017:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _update_logstash_sections=__webpack_require__(7018);Object.defineProperty(exports,"updateLogstashSections",{enumerable:true,get:function get(){return _update_logstash_sections.updateLogstashSections}})},7018:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.updateLogstashSections=updateLogstashSections;var _management=__webpack_require__(84);function updateLogstashSections(pipelineId){var editSection=_management.management.getSection("logstash/pipelines/pipeline/edit");var newSection=_management.management.getSection("logstash/pipelines/pipeline/new");newSection.hide();editSection.hide();if(pipelineId){editSection.url="#/management/logstash/pipelines/pipeline/"+pipelineId+"/edit";editSection.show()}else newSection.show()}},7019:function(module,exports,__webpack_require__){"use strict";__webpack_require__(7020);__webpack_require__(7021)},7020:function(module,exports,__webpack_require__){"use strict";var _management=__webpack_require__(84);_management.management.getSection("logstash").register("pipelines",{display:"Pipelines",order:10,url:"#/management/logstash/pipelines/"});_management.management.getSection("logstash/pipelines").register("pipeline",{visible:false});_management.management.getSection("logstash/pipelines/pipeline").register("edit",{display:"Edit pipeline",order:1,visible:false});_management.management.getSection("logstash/pipelines/pipeline").register("new",{display:"Create pipeline",order:1,visible:false})},7021:function(module,exports,__webpack_require__){"use strict";var _routes=__webpack_require__(13);var _routes2=_interopRequireDefault(_routes);var _management=__webpack_require__(84);var _pipeline_list_route=__webpack_require__(7022);var _pipeline_list_route2=_interopRequireDefault(_pipeline_list_route);__webpack_require__(7023);__webpack_require__(847);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}_routes2.default.when("/management/logstash/pipelines/",{template:_pipeline_list_route2.default});_routes2.default.defaults(/\/management/,{resolve:{logstashManagementSection:function logstashManagementSection($injector){var licenseService=$injector.get("logstashLicenseService");var logstashSection=_management.management.getSection("logstash/pipelines");if(licenseService.enableLinks){logstashSection.show();logstashSection.enable()}else logstashSection.hide()}}})},7022:function(module,exports){module.exports='<kbn-management-app section="logstash">\n  <pipeline-list></pipeline-list>\n</kbn-management-app>\n'},7023:function(module,exports,__webpack_require__){"use strict";__webpack_require__(7024)},7024:function(module,exports,__webpack_require__){"use strict";var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _reactDom=__webpack_require__(14);var _modules=__webpack_require__(3);var _notify=__webpack_require__(11);var _pipeline_list=__webpack_require__(7025);__webpack_require__(7034);__webpack_require__(847);__webpack_require__(2218);__webpack_require__(2217);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var app=_modules.uiModules.get("xpack/logstash");app.directive("pipelineList",function($injector){var pipelinesService=$injector.get("pipelinesService");var licenseService=$injector.get("logstashLicenseService");var clusterService=$injector.get("xpackLogstashClusterService");var monitoringService=$injector.get("xpackLogstashMonitoringService");var kbnUrl=$injector.get("kbnUrl");return{restrict:"E",link:function link(scope,el){var openPipeline=function openPipeline(id){return scope.$evalAsync(kbnUrl.change("management/logstash/pipelines/pipeline/"+id+"/edit"))};var createPipeline=function createPipeline(){return scope.$evalAsync(kbnUrl.change("management/logstash/pipelines/new-pipeline"))};var clonePipeline=function clonePipeline(id){return scope.$evalAsync(kbnUrl.change("management/logstash/pipelines/pipeline/"+id+"/edit?clone"))};(0,_reactDom.render)(_react2.default.createElement(_pipeline_list.PipelineList,{clonePipeline:clonePipeline,clusterService:clusterService,isReadOnly:licenseService.isReadOnly,isForbidden:true,isLoading:false,licenseService:licenseService,monitoringService:monitoringService,openPipeline:openPipeline,createPipeline:createPipeline,pipelinesService:pipelinesService,toastNotifications:_notify.toastNotifications}),el[0])},scope:{},controllerAs:"pipelineList"}})},7025:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _pipeline_list=__webpack_require__(7026);Object.defineProperty(exports,"PipelineList",{enumerable:true,get:function get(){return _pipeline_list.PipelineList}})},7026:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.PipelineList=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _pluralize=__webpack_require__(7027);var _pluralize2=_interopRequireDefault(_pluralize);var _eui=__webpack_require__(2);var _info_alerts=__webpack_require__(7028);var _pipelines_table=__webpack_require__(7032);var _confirm_delete_modal=__webpack_require__(7033);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}exports.PipelineList=function(_React$Component){_inherits(PipelineList,_React$Component);function PipelineList(props){_classCallCheck(this,PipelineList);var _this=_possibleConstructorReturn(this,(PipelineList.__proto__||Object.getPrototypeOf(PipelineList)).call(this,props));_this.componentDidMount=function(){var _this$props=_this.props,isReadOnly=_this$props.isReadOnly,licenseService=_this$props.licenseService,toastNotifications=_this$props.toastNotifications;_this.loadPipelines().then(function(){isReadOnly&&toastNotifications.addWarning(licenseService.message)});_this.checkMonitoringAccess()};_this.getEmptyPrompt=function(){return _react2.default.createElement(_eui.EuiEmptyPrompt,{title:_react2.default.createElement("h2",null,"No pipelines"),titleSize:"xs",body:"There are no pipelines defined."})};_this.getErrorPrompt=function(){return _react2.default.createElement(_eui.EuiEmptyPrompt,{title:_react2.default.createElement("h2",null,"Error"),titleSize:"xs",body:"Error encountered while loading pipelines."})};_this.loadPipelines=function(){var _this$props2=_this.props,isReadOnly=_this$props2.isReadOnly,licenseService=_this$props2.licenseService,pipelinesService=_this$props2.pipelinesService,toastNotifications=_this$props2.toastNotifications;_this.setState({message:_react2.default.createElement("div",null,_react2.default.createElement(_eui.EuiLoadingSpinner,{size:"m"})," Loading pipelines....")});return pipelinesService.getPipelineList().then(function(pipelines){_this.setState({isLoading:false,isForbidden:false,isSelectable:true,pipelines:pipelines});pipelines.length||_this.setState({columns:[],message:_this.getEmptyPrompt(),isSelectable:false})}).catch(function(err){_this.setState({isLoading:false,message:_this.getErrorPrompt()});return licenseService.checkValidity().then(function(){if(403===err.status){_this.setState({isLoading:false});isReadOnly?_this.setState({isForbidden:false}):_this.setState({isForbidden:true})}else{_this.setState({isForbidden:false});toastNotifications.addDanger("Couldn't load pipeline. Error: \""+err.statusText+'".')}})})};_this.checkMonitoringAccess=function(){var _this$props3=_this.props,clusterService=_this$props3.clusterService,monitoringService=_this$props3.monitoringService;clusterService.isClusterInfoAvailable().then(function(isAvailable){_this.setState({showAddRoleAlert:!isAvailable,showEnableMonitoringAlert:!monitoringService.isMonitoringEnabled()})})};_this.renderNoPermissionCallOut=function(){var _this$state=_this.state,isForbidden=_this$state.isForbidden,isLoading=_this$state.isLoading;return isForbidden&&!isLoading?_react2.default.createElement(_eui.EuiCallOut,{color:"danger",iconType:"cross",title:"You do not have permission to manage Logstash pipelines."},_react2.default.createElement("p",null,"Please contact your administrator.")):null};_this.hideDeletePipelinesModal=function(){_this.setState({showConfirmDeleteModal:false})};_this.showDeletePipelinesModal=function(){_this.setState({showConfirmDeleteModal:true})};_this.cancelDeletePipelines=function(){_this.hideDeletePipelinesModal()};_this.deleteSelectedPipelines=function(){_this.hideDeletePipelinesModal();var _this$props4=_this.props,licenseService=_this$props4.licenseService,pipelinesService=_this$props4.pipelinesService,toastNotifications=_this$props4.toastNotifications;var selection=_this.state.selection;var numPipelinesSelected=selection.length;var totalPluralized=(0,_pluralize2.default)("Pipeline",numPipelinesSelected);var pipelineIds=selection.map(function(_ref){var id=_ref.id;return id});return pipelinesService.deletePipelines(pipelineIds).then(function(results){var numSuccesses=results.numSuccesses,numErrors=results.numErrors;var errorPluralized=(0,_pluralize2.default)("Pipeline",numErrors);if(1===numSuccesses&&0===numErrors)toastNotifications.addSuccess('Deleted "'+selection[0].id+'"');else if(numSuccesses){var text=void 0;numErrors&&(text="But "+numErrors+" "+errorPluralized+" couldn't be deleted.");toastNotifications.addSuccess({title:"Deleted "+numSuccesses+" out of "+numPipelinesSelected+" "+totalPluralized,text:text})}else numErrors&&toastNotifications.addError("Failed to delete "+numErrors+" "+errorPluralized);_this.loadPipelines()}).catch(function(err){return licenseService.checkValidity().then(function(){return toastNotifications.addDanger(err)})})};_this.onDeleteSelectedPipelines=function(){_this.showDeletePipelinesModal()};_this.onSelectionChange=function(selection){return _this.setState({selection:selection})};_this.state={columns:[],isForbidden:false,isLoading:true,isSelectable:false,pipelines:[],showAddRoleAlert:false,showConfirmDeleteModal:false,showEnableMonitoringAlert:false,selection:[]};return _this}_createClass(PipelineList,[{key:"render",value:function render(){var _props=this.props,clonePipeline=_props.clonePipeline,createPipeline=_props.createPipeline,isReadOnly=_props.isReadOnly,openPipeline=_props.openPipeline;var _state=this.state,isSelectable=_state.isSelectable,message=_state.message,pipelines=_state.pipelines,selection=_state.selection,showConfirmDeleteModal=_state.showConfirmDeleteModal;return _react2.default.createElement(_eui.EuiPage,{"data-test-subj":"pipelineList"},_react2.default.createElement(_eui.EuiPageContent,{horizontalPosition:"center"},this.renderNoPermissionCallOut(),_react2.default.createElement(_pipelines_table.PipelinesTable,{clonePipeline:clonePipeline,createPipeline:createPipeline,isReadOnly:isReadOnly,isSelectable:isSelectable,message:message,pipelines:pipelines,selection:selection,onDeleteSelectedPipelines:this.onDeleteSelectedPipelines,onSelectionChange:this.onSelectionChange,openPipeline:openPipeline})),_react2.default.createElement(_confirm_delete_modal.ConfirmDeleteModal,{cancelDeletePipelines:this.cancelDeletePipelines,deleteSelectedPipelines:this.deleteSelectedPipelines,selection:selection,showConfirmDeleteModal:showConfirmDeleteModal}),_react2.default.createElement(_info_alerts.InfoAlerts,{showAddRoleAlert:this.state.showAddRoleAlert,showEnableMonitoringAlert:this.state.showEnableMonitoringAlert}))}}]);return PipelineList}(_react2.default.Component)},7027:function(module,exports,__webpack_require__){(function(root,pluralize){true;module.exports=pluralize()})(0,function(){var pluralRules=[];var singularRules=[];var uncountables={};var irregularPlurals={};var irregularSingles={};function toTitleCase(str){return str.charAt(0).toUpperCase()+str.substr(1).toLowerCase()}function sanitizeRule(rule){if("string"===typeof rule)return new RegExp("^"+rule+"$","i");return rule}function restoreCase(word,token){if(word===token)return token;if(word===word.toUpperCase())return token.toUpperCase();if(word[0]===word[0].toUpperCase())return toTitleCase(token);return token.toLowerCase()}function interpolate(str,args){return str.replace(/\$(\d{1,2})/g,function(match,index){return args[index]||""})}function sanitizeWord(token,word,collection){if(!token.length||uncountables.hasOwnProperty(token))return word;var len=collection.length;while(len--){var rule=collection[len];if(rule[0].test(word))return word.replace(rule[0],function(match,index,word){var result=interpolate(rule[1],arguments);if(""===match)return restoreCase(word[index-1],result);return restoreCase(match,result)})}return word}function replaceWord(replaceMap,keepMap,rules){return function(word){var token=word.toLowerCase();if(keepMap.hasOwnProperty(token))return restoreCase(word,token);if(replaceMap.hasOwnProperty(token))return restoreCase(word,replaceMap[token]);return sanitizeWord(token,word,rules)}}function pluralize(word,count,inclusive){var pluralized=1===count?pluralize.singular(word):pluralize.plural(word);return(inclusive?count+" ":"")+pluralized}pluralize.plural=replaceWord(irregularSingles,irregularPlurals,pluralRules);pluralize.singular=replaceWord(irregularPlurals,irregularSingles,singularRules);pluralize.addPluralRule=function(rule,replacement){pluralRules.push([sanitizeRule(rule),replacement])};pluralize.addSingularRule=function(rule,replacement){singularRules.push([sanitizeRule(rule),replacement])};pluralize.addUncountableRule=function(word){if("string"===typeof word){uncountables[word.toLowerCase()]=true;return}pluralize.addPluralRule(word,"$0");pluralize.addSingularRule(word,"$0")};pluralize.addIrregularRule=function(single,plural){plural=plural.toLowerCase();single=single.toLowerCase();irregularSingles[single]=plural;irregularPlurals[plural]=single};[["I","we"],["me","us"],["he","they"],["she","they"],["them","them"],["myself","ourselves"],["yourself","yourselves"],["itself","themselves"],["herself","themselves"],["himself","themselves"],["themself","themselves"],["is","are"],["was","were"],["has","have"],["this","these"],["that","those"],["echo","echoes"],["dingo","dingoes"],["volcano","volcanoes"],["tornado","tornadoes"],["torpedo","torpedoes"],["genus","genera"],["viscus","viscera"],["stigma","stigmata"],["stoma","stomata"],["dogma","dogmata"],["lemma","lemmata"],["schema","schemata"],["anathema","anathemata"],["ox","oxen"],["axe","axes"],["die","dice"],["yes","yeses"],["foot","feet"],["eave","eaves"],["goose","geese"],["tooth","teeth"],["quiz","quizzes"],["human","humans"],["proof","proofs"],["carve","carves"],["valve","valves"],["looey","looies"],["thief","thieves"],["groove","grooves"],["pickaxe","pickaxes"],["whiskey","whiskies"]].forEach(function(rule){return pluralize.addIrregularRule(rule[0],rule[1])});[[/s?$/i,"s"],[/([^aeiou]ese)$/i,"$1"],[/(ax|test)is$/i,"$1es"],[/(alias|[^aou]us|tlas|gas|ris)$/i,"$1es"],[/(e[mn]u)s?$/i,"$1s"],[/([^l]ias|[aeiou]las|[emjzr]as|[iu]am)$/i,"$1"],[/(alumn|syllab|octop|vir|radi|nucle|fung|cact|stimul|termin|bacill|foc|uter|loc|strat)(?:us|i)$/i,"$1i"],[/(alumn|alg|vertebr)(?:a|ae)$/i,"$1ae"],[/(seraph|cherub)(?:im)?$/i,"$1im"],[/(her|at|gr)o$/i,"$1oes"],[/(agend|addend|millenni|dat|extrem|bacteri|desiderat|strat|candelabr|errat|ov|symposi|curricul|automat|quor)(?:a|um)$/i,"$1a"],[/(apheli|hyperbat|periheli|asyndet|noumen|phenomen|criteri|organ|prolegomen|hedr|automat)(?:a|on)$/i,"$1a"],[/sis$/i,"ses"],[/(?:(kni|wi|li)fe|(ar|l|ea|eo|oa|hoo)f)$/i,"$1$2ves"],[/([^aeiouy]|qu)y$/i,"$1ies"],[/([^ch][ieo][ln])ey$/i,"$1ies"],[/(x|ch|ss|sh|zz)$/i,"$1es"],[/(matr|cod|mur|sil|vert|ind|append)(?:ix|ex)$/i,"$1ices"],[/(m|l)(?:ice|ouse)$/i,"$1ice"],[/(pe)(?:rson|ople)$/i,"$1ople"],[/(child)(?:ren)?$/i,"$1ren"],[/eaux$/i,"$0"],[/m[ae]n$/i,"men"],["thou","you"]].forEach(function(rule){return pluralize.addPluralRule(rule[0],rule[1])});[[/s$/i,""],[/(ss)$/i,"$1"],[/((a)naly|(b)a|(d)iagno|(p)arenthe|(p)rogno|(s)ynop|(t)he)(?:sis|ses)$/i,"$1sis"],[/(^analy)(?:sis|ses)$/i,"$1sis"],[/(wi|kni|(?:after|half|high|low|mid|non|night|[^\w]|^)li)ves$/i,"$1fe"],[/(ar|(?:wo|[ae])l|[eo][ao])ves$/i,"$1f"],[/ies$/i,"y"],[/\b([pl]|zomb|(?:neck|cross)?t|coll|faer|food|gen|goon|group|lass|talk|goal|cut)ies$/i,"$1ie"],[/\b(mon|smil)ies$/i,"$1ey"],[/(m|l)ice$/i,"$1ouse"],[/(seraph|cherub)im$/i,"$1"],[/(x|ch|ss|sh|zz|tto|go|cho|alias|[^aou]us|tlas|gas|(?:her|at|gr)o|ris)(?:es)?$/i,"$1"],[/(e[mn]u)s?$/i,"$1"],[/(movie|twelve)s$/i,"$1"],[/(cris|test|diagnos)(?:is|es)$/i,"$1is"],[/(alumn|syllab|octop|vir|radi|nucle|fung|cact|stimul|termin|bacill|foc|uter|loc|strat)(?:us|i)$/i,"$1us"],[/(agend|addend|millenni|dat|extrem|bacteri|desiderat|strat|candelabr|errat|ov|symposi|curricul|quor)a$/i,"$1um"],[/(apheli|hyperbat|periheli|asyndet|noumen|phenomen|criteri|organ|prolegomen|hedr|automat)a$/i,"$1on"],[/(alumn|alg|vertebr)ae$/i,"$1a"],[/(cod|mur|sil|vert|ind)ices$/i,"$1ex"],[/(matr|append)ices$/i,"$1ix"],[/(pe)(rson|ople)$/i,"$1rson"],[/(child)ren$/i,"$1"],[/(eau)x?$/i,"$1"],[/men$/i,"man"]].forEach(function(rule){return pluralize.addSingularRule(rule[0],rule[1])});["advice","adulthood","agenda","aid","alcohol","ammo","athletics","bison","blood","bream","buffalo","butter","carp","cash","chassis","chess","clothing","commerce","cod","cooperation","corps","digestion","debris","diabetes","energy","equipment","elk","excretion","expertise","flounder","fun","gallows","garbage","graffiti","headquarters","health","herpes","highjinks","homework","housework","information","jeans","justice","kudos","labour","literature","machinery","mackerel","mail","media","mews","moose","music","news","pike","plankton","pliers","pollution","premises","rain","research","rice","salmon","scissors","series","sewage","shambles","shrimp","species","staff","swine","trout","traffic","transporation","tuna","wealth","welfare","whiting","wildebeest","wildlife","you",/pox$/i,/ois$/i,/deer$/i,/fish$/i,/sheep$/i,/measles$/i,/[^aeiou]ese$/i].forEach(pluralize.addUncountableRule);return pluralize})},7028:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.InfoAlerts=InfoAlerts;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(4);var _propTypes2=_interopRequireDefault(_propTypes);var _add_role_alert=__webpack_require__(7029);var _alert_call_out=__webpack_require__(7030);var _enable_monitoring_alert=__webpack_require__(7031);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function InfoAlerts(_ref){var showAddRoleAlert=_ref.showAddRoleAlert,showEnableMonitoringAlert=_ref.showEnableMonitoringAlert;return showAddRoleAlert||showEnableMonitoringAlert?_react2.default.createElement(_alert_call_out.AlertCallOut,null,showAddRoleAlert&&_react2.default.createElement(_add_role_alert.AddRoleAlert,null),showEnableMonitoringAlert&&_react2.default.createElement(_enable_monitoring_alert.EnableMonitoringAlert,null)):null}InfoAlerts.propTypes={showAddRoleAlert:_propTypes2.default.bool.isRequired,showEnableMonitoringAlert:_propTypes2.default.bool.isRequired}},7029:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.AddRoleAlert=AddRoleAlert;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _eui=__webpack_require__(2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function AddRoleAlert(){return _react2.default.createElement("p",null,_react2.default.createElement("strong",null,"Grant additional privileges. "),"In Kibana Management, assign the ",_react2.default.createElement(_eui.EuiCode,null,"monitoring_user")," role to your Kibana user.")}},7030:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.AlertCallOut=AlertCallOut;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _eui=__webpack_require__(2);var _constants=__webpack_require__(2215);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function AlertCallOut(props){return _react2.default.createElement(_eui.EuiCallOut,{title:_constants.PIPELINE_LIST.INFO_ALERTS.CALL_OUT_TITLE,color:"warning",iconType:"help"},_react2.default.createElement("p",null,"How can I see additional pipelines?"),props.children)}},7031:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.EnableMonitoringAlert=EnableMonitoringAlert;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _eui=__webpack_require__(2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function EnableMonitoringAlert(){return _react2.default.createElement("p",null,_react2.default.createElement("strong",null,"Enable monitoring. "),"In the ",_react2.default.createElement(_eui.EuiCode,null,"kibana.yml")," file, set",_react2.default.createElement(_eui.EuiCode,null,"xpack.monitoring.enabled")," and",_react2.default.createElement(_eui.EuiCode,null,"xpack.monitoring.ui.enabled")," to",_react2.default.createElement(_eui.EuiCode,null,"true"),".")}},7032:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.PipelinesTable=PipelinesTable;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _eui=__webpack_require__(2);var _constants=__webpack_require__(2215);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function getColumns(openPipeline,clonePipeline){return[{field:"id",name:"Id",sortable:true,render:function render(id,_ref){var isCentrallyManaged=_ref.isCentrallyManaged;var openPipelineClicked=function openPipelineClicked(){return openPipeline(id)};return isCentrallyManaged?_react2.default.createElement(_eui.EuiLink,{onClick:openPipelineClicked,"data-test-subj":"cellId"},id):_react2.default.createElement("span",null,id," ",_react2.default.createElement(_eui.EuiIconTip,{content:_constants.PIPELINE_LIST.PIPELINE_NOT_CENTRALLY_MANAGED_TOOLTIP_TEXT,type:"questionInCircle"}))}},{field:"description",name:"Description",render:function render(description){return _react2.default.createElement("span",{"data-test-subj":"cellDescription"},description)},sortable:true,truncateText:true},{field:"lastModifiedHumanized",name:"Last Modified",render:function render(lastModified){return _react2.default.createElement("span",{"data-test-subj":"cellLastModified"},lastModified)},sortable:true},{field:"username",name:"Modified By",render:function render(username){return _react2.default.createElement("span",{"data-test-subj":"cellUsername"},username)},sortable:true},{field:"id",name:"",render:function render(id,_ref2){var isCentrallyManaged=_ref2.isCentrallyManaged;var cloneClicked=function cloneClicked(){clonePipeline(id)};return isCentrallyManaged?_react2.default.createElement(_eui.EuiButtonEmpty,{"data-test-subj":"lnkPipelineClone-"+id,iconType:"copy",onClick:cloneClicked,size:"xs"},"Clone"):null},sortable:false,width:"100px"}]}function PipelinesTable(_ref3){var clonePipeline=_ref3.clonePipeline,createPipeline=_ref3.createPipeline,isReadOnly=_ref3.isReadOnly,isSelectable=_ref3.isSelectable,message=_ref3.message,onDeleteSelectedPipelines=_ref3.onDeleteSelectedPipelines,onSelectionChange=_ref3.onSelectionChange,openPipeline=_ref3.openPipeline,pipelines=_ref3.pipelines,selection=_ref3.selection,pageIndex=_ref3.pageIndex;var pagination={pageIndex:pageIndex,initialPageSize:_constants.PIPELINE_LIST.INITIAL_PAGE_SIZE,totalItemCount:pipelines.length,pageSizeOptions:_constants.PIPELINE_LIST.PAGE_SIZE_OPTIONS};var selectableMessage=function selectableMessage(selectable,_ref4){var id=_ref4.id;return selectable?'Select pipeline "'+id+'"':_constants.PIPELINE_LIST.PIPELINE_NOT_CENTRALLY_MANAGED_TOOLTIP_TEXT};var selectionOptions=isSelectable?{selectable:function selectable(_ref5){var isCentrallyManaged=_ref5.isCentrallyManaged;return isCentrallyManaged},selectableMessage:selectableMessage,onSelectionChange:onSelectionChange}:null;var deleteButton=selection.length&&!isReadOnly?_react2.default.createElement(_eui.EuiButton,{key:"btnDeletePipelines",color:"danger",onClick:onDeleteSelectedPipelines,"data-test-subj":"btnDeletePipeline"},"Delete"):null;var search={box:{incremental:true,"data-test-subj":"filter"},filters:[{type:"field_value_selection",field:"id",name:"Filter by ID",multiSelect:false,options:pipelines.map(function(_ref6){var id=_ref6.id;return{value:id,name:id,view:id}})}],toolsLeft:deleteButton,toolsRight:_react2.default.createElement(_eui.EuiButton,{isDisabled:isReadOnly,key:"btnAdd",fill:true,onClick:createPipeline,"data-test-subj":"btnAdd"},"Create pipeline")};var columns=getColumns(openPipeline,clonePipeline);return _react2.default.createElement(_eui.EuiInMemoryTable,{columns:columns,"data-test-subj":"pipelineTable",isSelectable:isSelectable,itemId:"id",items:pipelines,message:message,pagination:pagination,search:search,selection:selectionOptions,sorting:true})}},7033:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ConfirmDeleteModal=ConfirmDeleteModal;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _eui=__webpack_require__(2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function ConfirmDeleteModal(_ref){var cancelDeletePipelines=_ref.cancelDeletePipelines,deleteSelectedPipelines=_ref.deleteSelectedPipelines,selection=_ref.selection,showConfirmDeleteModal=_ref.showConfirmDeleteModal;if(!showConfirmDeleteModal)return null;var numPipelinesSelected=selection.length;var confirmText=1===numPipelinesSelected?{message:"You cannot recover a deleted pipeline",button:"Delete pipeline",title:'Delete pipeline "'+selection[0].id+'"'}:{message:"You cannot recover deleted pipelines.",button:"Delete "+numPipelinesSelected+" pipelines",title:"Delete "+numPipelinesSelected+" pipelines"};return _react2.default.createElement(_eui.EuiOverlayMask,null,_react2.default.createElement(_eui.EuiConfirmModal,{buttonColor:"danger",cancelButtonText:"Cancel",confirmButtonText:confirmText.button,defaultFocusedButton:_eui.EUI_MODAL_CANCEL_BUTTON,onCancel:cancelDeletePipelines,onConfirm:deleteSelectedPipelines,title:confirmText.title},_react2.default.createElement("p",null,confirmText.message)))}},7034:function(module,exports,__webpack_require__){"use strict";__webpack_require__(7035)},7035:function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(3);var _pipelines_service=__webpack_require__(7036);__webpack_require__(2217);_modules.uiModules.get("xpack/logstash").factory("pipelinesService",function($injector){var $http=$injector.get("$http");var $window=$injector.get("$window");var Promise=$injector.get("Promise");var monitoringService=$injector.get("xpackLogstashMonitoringService");return new _pipelines_service.PipelinesService($http,$window,Promise,monitoringService)})},7036:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.PipelinesService=void 0;var _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[];var _n=true;var _d=false;var _e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{!_n&&_i["return"]&&_i["return"]()}finally{if(_d)throw _e}}return _arr}return function(arr,i){if(Array.isArray(arr))return arr;if(Symbol.iterator in Object(arr))return sliceIterator(arr,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _chrome=__webpack_require__(9);var _chrome2=_interopRequireDefault(_chrome);var _constants=__webpack_require__(451);var _pipeline_list_item=__webpack_require__(2216);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}return Array.from(arr)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var RECENTLY_DELETED_PIPELINE_IDS_STORAGE_KEY="xpack.logstash.recentlyDeletedPipelines";exports.PipelinesService=function(){function PipelinesService($http,$window,Promise,monitoringService){_classCallCheck(this,PipelinesService);this.$http=$http;this.$window=$window;this.Promise=Promise;this.monitoringService=monitoringService;this.basePath=_chrome2.default.addBasePath(_constants.ROUTES.API_ROOT)}_createClass(PipelinesService,[{key:"getPipelineList",value:function getPipelineList(){var _this=this;return this.Promise.all([this.getManagementPipelineList(),this.getMonitoringPipelineList()]).then(function(_ref){var _ref2=_slicedToArray(_ref,2),managementPipelines=_ref2[0],monitoringPipelines=_ref2[1];var now=Date.now();var monitoringPipelineIds=monitoringPipelines.map(function(pipeline){return pipeline.id});_this.getRecentlyDeleted().forEach(function(recentlyDeletedPipeline){if(now-recentlyDeletedPipeline.deletedOn<1e3*_constants.MONITORING.ACTIVE_PIPELINE_RANGE_S)return;if(monitoringPipelineIds.includes(recentlyDeletedPipeline.id))return;_this.removeFromRecentlyDeleted(recentlyDeletedPipeline.id)});var managementPipelineIds=managementPipelines.map(function(pipeline){return pipeline.id});return managementPipelines.concat(monitoringPipelines.filter(function(monitoringPipeline){return!managementPipelineIds.includes(monitoringPipeline.id)&&!_this.isRecentlyDeleted(monitoringPipeline.id)}))})}},{key:"getManagementPipelineList",value:function getManagementPipelineList(){return this.$http.get(this.basePath+"/pipelines").then(function(response){return response.data.pipelines.map(function(pipeline){return _pipeline_list_item.PipelineListItem.fromUpstreamJSON(pipeline)})})}},{key:"getMonitoringPipelineList",value:function getMonitoringPipelineList(){return this.monitoringService.getPipelineList()}},{key:"deletePipelines",value:function deletePipelines(pipelineIds){var _this2=this;var requestOpts={data:{pipelineIds:pipelineIds},headers:{"Content-Type":"application/json"}};return this.$http.delete(this.basePath+"/pipelines",requestOpts).then(function(response){_this2.addToRecentlyDeleted.apply(_this2,_toConsumableArray(pipelineIds));return response.data.results})}},{key:"addToRecentlyDeleted",value:function addToRecentlyDeleted(){var recentlyDeletedPipelines=this.getRecentlyDeleted();var recentlyDeletedPipelineIds=recentlyDeletedPipelines.map(function(pipeline){return pipeline.id});for(var _len=arguments.length,pipelineIds=Array(_len),_key=0;_key<_len;_key++)pipelineIds[_key]=arguments[_key];pipelineIds.forEach(function(pipelineId){recentlyDeletedPipelineIds.includes(pipelineId)||recentlyDeletedPipelines.push({id:pipelineId,deletedOn:Date.now()})});this.setRecentlyDeleted(recentlyDeletedPipelines)}},{key:"removeFromRecentlyDeleted",value:function removeFromRecentlyDeleted(){for(var _len2=arguments.length,pipelineIds=Array(_len2),_key2=0;_key2<_len2;_key2++)pipelineIds[_key2]=arguments[_key2];var recentlyDeletedPipelinesToKeep=this.getRecentlyDeleted().filter(function(recentlyDeletedPipeline){return!pipelineIds.includes(recentlyDeletedPipeline.id)});this.setRecentlyDeleted(recentlyDeletedPipelinesToKeep)}},{key:"isRecentlyDeleted",value:function isRecentlyDeleted(pipelineId){return this.getRecentlyDeleted().map(function(pipeline){return pipeline.id}).includes(pipelineId)}},{key:"getRecentlyDeleted",value:function getRecentlyDeleted(){var recentlyDeletedPipelines=this.$window.localStorage.getItem(RECENTLY_DELETED_PIPELINE_IDS_STORAGE_KEY);if(!recentlyDeletedPipelines)return[];return JSON.parse(recentlyDeletedPipelines)}},{key:"setRecentlyDeleted",value:function setRecentlyDeleted(recentlyDeletedPipelineIds){this.$window.localStorage.setItem(RECENTLY_DELETED_PIPELINE_IDS_STORAGE_KEY,JSON.stringify(recentlyDeletedPipelineIds))}}]);return PipelinesService}()},7037:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.PipelineListItem=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _lodash=__webpack_require__(1);var _get_search_value=__webpack_require__(7038);var _get_moment=__webpack_require__(7040);var _constants=__webpack_require__(451);function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}exports.PipelineListItem=function(){function PipelineListItem(props){_classCallCheck(this,PipelineListItem);this.id=props.id;this.origin=props.origin;this.description=props.description;this.username=props.username;if(props.lastModified){this.lastModified=(0,_get_moment.getMoment)(props.lastModified);this.lastModifiedHumanized=(0,_lodash.capitalize)(this.lastModified.fromNow())}}_createClass(PipelineListItem,[{key:"searchValue",get:function get(){return(0,_get_search_value.getSearchValue)(this,["id"])}},{key:"isCentrallyManaged",get:function get(){return this.origin===_constants.PIPELINE.ORIGIN.CCM}}],[{key:"fromUpstreamJSON",value:function fromUpstreamJSON(pipelineListItem){var props=(0,_lodash.pick)(pipelineListItem,["id","description","username"]);props.origin=_constants.PIPELINE.ORIGIN.CCM;props.lastModified=pipelineListItem.last_modified;return new PipelineListItem(props)}},{key:"fromUpstreamMonitoringJSON",value:function fromUpstreamMonitoringJSON(pipelineListItem){var props=(0,_lodash.pick)(pipelineListItem,["id"]);props.origin=_constants.PIPELINE.ORIGIN.OTHER;return new PipelineListItem(props)}}]);return PipelineListItem}()},7038:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _get_search_value=__webpack_require__(7039);Object.defineProperty(exports,"getSearchValue",{enumerable:true,get:function get(){return _get_search_value.getSearchValue}})},7039:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getSearchValue=getSearchValue;var _lodash=__webpack_require__(1);function getSearchValue(obj,fields){return(0,_lodash.values)((0,_lodash.pick)(obj,fields)).join("\n")}},7040:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getMoment=getMoment;var _moment=__webpack_require__(12);var _moment2=_interopRequireDefault(_moment);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function getMoment(date){if(!date)return null;return(0,_moment2.default)(date)}},7041:function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(3);var _monitoring_service=__webpack_require__(7042);__webpack_require__(2218);_modules.uiModules.get("xpack/logstash").factory("xpackLogstashMonitoringService",function($injector){var $http=$injector.get("$http");var Promise=$injector.get("Promise");var monitoringUiEnabled=$injector.has("monitoringUiEnabled")&&$injector.get("monitoringUiEnabled");var clusterService=$injector.get("xpackLogstashClusterService");return new _monitoring_service.MonitoringService($http,Promise,monitoringUiEnabled,clusterService)})},7042:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.MonitoringService=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _moment=__webpack_require__(12);var _moment2=_interopRequireDefault(_moment);var _chrome=__webpack_require__(9);var _chrome2=_interopRequireDefault(_chrome);var _constants=__webpack_require__(451);var _pipeline_list_item=__webpack_require__(2216);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}exports.MonitoringService=function(){function MonitoringService($http,Promise,monitoringUiEnabled,clusterService){_classCallCheck(this,MonitoringService);this.$http=$http;this.Promise=Promise;this.monitoringUiEnabled=monitoringUiEnabled;this.clusterService=clusterService;this.basePath=_chrome2.default.addBasePath(_constants.ROUTES.MONITORING_API_ROOT)}_createClass(MonitoringService,[{key:"isMonitoringEnabled",value:function isMonitoringEnabled(){return this.monitoringUiEnabled}},{key:"getPipelineList",value:function getPipelineList(){var _this=this;if(!this.isMonitoringEnabled())return Promise.resolve([]);return this.clusterService.loadCluster().then(function(cluster){var url=_this.basePath+"/v1/clusters/"+cluster.uuid+"/logstash/pipelines";var now=_moment2.default.utc();var body={timeRange:{max:now.toISOString(),min:now.subtract(_constants.MONITORING.ACTIVE_PIPELINE_RANGE_S,"seconds").toISOString()}};return _this.$http.post(url,body)}).then(function(response){return response.data.pipelines.map(function(pipeline){return _pipeline_list_item.PipelineListItem.fromUpstreamMonitoringJSON(pipeline)})}).catch(function(){return[]})}}]);return MonitoringService}()},7043:function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(3);var _cluster_service=__webpack_require__(7044);_modules.uiModules.get("xpack/logstash").factory("xpackLogstashClusterService",function($injector){var $http=$injector.get("$http");return new _cluster_service.ClusterService($http)})},7044:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ClusterService=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _chrome=__webpack_require__(9);var _chrome2=_interopRequireDefault(_chrome);var _constants=__webpack_require__(451);var _cluster=__webpack_require__(7045);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}exports.ClusterService=function(){function ClusterService($http){_classCallCheck(this,ClusterService);this.$http=$http;this.basePath=_chrome2.default.addBasePath(_constants.ROUTES.API_ROOT)}_createClass(ClusterService,[{key:"loadCluster",value:function loadCluster(){return this.$http.get(this.basePath+"/cluster").then(function(response){if(!response.data)return;return _cluster.Cluster.fromUpstreamJSON(response.data.cluster)})}},{key:"isClusterInfoAvailable",value:function isClusterInfoAvailable(){return this.loadCluster().then(function(cluster){return Boolean(cluster)}).catch(function(){return false})}}]);return ClusterService}()},7045:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _cluster=__webpack_require__(7046);Object.defineProperty(exports,"Cluster",{enumerable:true,get:function get(){return _cluster.Cluster}})},7046:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Cluster=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _lodash=__webpack_require__(1);function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}exports.Cluster=function(){function Cluster(props){_classCallCheck(this,Cluster);this.uuid=(0,_lodash.get)(props,"uuid")}_createClass(Cluster,null,[{key:"fromUpstreamJSON",value:function fromUpstreamJSON(cluster){return new Cluster({uuid:cluster.uuid})}}]);return Cluster}()},7047:function(module,exports,__webpack_require__){"use strict";__webpack_require__(7048)},7048:function(module,exports,__webpack_require__){"use strict";var _management=__webpack_require__(84);var _routes=__webpack_require__(13);var _routes2=_interopRequireDefault(_routes);var _xpack_info=__webpack_require__(73);__webpack_require__(7049);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}_routes2.default.defaults(/\/management/,{resolve:{reportingManagementSection:function reportingManagementSection(Private){var xpackInfo=Private(_xpack_info.XPackInfoProvider);var kibanaManagementSection=_management.management.getSection("kibana");var showReportingLinks=xpackInfo.get("features.reporting.management.showLinks");kibanaManagementSection.deregister("reporting");if(showReportingLinks){var enableReportingLinks=xpackInfo.get("features.reporting.management.enableLinks");var tooltipMessage=xpackInfo.get("features.reporting.management.message");var url=void 0;var tooltip=void 0;enableReportingLinks?url="#/management/kibana/reporting":tooltip=tooltipMessage;return kibanaManagementSection.register("reporting",{order:15,display:"Reporting",url:url,tooltip:tooltip})}}}})},7049:function(module,exports,__webpack_require__){"use strict";var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _reactDom=__webpack_require__(14);var _xpack_info=__webpack_require__(73);var _routes=__webpack_require__(13);var _routes2=_interopRequireDefault(_routes);var _jobs=__webpack_require__(7050);var _jobs2=_interopRequireDefault(_jobs);var _report_listing=__webpack_require__(7051);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var REACT_ANCHOR_DOM_ELEMENT_ID="reportListingAnchor";_routes2.default.when("/management/kibana/reporting",{template:_jobs2.default,controllerAs:"jobsCtrl",controller:function controller($scope,kbnUrl,Private){var xpackInfo=Private(_xpack_info.XPackInfoProvider);$scope.$$postDigest(function(){var node=document.getElementById(REACT_ANCHOR_DOM_ELEMENT_ID);if(!node)return;(0,_reactDom.render)(_react2.default.createElement(_report_listing.ReportListing,{badLicenseMessage:xpackInfo.get("features.reporting.management.message"),showLinks:xpackInfo.get("features.reporting.management.showLinks"),enableLinks:xpackInfo.get("features.reporting.management.enableLinks"),redirect:kbnUrl.redirect}),node)});$scope.$on("$destroy",function(){var node=document.getElementById(REACT_ANCHOR_DOM_ELEMENT_ID);node&&(0,_reactDom.unmountComponentAtNode)(node)})}})},7050:function(module,exports){module.exports='<kbn-management-app section="kibana">\n  <div id="reportListingAnchor"></div>\n</kbn-management-app>\n'},7051:function(module,exports,__webpack_require__){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var moment_1=tslib_1.__importDefault(__webpack_require__(12));var react_1=tslib_1.__importStar(__webpack_require__(0));var chrome_1=tslib_1.__importDefault(__webpack_require__(9));var notify_1=__webpack_require__(11);var poller_1=__webpack_require__(1603);var download_report_1=__webpack_require__(1604);var job_queue_client_1=__webpack_require__(997);var report_error_button_1=__webpack_require__(7052);var eui_1=__webpack_require__(2);var ReportListing=function(_react_1$Component){_inherits(ReportListing,_react_1$Component);function ReportListing(props){var _this2=this;_classCallCheck(this,ReportListing);var _this=_possibleConstructorReturn(this,(ReportListing.__proto__||Object.getPrototypeOf(ReportListing)).call(this,props));_this.renderDownloadButton=function(record){if("completed"!==record.status)return;var button=react_1.default.createElement(eui_1.EuiButtonIcon,{onClick:function onClick(){return download_report_1.downloadReport(record.id)},iconType:"importAction","aria-label":"Download report"});if(record.max_size_reached)return react_1.default.createElement(eui_1.EuiToolTip,{position:"top",content:"Max size reached, contains partial data."},button);return button};_this.renderReportErrorButton=function(record){if("failed"!==record.status)return;return react_1.default.createElement(report_error_button_1.ReportErrorButton,{jobId:record.id})};_this.onTableChange=function(_ref){var page=_ref.page;var pageIndex=page.index;_this.setState({page:pageIndex},_this.fetchJobs)};_this.fetchJobs=_asyncToGenerator(regeneratorRuntime.mark(function _callee(){var jobs,total;return regeneratorRuntime.wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_this.isInitialJobsFetch&&_this.setState({isLoading:true});jobs=void 0;total=void 0;_context.prev=3;_context.next=6;return job_queue_client_1.jobQueueClient.list(_this.state.page);case 6:jobs=_context.sent;_context.next=9;return job_queue_client_1.jobQueueClient.total();case 9:total=_context.sent;_this.isInitialJobsFetch=false;_context.next=22;break;case 13:_context.prev=13;_context.t0=_context["catch"](3);if(_this.licenseAllowsToShowThisPage()){_context.next=19;break}notify_1.toastNotifications.addDanger(_this.props.badLicenseMessage);_this.props.redirect("/management");return _context.abrupt("return");case 19:401!==_context.t0.res.status&&403!==_context.t0.res.status&&notify_1.toastNotifications.addDanger(_context.t0.res.statusText||"Request failed");_this.mounted&&_this.setState({isLoading:false,jobs:[],total:0});return _context.abrupt("return");case 22:_this.mounted&&_this.setState({isLoading:false,total:total,jobs:jobs.map(function(job){return{id:job._id,type:job._source.jobtype,object_type:job._source.payload.type,object_title:job._source.payload.title,created_by:job._source.created_by,created_at:job._source.created_at,started_at:job._source.started_at,completed_at:job._source.completed_at,status:job._source.status,max_size_reached:!!job._source.output&&job._source.output.max_size_reached}})});case 23:case"end":return _context.stop()}},_callee,_this2,[[3,13]])}));_this.licenseAllowsToShowThisPage=function(){return _this.props.showLinks&&_this.props.enableLinks};_this.state={page:0,total:0,jobs:[],isLoading:false};_this.isInitialJobsFetch=true;return _this}_createClass(ReportListing,[{key:"render",value:function render(){return react_1.default.createElement(eui_1.EuiPage,null,react_1.default.createElement(eui_1.EuiPageBody,{restrictWidth:true},react_1.default.createElement(eui_1.EuiPageContent,{horizontalPosition:"center"},react_1.default.createElement(eui_1.EuiTitle,null,react_1.default.createElement("h1",null,"Reports")),this.renderTable())))}},{key:"componentWillUnmount",value:function componentWillUnmount(){this.mounted=false;this.poller.stop()}},{key:"componentDidMount",value:function componentDidMount(){var _this3=this;this.mounted=true;var _chrome_1$default$get=chrome_1.default.getInjected("reportingPollConfig"),jobsRefresh=_chrome_1$default$get.jobsRefresh;this.poller=new poller_1.Poller({functionToPoll:function functionToPoll(){return _this3.fetchJobs()},pollFrequencyInMillis:jobsRefresh.interval,trailing:false,continuePollingOnError:true,pollFrequencyErrorMultiplier:jobsRefresh.intervalErrorMultiplier});this.poller.start()}},{key:"renderTable",value:function renderTable(){var _this4=this;var tableColumns=[{field:"object_title",name:"Report",render:function render(objectTitle,record){return react_1.default.createElement("div",null,react_1.default.createElement("div",null,objectTitle),react_1.default.createElement(eui_1.EuiText,{size:"s"},react_1.default.createElement(eui_1.EuiTextColor,{color:"subdued"},record.object_type)))}},{field:"created_at",name:"Created at",render:function render(createdAt,record){if(record.created_by)return react_1.default.createElement("div",null,react_1.default.createElement("div",null,_this4.formatDate(createdAt)),react_1.default.createElement("span",null,record.created_by));return _this4.formatDate(createdAt)}},{field:"status",name:"Status",render:function render(status,record){if("pending"===status)return react_1.default.createElement("div",null,"pending - waiting for job to be processed");var maxSizeReached=void 0;record.max_size_reached&&(maxSizeReached=react_1.default.createElement("span",null," - max size reached"));var statusTimestamp=void 0;"processing"===status&&record.started_at?statusTimestamp=_this4.formatDate(record.started_at):!record.completed_at||"completed"!==status&&"failed"!==status||(statusTimestamp=_this4.formatDate(record.completed_at));if(statusTimestamp)return react_1.default.createElement("div",null,status," at ",react_1.default.createElement("span",{className:"eui-textNoWrap"},statusTimestamp),maxSizeReached);return react_1.default.createElement("div",null,status,maxSizeReached)}},{name:"Actions",actions:[{render:function render(record){return react_1.default.createElement("div",null,_this4.renderDownloadButton(record),_this4.renderReportErrorButton(record))}}]}];var pagination={pageIndex:this.state.page,pageSize:10,totalItemCount:this.state.total,hidePerPageOptions:true};return react_1.default.createElement(eui_1.EuiBasicTable,{itemId:"id",items:this.state.jobs,loading:this.state.isLoading,columns:tableColumns,noItemsMessage:this.state.isLoading?"Loading reports":"No reports have been created",pagination:pagination,onChange:this.onTableChange})}},{key:"formatDate",value:function formatDate(timestamp){try{return moment_1.default(timestamp).format("YYYY-MM-DD @ hh:mm A")}catch(error){return timestamp}}}]);return ReportListing}(react_1.Component);exports.ReportListing=ReportListing},7052:function(module,exports,__webpack_require__){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var eui_1=__webpack_require__(2);var react_1=tslib_1.__importStar(__webpack_require__(0));var job_queue_client_1=__webpack_require__(997);var ReportErrorButton=function(_react_1$Component){_inherits(ReportErrorButton,_react_1$Component);function ReportErrorButton(props){var _this2=this;_classCallCheck(this,ReportErrorButton);var _this=_possibleConstructorReturn(this,(ReportErrorButton.__proto__||Object.getPrototypeOf(ReportErrorButton)).call(this,props));_this.togglePopover=function(){_this.setState(function(prevState){return{isPopoverOpen:!prevState.isPopoverOpen}});_this.state.error||_this.loadError()};_this.closePopover=function(){_this.setState({isPopoverOpen:false})};_this.loadError=_asyncToGenerator(regeneratorRuntime.mark(function _callee(){var reportContent;return regeneratorRuntime.wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_this.setState({isLoading:true});_context.prev=1;_context.next=4;return job_queue_client_1.jobQueueClient.getContent(_this.props.jobId);case 4:reportContent=_context.sent;_this.mounted&&_this.setState({isLoading:false,error:reportContent.content});_context.next=11;break;case 8:_context.prev=8;_context.t0=_context["catch"](1);_this.mounted&&_this.setState({isLoading:false,calloutTitle:"Unable to fetch report content",error:_context.t0.message});case 11:case"end":return _context.stop()}},_callee,_this2,[[1,8]])}));_this.state={isLoading:false,isPopoverOpen:false,calloutTitle:"Unable to generate report"};return _this}_createClass(ReportErrorButton,[{key:"render",value:function render(){var button=react_1.default.createElement(eui_1.EuiButtonIcon,{onClick:this.togglePopover,iconType:"alert",color:"danger","aria-label":"Show report error"});return react_1.default.createElement(eui_1.EuiPopover,{id:"popover",button:button,isOpen:this.state.isPopoverOpen,closePopover:this.closePopover,anchorPosition:"downRight"},react_1.default.createElement(eui_1.EuiCallOut,{color:"danger",title:this.state.calloutTitle},react_1.default.createElement("p",null,this.state.error)))}},{key:"componentWillUnmount",value:function componentWillUnmount(){this.mounted=false}},{key:"componentDidMount",value:function componentDidMount(){this.mounted=true}}]);return ReportErrorButton}(react_1.Component);exports.ReportErrorButton=ReportErrorButton},7053:function(module,exports,__webpack_require__){"use strict";var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _feature_catalogue=__webpack_require__(62);var _reactDom=__webpack_require__(14);var _reactRedux=__webpack_require__(19);var _reactRouterDom=__webpack_require__(49);var _react3=__webpack_require__(10);var _management=__webpack_require__(84);var _routes=__webpack_require__(13);var _routes2=_interopRequireDefault(_routes);var _constants=__webpack_require__(644);var _services=__webpack_require__(81);var _app=__webpack_require__(7068);var _main=__webpack_require__(7167);var _main2=_interopRequireDefault(_main);var _store=__webpack_require__(7168);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}var esSection=_management.management.getSection("elasticsearch");esSection.register("rollup_jobs",{visible:true,display:"Rollup Jobs",order:2,url:"#"+_constants.CRUD_APP_BASE_PATH+"/job_list"});var renderReact=(_ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee(elem){return regeneratorRuntime.wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:(0,_reactDom.render)(_react2.default.createElement(_react3.I18nProvider,null,_react2.default.createElement(_reactRedux.Provider,{store:_store.rollupJobsStore},_react2.default.createElement(_reactRouterDom.HashRouter,null,_react2.default.createElement(_app.App,null)))),elem);case 1:case"end":return _context.stop()}},_callee,void 0)})),function renderReact(_x){return _ref.apply(this,arguments)});var _ref;_routes2.default.when(_constants.CRUD_APP_BASE_PATH+"/:view?",{template:_main2.default,controllerAs:"rollupJobs",controller:function IndexRollupJobsController($scope,$route,$injector){_classCallCheck(this,IndexRollupJobsController);(0,_services.setHttp)($injector.get("$http"));(0,_services.setUserHasLeftApp)(false);$scope.$$postDigest(function(){var appElement=document.getElementById("rollupJobsReactRoot");renderReact(appElement);var appRoute=$route.current;var stopListeningForLocationChange=$scope.$on("$locationChangeSuccess",function(){var currentRoute=$route.current;var isNavigationInApp=currentRoute.$$route.template===appRoute.$$route.template;isNavigationInApp?$route.current=appRoute:(0,_services.setUserHasLeftApp)(true)});$scope.$on("$destroy",function(){stopListeningForLocationChange();(0,_reactDom.unmountComponentAtNode)(appElement)})})}});_feature_catalogue.FeatureCatalogueRegistryProvider.register(function(){return{id:"rollup_jobs",title:"Rollups",description:"Summarize and store historical data in a smaller index for future analysis.",icon:"indexRollupApp",path:"#"+_constants.CRUD_APP_BASE_PATH+"/job_list",showOnHomePage:true,category:_feature_catalogue.FeatureCatalogueCategory.ADMIN}})},7054:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.CRUD_APP_BASE_PATH="/management/elasticsearch/rollup_jobs"},7055:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.validateIndexPattern=exports.createJob=exports.deleteJobs=exports.stopJobs=exports.startJobs=exports.loadJobs=void 0;exports.loadJobs=(_ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee(){var _ref2,jobs;return regeneratorRuntime.wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return(0,_http_provider.getHttp)().get(apiPrefix+"/jobs");case 2:_ref2=_context.sent;jobs=_ref2.data.jobs;return _context.abrupt("return",jobs);case 5:case"end":return _context.stop()}},_callee,this)})),function loadJobs(){return _ref.apply(this,arguments)});var _ref;exports.startJobs=(_ref3=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(jobIds){var body;return regeneratorRuntime.wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:body={jobIds:jobIds};_context2.next=3;return(0,_http_provider.getHttp)().post(apiPrefix+"/start",body);case 3:return _context2.abrupt("return",_context2.sent);case 4:case"end":return _context2.stop()}},_callee2,this)})),function startJobs(_x){return _ref3.apply(this,arguments)});var _ref3;exports.stopJobs=(_ref4=_asyncToGenerator(regeneratorRuntime.mark(function _callee3(jobIds){var body;return regeneratorRuntime.wrap(function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:body={jobIds:jobIds};_context3.next=3;return(0,_http_provider.getHttp)().post(apiPrefix+"/stop",body);case 3:return _context3.abrupt("return",_context3.sent);case 4:case"end":return _context3.stop()}},_callee3,this)})),function stopJobs(_x2){return _ref4.apply(this,arguments)});var _ref4;exports.deleteJobs=(_ref5=_asyncToGenerator(regeneratorRuntime.mark(function _callee4(jobIds){var body;return regeneratorRuntime.wrap(function _callee4$(_context4){while(1)switch(_context4.prev=_context4.next){case 0:body={jobIds:jobIds};_context4.next=3;return(0,_http_provider.getHttp)().post(apiPrefix+"/delete",body);case 3:return _context4.abrupt("return",_context4.sent);case 4:case"end":return _context4.stop()}},_callee4,this)})),function deleteJobs(_x3){return _ref5.apply(this,arguments)});var _ref5;exports.createJob=(_ref6=_asyncToGenerator(regeneratorRuntime.mark(function _callee5(job){var body;return regeneratorRuntime.wrap(function _callee5$(_context5){while(1)switch(_context5.prev=_context5.next){case 0:body={job:job};_context5.next=3;return(0,_http_provider.getHttp)().put(apiPrefix+"/create",body);case 3:return _context5.abrupt("return",_context5.sent);case 4:case"end":return _context5.stop()}},_callee5,this)})),function createJob(_x4){return _ref6.apply(this,arguments)});var _ref6;exports.validateIndexPattern=(_ref7=_asyncToGenerator(regeneratorRuntime.mark(function _callee6(indexPattern){return regeneratorRuntime.wrap(function _callee6$(_context6){while(1)switch(_context6.prev=_context6.next){case 0:_context6.next=2;return(0,_http_provider.getHttp)().get(apiPrefix+"/index_pattern_validity/"+indexPattern);case 2:return _context6.abrupt("return",_context6.sent);case 3:case"end":return _context6.stop()}},_callee6,this)})),function validateIndexPattern(_x5){return _ref7.apply(this,arguments)});var _ref7;var _chrome=__webpack_require__(9);var _chrome2=_interopRequireDefault(_chrome);var _http_provider=__webpack_require__(2219);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}var apiPrefix=_chrome2.default.addBasePath("/api/rollup")},7056:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.showApiWarning=showApiWarning;exports.showApiError=showApiError;var _notify=__webpack_require__(11);function createToastConfig(error,errorTitle){if(error&&error.data){var _error$data=error.data,errorString=_error$data.error,statusCode=_error$data.statusCode,message=_error$data.message;return{title:errorTitle,text:statusCode+": "+errorString+". "+message}}}function showApiWarning(error,errorTitle){var toastConfig=createToastConfig(error,errorTitle);if(toastConfig)return _notify.toastNotifications.addWarning(toastConfig);return(0,_notify.fatalError)(error,errorTitle)}function showApiError(error,errorTitle){var toastConfig=createToastConfig(error,errorTitle);if(toastConfig)return _notify.toastNotifications.addDanger(toastConfig);(0,_notify.fatalError)(error,errorTitle)}},7057:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.cronExpressionToParts=cronExpressionToParts;exports.cronPartsToExpression=cronPartsToExpression;exports.MINUTE="MINUTE";exports.HOUR="HOUR";exports.DAY="DAY";exports.WEEK="WEEK";exports.MONTH="MONTH";exports.YEAR="YEAR";function cronExpressionToParts(expression){var parsedCron={second:void 0,minute:void 0,hour:void 0,day:void 0,date:void 0,month:void 0};var parts=expression.split(" ");parts.length>=1&&(parsedCron.second=parts[0]);parts.length>=2&&(parsedCron.minute=parts[1]);parts.length>=3&&(parsedCron.hour=parts[2]);parts.length>=4&&(parsedCron.date=parts[3]);parts.length>=5&&(parsedCron.month=parts[4]);parts.length>=6&&(parsedCron.day=parts[5]);return parsedCron}function cronPartsToExpression(_ref){var second=_ref.second,minute=_ref.minute,hour=_ref.hour,day=_ref.day,date=_ref.date,month=_ref.month;return second+" "+minute+" "+hour+" "+date+" "+month+" "+day}},7058:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.cronUrl=exports.dateHistogramAggregationUrl=exports.metricsDetailsUrl=exports.histogramDetailsUrl=exports.termsDetailsUrl=exports.dateHistogramDetailsUrl=exports.logisticalDetailsUrl=void 0;var _documentation_links=__webpack_require__(242);var esBase=_documentation_links.ELASTIC_WEBSITE_URL+"guide/en/elasticsearch/reference/"+_documentation_links.DOC_LINK_VERSION;var xPackBase=_documentation_links.ELASTIC_WEBSITE_URL+"guide/en/x-pack/"+_documentation_links.DOC_LINK_VERSION;exports.logisticalDetailsUrl=esBase+"/rollup-job-config.html#_logistical_details";exports.dateHistogramDetailsUrl=esBase+"/rollup-job-config.html#_date_histogram_2";exports.termsDetailsUrl=esBase+"/rollup-job-config.html#_terms_2";exports.histogramDetailsUrl=esBase+"/rollup-job-config.html#_histogram_2";exports.metricsDetailsUrl=esBase+"/rollup-job-config.html#rollup-metrics-config";exports.dateHistogramAggregationUrl=esBase+"/search-aggregations-bucket-datehistogram-aggregation.html";exports.cronUrl=xPackBase+"/trigger-schedule.html#_cron_expressions"},7059:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.filterItems=function filterItems(fields){var filter=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";var items=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];var normalizedFilter=filter.toLowerCase();return items.filter(function(item){var actualFields=fields||Object.keys(item);var indexOfMatch=actualFields.findIndex(function(field){var normalizedField=String(item[field]).toLowerCase();return normalizedField.includes(normalizedFilter)});return-1!==indexOfMatch})}},7060:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.flattenPanelTree=function flattenPanelTree(tree){var array=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];array.push(tree);tree.items&&tree.items.forEach(function(item){if(item.panel){flattenPanelTree(item.panel,array);item.panel=item.panel.id}});return array}},7061:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.formatFields=formatFields;function formatFields(fieldNames,type){return fieldNames.map(function(fieldName){return{name:fieldName,type:type}})}},7062:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getOrdinalValue=getOrdinalValue;exports.getDayName=getDayName;exports.getMonthName=getMonthName;var _i18n=__webpack_require__(18);var dayOrdinalToDayNameMap={0:_i18n.i18n.translate("xpack.rollupJobs.util.day.sunday",{defaultMessage:"Sunday"}),1:_i18n.i18n.translate("xpack.rollupJobs.util.day.monday",{defaultMessage:"Monday"}),2:_i18n.i18n.translate("xpack.rollupJobs.util.day.tuesday",{defaultMessage:"Tuesday"}),3:_i18n.i18n.translate("xpack.rollupJobs.util.day.wednesday",{defaultMessage:"Wednesday"}),4:_i18n.i18n.translate("xpack.rollupJobs.util.day.thursday",{defaultMessage:"Thursday"}),5:_i18n.i18n.translate("xpack.rollupJobs.util.day.friday",{defaultMessage:"Friday"}),6:_i18n.i18n.translate("xpack.rollupJobs.util.day.saturday",{defaultMessage:"Saturday"})};var monthOrdinalToMonthNameMap={0:_i18n.i18n.translate("xpack.rollupJobs.util.month.january",{defaultMessage:"January"}),1:_i18n.i18n.translate("xpack.rollupJobs.util.month.february",{defaultMessage:"February"}),2:_i18n.i18n.translate("xpack.rollupJobs.util.month.march",{defaultMessage:"April"}),3:_i18n.i18n.translate("xpack.rollupJobs.util.month.april",{defaultMessage:"March"}),4:_i18n.i18n.translate("xpack.rollupJobs.util.month.may",{defaultMessage:"May"}),5:_i18n.i18n.translate("xpack.rollupJobs.util.month.june",{defaultMessage:"June"}),6:_i18n.i18n.translate("xpack.rollupJobs.util.month.july",{defaultMessage:"July"}),7:_i18n.i18n.translate("xpack.rollupJobs.util.month.august",{defaultMessage:"August"}),8:_i18n.i18n.translate("xpack.rollupJobs.util.month.september",{defaultMessage:"September"}),9:_i18n.i18n.translate("xpack.rollupJobs.util.month.october",{defaultMessage:"October"}),10:_i18n.i18n.translate("xpack.rollupJobs.util.month.november",{defaultMessage:"November"}),11:_i18n.i18n.translate("xpack.rollupJobs.util.month.december",{defaultMessage:"December"})};function getOrdinalValue(number){var num=number&&number.toString();var lastDigit=num&&num.substr(-1);var ordinal=void 0;if(!lastDigit)return number;lastDigit=parseFloat(lastDigit);switch(lastDigit){case 1:ordinal="st";break;case 2:ordinal="nd";break;case 3:ordinal="rd";break;default:ordinal="th"}return""+num+ordinal}function getDayName(dayOrdinal){return dayOrdinalToDayNameMap[dayOrdinal]}function getMonthName(monthOrdinal){return monthOrdinalToMonthNameMap[monthOrdinal]}},7063:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.serializeJob=serializeJob;exports.deserializeJob=deserializeJob;exports.deserializeJobs=deserializeJobs;function removeEmptyValues(object){Object.keys(object).forEach(function(key){null!=object[key]&&""!==object[key].trim()||delete object[key]});return object}function serializeJob(jobConfig){var id=jobConfig.id,indexPattern=jobConfig.indexPattern,rollupIndex=jobConfig.rollupIndex,rollupCron=jobConfig.rollupCron,dateHistogramInterval=jobConfig.dateHistogramInterval,rollupDelay=jobConfig.rollupDelay,rollupPageSize=jobConfig.rollupPageSize,dateHistogramTimeZone=jobConfig.dateHistogramTimeZone,dateHistogramField=jobConfig.dateHistogramField,metrics=jobConfig.metrics,terms=jobConfig.terms,histogram=jobConfig.histogram,histogramInterval=jobConfig.histogramInterval;var serializedJob={id:id,index_pattern:indexPattern,rollup_index:rollupIndex,cron:rollupCron,page_size:rollupPageSize,groups:{date_histogram:removeEmptyValues({interval:dateHistogramInterval,delay:rollupDelay,time_zone:dateHistogramTimeZone,field:dateHistogramField})}};terms.length&&(serializedJob.groups.terms={fields:terms.map(function(_ref){var name=_ref.name;return name})});histogram.length&&(serializedJob.groups.histogram={interval:histogramInterval,fields:histogram.map(function(_ref2){var name=_ref2.name;return name})});if(metrics.length){serializedJob.metrics=[];metrics.forEach(function(_ref3){var name=_ref3.name,types=_ref3.types;types.length&&serializedJob.metrics.push({field:name,metrics:types})})}return serializedJob}function deserializeJob(job){var _job$config=job.config,id=_job$config.id,indexPattern=_job$config.index_pattern,rollupIndex=_job$config.rollup_index,rollupCron=_job$config.cron,metrics=_job$config.metrics,_job$config$groups=_job$config.groups,_job$config$groups$da=_job$config$groups.date_histogram,dateHistogramInterval=_job$config$groups$da.interval,rollupDelay=_job$config$groups$da.delay,dateHistogramTimeZone=_job$config$groups$da.time_zone,dateHistogramField=_job$config$groups$da.field,terms=_job$config$groups.terms,histogram=_job$config$groups.histogram,status=job.status.job_state,_job$stats=job.stats,documentsProcessed=_job$stats.documents_processed,pagesProcessed=_job$stats.pages_processed,rollupsIndexed=_job$stats.rollups_indexed,triggerCount=_job$stats.trigger_count;var json=job;var deserializedJob={id:id,indexPattern:indexPattern,rollupIndex:rollupIndex,rollupCron:rollupCron,dateHistogramInterval:dateHistogramInterval,rollupDelay:rollupDelay,dateHistogramTimeZone:dateHistogramTimeZone,dateHistogramField:dateHistogramField,status:status,metrics:[],terms:[],histogram:[],documentsProcessed:documentsProcessed,pagesProcessed:pagesProcessed,rollupsIndexed:rollupsIndexed,triggerCount:triggerCount,json:json};metrics&&metrics.forEach(function(_ref4){var field=_ref4.field,metrics=_ref4.metrics;deserializedJob.metrics.push({name:field,types:metrics})});terms&&(deserializedJob.terms=terms.fields.map(function(name){return{name:name}}));if(histogram){deserializedJob.histogram=histogram.fields.map(function(name){return{name:name}});deserializedJob.histogramInterval=histogram.interval}return deserializedJob}function deserializeJobs(jobs){return jobs.map(deserializeJob)}},7064:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.createNoticeableDelay=createNoticeableDelay;function createNoticeableDelay(promise){var noticeableDelay=new Promise(function(resolve){return setTimeout(function(){resolve()},300)});return Promise.all([promise,noticeableDelay])}},7065:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[];var _n=true;var _d=false;var _e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{!_n&&_i["return"]&&_i["return"]()}finally{if(_d)throw _e}}return _arr}return function(arr,i){if(Array.isArray(arr))return arr;if(Symbol.iterator in Object(arr))return sliceIterator(arr,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();exports.extractQueryParams=extractQueryParams;function extractQueryParams(queryString){if(!queryString||0===queryString.trim().length)return{};var extractedQueryParams={};var queryParamPairs=queryString.split("?")[1].split("&").map(function(paramString){return paramString.split("=")});queryParamPairs.forEach(function(_ref){var _ref2=_slicedToArray(_ref,2),key=_ref2[0],value=_ref2[1];extractedQueryParams[key]=decodeURIComponent(value)});return extractedQueryParams}},7066:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.setUserHasLeftApp=setUserHasLeftApp;exports.getUserHasLeftApp=getUserHasLeftApp;exports.registerRouter=registerRouter;exports.getRouter=getRouter;exports.getRouterLinkProps=getRouterLinkProps;var _history=__webpack_require__(341);var _userHasLeftApp=false;function setUserHasLeftApp(userHasLeftApp){_userHasLeftApp=userHasLeftApp}function getUserHasLeftApp(){return _userHasLeftApp}var isModifiedEvent=function isModifiedEvent(event){return!!(event.metaKey||event.altKey||event.ctrlKey||event.shiftKey)};var isLeftClickEvent=function isLeftClickEvent(event){return 0===event.button};var router=void 0;function registerRouter(reactRouter){router=reactRouter}function getRouter(){return router}function getRouterLinkProps(to){var location="string"===typeof to?(0,_history.createLocation)(to,null,null,router.history.location):to;var href=router.history.createHref(location);var onClick=function onClick(event){if(event.defaultPrevented)return;if(event.target.getAttribute("target"))return;if(isModifiedEvent(event)||!isLeftClickEvent(event))return;event.preventDefault();router.history.push(location)};return{href:href,onClick:onClick}}},7067:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.sortTable=void 0;var _lodash=__webpack_require__(1);var stringSort=function stringSort(fieldName){return function(item){return item[fieldName]}};var sorters={};exports.sortTable=function sortTable(){var array=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];var sortField=arguments[1];var isSortAscending=arguments[2];var sorter=sorters[sortField]||stringSort(sortField);var sorted=(0,_lodash.sortBy)(array,sorter);return isSortAscending?sorted:sorted.reverse()}},7068:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.App=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(4);var _propTypes2=_interopRequireDefault(_propTypes);var _reactRouterDom=__webpack_require__(49);var _constants=__webpack_require__(644);var _services=__webpack_require__(81);var _sections=__webpack_require__(7069);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var App=exports.App=function(_Component){_inherits(App,_Component);function App(){var _ref;_classCallCheck(this,App);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];var _this=_possibleConstructorReturn(this,(_ref=App.__proto__||Object.getPrototypeOf(App)).call.apply(_ref,[this].concat(args)));_this.registerRouter();return _this}_createClass(App,[{key:"registerRouter",value:function registerRouter(){var router=this.context.router;(0,_services.registerRouter)(router)}},{key:"componentWillUnmount",value:function componentWillUnmount(){(0,_services.setUserHasLeftApp)(true)}},{key:"render",value:function render(){return _react2.default.createElement("div",null,_react2.default.createElement(_reactRouterDom.Switch,null,_react2.default.createElement(_reactRouterDom.Redirect,{exact:true,from:""+_constants.CRUD_APP_BASE_PATH,to:_constants.CRUD_APP_BASE_PATH+"/job_list"}),_react2.default.createElement(_reactRouterDom.Route,{exact:true,path:_constants.CRUD_APP_BASE_PATH+"/job_list",component:_sections.JobList}),_react2.default.createElement(_reactRouterDom.Route,{exact:true,path:_constants.CRUD_APP_BASE_PATH+"/create",component:_sections.JobCreate})))}}]);return App}(_react.Component);App.contextTypes={router:_propTypes2.default.shape({history:_propTypes2.default.shape({push:_propTypes2.default.func.isRequired,createHref:_propTypes2.default.func.isRequired}).isRequired}).isRequired}},7069:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _job_list=__webpack_require__(7070);Object.defineProperty(exports,"JobList",{enumerable:true,get:function get(){return _job_list.JobList}});var _job_create=__webpack_require__(7099);Object.defineProperty(exports,"JobCreate",{enumerable:true,get:function get(){return _job_create.JobCreate}})},7070:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _job_list=__webpack_require__(7071);Object.defineProperty(exports,"JobList",{enumerable:true,get:function get(){return _job_list.JobList}})},7071:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.JobList=void 0;var _reactRedux=__webpack_require__(19);var _selectors=__webpack_require__(544);var _actions=__webpack_require__(645);var _job_list=__webpack_require__(7077);var mapStateToProps=function mapStateToProps(state){return{jobs:(0,_selectors.getPageOfJobs)(state),isLoading:(0,_selectors.isLoading)(state),jobLoadError:(0,_selectors.jobLoadError)(state)}};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{loadJobs:function loadJobs(){dispatch((0,_actions.loadJobs)())},refreshJobs:function refreshJobs(){dispatch((0,_actions.refreshJobs)())},openDetailPanel:function openDetailPanel(jobId){dispatch((0,_actions.openDetailPanel)({jobId:jobId}))},closeDetailPanel:function closeDetailPanel(){dispatch((0,_actions.closeDetailPanel)())}}};exports.JobList=(0,_reactRedux.connect)(mapStateToProps,mapDispatchToProps)(_job_list.JobList)},7072:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.stopJobs=exports.startJobs=void 0;var _i18n=__webpack_require__(18);var _services=__webpack_require__(81);var _action_types=__webpack_require__(248);var _refresh_jobs=__webpack_require__(1262);function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}exports.startJobs=function startJobs(jobIds){return _ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee(dispatch){return regeneratorRuntime.wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:dispatch({type:_action_types.UPDATE_JOB_START});_context.prev=1;_context.next=4;return(0,_services.createNoticeableDelay)((0,_services.startJobs)(jobIds));case 4:_context.next=10;break;case 6:_context.prev=6;_context.t0=_context["catch"](1);dispatch({type:_action_types.UPDATE_JOB_FAILURE});return _context.abrupt("return",(0,_services.showApiError)(_context.t0,_i18n.i18n.translate("xpack.rollupJobs.startJobsAction.errorTitle",{defaultMessage:"Error starting rollup jobs"})));case 10:dispatch({type:_action_types.UPDATE_JOB_SUCCESS});dispatch((0,_refresh_jobs.refreshJobs)());case 12:case"end":return _context.stop()}},_callee,void 0,[[1,6]])})),function(_x){return _ref.apply(this,arguments)};var _ref};exports.stopJobs=function stopJobs(jobIds){return _ref2=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(dispatch){return regeneratorRuntime.wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:dispatch({type:_action_types.UPDATE_JOB_START});_context2.prev=1;_context2.next=4;return(0,_services.createNoticeableDelay)((0,_services.stopJobs)(jobIds));case 4:_context2.next=10;break;case 6:_context2.prev=6;_context2.t0=_context2["catch"](1);dispatch({type:_action_types.UPDATE_JOB_FAILURE});return _context2.abrupt("return",(0,_services.showApiError)(_context2.t0,_i18n.i18n.translate("xpack.rollupJobs.stopJobsAction.errorTitle",{defaultMessage:"Error stopping rollup jobs"})));case 10:dispatch({type:_action_types.UPDATE_JOB_SUCCESS});dispatch((0,_refresh_jobs.refreshJobs)());case 12:case"end":return _context2.stop()}},_callee2,void 0,[[1,6]])})),function(_x2){return _ref2.apply(this,arguments)};var _ref2}},7073:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.clearCreateJobErrors=exports.createJob=void 0;var _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[];var _n=true;var _d=false;var _e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{!_n&&_i["return"]&&_i["return"]()}finally{if(_d)throw _e}}return _arr}return function(arr,i){if(Array.isArray(arr))return arr;if(Symbol.iterator in Object(arr))return sliceIterator(arr,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();var _i18n=__webpack_require__(18);var _notify=__webpack_require__(11);var _constants=__webpack_require__(644);var _services=__webpack_require__(81);var _action_types=__webpack_require__(248);function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}exports.createJob=function createJob(jobConfig){return _ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee(dispatch){var newJob,_ref2,_ref3,statusCode,data;return regeneratorRuntime.wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:dispatch({type:_action_types.CREATE_JOB_START});newJob=void 0;_context.prev=2;_context.next=5;return Promise.all([(0,_services.createJob)((0,_services.serializeJob)(jobConfig)),new Promise(function(resolve){return setTimeout(resolve,500)})]);case 5:_ref2=_context.sent;_ref3=_slicedToArray(_ref2,1);newJob=_ref3[0];_context.next=19;break;case 10:_context.prev=10;_context.t0=_context["catch"](2);if(!_context.t0){_context.next=18;break}statusCode=_context.t0.statusCode,data=_context.t0.data;if(!data){_context.next=18;break}if(!(409===(statusCode||data&&data.statusCode))){_context.next=17;break}return _context.abrupt("return",dispatch({type:_action_types.CREATE_JOB_FAILURE,payload:{error:{message:_i18n.i18n.translate("xpack.rollupJobs.createAction.jobIdAlreadyExistsErrorMessage",{defaultMessage:"A job with ID {jobConfigId} already exists.",values:{jobConfigId:jobConfig.id}})}}}));case 17:return _context.abrupt("return",dispatch({type:_action_types.CREATE_JOB_FAILURE,payload:{error:{message:_i18n.i18n.translate("xpack.rollupJobs.createAction.failedDefaultErrorMessage",{defaultMessage:"Request failed with a {statusCode} error. {message}",values:{statusCode:statusCode,message:data.message}}),cause:data.cause}}}));case 18:return _context.abrupt("return",(0,_notify.fatalError)(_context.t0,_i18n.i18n.translate("xpack.rollupJobs.createAction.errorTitle",{defaultMessage:"Error creating rollup job"})));case 19:dispatch({type:_action_types.CREATE_JOB_SUCCESS,payload:{job:(0,_services.deserializeJob)(newJob.data)}});(0,_services.getRouter)().history.push({pathname:_constants.CRUD_APP_BASE_PATH+"/job_list",search:"?job="+jobConfig.id});case 21:case"end":return _context.stop()}},_callee,void 0,[[2,10]])})),function(_x){return _ref.apply(this,arguments)};var _ref};exports.clearCreateJobErrors=function clearCreateJobErrors(){return function(dispatch){dispatch({type:_action_types.CLEAR_CREATE_JOB_ERRORS})}}},7074:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.deleteJobs=void 0;var _i18n=__webpack_require__(18);var _notify=__webpack_require__(11);var _services=__webpack_require__(81);var _selectors=__webpack_require__(544);var _action_types=__webpack_require__(248);var _refresh_jobs=__webpack_require__(1262);var _detail_panel=__webpack_require__(2220);function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}exports.deleteJobs=function deleteJobs(jobIds){return _ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee(dispatch,getState){var detailPanelJob;return regeneratorRuntime.wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:dispatch({type:_action_types.UPDATE_JOB_START});_context.prev=1;_context.next=4;return(0,_services.createNoticeableDelay)((0,_services.deleteJobs)(jobIds));case 4:_context.next=10;break;case 6:_context.prev=6;_context.t0=_context["catch"](1);dispatch({type:_action_types.UPDATE_JOB_FAILURE});return _context.abrupt("return",(0,_services.showApiError)(_context.t0,_i18n.i18n.translate("xpack.rollupJobs.deleteAction.errorTitle",{defaultMessage:"Error deleting rollup jobs"})));case 10:1===jobIds.length?_notify.toastNotifications.addSuccess(_i18n.i18n.translate("xpack.rollupJobs.deleteAction.successSingleNotificationTitle",{defaultMessage:"Rollup job {jobId} was deleted",values:{jobId:jobIds[0]}})):_notify.toastNotifications.addSuccess(_i18n.i18n.translate("xpack.rollupJobs.deleteAction.successMultipleNotificationTitle",{defaultMessage:"{count} rollup jobs were deleted",values:{count:jobIds.length}}));detailPanelJob=(0,_selectors.getDetailPanelJob)(getState());detailPanelJob&&jobIds.includes(detailPanelJob.id)&&dispatch((0,_detail_panel.closeDetailPanel)());dispatch({type:_action_types.UPDATE_JOB_SUCCESS});dispatch((0,_refresh_jobs.refreshJobs)());case 15:case"end":return _context.stop()}},_callee,void 0,[[1,6]])})),function(_x,_x2){return _ref.apply(this,arguments)};var _ref}},7075:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.loadJobs=void 0;var _i18n=__webpack_require__(18);var _services=__webpack_require__(81);var _action_types=__webpack_require__(248);function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}exports.loadJobs=function loadJobs(){return _ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee(dispatch){var jobs;return regeneratorRuntime.wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:dispatch({type:_action_types.LOAD_JOBS_START});jobs=void 0;_context.prev=2;_context.next=5;return(0,_services.loadJobs)();case 5:jobs=_context.sent;_context.next=12;break;case 8:_context.prev=8;_context.t0=_context["catch"](2);dispatch({type:_action_types.LOAD_JOBS_FAILURE,payload:{error:_context.t0}});return _context.abrupt("return",(0,_services.showApiError)(_context.t0,_i18n.i18n.translate("xpack.rollupJobs.loadAction.errorTitle",{defaultMessage:"Error loading rollup jobs"})));case 12:dispatch({type:_action_types.LOAD_JOBS_SUCCESS,payload:{jobs:(0,_services.deserializeJobs)(jobs)}});case 13:case"end":return _context.stop()}},_callee,void 0,[[2,8]])})),function(_x){return _ref.apply(this,arguments)};var _ref}},7076:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.sortChanged=exports.pageSizeChanged=exports.pageChanged=exports.filterChanged=void 0;var _action_types=__webpack_require__(248);exports.filterChanged=function filterChanged(_ref){var filter=_ref.filter;return function(dispatch){dispatch({type:_action_types.FILTER_CHANGED,payload:{filter:filter}})}};exports.pageChanged=function pageChanged(_ref2){var pageNumber=_ref2.pageNumber;return function(dispatch){dispatch({type:_action_types.PAGE_CHANGED,payload:{pageNumber:pageNumber}})}};exports.pageSizeChanged=function pageSizeChanged(_ref3){var pageSize=_ref3.pageSize;return function(dispatch){dispatch({type:_action_types.PAGE_SIZE_CHANGED,payload:{pageSize:pageSize}})}};exports.sortChanged=function sortChanged(_ref4){var sortField=_ref4.sortField,isSortAscending=_ref4.isSortAscending;return function(dispatch){dispatch({type:_action_types.SORT_CHANGED,payload:{sortField:sortField,isSortAscending:isSortAscending}})}}},7077:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.JobList=exports.JobListUi=void 0;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(4);var _propTypes2=_interopRequireDefault(_propTypes);var _react3=__webpack_require__(10);var _eui=__webpack_require__(2);var _constants=__webpack_require__(644);var _services=__webpack_require__(81);var _job_table=__webpack_require__(7078);var _detail_panel=__webpack_require__(7096);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var REFRESH_RATE_MS=3e4;var JobListUi=exports.JobListUi=function(_Component){_inherits(JobListUi,_Component);_createClass(JobListUi,null,[{key:"getDerivedStateFromProps",value:function getDerivedStateFromProps(props){var openDetailPanel=props.openDetailPanel,search=props.history.location.search;var _extractQueryParams=(0,_services.extractQueryParams)(search),jobId=_extractQueryParams.job;null!=jobId&&openDetailPanel(jobId);return null}}]);function JobListUi(props){_classCallCheck(this,JobListUi);var _this=_possibleConstructorReturn(this,(JobListUi.__proto__||Object.getPrototypeOf(JobListUi)).call(this,props));_this.state={};props.loadJobs();return _this}_createClass(JobListUi,[{key:"componentDidMount",value:function componentDidMount(){this.interval=setInterval(this.props.refreshJobs,REFRESH_RATE_MS)}},{key:"componentWillUnmount",value:function componentWillUnmount(){clearInterval(this.interval);this.props.closeDetailPanel()}},{key:"getHeaderSection",value:function getHeaderSection(){return _react2.default.createElement(_eui.EuiPageContentHeaderSection,null,_react2.default.createElement(_eui.EuiTitle,{size:"l"},_react2.default.createElement("h1",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.jobListTitle",defaultMessage:"Rollup jobs"}))))}},{key:"renderNoPermission",value:function renderNoPermission(){var intl=this.props.intl;var title=intl.formatMessage({id:"xpack.rollupJobs.jobList.noPermissionTitle",defaultMessage:"Permission error"});return _react2.default.createElement(_react.Fragment,null,this.getHeaderSection(),_react2.default.createElement(_eui.EuiSpacer,{size:"m"}),_react2.default.createElement(_eui.EuiCallOut,{title:title,color:"warning",iconType:"help"},_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.jobList.noPermissionText",defaultMessage:"You do not have permission to view or add rollup jobs."})))}},{key:"renderError",value:function renderError(error){var _error$data=error.data,statusCode=_error$data.statusCode,errorString=_error$data.error;var intl=this.props.intl;var title=intl.formatMessage({id:"xpack.rollupJobs.jobList.loadingErrorTitle",defaultMessage:"Error loading rollup jobs"});return _react2.default.createElement(_react.Fragment,null,this.getHeaderSection(),_react2.default.createElement(_eui.EuiSpacer,{size:"m"}),_react2.default.createElement(_eui.EuiCallOut,{title:title,color:"danger",iconType:"alert"},statusCode," ",errorString))}},{key:"renderEmpty",value:function renderEmpty(){return _react2.default.createElement(_eui.EuiEmptyPrompt,{iconType:"indexRollupApp",title:_react2.default.createElement("h1",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.jobList.emptyPromptTitle",defaultMessage:"Create your first rollup job"})),body:_react2.default.createElement(_react.Fragment,null,_react2.default.createElement("p",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.jobList.emptyPromptDescription",defaultMessage:"Rollup jobs summarize and store historical data in a smaller index for future analysis."}))),actions:_react2.default.createElement(_eui.EuiButton,_extends({},(0,_services.getRouterLinkProps)(_constants.CRUD_APP_BASE_PATH+"/create"),{fill:true,iconType:"plusInCircle"}),_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.jobList.emptyPrompt.createButtonLabel",defaultMessage:"Create rollup job"}))})}},{key:"renderList",value:function renderList(){var isLoading=this.props.isLoading;var table=void 0;table=isLoading?_react2.default.createElement(_eui.EuiFlexGroup,{justifyContent:"flexStart",alignItems:"center",gutterSize:"s"},_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiLoadingSpinner,{size:"m"})),_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiText,null,_react2.default.createElement(_eui.EuiTextColor,{color:"subdued"},_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.jobList.loadingTitle",defaultMessage:"Loading rollup jobs..."}))))):_react2.default.createElement(_job_table.JobTable,null);return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_eui.EuiPageContentHeader,null,this.getHeaderSection(),_react2.default.createElement(_eui.EuiPageContentHeaderSection,null,_react2.default.createElement(_eui.EuiButton,_extends({fill:true},(0,_services.getRouterLinkProps)(_constants.CRUD_APP_BASE_PATH+"/create")),_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.jobList.createButtonLabel",defaultMessage:"Create rollup job"})))),table,_react2.default.createElement(_detail_panel.DetailPanel,null))}},{key:"render",value:function render(){var _props=this.props,isLoading=_props.isLoading,jobs=_props.jobs,jobLoadError=_props.jobLoadError;var content=void 0;content=jobLoadError?403===jobLoadError.status?this.renderNoPermission():this.renderError(jobLoadError):isLoading||jobs.length?this.renderList():this.renderEmpty();return _react2.default.createElement(_eui.EuiPage,null,_react2.default.createElement(_eui.EuiPageBody,null,_react2.default.createElement(_eui.EuiPageContent,null,content)))}}]);return JobListUi}(_react.Component);JobListUi.propTypes={loadJobs:_propTypes2.default.func,refreshJobs:_propTypes2.default.func,openDetailPanel:_propTypes2.default.func,jobs:_propTypes2.default.array,isLoading:_propTypes2.default.bool};exports.JobList=(0,_react3.injectI18n)(JobListUi)},7078:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _job_table=__webpack_require__(7079);Object.defineProperty(exports,"JobTable",{enumerable:true,get:function get(){return _job_table.JobTable}})},7079:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.JobTable=void 0;var _reactRedux=__webpack_require__(19);var _selectors=__webpack_require__(544);var _actions=__webpack_require__(645);var _job_table=__webpack_require__(7080);var mapStateToProps=function mapStateToProps(state){return{jobs:(0,_selectors.getPageOfJobs)(state),pager:(0,_selectors.getPager)(state),filter:(0,_selectors.getFilter)(state),sortField:(0,_selectors.getSortField)(state),isSortAscending:(0,_selectors.isSortAscending)(state)}};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{closeDetailPanel:function closeDetailPanel(){dispatch((0,_actions.closeDetailPanel)())},filterChanged:function filterChanged(filter){dispatch((0,_actions.filterChanged)({filter:filter}))},pageChanged:function pageChanged(pageNumber){dispatch((0,_actions.pageChanged)({pageNumber:pageNumber}))},pageSizeChanged:function pageSizeChanged(pageSize){dispatch((0,_actions.pageSizeChanged)({pageSize:pageSize}))},sortChanged:function sortChanged(sortField,isSortAscending){dispatch((0,_actions.sortChanged)({sortField:sortField,isSortAscending:isSortAscending}))},openDetailPanel:function openDetailPanel(jobId){dispatch((0,_actions.openDetailPanel)({jobId:jobId}))}}};exports.JobTable=(0,_reactRedux.connect)(mapStateToProps,mapDispatchToProps)(_job_table.JobTable)},7080:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.JobTable=exports.JobTableUi=void 0;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(4);var _propTypes2=_interopRequireDefault(_propTypes);var _i18n=__webpack_require__(18);var _react3=__webpack_require__(10);var _eui=__webpack_require__(2);var _components=__webpack_require__(545);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var COLUMNS=[{name:_i18n.i18n.translate("xpack.rollupJobs.jobTable.headers.nameHeader",{defaultMessage:"ID"}),fieldName:"id"},{name:_i18n.i18n.translate("xpack.rollupJobs.jobTable.headers.statusHeader",{defaultMessage:"Status"}),fieldName:"status",render:function render(_ref){var status=_ref.status,rollupCron=_ref.rollupCron;return _react2.default.createElement(_eui.EuiToolTip,{placement:"top",content:"Cron: "+rollupCron},_react2.default.createElement(_components.JobStatus,{status:status}))}},{name:_i18n.i18n.translate("xpack.rollupJobs.jobTable.headers.indexPatternHeader",{defaultMessage:"Index pattern"}),truncateText:true,fieldName:"indexPattern"},{name:_i18n.i18n.translate("xpack.rollupJobs.jobTable.headers.rollupIndexHeader",{defaultMessage:"Rollup index"}),truncateText:true,fieldName:"rollupIndex"},{name:_i18n.i18n.translate("xpack.rollupJobs.jobTable.headers.delayHeader",{defaultMessage:"Delay"}),fieldName:"rollupDelay",render:function render(_ref2){var rollupDelay=_ref2.rollupDelay;return rollupDelay||"None"}},{name:_i18n.i18n.translate("xpack.rollupJobs.jobTable.headers.intervalHeader",{defaultMessage:"Interval"}),fieldName:"dateHistogramInterval"},{name:_i18n.i18n.translate("xpack.rollupJobs.jobTable.headers.groupsHeader",{defaultMessage:"Groups"}),truncateText:true,render:function render(job){var histogram=job.histogram,terms=job.terms;var humanizedGroupNames=[];histogram.length&&humanizedGroupNames.push("histogram");terms.length&&humanizedGroupNames.push("terms");if(humanizedGroupNames.length){humanizedGroupNames[0]=humanizedGroupNames[0].replace(/^\w/,function(char){return char.toUpperCase()});return humanizedGroupNames.join(", ")}return""}},{name:_i18n.i18n.translate("xpack.rollupJobs.jobTable.headers.metricsHeader",{defaultMessage:"Metrics"}),truncateText:true,render:function render(job){var metrics=job.metrics;if(metrics.length)return metrics.map(function(metric){return metric.name}).join(", ");return""}}];var JobTableUi=exports.JobTableUi=function(_Component){_inherits(JobTableUi,_Component);_createClass(JobTableUi,null,[{key:"getDerivedStateFromProps",value:function getDerivedStateFromProps(props,state){var idToSelectedJobMap=state.idToSelectedJobMap;var jobIds=props.jobs.map(function(job){return job.id});var selectedJobIds=Object.keys(idToSelectedJobMap);var missingJobIds=selectedJobIds.filter(function(selectedJobId){return!jobIds.includes(selectedJobId)});if(missingJobIds.length){var newMap=_extends({},idToSelectedJobMap);missingJobIds.forEach(function(missingJobId){return delete newMap[missingJobId]});return{idToSelectedJobMap:newMap}}return null}}]);function JobTableUi(props){_classCallCheck(this,JobTableUi);var _this=_possibleConstructorReturn(this,(JobTableUi.__proto__||Object.getPrototypeOf(JobTableUi)).call(this,props));_this.toggleAll=function(){var allSelected=_this.areAllItemsSelected();if(allSelected)return _this.setState({idToSelectedJobMap:{}});var jobs=_this.props.jobs;var idToSelectedJobMap={};jobs.forEach(function(_ref3){var id=_ref3.id;idToSelectedJobMap[id]=true});_this.setState({idToSelectedJobMap:idToSelectedJobMap})};_this.toggleItem=function(id){_this.setState(function(_ref4){var idToSelectedJobMap=_ref4.idToSelectedJobMap;var newMap=_extends({},idToSelectedJobMap);newMap[id]?delete newMap[id]:newMap[id]=true;return{idToSelectedJobMap:newMap}})};_this.resetSelection=function(){_this.setState({idToSelectedJobMap:{}})};_this.deselectItems=function(itemIds){_this.setState(function(_ref5){var idToSelectedJobMap=_ref5.idToSelectedJobMap;var newMap=_extends({},idToSelectedJobMap);itemIds.forEach(function(id){return delete newMap[id]});return{idToSelectedJobMap:newMap}})};_this.areAllItemsSelected=function(){var jobs=_this.props.jobs;var indexOfUnselectedItem=jobs.findIndex(function(job){return!_this.isItemSelected(job.id)});return-1===indexOfUnselectedItem};_this.isItemSelected=function(id){return!!_this.state.idToSelectedJobMap[id]};_this.onSort=function(column){var _this$props=_this.props,sortField=_this$props.sortField,isSortAscending=_this$props.isSortAscending,sortChanged=_this$props.sortChanged;var newIsSortAscending=sortField!==column||!isSortAscending;sortChanged(column,newIsSortAscending)};_this.state={idToSelectedJobMap:{}};return _this}_createClass(JobTableUi,[{key:"getSelectedJobs",value:function getSelectedJobs(){var jobs=this.props.jobs;var idToSelectedJobMap=this.state.idToSelectedJobMap;return Object.keys(idToSelectedJobMap).map(function(jobId){return jobs.find(function(job){return job.id===jobId})})}},{key:"buildHeader",value:function buildHeader(){var _this2=this;var _props=this.props,sortField=_props.sortField,isSortAscending=_props.isSortAscending;return COLUMNS.map(function(_ref6){var name=_ref6.name,fieldName=_ref6.fieldName;var isSorted=sortField===fieldName;return _react2.default.createElement(_eui.EuiTableHeaderCell,{key:name,onSort:fieldName?function(){return _this2.onSort(fieldName)}:void 0,isSorted:isSorted,isSortAscending:isSortAscending,"data-test-subj":"jobTableHeaderCell-"+name},name)})}},{key:"buildRowCells",value:function buildRowCells(job){var openDetailPanel=this.props.openDetailPanel;return COLUMNS.map(function(_ref7){var name=_ref7.name,fieldName=_ref7.fieldName,render=_ref7.render,truncateText=_ref7.truncateText;var value=render?render(job):job[fieldName];var content=void 0;content="ID"===name?_react2.default.createElement(_eui.EuiLink,{"data-test-subj":"rollupTableJobLink",onClick:function onClick(){openDetailPanel(job.id)}},value):_react2.default.createElement("span",null,value);var wrappedContent=void 0;wrappedContent=truncateText?_react2.default.createElement(_eui.EuiToolTip,{content:value},content):content;return _react2.default.createElement(_eui.EuiTableRowCell,{key:job.id+"-"+name,"data-test-subj":"jobTableCell-"+name,truncateText:truncateText},wrappedContent)})}},{key:"buildRows",value:function buildRows(){var _this3=this;var jobs=this.props.jobs;return jobs.map(function(job){var id=job.id;return _react2.default.createElement(_eui.EuiTableRow,{key:id+"-row"},_react2.default.createElement(_eui.EuiTableRowCellCheckbox,{key:"checkbox-"+id},_react2.default.createElement(_eui.EuiCheckbox,{type:"inList",id:"checkboxSelectIndex-"+id,checked:_this3.isItemSelected(id),onChange:function onChange(){_this3.toggleItem(id)},"data-test-subj":"indexTableRowCheckbox"})),_this3.buildRowCells(job))})}},{key:"renderPager",value:function renderPager(){var _props2=this.props,pager=_props2.pager,pageChanged=_props2.pageChanged,pageSizeChanged=_props2.pageSizeChanged;return _react2.default.createElement(_eui.EuiTablePagination,{activePage:pager.getCurrentPageIndex(),itemsPerPage:pager.itemsPerPage,itemsPerPageOptions:[20,50,100],pageCount:pager.getTotalPages(),onChangeItemsPerPage:pageSizeChanged,onChangePage:pageChanged})}},{key:"render",value:function render(){var _props3=this.props,filterChanged=_props3.filterChanged,filter=_props3.filter,jobs=_props3.jobs,intl=_props3.intl,closeDetailPanel=_props3.closeDetailPanel;var idToSelectedJobMap=this.state.idToSelectedJobMap;var atLeastOneItemSelected=Object.keys(idToSelectedJobMap).length>0;return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_eui.EuiFlexGroup,{gutterSize:"l",alignItems:"center"},atLeastOneItemSelected?_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_components.JobActionMenu,{jobs:this.getSelectedJobs(),closeDetailPanel:closeDetailPanel,resetSelection:this.resetSelection,deselectJobs:this.deselectItems})):null,_react2.default.createElement(_eui.EuiFlexItem,null,_react2.default.createElement(_eui.EuiFieldSearch,{fullWidth:true,value:filter,onChange:function onChange(event){filterChanged(event.target.value)},"data-test-subj":"jobTableFilterInput",placeholder:intl.formatMessage({id:"xpack.rollupJobs.jobTable.searchInputPlaceholder",defaultMessage:"Search"}),"aria-label":"Search jobs"}))),_react2.default.createElement(_eui.EuiSpacer,{size:"m"}),jobs.length>0?_react2.default.createElement(_eui.EuiTable,null,_react2.default.createElement(_eui.EuiTableHeader,null,_react2.default.createElement(_eui.EuiTableHeaderCellCheckbox,null,_react2.default.createElement(_eui.EuiCheckbox,{id:"selectAllJobsCheckbox",checked:this.areAllItemsSelected(),onChange:this.toggleAll,type:"inList"})),this.buildHeader()),_react2.default.createElement(_eui.EuiTableBody,null,this.buildRows())):_react2.default.createElement("div",null,"No rollup jobs to show"),_react2.default.createElement(_eui.EuiSpacer,{size:"m"}),jobs.length>0?this.renderPager():null)}}]);return JobTableUi}(_react.Component);JobTableUi.propTypes={jobs:_propTypes2.default.array,pager:_propTypes2.default.object.isRequired,filter:_propTypes2.default.string.isRequired,sortField:_propTypes2.default.string.isRequired,isSortAscending:_propTypes2.default.bool.isRequired,closeDetailPanel:_propTypes2.default.func.isRequired,filterChanged:_propTypes2.default.func.isRequired,pageChanged:_propTypes2.default.func.isRequired,pageSizeChanged:_propTypes2.default.func.isRequired,sortChanged:_propTypes2.default.func.isRequired};JobTableUi.defaultProps={jobs:[]};exports.JobTable=(0,_react3.injectI18n)(JobTableUi)},7081:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.FieldList=void 0;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(4);var _propTypes2=_interopRequireDefault(_propTypes);var _eui=__webpack_require__(2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var FieldList=exports.FieldList=function FieldList(_ref){var columns=_ref.columns,fields=_ref.fields,onRemoveField=_ref.onRemoveField,addButton=_ref.addButton,emptyMessage=_ref.emptyMessage;var message=void 0;fields.length||(message=_react2.default.createElement(_eui.EuiEmptyPrompt,{title:emptyMessage,titleSize:"xs"}));var extendedColumns=void 0;extendedColumns=onRemoveField?columns.concat({name:"Remove",width:"80px",actions:[{name:"Remove",isPrimary:true,description:"Remove this field",icon:"trash",type:"icon",color:"danger",onClick:function onClick(field){return onRemoveField(field)}}]}):columns;var search={toolsRight:addButton||void 0,box:{incremental:true,placeholder:"Search"}};var pagination={initialPageSize:200,pageSizeOptions:[20,100,200]};return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_eui.EuiInMemoryTable,{items:fields,itemId:"name",columns:extendedColumns,search:search,pagination:pagination,sorting:true,message:message}))};FieldList.propTypes={columns:_propTypes2.default.array.isRequired,fields:_propTypes2.default.array.isRequired,onRemoveField:_propTypes2.default.func,addButton:_propTypes2.default.node,emptyMessage:_propTypes2.default.node}},7082:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _job_action_menu=__webpack_require__(7083);Object.defineProperty(exports,"JobActionMenu",{enumerable:true,get:function get(){return _job_action_menu.JobActionMenu}})},7083:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.JobActionMenu=void 0;var _reactRedux=__webpack_require__(19);var _selectors=__webpack_require__(544);var _actions=__webpack_require__(645);var _job_action_menu=__webpack_require__(7084);var mapStateToProps=function mapStateToProps(state){return{isUpdating:(0,_selectors.isUpdating)(state)}};var mapDispatchToProps=function mapDispatchToProps(dispatch,_ref){var jobs=_ref.jobs;var jobIds=jobs.map(function(job){return job.id});return{startJobs:function startJobs(){dispatch((0,_actions.startJobs)(jobIds))},stopJobs:function stopJobs(){dispatch((0,_actions.stopJobs)(jobIds))},deleteJobs:function deleteJobs(){dispatch((0,_actions.deleteJobs)(jobIds))}}};exports.JobActionMenu=(0,_reactRedux.connect)(mapStateToProps,mapDispatchToProps)(_job_action_menu.JobActionMenu)},7084:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.JobActionMenu=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(4);var _propTypes2=_interopRequireDefault(_propTypes);var _react3=__webpack_require__(10);var _eui=__webpack_require__(2);var _confirm_delete_modal=__webpack_require__(7085);var _services=__webpack_require__(81);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var JobActionMenuUi=function(_Component){_inherits(JobActionMenuUi,_Component);function JobActionMenuUi(props){_classCallCheck(this,JobActionMenuUi);var _this=_possibleConstructorReturn(this,(JobActionMenuUi.__proto__||Object.getPrototypeOf(JobActionMenuUi)).call(this,props));_this.onButtonClick=function(){_this.setState(function(prevState){return{isPopoverOpen:!prevState.isPopoverOpen}})};_this.closePopover=function(){_this.setState({isPopoverOpen:false})};_this.closeDeleteConfirmationModal=function(){_this.setState({showDeleteConfirmation:false})};_this.openDeleteConfirmationModal=function(){_this.setState({showDeleteConfirmation:true})};_this.confirmDeleteModal=function(){var showDeleteConfirmation=_this.state.showDeleteConfirmation;if(!showDeleteConfirmation)return null;var _this$props=_this.props,deleteJobs=_this$props.deleteJobs,jobs=_this$props.jobs;var onConfirmDelete=function onConfirmDelete(){_this.closePopover();deleteJobs()};var isSingleSelection=_this.isSingleSelection();return _react2.default.createElement(_confirm_delete_modal.ConfirmDeleteModal,{isSingleSelection:isSingleSelection,jobs:jobs,onConfirm:onConfirmDelete,onCancel:_this.closeDeleteConfirmationModal})};_this.isSingleSelection=function(){return 1===_this.props.jobs.length};_this.state={isPopoverOpen:false,showDeleteConfirmation:false};return _this}_createClass(JobActionMenuUi,[{key:"panels",value:function panels(){var _this2=this;var _props=this.props,startJobs=_props.startJobs,stopJobs=_props.stopJobs,intl=_props.intl;var isSingleSelection=this.isSingleSelection()?1:0;var items=[];this.canStartJobs()&&items.push({name:intl.formatMessage({id:"xpack.rollupJobs.jobActionMenu.startJobLabel",defaultMessage:"Start {isSingleSelection, plural, one {job} other {jobs}}"},{isSingleSelection:isSingleSelection}),icon:_react2.default.createElement(_eui.EuiIcon,{type:"play"}),onClick:function onClick(){_this2.closePopover();startJobs()}});this.canStopJobs()&&items.push({name:intl.formatMessage({id:"xpack.rollupJobs.jobActionMenu.stopJobLabel",defaultMessage:"Stop {isSingleSelection, plural, one {job} other {jobs}}"},{isSingleSelection:isSingleSelection}),icon:_react2.default.createElement(_eui.EuiIcon,{type:"stop"}),onClick:function onClick(){_this2.closePopover();stopJobs()}});this.canDeleteJobs()&&items.push({name:intl.formatMessage({id:"xpack.rollupJobs.jobActionMenu.deleteJobLabel",defaultMessage:"Delete {isSingleSelection, plural, one {job} other {jobs}}"},{isSingleSelection:isSingleSelection}),icon:_react2.default.createElement(_eui.EuiIcon,{type:"trash"}),onClick:function onClick(){_this2.closePopover();_this2.openDeleteConfirmationModal()}});var panelTree={id:0,title:intl.formatMessage({id:"xpack.rollupJobs.jobActionMenu.panelTitle",defaultMessage:"Job options"}),items:items};return(0,_services.flattenPanelTree)(panelTree)}},{key:"canStartJobs",value:function canStartJobs(){var jobs=this.props.jobs;return jobs.some(function(job){return"stopped"===job.status})}},{key:"canStopJobs",value:function canStopJobs(){var jobs=this.props.jobs;return jobs.some(function(job){return"started"===job.status})}},{key:"canDeleteJobs",value:function canDeleteJobs(){var jobs=this.props.jobs;var areAllJobsStopped=-1===jobs.findIndex(function(job){return"started"===job.status});return areAllJobsStopped}},{key:"render",value:function render(){var _props2=this.props,intl=_props2.intl,isUpdating=_props2.isUpdating;if(isUpdating)return _react2.default.createElement(_eui.EuiFlexGroup,{justifyContent:"flexStart",gutterSize:"m"},_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiLoadingSpinner,{size:"l"})),_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiText,null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.jobActionMenu.updatingText",defaultMessage:"Updating"}))));var jobCount=this.props.jobs.length;var _props3=this.props,iconSide=_props3.iconSide,anchorPosition=_props3.anchorPosition,iconType=_props3.iconType,_props3$label=_props3.label,label=void 0===_props3$label?intl.formatMessage({id:"xpack.rollupJobs.jobActionMenu.buttonLabel",defaultMessage:"Manage {jobCount, plural, one {job} other {jobs}}"},{jobCount:jobCount}):_props3$label;var panels=this.panels();var actionsAriaLabel=intl.formatMessage({id:"xpack.rollupJobs.jobActionMenu.jobActionMenuButtonAriaLabel",defaultMessage:"Job options"});var button=_react2.default.createElement(_eui.EuiButton,{"data-test-subj":"jobActionMenuButton",iconSide:iconSide,"aria-label":actionsAriaLabel,onClick:this.onButtonClick,iconType:iconType,fill:true},label);return _react2.default.createElement("div",null,this.confirmDeleteModal(),_react2.default.createElement(_eui.EuiPopover,{button:button,isOpen:this.state.isPopoverOpen,closePopover:this.closePopover,panelPaddingSize:"none",withTitle:true,anchorPosition:anchorPosition,repositionOnScroll:true},_react2.default.createElement(_eui.EuiContextMenu,{initialPanelId:0,panels:panels})))}}]);return JobActionMenuUi}(_react.Component);JobActionMenuUi.propTypes={startJobs:_propTypes2.default.func.isRequired,stopJobs:_propTypes2.default.func.isRequired,deleteJobs:_propTypes2.default.func.isRequired,isUpdating:_propTypes2.default.bool.isRequired,iconSide:_propTypes2.default.string,anchorPosition:_propTypes2.default.string,label:_propTypes2.default.node,iconType:_propTypes2.default.string,jobs:_propTypes2.default.array};JobActionMenuUi.defaultProps={iconSide:"right",anchorPosition:"rightUp",iconType:"arrowDown",jobs:[]};exports.JobActionMenu=(0,_react3.injectI18n)(JobActionMenuUi)},7085:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _confirm_delete_modal=__webpack_require__(7086);Object.defineProperty(exports,"ConfirmDeleteModal",{enumerable:true,get:function get(){return _confirm_delete_modal.ConfirmDeleteModal}})},7086:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ConfirmDeleteModal=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(4);var _propTypes2=_interopRequireDefault(_propTypes);var _react3=__webpack_require__(10);var _eui=__webpack_require__(2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var ConfirmDeleteModalUi=function(_Component){_inherits(ConfirmDeleteModalUi,_Component);function ConfirmDeleteModalUi(){_classCallCheck(this,ConfirmDeleteModalUi);return _possibleConstructorReturn(this,(ConfirmDeleteModalUi.__proto__||Object.getPrototypeOf(ConfirmDeleteModalUi)).apply(this,arguments))}_createClass(ConfirmDeleteModalUi,[{key:"renderJobs",value:function renderJobs(){var _props=this.props,jobs=_props.jobs,intl=_props.intl;var jobItems=jobs.map(function(_ref){var id=_ref.id,status=_ref.status;var startedMessage=intl.formatMessage({id:"xpack.rollupJobs.jobActionMenu.deleteJob.confirmModal.startedMessage",defaultMessage:"started"});var statusText="started"===status?" ("+startedMessage+")":null;return _react2.default.createElement("li",{key:id},id,statusText)});return _react2.default.createElement("ul",null,jobItems)}},{key:"render",value:function render(){var _props2=this.props,isSingleSelection=_props2.isSingleSelection,jobs=_props2.jobs,onCancel=_props2.onCancel,onConfirm=_props2.onConfirm,intl=_props2.intl;var title=void 0;var content=void 0;if(isSingleSelection){var _jobs$=jobs[0],id=_jobs$.id,status=_jobs$.status;title=intl.formatMessage({id:"xpack.rollupJobs.jobActionMenu.deleteJob.confirmModal.deleteSingleJobTitle",defaultMessage:"Delete rollup job '{id}'?"},{id:id});"started"===status&&(content=_react2.default.createElement("p",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.jobActionMenu.deleteJob.confirmModal.deleteSingleJobDescription",defaultMessage:"This job has been started."})))}else{title=intl.formatMessage({id:"xpack.rollupJobs.jobActionMenu.deleteJob.confirmModal.multipleDeletionTitle",defaultMessage:"Delete {count} rollup jobs?"},{count:jobs.length});content=_react2.default.createElement(_react.Fragment,null,_react2.default.createElement("p",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.jobActionMenu.deleteJob.confirmModal.multipleDeletionDescription",defaultMessage:"You are about to delete {isSingleSelection, plural, one {this job} other {these jobs}}",values:{isSingleSelection:isSingleSelection?1:0}})),this.renderJobs())}return _react2.default.createElement(_eui.EuiOverlayMask,null,_react2.default.createElement(_eui.EuiConfirmModal,{title:title,onCancel:onCancel,onConfirm:onConfirm,cancelButtonText:intl.formatMessage({id:"xpack.rollupJobs.jobActionMenu.deleteJob.confirmModal.cancelButtonText",defaultMessage:"Cancel"}),buttonColor:"danger",confirmButtonText:intl.formatMessage({id:"xpack.rollupJobs.jobActionMenu.deleteJob.confirmModal.confirmButtonText",defaultMessage:"Delete"})},content))}}]);return ConfirmDeleteModalUi}(_react.Component);ConfirmDeleteModalUi.propTypes={isSingleSelection:_propTypes2.default.bool.isRequired,jobs:_propTypes2.default.array.isRequired,onCancel:_propTypes2.default.func.isRequired,onConfirm:_propTypes2.default.func.isRequired};exports.ConfirmDeleteModal=(0,_react3.injectI18n)(ConfirmDeleteModalUi)},7087:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _job_details=__webpack_require__(7088);Object.defineProperty(exports,"JobDetails",{enumerable:true,get:function get(){return _job_details.JobDetails}});Object.defineProperty(exports,"JOB_DETAILS_TAB_SUMMARY",{enumerable:true,get:function get(){return _job_details.JOB_DETAILS_TAB_SUMMARY}});Object.defineProperty(exports,"JOB_DETAILS_TAB_TERMS",{enumerable:true,get:function get(){return _job_details.JOB_DETAILS_TAB_TERMS}});Object.defineProperty(exports,"JOB_DETAILS_TAB_HISTOGRAM",{enumerable:true,get:function get(){return _job_details.JOB_DETAILS_TAB_HISTOGRAM}});Object.defineProperty(exports,"JOB_DETAILS_TAB_METRICS",{enumerable:true,get:function get(){return _job_details.JOB_DETAILS_TAB_METRICS}});Object.defineProperty(exports,"JOB_DETAILS_TAB_JSON",{enumerable:true,get:function get(){return _job_details.JOB_DETAILS_TAB_JSON}});Object.defineProperty(exports,"tabToHumanizedMap",{enumerable:true,get:function get(){return _job_details.tabToHumanizedMap}})},7088:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.JobDetails=exports.tabToHumanizedMap=exports.JOB_DETAILS_TAB_JSON=exports.JOB_DETAILS_TAB_METRICS=exports.JOB_DETAILS_TAB_HISTOGRAM=exports.JOB_DETAILS_TAB_TERMS=exports.JOB_DETAILS_TAB_SUMMARY=void 0;var _tabToHumanizedMap;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(4);var _propTypes2=_interopRequireDefault(_propTypes);var _react3=__webpack_require__(10);var _tabs=__webpack_require__(7089);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _defineProperty(obj,key,value){key in obj?Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true}):obj[key]=value;return obj}var JOB_DETAILS_TAB_SUMMARY=exports.JOB_DETAILS_TAB_SUMMARY="JOB_DETAILS_TAB_SUMMARY";var JOB_DETAILS_TAB_TERMS=exports.JOB_DETAILS_TAB_TERMS="JOB_DETAILS_TAB_TERMS";var JOB_DETAILS_TAB_HISTOGRAM=exports.JOB_DETAILS_TAB_HISTOGRAM="JOB_DETAILS_TAB_HISTOGRAM";var JOB_DETAILS_TAB_METRICS=exports.JOB_DETAILS_TAB_METRICS="JOB_DETAILS_TAB_METRICS";var JOB_DETAILS_TAB_JSON=exports.JOB_DETAILS_TAB_JSON="JOB_DETAILS_TAB_JSON";exports.tabToHumanizedMap=(_tabToHumanizedMap={},_defineProperty(_tabToHumanizedMap,JOB_DETAILS_TAB_SUMMARY,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.create.jobDetails.tabSummaryLabel",defaultMessage:"Summary"})),_defineProperty(_tabToHumanizedMap,JOB_DETAILS_TAB_TERMS,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.create.jobDetails.tabTermsLabel",defaultMessage:"Terms"})),_defineProperty(_tabToHumanizedMap,JOB_DETAILS_TAB_HISTOGRAM,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.create.jobDetails.tabHistogramLabel",defaultMessage:"Histogram"})),_defineProperty(_tabToHumanizedMap,JOB_DETAILS_TAB_METRICS,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.create.jobDetails.tabMetricsLabel",defaultMessage:"Metrics"})),_defineProperty(_tabToHumanizedMap,JOB_DETAILS_TAB_JSON,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.create.jobDetails.tabJsonLabel",defaultMessage:"JSON"})),_tabToHumanizedMap);var JOB_DETAILS_TABS=[JOB_DETAILS_TAB_SUMMARY,JOB_DETAILS_TAB_TERMS,JOB_DETAILS_TAB_HISTOGRAM,JOB_DETAILS_TAB_METRICS,JOB_DETAILS_TAB_JSON];var JobDetails=exports.JobDetails=function JobDetails(_ref){var _tabToContentMap;var tab=_ref.tab,job=_ref.job,stats=_ref.stats,json=_ref.json;var metrics=job.metrics,terms=job.terms,histogram=job.histogram,histogramInterval=job.histogramInterval;var tabToContentMap=(_tabToContentMap={},_defineProperty(_tabToContentMap,JOB_DETAILS_TAB_SUMMARY,_react2.default.createElement(_tabs.TabSummary,{job:job,stats:stats})),_defineProperty(_tabToContentMap,JOB_DETAILS_TAB_TERMS,_react2.default.createElement(_tabs.TabTerms,{terms:terms})),_defineProperty(_tabToContentMap,JOB_DETAILS_TAB_HISTOGRAM,_react2.default.createElement(_tabs.TabHistogram,{histogram:histogram,histogramInterval:histogramInterval})),_defineProperty(_tabToContentMap,JOB_DETAILS_TAB_METRICS,_react2.default.createElement(_tabs.TabMetrics,{metrics:metrics})),_defineProperty(_tabToContentMap,JOB_DETAILS_TAB_JSON,_react2.default.createElement(_tabs.TabJson,{json:json})),_tabToContentMap);return tabToContentMap[tab]};JobDetails.propTypes={tab:_propTypes2.default.oneOf(JOB_DETAILS_TABS),job:_propTypes2.default.object}},7089:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _tab_summary=__webpack_require__(7090);Object.defineProperty(exports,"TabSummary",{enumerable:true,get:function get(){return _tab_summary.TabSummary}});var _tab_terms=__webpack_require__(7092);Object.defineProperty(exports,"TabTerms",{enumerable:true,get:function get(){return _tab_terms.TabTerms}});var _tab_histogram=__webpack_require__(7093);Object.defineProperty(exports,"TabHistogram",{enumerable:true,get:function get(){return _tab_histogram.TabHistogram}});var _tab_metrics=__webpack_require__(7094);Object.defineProperty(exports,"TabMetrics",{enumerable:true,get:function get(){return _tab_metrics.TabMetrics}});var _tab_json=__webpack_require__(7095);Object.defineProperty(exports,"TabJson",{enumerable:true,get:function get(){return _tab_json.TabJson}})},7090:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.TabSummary=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(4);var _propTypes2=_interopRequireDefault(_propTypes);var _react3=__webpack_require__(10);var _eui=__webpack_require__(2);var _job_status=__webpack_require__(2221);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var TabSummary=exports.TabSummary=function(_Component){_inherits(TabSummary,_Component);function TabSummary(){_classCallCheck(this,TabSummary);return _possibleConstructorReturn(this,(TabSummary.__proto__||Object.getPrototypeOf(TabSummary)).apply(this,arguments))}_createClass(TabSummary,[{key:"renderStats",value:function renderStats(){var stats=this.props.stats;if(!stats)return null;var documentsProcessed=stats.documentsProcessed,pagesProcessed=stats.pagesProcessed,rollupsIndexed=stats.rollupsIndexed,triggerCount=stats.triggerCount,status=stats.status;return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_eui.EuiSpacer,{size:"l"}),_react2.default.createElement(_eui.EuiTitle,{size:"s"},_react2.default.createElement("h3",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.jobDetails.tabSummary.sectionStatsTitle",defaultMessage:"Stats"}))),_react2.default.createElement(_eui.EuiSpacer,{size:"s"}),_react2.default.createElement(_job_status.JobStatus,{status:status}),_react2.default.createElement(_eui.EuiSpacer,{size:"s"}),_react2.default.createElement(_eui.EuiDescriptionList,{textStyle:"reverse"},_react2.default.createElement(_eui.EuiFlexGroup,null,_react2.default.createElement(_eui.EuiFlexItem,null,_react2.default.createElement(_eui.EuiDescriptionListTitle,null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.jobDetails.tabSummary.itemDocumentsProcessedLabel",defaultMessage:"Documents processed"})),_react2.default.createElement(_eui.EuiDescriptionListDescription,null,documentsProcessed)),_react2.default.createElement(_eui.EuiFlexItem,null,_react2.default.createElement(_eui.EuiDescriptionListTitle,null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.jobDetails.tabSummary.itemPagesProcessedLabel",defaultMessage:"Pages processed"})),_react2.default.createElement(_eui.EuiDescriptionListDescription,null,pagesProcessed))),_react2.default.createElement(_eui.EuiFlexGroup,null,_react2.default.createElement(_eui.EuiFlexItem,null,_react2.default.createElement(_eui.EuiDescriptionListTitle,null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.jobDetails.tabSummary.itemRollupsIndexedLabel",defaultMessage:"Rollups indexed"})),_react2.default.createElement(_eui.EuiDescriptionListDescription,null,rollupsIndexed)),_react2.default.createElement(_eui.EuiFlexItem,null,_react2.default.createElement(_eui.EuiDescriptionListTitle,null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.jobDetails.tabSummary.itemTriggerCountLabel",defaultMessage:"Trigger count"})),_react2.default.createElement(_eui.EuiDescriptionListDescription,null,triggerCount)))))}},{key:"render",value:function render(){var job=this.props.job;var indexPattern=job.indexPattern,rollupIndex=job.rollupIndex,rollupCron=job.rollupCron,rollupDelay=job.rollupDelay,dateHistogramInterval=job.dateHistogramInterval,dateHistogramTimeZone=job.dateHistogramTimeZone,dateHistogramField=job.dateHistogramField;return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_eui.EuiTitle,{size:"s"},_react2.default.createElement("h3",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.jobDetails.tabSummary.sectionLogisticsLabel",defaultMessage:"Logistics"}))),_react2.default.createElement(_eui.EuiSpacer,{size:"s"}),_react2.default.createElement(_eui.EuiDescriptionList,{textStyle:"reverse"},_react2.default.createElement(_eui.EuiFlexGroup,null,_react2.default.createElement(_eui.EuiFlexItem,null,_react2.default.createElement(_eui.EuiDescriptionListTitle,null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.jobDetails.tabSummary.itemIndexPatternLabel",defaultMessage:"Index pattern"})),_react2.default.createElement(_eui.EuiDescriptionListDescription,{className:"eui-textBreakWord"},indexPattern)),_react2.default.createElement(_eui.EuiFlexItem,null,_react2.default.createElement(_eui.EuiDescriptionListTitle,null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.jobDetails.tabSummary.itemRollupIndexLabel",defaultMessage:"Rollup index"})),_react2.default.createElement(_eui.EuiDescriptionListDescription,{className:"eui-textBreakWord"},rollupIndex))),_react2.default.createElement(_eui.EuiFlexGroup,null,_react2.default.createElement(_eui.EuiFlexItem,null,_react2.default.createElement(_eui.EuiDescriptionListTitle,null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.jobDetails.tabSummary.itemCronLabel",defaultMessage:"Cron"})," ",_react2.default.createElement(_eui.EuiIconTip,{content:_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.jobDetails.tabSummary.itemCronTip",defaultMessage:"The frequency with which data is rolled up"})})),_react2.default.createElement(_eui.EuiDescriptionListDescription,null,rollupCron)),_react2.default.createElement(_eui.EuiFlexItem,null,_react2.default.createElement(_eui.EuiDescriptionListTitle,null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.jobDetails.tabSummary.itemDelayLabel",defaultMessage:"Delay"})),_react2.default.createElement(_eui.EuiDescriptionListDescription,null,rollupDelay||_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.jobDetails.tabSummary.itemDelay.none",defaultMessage:"None"}))))),_react2.default.createElement(_eui.EuiSpacer,{size:"l"}),_react2.default.createElement(_eui.EuiTitle,{size:"s"},_react2.default.createElement("h3",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.jobDetails.tabSummary.sectionDateHistogramLabel",defaultMessage:"Date histogram"}))),_react2.default.createElement(_eui.EuiSpacer,{size:"s"}),_react2.default.createElement(_eui.EuiDescriptionList,{textStyle:"reverse"},_react2.default.createElement(_eui.EuiFlexGroup,null,_react2.default.createElement(_eui.EuiFlexItem,null,_react2.default.createElement(_eui.EuiDescriptionListTitle,null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.jobDetails.tabSummary.itemTimeFieldLabel",defaultMessage:"Time field"})),_react2.default.createElement(_eui.EuiDescriptionListDescription,{className:"eui-textBreakWord"},dateHistogramField)),_react2.default.createElement(_eui.EuiFlexItem,null,_react2.default.createElement(_eui.EuiDescriptionListTitle,null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.jobDetails.tabSummary.itemTimezoneLabel",defaultMessage:"Timezone"})),_react2.default.createElement(_eui.EuiDescriptionListDescription,null,dateHistogramTimeZone))),_react2.default.createElement(_eui.EuiFlexGroup,null,_react2.default.createElement(_eui.EuiFlexItem,null,_react2.default.createElement(_eui.EuiDescriptionListTitle,null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.jobDetails.tabSummary.itemIntervalLabel",defaultMessage:"Interval"})," ",_react2.default.createElement(_eui.EuiIconTip,{content:_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.jobDetails.tabSummary.itemIntervalTip",defaultMessage:"The time bucket interval into which data is rolled up"})})),_react2.default.createElement(_eui.EuiDescriptionListDescription,null,dateHistogramInterval)))),this.renderStats())}}]);return TabSummary}(_react.Component);TabSummary.propTypes={job:_propTypes2.default.object.isRequired,stats:_propTypes2.default.object}},7091:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.JobStatus=void 0;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _react3=__webpack_require__(10);var _eui=__webpack_require__(2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var statusToHealthMap={stopped:_react2.default.createElement(_eui.EuiHealth,{color:"subdued"},_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.jobStatus.stoppedLabel",defaultMessage:"Stopped"})),started:_react2.default.createElement(_eui.EuiHealth,{color:"success"},_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.jobStatus.startedLabel",defaultMessage:"Started"})),indexing:_react2.default.createElement(_eui.EuiHealth,{color:"warning"},_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.jobStatus.indexingLabel",defaultMessage:"Indexing"})),abort:_react2.default.createElement(_eui.EuiHealth,{color:"danger"},_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.jobStatus.abortingLabel",defaultMessage:"Aborting"}))};exports.JobStatus=function JobStatus(_ref){var status=_ref.status;return statusToHealthMap[status]}},7092:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.TabTerms=void 0;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _field_list=__webpack_require__(848);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var columns=[{field:"name",name:"Field",sortable:true}];exports.TabTerms=function TabTerms(_ref){var terms=_ref.terms;return _react2.default.createElement(_field_list.FieldList,{columns:columns,fields:terms})}},7093:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.TabHistogram=void 0;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _react3=__webpack_require__(10);var _i18n=__webpack_require__(18);var _eui=__webpack_require__(2);var _field_list=__webpack_require__(848);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var columns=[{field:"name",name:_i18n.i18n.translate("xpack.rollupJobs.jobDetails.tabHistogram.nameColumnLabel",{defaultMessage:"Field"}),sortable:true}];exports.TabHistogram=function TabHistogram(_ref){var histogram=_ref.histogram,histogramInterval=_ref.histogramInterval;return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_eui.EuiDescriptionList,{textStyle:"reverse"},_react2.default.createElement(_eui.EuiDescriptionListTitle,null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.jobDetails.tabHistogram.intervalLabel",defaultMessage:"Histogram interval"})),_react2.default.createElement(_eui.EuiDescriptionListDescription,null,histogramInterval)),_react2.default.createElement(_eui.EuiSpacer,{size:"l"}),_react2.default.createElement(_field_list.FieldList,{columns:columns,fields:histogram}))}},7094:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.TabMetrics=void 0;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _i18n=__webpack_require__(18);var _field_list=__webpack_require__(848);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var columns=[{field:"name",name:_i18n.i18n.translate("xpack.rollupJobs.jobDetails.tabMetrics.nameColumnLabel",{defaultMessage:"Field"}),sortable:true},{name:_i18n.i18n.translate("xpack.rollupJobs.jobDetails.tabMetrics.typesColumnLabel",{defaultMessage:"Types"}),render:function render(_ref){var types=_ref.types;return types.sort().join(", ")}}];exports.TabMetrics=function TabMetrics(_ref2){var metrics=_ref2.metrics;return _react2.default.createElement(_field_list.FieldList,{columns:columns,fields:metrics})}},7095:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.TabJson=void 0;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _eui=__webpack_require__(2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}exports.TabJson=function TabJson(_ref){var json=_ref.json;var jsonString=JSON.stringify(json,null,2);return _react2.default.createElement(_eui.EuiCodeEditor,{mode:"json",theme:"textmate",isReadOnly:true,setOptions:{maxLines:Infinity},value:jsonString,editorProps:{$blockScrolling:Infinity}})}},7096:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _detail_panel=__webpack_require__(7097);Object.defineProperty(exports,"DetailPanel",{enumerable:true,get:function get(){return _detail_panel.DetailPanel}})},7097:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.DetailPanel=void 0;var _reactRedux=__webpack_require__(19);var _detail_panel=__webpack_require__(7098);var _selectors=__webpack_require__(544);var _actions=__webpack_require__(645);var mapStateToProps=function mapStateToProps(state){return{isOpen:(0,_selectors.isDetailPanelOpen)(state),isLoading:(0,_selectors.isLoading)(state),job:(0,_selectors.getDetailPanelJob)(state),jobId:(0,_selectors.getDetailPanelJobId)(state),panelType:(0,_selectors.getDetailPanelType)(state)}};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{closeDetailPanel:function closeDetailPanel(){dispatch((0,_actions.closeDetailPanel)())},openDetailPanel:function openDetailPanel(_ref){var panelType=_ref.panelType,jobId=_ref.jobId;dispatch((0,_actions.openDetailPanel)({panelType:panelType,jobId:jobId}))}}};exports.DetailPanel=(0,_reactRedux.connect)(mapStateToProps,mapDispatchToProps)(_detail_panel.DetailPanel)},7098:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.DetailPanel=exports.DetailPanelUi=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(4);var _propTypes2=_interopRequireDefault(_propTypes);var _react3=__webpack_require__(10);var _eui=__webpack_require__(2);var _components=__webpack_require__(545);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var JOB_DETAILS_TABS=[_components.JOB_DETAILS_TAB_SUMMARY,_components.JOB_DETAILS_TAB_TERMS,_components.JOB_DETAILS_TAB_HISTOGRAM,_components.JOB_DETAILS_TAB_METRICS,_components.JOB_DETAILS_TAB_JSON];var DetailPanelUi=exports.DetailPanelUi=function(_Component){_inherits(DetailPanelUi,_Component);function DetailPanelUi(props){_classCallCheck(this,DetailPanelUi);return _possibleConstructorReturn(this,(DetailPanelUi.__proto__||Object.getPrototypeOf(DetailPanelUi)).call(this,props))}_createClass(DetailPanelUi,[{key:"renderTabs",value:function renderTabs(){var _props=this.props,panelType=_props.panelType,job=_props.job,openDetailPanel=_props.openDetailPanel;if(!job)return;var id=job.id,terms=job.terms,histogram=job.histogram,metrics=job.metrics;var renderedTabs=[];JOB_DETAILS_TABS.map(function(tab,index){if(tab===_components.JOB_DETAILS_TAB_TERMS&&!terms.length)return;if(tab===_components.JOB_DETAILS_TAB_HISTOGRAM&&!histogram.length)return;if(tab===_components.JOB_DETAILS_TAB_METRICS&&!metrics.length)return;var isSelected=tab===panelType;renderedTabs.push(_react2.default.createElement(_eui.EuiTab,{onClick:function onClick(){return openDetailPanel({panelType:tab,jobId:id})},isSelected:isSelected,"data-test-subj":"detailPanelTab"+(isSelected?"Selected":""),key:index},_components.tabToHumanizedMap[tab]))});return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_eui.EuiSpacer,{size:"s"}),_react2.default.createElement(_eui.EuiTabs,null,renderedTabs))}},{key:"renderJob",value:function renderJob(){var _props2=this.props,panelType=_props2.panelType,job=_props2.job,intl=_props2.intl;var status=job.status,documentsProcessed=job.documentsProcessed,pagesProcessed=job.pagesProcessed,rollupsIndexed=job.rollupsIndexed,triggerCount=job.triggerCount,json=job.json;var stats={status:status,documentsProcessed:documentsProcessed,pagesProcessed:pagesProcessed,rollupsIndexed:rollupsIndexed,triggerCount:triggerCount};return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_eui.EuiFlyoutBody,null,_react2.default.createElement(_eui.EuiErrorBoundary,null,_react2.default.createElement(_components.JobDetails,{tab:panelType,job:job,stats:stats,json:json}))),_react2.default.createElement(_eui.EuiFlyoutFooter,null,_react2.default.createElement(_eui.EuiFlexGroup,{justifyContent:"flexEnd"},_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_components.JobActionMenu,{iconSide:"left",jobs:[job],anchorPosition:"upRight",detailPanel:true,iconType:"arrowUp",label:intl.formatMessage({id:"xpack.rollupJobs.detailPanel.jobActionMenu.buttonLabel",defaultMessage:"Manage"})})))))}},{key:"render",value:function render(){var _props3=this.props,isOpen=_props3.isOpen,isLoading=_props3.isLoading,closeDetailPanel=_props3.closeDetailPanel,job=_props3.job,jobId=_props3.jobId;if(!isOpen)return null;var content=void 0;isLoading&&(content=_react2.default.createElement(_eui.EuiFlyoutBody,null,_react2.default.createElement(_eui.EuiFlexGroup,{justifyContent:"flexStart",alignItems:"center",gutterSize:"s"},_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiLoadingSpinner,{size:"m"})),_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiText,null,_react2.default.createElement(_eui.EuiTextColor,{color:"subdued"},_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.detailPanel.loadingLabel",defaultMessage:"Loading rollup job..."})))))));content=job?this.renderJob():_react2.default.createElement(_eui.EuiFlyoutBody,null,_react2.default.createElement(_eui.EuiFlexGroup,{justifyContent:"flexStart",alignItems:"center",gutterSize:"s"},_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiIcon,{size:"m",type:"alert",color:"danger"})),_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiText,null,_react2.default.createElement(_eui.EuiTextColor,{color:"subdued"},_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.detailPanel.notFoundLabel",defaultMessage:"Rollup job not found"}))))));return _react2.default.createElement(_eui.EuiFlyout,{"data-test-subj":"indexDetailFlyout",onClose:closeDetailPanel,"aria-labelledby":"rollupJobDetailsFlyoutTitle",size:"m",maxWidth:400},_react2.default.createElement(_eui.EuiFlyoutHeader,null,_react2.default.createElement(_eui.EuiTitle,{size:"m",id:"rollupJobDetailsFlyoutTitle"},_react2.default.createElement("h2",null,jobId)),this.renderTabs()),content)}}]);return DetailPanelUi}(_react.Component);DetailPanelUi.propTypes={isOpen:_propTypes2.default.bool.isRequired,isLoading:_propTypes2.default.bool,job:_propTypes2.default.object,panelType:_propTypes2.default.oneOf(JOB_DETAILS_TABS),closeDetailPanel:_propTypes2.default.func.isRequired,openDetailPanel:_propTypes2.default.func.isRequired};DetailPanelUi.defaultProps={panelType:JOB_DETAILS_TABS[0]};exports.DetailPanel=(0,_react3.injectI18n)(DetailPanelUi)},7099:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _job_create=__webpack_require__(7100);Object.defineProperty(exports,"JobCreate",{enumerable:true,get:function get(){return _job_create.JobCreate}})},7100:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.JobCreate=void 0;var _reactRedux=__webpack_require__(19);var _job_create=__webpack_require__(7101);var _selectors=__webpack_require__(544);var _actions=__webpack_require__(645);var mapStateToProps=function mapStateToProps(state){return{isSaving:(0,_selectors.isSaving)(state),saveError:(0,_selectors.getCreateJobError)(state)}};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{createJob:function createJob(jobConfig){dispatch((0,_actions.createJob)(jobConfig))},clearCreateJobErrors:function clearCreateJobErrors(){dispatch((0,_actions.clearCreateJobErrors)())}}};exports.JobCreate=(0,_reactRedux.connect)(mapStateToProps,mapDispatchToProps)(_job_create.JobCreate)},7101:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.JobCreate=exports.JobCreateUi=void 0;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _stepIdToTitleMap;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(4);var _propTypes2=_interopRequireDefault(_propTypes);var _mapValues=__webpack_require__(7102);var _mapValues2=_interopRequireDefault(_mapValues);var _cloneDeep=__webpack_require__(2233);var _cloneDeep2=_interopRequireDefault(_cloneDeep);var _debounce=__webpack_require__(7134);var _debounce2=_interopRequireDefault(_debounce);var _i18n=__webpack_require__(18);var _react3=__webpack_require__(10);var _eui=__webpack_require__(2);var _notify=__webpack_require__(11);var _constants=__webpack_require__(644);var _services=__webpack_require__(81);var _navigation=__webpack_require__(7136);var _steps=__webpack_require__(7138);var _steps_config=__webpack_require__(7155);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}return Array.from(arr)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function _defineProperty(obj,key,value){key in obj?Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true}):obj[key]=value;return obj}var stepIdToTitleMap=(_stepIdToTitleMap={},_defineProperty(_stepIdToTitleMap,_steps_config.STEP_LOGISTICS,_i18n.i18n.translate("xpack.rollupJobs.create.steps.stepLogisticsTitle",{defaultMessage:"Logistics"})),_defineProperty(_stepIdToTitleMap,_steps_config.STEP_DATE_HISTOGRAM,_i18n.i18n.translate("xpack.rollupJobs.create.steps.stepDateHistogramTitle",{defaultMessage:"Date histogram"})),_defineProperty(_stepIdToTitleMap,_steps_config.STEP_TERMS,_i18n.i18n.translate("xpack.rollupJobs.create.steps.stepTermsTitle",{defaultMessage:"Terms"})),_defineProperty(_stepIdToTitleMap,_steps_config.STEP_HISTOGRAM,_i18n.i18n.translate("xpack.rollupJobs.create.steps.stepHistogramTitle",{defaultMessage:"Histogram"})),_defineProperty(_stepIdToTitleMap,_steps_config.STEP_METRICS,_i18n.i18n.translate("xpack.rollupJobs.create.steps.stepMetricsTitle",{defaultMessage:"Metrics"})),_defineProperty(_stepIdToTitleMap,_steps_config.STEP_REVIEW,_i18n.i18n.translate("xpack.rollupJobs.create.steps.stepReviewTitle",{defaultMessage:"Review and save"})),_stepIdToTitleMap);var JobCreateUi=exports.JobCreateUi=function(_Component){_inherits(JobCreateUi,_Component);function JobCreateUi(props){_classCallCheck(this,JobCreateUi);var _this=_possibleConstructorReturn(this,(JobCreateUi.__proto__||Object.getPrototypeOf(JobCreateUi)).call(this,props));_initialiseProps.call(_this);var stepsFields=(0,_mapValues2.default)(_steps_config.stepIdToStepConfigMap,function(step){return(0,_cloneDeep2.default)(step.defaultFields||{})});_this.state={checkpointStepId:_steps_config.stepIds[0],currentStepId:_steps_config.stepIds[0],nextStepId:_steps_config.stepIds[1],previousStepId:void 0,stepsFieldErrors:_this.getStepsFieldsErrors(stepsFields),areStepErrorsVisible:false,stepsFields:stepsFields,isValidatingIndexPattern:false,indexPatternAsyncErrors:void 0,indexPatternDateFields:[],indexPatternTermsFields:[],indexPatternHistogramFields:[],indexPatternMetricsFields:[]};_this.lastIndexPatternValidationTime=0;return _this}_createClass(JobCreateUi,[{key:"componentDidMount",value:function componentDidMount(){this._isMounted=true}},{key:"componentDidUpdate",value:function componentDidUpdate(prevProps,prevState){var indexPattern=this.getIndexPattern();if(indexPattern!==this.getIndexPattern(prevState)){if(!indexPattern||!indexPattern.trim()){this.setState({indexPatternAsyncErrors:void 0,indexPatternDateFields:[],isValidatingIndexPattern:false});return}this.setState({isValidatingIndexPattern:true});this.requestIndexPatternValidation()}}},{key:"componentWillUnmount",value:function componentWillUnmount(){this._isMounted=false;this.props.clearCreateJobErrors()}},{key:"getSteps",value:function getSteps(){var _this2=this;var _state=this.state,currentStepId=_state.currentStepId,checkpointStepId=_state.checkpointStepId;var indexOfCurrentStep=_steps_config.stepIds.indexOf(currentStepId);return _steps_config.stepIds.map(function(stepId,index){return{title:stepIdToTitleMap[stepId],isComplete:index<indexOfCurrentStep,isSelected:index===indexOfCurrentStep,onClick:function onClick(){return _this2.goToStep(stepId)},disabled:!_this2.canGoToStep(stepId)||_steps_config.stepIds.indexOf(stepId)>_steps_config.stepIds.indexOf(checkpointStepId)}})}},{key:"goToStep",value:function goToStep(stepId){if(!this.canGoToStep(stepId)){this.setState({areStepErrorsVisible:true});return}var currentStepIndex=_steps_config.stepIds.indexOf(stepId);this.setState({currentStepId:stepId,nextStepId:_steps_config.stepIds[currentStepIndex+1],previousStepId:_steps_config.stepIds[currentStepIndex-1],areStepErrorsVisible:false,isSaving:false});_steps_config.stepIds.indexOf(stepId)>_steps_config.stepIds.indexOf(this.state.checkpointStepId)&&this.setState({checkpointStepId:stepId})}},{key:"canGoToStep",value:function canGoToStep(stepId){var _this3=this;var indexOfStep=_steps_config.stepIds.indexOf(stepId);var prerequisiteSteps=_steps_config.stepIds.slice(0,indexOfStep);return prerequisiteSteps.every(function(prerequisiteStepId){return!_this3.hasStepErrors(prerequisiteStepId)})}},{key:"hasStepErrors",value:function hasStepErrors(stepId){var _state2=this.state,indexPatternAsyncErrors=_state2.indexPatternAsyncErrors,stepsFieldErrors=_state2.stepsFieldErrors;if(stepId===_steps_config.STEP_LOGISTICS&&Boolean(indexPatternAsyncErrors))return true;var stepFieldErrors=stepsFieldErrors[stepId];return Object.values(stepFieldErrors).some(function(error){return null!=error})}},{key:"getStepsFieldsErrors",value:function getStepsFieldsErrors(newStepsFields){return Object.keys(newStepsFields).reduce(function(stepsFieldErrors,stepId){var stepFields=newStepsFields[stepId];var fieldsValidator=_steps_config.stepIdToStepConfigMap[stepId].fieldsValidator;stepsFieldErrors[stepId]="function"===typeof fieldsValidator?fieldsValidator(stepFields):{};return stepsFieldErrors},{})}},{key:"getAllFields",value:function getAllFields(){var _state$stepsFields=this.state.stepsFields,_state$stepsFields$ST=_state$stepsFields[_steps_config.STEP_LOGISTICS],id=_state$stepsFields$ST.id,indexPattern=_state$stepsFields$ST.indexPattern,rollupIndex=_state$stepsFields$ST.rollupIndex,rollupCron=_state$stepsFields$ST.rollupCron,rollupDelay=_state$stepsFields$ST.rollupDelay,rollupPageSize=_state$stepsFields$ST.rollupPageSize,_state$stepsFields$ST2=_state$stepsFields[_steps_config.STEP_DATE_HISTOGRAM],dateHistogramInterval=_state$stepsFields$ST2.dateHistogramInterval,dateHistogramTimeZone=_state$stepsFields$ST2.dateHistogramTimeZone,dateHistogramField=_state$stepsFields$ST2.dateHistogramField,terms=_state$stepsFields[_steps_config.STEP_TERMS].terms,_state$stepsFields$ST3=_state$stepsFields[_steps_config.STEP_HISTOGRAM],histogram=_state$stepsFields$ST3.histogram,histogramInterval=_state$stepsFields$ST3.histogramInterval,metrics=_state$stepsFields[_steps_config.STEP_METRICS].metrics;return{id:id,indexPattern:indexPattern,rollupIndex:rollupIndex,rollupCron:rollupCron,rollupPageSize:rollupPageSize,rollupDelay:rollupDelay,dateHistogramInterval:dateHistogramInterval,dateHistogramTimeZone:dateHistogramTimeZone,dateHistogramField:dateHistogramField,terms:terms,histogram:histogram,histogramInterval:histogramInterval,metrics:metrics}}},{key:"getIndexPattern",value:function getIndexPattern(){var state=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.state;return state.stepsFields[_steps_config.STEP_LOGISTICS].indexPattern}},{key:"render",value:function render(){var _props=this.props,isSaving=_props.isSaving,saveError=_props.saveError;var breadcrumbs=[_extends({text:_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.create.breadcrumbs.jobsText",defaultMessage:"Rollup jobs"})},(0,_services.getRouterLinkProps)(_constants.CRUD_APP_BASE_PATH)),{text:_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.create.breadcrumbs.createText",defaultMessage:"Create"})}];var savingFeedback=void 0;isSaving&&(savingFeedback=_react2.default.createElement(_eui.EuiOverlayMask,null,_react2.default.createElement(_eui.EuiLoadingKibana,{size:"xl"})));var saveErrorFeedback=void 0;if(saveError){var message=saveError.message,cause=saveError.cause;var errorBody=void 0;cause&&(errorBody=1===cause.length?_react2.default.createElement("p",null,cause[0]):_react2.default.createElement("ul",null,cause.map(function(causeValue){return _react2.default.createElement("li",{key:causeValue},causeValue)})));saveErrorFeedback=_react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_eui.EuiCallOut,{title:message,icon:"cross",color:"danger"},errorBody),_react2.default.createElement(_eui.EuiSpacer,null))}return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_eui.EuiPage,null,_react2.default.createElement(_eui.EuiPageBody,null,_react2.default.createElement(_eui.EuiPageContent,{horizontalPosition:"center",className:"rollupJobWizardPage"},_react2.default.createElement(_eui.EuiBreadcrumbs,{breadcrumbs:breadcrumbs,responsive:false}),_react2.default.createElement(_eui.EuiSpacer,{size:"xs"}),_react2.default.createElement(_eui.EuiPageContentHeader,null,_react2.default.createElement(_eui.EuiTitle,{size:"l"},_react2.default.createElement("h1",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.createTitle",defaultMessage:"Create rollup job"})))),saveErrorFeedback,_react2.default.createElement(_eui.EuiStepsHorizontal,{steps:this.getSteps()}),_react2.default.createElement(_eui.EuiSpacer,null),this.renderCurrentStep(),_react2.default.createElement(_eui.EuiSpacer,{size:"l"}),this.renderNavigation()))),savingFeedback)}},{key:"renderCurrentStep",value:function renderCurrentStep(){var _state3=this.state,currentStepId=_state3.currentStepId,stepsFields=_state3.stepsFields,stepsFieldErrors=_state3.stepsFieldErrors,areStepErrorsVisible=_state3.areStepErrorsVisible,isValidatingIndexPattern=_state3.isValidatingIndexPattern,indexPatternDateFields=_state3.indexPatternDateFields,indexPatternAsyncErrors=_state3.indexPatternAsyncErrors,indexPatternTermsFields=_state3.indexPatternTermsFields,indexPatternHistogramFields=_state3.indexPatternHistogramFields,indexPatternMetricsFields=_state3.indexPatternMetricsFields;var currentStepFields=stepsFields[currentStepId];var currentStepFieldErrors=stepsFieldErrors[currentStepId];switch(currentStepId){case _steps_config.STEP_LOGISTICS:return _react2.default.createElement(_steps.StepLogistics,{fields:currentStepFields,onFieldsChange:this.onFieldsChange,fieldErrors:currentStepFieldErrors,hasErrors:(0,_steps_config.hasErrors)(currentStepFieldErrors),areStepErrorsVisible:areStepErrorsVisible,isValidatingIndexPattern:isValidatingIndexPattern,indexPatternAsyncErrors:indexPatternAsyncErrors,hasMatchingIndices:Boolean(indexPatternDateFields.length)});case _steps_config.STEP_DATE_HISTOGRAM:return _react2.default.createElement(_steps.StepDateHistogram,{indexPattern:this.getIndexPattern(),fields:currentStepFields,onFieldsChange:this.onFieldsChange,fieldErrors:currentStepFieldErrors,hasErrors:(0,_steps_config.hasErrors)(currentStepFieldErrors),areStepErrorsVisible:areStepErrorsVisible,dateFields:indexPatternDateFields});case _steps_config.STEP_TERMS:return _react2.default.createElement(_steps.StepTerms,{fields:currentStepFields,onFieldsChange:this.onFieldsChange,termsFields:indexPatternTermsFields});case _steps_config.STEP_HISTOGRAM:return _react2.default.createElement(_steps.StepHistogram,{fields:currentStepFields,onFieldsChange:this.onFieldsChange,fieldErrors:currentStepFieldErrors,hasErrors:(0,_steps_config.hasErrors)(currentStepFieldErrors),areStepErrorsVisible:areStepErrorsVisible,histogramFields:indexPatternHistogramFields});case _steps_config.STEP_METRICS:return _react2.default.createElement(_steps.StepMetrics,{fields:currentStepFields,onFieldsChange:this.onFieldsChange,fieldErrors:currentStepFieldErrors,areStepErrorsVisible:areStepErrorsVisible,metricsFields:indexPatternMetricsFields});case _steps_config.STEP_REVIEW:return _react2.default.createElement(_steps.StepReview,{job:this.getAllFields()});default:return null}}},{key:"renderNavigation",value:function renderNavigation(){var _state4=this.state,isValidatingIndexPattern=_state4.isValidatingIndexPattern,nextStepId=_state4.nextStepId,previousStepId=_state4.previousStepId,areStepErrorsVisible=_state4.areStepErrorsVisible;var isSaving=this.props.isSaving;var hasNextStep=null!=nextStepId;var canGoToNextStep=!isValidatingIndexPattern&&hasNextStep&&(!areStepErrorsVisible||this.canGoToStep(nextStepId));return _react2.default.createElement(_navigation.Navigation,{isSaving:isSaving,hasNextStep:hasNextStep,hasPreviousStep:null!=previousStepId,goToNextStep:this.goToNextStep,goToPreviousStep:this.goToPreviousStep,canGoToNextStep:canGoToNextStep,save:this.save})}}]);return JobCreateUi}(_react.Component);JobCreateUi.propTypes={createJob:_propTypes2.default.func,isSaving:_propTypes2.default.bool,createJobError:_propTypes2.default.node};var _initialiseProps=function _initialiseProps(){var _this4=this;this.requestIndexPatternValidation=(0,_debounce2.default)(function(){var indexPattern=_this4.getIndexPattern();var lastIndexPatternValidationTime=_this4.lastIndexPatternValidationTime=Date.now();(0,_services.validateIndexPattern)(indexPattern).then(function(response){if(!_this4._isMounted)return;if(lastIndexPatternValidationTime!==_this4.lastIndexPatternValidationTime)return;var _response$data=response.data,doesIndexPatternMatchIndices=_response$data.doesMatchIndices,doesIndexPatternMatchRollupIndices=_response$data.doesMatchRollupIndices,indexPatternDateFields=_response$data.dateFields,numericFields=_response$data.numericFields,keywordFields=_response$data.keywordFields;var indexPatternAsyncErrors=void 0;doesIndexPatternMatchRollupIndices?indexPatternAsyncErrors=[_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.create.errors.indexPatternMatchesRollupIndices",defaultMessage:"Index pattern must not match rollup indices."})]:doesIndexPatternMatchIndices?indexPatternDateFields.length||(indexPatternAsyncErrors=[_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.create.errors.indexPatternNoTimeFields",defaultMessage:"Index pattern must match indices that contain time fields."})]):indexPatternAsyncErrors=[_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.create.errors.indexPatternNoMatchingIndices",defaultMessage:"Index pattern doesn't match any indices."})];var formattedNumericFields=(0,_services.formatFields)(numericFields,"numeric");var formattedKeywordFields=(0,_services.formatFields)(keywordFields,"keyword");function sortFields(a,b){var nameA=a.name.toUpperCase();var nameB=b.name.toUpperCase();if(nameA<nameB)return-1;if(nameA>nameB)return 1;return 0}var indexPatternTermsFields=[].concat(_toConsumableArray(formattedNumericFields),_toConsumableArray(formattedKeywordFields)).sort(sortFields);var indexPatternHistogramFields=[].concat(_toConsumableArray(formattedNumericFields)).sort(sortFields);var indexPatternMetricsFields=[].concat(_toConsumableArray(formattedNumericFields)).sort(sortFields);_this4.setState({indexPatternAsyncErrors:indexPatternAsyncErrors,indexPatternDateFields:indexPatternDateFields,indexPatternTermsFields:indexPatternTermsFields,indexPatternHistogramFields:indexPatternHistogramFields,indexPatternMetricsFields:indexPatternMetricsFields,isValidatingIndexPattern:false});_this4.onFieldsChange({dateHistogramField:indexPatternDateFields.length?indexPatternDateFields[0]:null},_steps_config.STEP_DATE_HISTOGRAM)}).catch(function(error){if(!_this4._isMounted)return;if(lastIndexPatternValidationTime!==_this4.lastIndexPatternValidationTime)return;if(error&&error.data){var _error$data=error.data,errorString=_error$data.error,statusCode=_error$data.statusCode;var indexPatternAsyncErrors=[_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.create.errors.indexPatternValidationError",defaultMessage:"There was a problem validating this index pattern: {statusCode} {error}",values:{error:errorString,statusCode:statusCode}})];_this4.setState({indexPatternAsyncErrors:indexPatternAsyncErrors,indexPatternDateFields:[],indexPatternTermsFields:[],indexPatternHistogramFields:[],indexPatternMetricsFields:[],isValidatingIndexPattern:false});return}(0,_notify.fatalError)(error,_i18n.i18n.translate("xpack.rollupJobs.create.errors.indexPatternValidationFatalErrorTitle",{defaultMessage:"Rollup Job Wizard index pattern validation"}))})},300);this.goToNextStep=function(){_this4.goToStep(_this4.state.nextStepId)};this.goToPreviousStep=function(){_this4.goToStep(_this4.state.previousStepId)};this.onFieldsChange=function(fields){var currentStepId=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_this4.state.currentStepId;var stepsFields=_this4.state.stepsFields;var prevFields=stepsFields[currentStepId];var affectedStepsFields=(0,_steps_config.getAffectedStepsFields)(fields,stepsFields);var newFields=_extends({},prevFields,fields);var newStepsFields=_extends({},affectedStepsFields,_defineProperty({},currentStepId,newFields));_this4.setState({stepsFields:newStepsFields,stepsFieldErrors:_this4.getStepsFieldsErrors(newStepsFields)})};this.save=function(){var createJob=_this4.props.createJob;var jobConfig=_this4.getAllFields();createJob(jobConfig)}};exports.JobCreate=(0,_react3.injectI18n)(JobCreateUi)},7102:function(module,exports,__webpack_require__){var createObjectMapper=__webpack_require__(7103);var mapValues=createObjectMapper();module.exports=mapValues},7103:function(module,exports,__webpack_require__){var baseCallback=__webpack_require__(7104),baseForOwn=__webpack_require__(2232);function createObjectMapper(isMapKeys){return function(object,iteratee,thisArg){var result={};iteratee=baseCallback(iteratee,thisArg,3);baseForOwn(object,function(value,key,object){var mapped=iteratee(value,key,object);key=isMapKeys?mapped:key;value=isMapKeys?value:mapped;result[key]=value});return result}}module.exports=createObjectMapper},7104:function(module,exports,__webpack_require__){var baseMatches=__webpack_require__(7105),baseMatchesProperty=__webpack_require__(7118),bindCallback=__webpack_require__(2230),identity=__webpack_require__(2231),property=__webpack_require__(7121);function baseCallback(func,thisArg,argCount){var type=typeof func;if("function"==type)return void 0===thisArg?func:bindCallback(func,thisArg,argCount);if(null==func)return identity;if("object"==type)return baseMatches(func);return void 0===thisArg?property(func):baseMatchesProperty(func,thisArg)}module.exports=baseCallback},7105:function(module,exports,__webpack_require__){var baseIsMatch=__webpack_require__(7106),getMatchData=__webpack_require__(7116),toObject=__webpack_require__(452);function baseMatches(source){var matchData=getMatchData(source);if(1==matchData.length&&matchData[0][2]){var key=matchData[0][0],value=matchData[0][1];return function(object){if(null==object)return false;return object[key]===value&&(void 0!==value||key in toObject(object))}}return function(object){return baseIsMatch(object,matchData)}}module.exports=baseMatches},7106:function(module,exports,__webpack_require__){var baseIsEqual=__webpack_require__(2222),toObject=__webpack_require__(452);function baseIsMatch(object,matchData,customizer){var index=matchData.length,length=index,noCustomizer=!customizer;if(null==object)return!length;object=toObject(object);while(index--){var data=matchData[index];if(noCustomizer&&data[2]?data[1]!==object[data[0]]:!(data[0]in object))return false}while(++index<length){data=matchData[index];var key=data[0],objValue=object[key],srcValue=data[1];if(noCustomizer&&data[2]){if(void 0===objValue&&!(key in object))return false}else{var result=customizer?customizer(objValue,srcValue,key):void 0;if(!(void 0===result?baseIsEqual(srcValue,objValue,customizer,true):result))return false}}return true}module.exports=baseIsMatch},7107:function(module,exports,__webpack_require__){var equalArrays=__webpack_require__(7108),equalByTag=__webpack_require__(7110),equalObjects=__webpack_require__(7111),isArray=__webpack_require__(415),isTypedArray=__webpack_require__(7115);var argsTag="[object Arguments]",arrayTag="[object Array]",objectTag="[object Object]";var objectProto=Object.prototype;var hasOwnProperty=objectProto.hasOwnProperty;var objToString=objectProto.toString;function baseIsEqualDeep(object,other,equalFunc,customizer,isLoose,stackA,stackB){var objIsArr=isArray(object),othIsArr=isArray(other),objTag=arrayTag,othTag=arrayTag;if(!objIsArr){objTag=objToString.call(object);objTag==argsTag?objTag=objectTag:objTag!=objectTag&&(objIsArr=isTypedArray(object))}if(!othIsArr){othTag=objToString.call(other);othTag==argsTag?othTag=objectTag:othTag!=objectTag&&(othIsArr=isTypedArray(other))}var objIsObj=objTag==objectTag,othIsObj=othTag==objectTag,isSameTag=objTag==othTag;if(isSameTag&&!(objIsArr||objIsObj))return equalByTag(object,other,objTag);if(!isLoose){var objIsWrapped=objIsObj&&hasOwnProperty.call(object,"__wrapped__"),othIsWrapped=othIsObj&&hasOwnProperty.call(other,"__wrapped__");if(objIsWrapped||othIsWrapped)return equalFunc(objIsWrapped?object.value():object,othIsWrapped?other.value():other,customizer,isLoose,stackA,stackB)}if(!isSameTag)return false;stackA||(stackA=[]);stackB||(stackB=[]);var length=stackA.length;while(length--)if(stackA[length]==object)return stackB[length]==other;stackA.push(object);stackB.push(other);var result=(objIsArr?equalArrays:equalObjects)(object,other,equalFunc,customizer,isLoose,stackA,stackB);stackA.pop();stackB.pop();return result}module.exports=baseIsEqualDeep},7108:function(module,exports,__webpack_require__){var arraySome=__webpack_require__(7109);function equalArrays(array,other,equalFunc,customizer,isLoose,stackA,stackB){var index=-1,arrLength=array.length,othLength=other.length;if(arrLength!=othLength&&!(isLoose&&othLength>arrLength))return false;while(++index<arrLength){var arrValue=array[index],othValue=other[index],result=customizer?customizer(isLoose?othValue:arrValue,isLoose?arrValue:othValue,index):void 0;if(void 0!==result){if(result)continue;return false}if(isLoose){if(!arraySome(other,function(othValue){return arrValue===othValue||equalFunc(arrValue,othValue,customizer,isLoose,stackA,stackB)}))return false}else if(!(arrValue===othValue||equalFunc(arrValue,othValue,customizer,isLoose,stackA,stackB)))return false}return true}module.exports=equalArrays},7109:function(module,exports){function arraySome(array,predicate){var index=-1,length=array.length;while(++index<length)if(predicate(array[index],index,array))return true;return false}module.exports=arraySome},7110:function(module,exports){var boolTag="[object Boolean]",dateTag="[object Date]",errorTag="[object Error]",numberTag="[object Number]",regexpTag="[object RegExp]",stringTag="[object String]";function equalByTag(object,other,tag){switch(tag){case boolTag:case dateTag:return+object==+other;case errorTag:return object.name==other.name&&object.message==other.message;case numberTag:return object!=+object?other!=+other:object==+other;case regexpTag:case stringTag:return object==other+""}return false}module.exports=equalByTag},7111:function(module,exports,__webpack_require__){var keys=__webpack_require__(849);var objectProto=Object.prototype;var hasOwnProperty=objectProto.hasOwnProperty;function equalObjects(object,other,equalFunc,customizer,isLoose,stackA,stackB){var objProps=keys(object),objLength=objProps.length,othProps=keys(other),othLength=othProps.length;if(objLength!=othLength&&!isLoose)return false;var index=objLength;while(index--){var key=objProps[index];if(!(isLoose?key in other:hasOwnProperty.call(other,key)))return false}var skipCtor=isLoose;while(++index<objLength){key=objProps[index];var objValue=object[key],othValue=other[key],result=customizer?customizer(isLoose?othValue:objValue,isLoose?objValue:othValue,key):void 0;if(!(void 0===result?equalFunc(objValue,othValue,customizer,isLoose,stackA,stackB):result))return false;skipCtor||(skipCtor="constructor"==key)}if(!skipCtor){var objCtor=object.constructor,othCtor=other.constructor;if(objCtor!=othCtor&&"constructor"in object&&"constructor"in other&&!("function"==typeof objCtor&&objCtor instanceof objCtor&&"function"==typeof othCtor&&othCtor instanceof othCtor))return false}return true}module.exports=equalObjects},7112:function(module,exports,__webpack_require__){var baseProperty=__webpack_require__(2224);var getLength=baseProperty("length");module.exports=getLength},7113:function(module,exports,__webpack_require__){var isArguments=__webpack_require__(2225),isArray=__webpack_require__(415),isIndex=__webpack_require__(2226),isLength=__webpack_require__(579),keysIn=__webpack_require__(7114);var objectProto=Object.prototype;var hasOwnProperty=objectProto.hasOwnProperty;function shimKeys(object){var props=keysIn(object),propsLength=props.length,length=propsLength&&object.length;var allowIndexes=!!length&&isLength(length)&&(isArray(object)||isArguments(object));var index=-1,result=[];while(++index<propsLength){var key=props[index];(allowIndexes&&isIndex(key,length)||hasOwnProperty.call(object,key))&&result.push(key)}return result}module.exports=shimKeys},7114:function(module,exports,__webpack_require__){var isArguments=__webpack_require__(2225),isArray=__webpack_require__(415),isIndex=__webpack_require__(2226),isLength=__webpack_require__(579),isObject=__webpack_require__(363);var objectProto=Object.prototype;var hasOwnProperty=objectProto.hasOwnProperty;function keysIn(object){if(null==object)return[];isObject(object)||(object=Object(object));var length=object.length;length=length&&isLength(length)&&(isArray(object)||isArguments(object))&&length||0;var Ctor=object.constructor,index=-1,isProto="function"==typeof Ctor&&Ctor.prototype===object,result=Array(length),skipIndexes=length>0;while(++index<length)result[index]=index+"";for(var key in object)skipIndexes&&isIndex(key,length)||"constructor"==key&&(isProto||!hasOwnProperty.call(object,key))||result.push(key);return result}module.exports=keysIn},7115:function(module,exports,__webpack_require__){var isLength=__webpack_require__(579),isObjectLike=__webpack_require__(578);var argsTag="[object Arguments]",arrayTag="[object Array]",boolTag="[object Boolean]",dateTag="[object Date]",errorTag="[object Error]",funcTag="[object Function]",mapTag="[object Map]",numberTag="[object Number]",objectTag="[object Object]",regexpTag="[object RegExp]",setTag="[object Set]",stringTag="[object String]",weakMapTag="[object WeakMap]";var arrayBufferTag="[object ArrayBuffer]",float32Tag="[object Float32Array]",float64Tag="[object Float64Array]",int8Tag="[object Int8Array]",int16Tag="[object Int16Array]",int32Tag="[object Int32Array]",uint8Tag="[object Uint8Array]",uint8ClampedTag="[object Uint8ClampedArray]",uint16Tag="[object Uint16Array]",uint32Tag="[object Uint32Array]";var typedArrayTags={};typedArrayTags[float32Tag]=typedArrayTags[float64Tag]=typedArrayTags[int8Tag]=typedArrayTags[int16Tag]=typedArrayTags[int32Tag]=typedArrayTags[uint8Tag]=typedArrayTags[uint8ClampedTag]=typedArrayTags[uint16Tag]=typedArrayTags[uint32Tag]=true;typedArrayTags[argsTag]=typedArrayTags[arrayTag]=typedArrayTags[arrayBufferTag]=typedArrayTags[boolTag]=typedArrayTags[dateTag]=typedArrayTags[errorTag]=typedArrayTags[funcTag]=typedArrayTags[mapTag]=typedArrayTags[numberTag]=typedArrayTags[objectTag]=typedArrayTags[regexpTag]=typedArrayTags[setTag]=typedArrayTags[stringTag]=typedArrayTags[weakMapTag]=false;var objectProto=Object.prototype;var objToString=objectProto.toString;function isTypedArray(value){return isObjectLike(value)&&isLength(value.length)&&!!typedArrayTags[objToString.call(value)]}module.exports=isTypedArray},7116:function(module,exports,__webpack_require__){var isStrictComparable=__webpack_require__(2227),pairs=__webpack_require__(7117);function getMatchData(object){var result=pairs(object),length=result.length;while(length--)result[length][2]=isStrictComparable(result[length][1]);return result}module.exports=getMatchData},7117:function(module,exports,__webpack_require__){var keys=__webpack_require__(849),toObject=__webpack_require__(452);function pairs(object){object=toObject(object);var index=-1,props=keys(object),length=props.length,result=Array(length);while(++index<length){var key=props[index];result[index]=[key,object[key]]}return result}module.exports=pairs},7118:function(module,exports,__webpack_require__){var baseGet=__webpack_require__(2228),baseIsEqual=__webpack_require__(2222),baseSlice=__webpack_require__(7119),isArray=__webpack_require__(415),isKey=__webpack_require__(2229),isStrictComparable=__webpack_require__(2227),last=__webpack_require__(7120),toObject=__webpack_require__(452),toPath=__webpack_require__(716);function baseMatchesProperty(path,srcValue){var isArr=isArray(path),isCommon=isKey(path)&&isStrictComparable(srcValue),pathKey=path+"";path=toPath(path);return function(object){if(null==object)return false;var key=pathKey;object=toObject(object);if((isArr||!isCommon)&&!(key in object)){object=1==path.length?object:baseGet(object,baseSlice(path,0,-1));if(null==object)return false;key=last(path);object=toObject(object)}return object[key]===srcValue?void 0!==srcValue||key in object:baseIsEqual(srcValue,object[key],void 0,true)}}module.exports=baseMatchesProperty},7119:function(module,exports){function baseSlice(array,start,end){var index=-1,length=array.length;start=null==start?0:+start||0;start<0&&(start=-start>length?0:length+start);end=void 0===end||end>length?length:+end||0;end<0&&(end+=length);length=start>end?0:end-start>>>0;start>>>=0;var result=Array(length);while(++index<length)result[index]=array[index+start];return result}module.exports=baseSlice},7120:function(module,exports){function last(array){var length=array?array.length:0;return length?array[length-1]:void 0}module.exports=last},7121:function(module,exports,__webpack_require__){var baseProperty=__webpack_require__(2224),basePropertyDeep=__webpack_require__(7122),isKey=__webpack_require__(2229);function property(path){return isKey(path)?baseProperty(path):basePropertyDeep(path)}module.exports=property},7122:function(module,exports,__webpack_require__){var baseGet=__webpack_require__(2228),toPath=__webpack_require__(716);function basePropertyDeep(path){var pathKey=path+"";path=toPath(path);return function(object){return baseGet(object,path,pathKey)}}module.exports=basePropertyDeep},7123:function(module,exports,__webpack_require__){var createBaseFor=__webpack_require__(7124);var baseFor=createBaseFor();module.exports=baseFor},7124:function(module,exports,__webpack_require__){var toObject=__webpack_require__(452);function createBaseFor(fromRight){return function(object,iteratee,keysFunc){var iterable=toObject(object),props=keysFunc(object),length=props.length,index=fromRight?length:-1;while(fromRight?index--:++index<length){var key=props[index];if(false===iteratee(iterable[key],key,iterable))break}return object}}module.exports=createBaseFor},7125:function(module,exports,__webpack_require__){var arrayCopy=__webpack_require__(7126),arrayEach=__webpack_require__(7127),baseAssign=__webpack_require__(7128),baseForOwn=__webpack_require__(2232),initCloneArray=__webpack_require__(7130),initCloneByTag=__webpack_require__(7131),initCloneObject=__webpack_require__(7133),isArray=__webpack_require__(415),isObject=__webpack_require__(363);var argsTag="[object Arguments]",arrayTag="[object Array]",boolTag="[object Boolean]",dateTag="[object Date]",errorTag="[object Error]",funcTag="[object Function]",mapTag="[object Map]",numberTag="[object Number]",objectTag="[object Object]",regexpTag="[object RegExp]",setTag="[object Set]",stringTag="[object String]",weakMapTag="[object WeakMap]";var arrayBufferTag="[object ArrayBuffer]",float32Tag="[object Float32Array]",float64Tag="[object Float64Array]",int8Tag="[object Int8Array]",int16Tag="[object Int16Array]",int32Tag="[object Int32Array]",uint8Tag="[object Uint8Array]",uint8ClampedTag="[object Uint8ClampedArray]",uint16Tag="[object Uint16Array]",uint32Tag="[object Uint32Array]";var cloneableTags={};cloneableTags[argsTag]=cloneableTags[arrayTag]=cloneableTags[arrayBufferTag]=cloneableTags[boolTag]=cloneableTags[dateTag]=cloneableTags[float32Tag]=cloneableTags[float64Tag]=cloneableTags[int8Tag]=cloneableTags[int16Tag]=cloneableTags[int32Tag]=cloneableTags[numberTag]=cloneableTags[objectTag]=cloneableTags[regexpTag]=cloneableTags[stringTag]=cloneableTags[uint8Tag]=cloneableTags[uint8ClampedTag]=cloneableTags[uint16Tag]=cloneableTags[uint32Tag]=true;cloneableTags[errorTag]=cloneableTags[funcTag]=cloneableTags[mapTag]=cloneableTags[setTag]=cloneableTags[weakMapTag]=false;var objectProto=Object.prototype;var objToString=objectProto.toString;function baseClone(value,isDeep,customizer,key,object,stackA,stackB){var result;customizer&&(result=object?customizer(value,key,object):customizer(value));if(void 0!==result)return result;if(!isObject(value))return value;var isArr=isArray(value);if(isArr){result=initCloneArray(value);if(!isDeep)return arrayCopy(value,result)}else{var tag=objToString.call(value),isFunc=tag==funcTag;if(tag!=objectTag&&tag!=argsTag&&(!isFunc||object))return cloneableTags[tag]?initCloneByTag(value,tag,isDeep):object?value:{};result=initCloneObject(isFunc?{}:value);if(!isDeep)return baseAssign(result,value)}stackA||(stackA=[]);stackB||(stackB=[]);var length=stackA.length;while(length--)if(stackA[length]==value)return stackB[length];stackA.push(value);stackB.push(result);(isArr?arrayEach:baseForOwn)(value,function(subValue,key){result[key]=baseClone(subValue,isDeep,customizer,key,value,stackA,stackB)});return result}module.exports=baseClone},7126:function(module,exports){function arrayCopy(source,array){var index=-1,length=source.length;array||(array=Array(length));while(++index<length)array[index]=source[index];return array}module.exports=arrayCopy},7127:function(module,exports){function arrayEach(array,iteratee){var index=-1,length=array.length;while(++index<length)if(false===iteratee(array[index],index,array))break;return array}module.exports=arrayEach},7128:function(module,exports,__webpack_require__){var baseCopy=__webpack_require__(7129),keys=__webpack_require__(849);function baseAssign(object,source){return null==source?object:baseCopy(source,keys(source),object)}module.exports=baseAssign},7129:function(module,exports){function baseCopy(source,props,object){object||(object={});var index=-1,length=props.length;while(++index<length){var key=props[index];object[key]=source[key]}return object}module.exports=baseCopy},7130:function(module,exports){var objectProto=Object.prototype;var hasOwnProperty=objectProto.hasOwnProperty;function initCloneArray(array){var length=array.length,result=new array.constructor(length);if(length&&"string"==typeof array[0]&&hasOwnProperty.call(array,"index")){result.index=array.index;result.input=array.input}return result}module.exports=initCloneArray},7131:function(module,exports,__webpack_require__){var bufferClone=__webpack_require__(7132);var boolTag="[object Boolean]",dateTag="[object Date]",numberTag="[object Number]",regexpTag="[object RegExp]",stringTag="[object String]";var arrayBufferTag="[object ArrayBuffer]",float32Tag="[object Float32Array]",float64Tag="[object Float64Array]",int8Tag="[object Int8Array]",int16Tag="[object Int16Array]",int32Tag="[object Int32Array]",uint8Tag="[object Uint8Array]",uint8ClampedTag="[object Uint8ClampedArray]",uint16Tag="[object Uint16Array]",uint32Tag="[object Uint32Array]";var reFlags=/\w*$/;function initCloneByTag(object,tag,isDeep){var Ctor=object.constructor;switch(tag){case arrayBufferTag:return bufferClone(object);case boolTag:case dateTag:return new Ctor(+object);case float32Tag:case float64Tag:case int8Tag:case int16Tag:case int32Tag:case uint8Tag:case uint8ClampedTag:case uint16Tag:case uint32Tag:var buffer=object.buffer;return new Ctor(isDeep?bufferClone(buffer):buffer,object.byteOffset,object.length);case numberTag:case stringTag:return new Ctor(object);case regexpTag:var result=new Ctor(object.source,reFlags.exec(object));result.lastIndex=object.lastIndex}return result}module.exports=initCloneByTag},7132:function(module,exports,__webpack_require__){(function(global){var ArrayBuffer=global.ArrayBuffer,Uint8Array=global.Uint8Array;function bufferClone(buffer){var result=new ArrayBuffer(buffer.byteLength),view=new Uint8Array(result);view.set(new Uint8Array(buffer));return result}module.exports=bufferClone}).call(exports,__webpack_require__(23))},7133:function(module,exports){function initCloneObject(object){var Ctor=object.constructor;"function"==typeof Ctor&&Ctor instanceof Ctor||(Ctor=Object);return new Ctor}module.exports=initCloneObject},7134:function(module,exports,__webpack_require__){var isObject=__webpack_require__(363),now=__webpack_require__(7135);var FUNC_ERROR_TEXT="Expected a function";var nativeMax=Math.max;function debounce(func,wait,options){var args,maxTimeoutId,result,stamp,thisArg,timeoutId,trailingCall,lastCalled=0,maxWait=false,trailing=true;if("function"!=typeof func)throw new TypeError(FUNC_ERROR_TEXT);wait=wait<0?0:+wait||0;if(true===options){var leading=true;trailing=false}else if(isObject(options)){leading=!!options.leading;maxWait="maxWait"in options&&nativeMax(+options.maxWait||0,wait);trailing="trailing"in options?!!options.trailing:trailing}function cancel(){timeoutId&&clearTimeout(timeoutId);maxTimeoutId&&clearTimeout(maxTimeoutId);lastCalled=0;maxTimeoutId=timeoutId=trailingCall=void 0}function complete(isCalled,id){id&&clearTimeout(id);maxTimeoutId=timeoutId=trailingCall=void 0;if(isCalled){lastCalled=now();result=func.apply(thisArg,args);timeoutId||maxTimeoutId||(args=thisArg=void 0)}}function delayed(){var remaining=wait-(now()-stamp);remaining<=0||remaining>wait?complete(trailingCall,maxTimeoutId):timeoutId=setTimeout(delayed,remaining)}function maxDelayed(){complete(trailing,timeoutId)}function debounced(){args=arguments;stamp=now();thisArg=this;trailingCall=trailing&&(timeoutId||!leading);if(false===maxWait)var leadingCall=leading&&!timeoutId;else{maxTimeoutId||leading||(lastCalled=stamp);var remaining=maxWait-(stamp-lastCalled),isCalled=remaining<=0||remaining>maxWait;if(isCalled){maxTimeoutId&&(maxTimeoutId=clearTimeout(maxTimeoutId));lastCalled=stamp;result=func.apply(thisArg,args)}else maxTimeoutId||(maxTimeoutId=setTimeout(maxDelayed,remaining))}isCalled&&timeoutId?timeoutId=clearTimeout(timeoutId):timeoutId||wait===maxWait||(timeoutId=setTimeout(delayed,wait));if(leadingCall){isCalled=true;result=func.apply(thisArg,args)}!isCalled||timeoutId||maxTimeoutId||(args=thisArg=void 0);return result}debounced.cancel=cancel;return debounced}module.exports=debounce},7135:function(module,exports,__webpack_require__){var getNative=__webpack_require__(973);var nativeNow=getNative(Date,"now");var now=nativeNow||function(){return(new Date).getTime()};module.exports=now},7136:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _navigation=__webpack_require__(7137);Object.defineProperty(exports,"Navigation",{enumerable:true,get:function get(){return _navigation.Navigation}})},7137:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Navigation=void 0;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(4);var _propTypes2=_interopRequireDefault(_propTypes);var _react3=__webpack_require__(10);var _eui=__webpack_require__(2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var NavigationUi=function NavigationUi(_ref){var isSaving=_ref.isSaving,hasNextStep=_ref.hasNextStep,hasPreviousStep=_ref.hasPreviousStep,goToNextStep=_ref.goToNextStep,goToPreviousStep=_ref.goToPreviousStep,save=_ref.save,canGoToNextStep=_ref.canGoToNextStep;if(isSaving)return _react2.default.createElement(_eui.EuiFlexGroup,{justifyContent:"flexStart",gutterSize:"m"},_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiLoadingSpinner,{size:"l"})),_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiText,null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.create.navigation.savingText",defaultMessage:"Saving"}))));var previousStepButton=void 0;hasPreviousStep&&(previousStepButton=_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiButtonEmpty,{iconType:"arrowLeft",onClick:goToPreviousStep},_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.create.backButton.label",defaultMessage:"Back"}))));var nextStepButton=void 0;nextStepButton=hasNextStep?_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiButton,{iconType:"arrowRight",iconSide:"right",onClick:goToNextStep,isDisabled:!canGoToNextStep,fill:true},_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.create.nextButton.label",defaultMessage:"Next"}))):_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiButton,{color:"secondary",iconType:"check",onClick:save,fill:true},_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.create.saveButton.label",defaultMessage:"Save"})));return _react2.default.createElement(_eui.EuiFlexGroup,{justifyContent:"flexStart",gutterSize:"m"},previousStepButton,nextStepButton)};NavigationUi.propTypes={hasNextStep:_propTypes2.default.bool.isRequired,hasPreviousStep:_propTypes2.default.bool.isRequired,isSaving:_propTypes2.default.bool.isRequired,goToNextStep:_propTypes2.default.func,goToPreviousStep:_propTypes2.default.func,save:_propTypes2.default.func.isRequired,canGoToNextStep:_propTypes2.default.bool.isRequired};exports.Navigation=(0,_react3.injectI18n)(NavigationUi)},7138:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _step_logistics=__webpack_require__(7139);Object.defineProperty(exports,"StepLogistics",{enumerable:true,get:function get(){return _step_logistics.StepLogistics}});var _step_date_histogram=__webpack_require__(7150);Object.defineProperty(exports,"StepDateHistogram",{enumerable:true,get:function get(){return _step_date_histogram.StepDateHistogram}});var _step_terms=__webpack_require__(7151);Object.defineProperty(exports,"StepTerms",{enumerable:true,get:function get(){return _step_terms.StepTerms}});var _step_histogram=__webpack_require__(7152);Object.defineProperty(exports,"StepHistogram",{enumerable:true,get:function get(){return _step_histogram.StepHistogram}});var _step_metrics=__webpack_require__(7153);Object.defineProperty(exports,"StepMetrics",{enumerable:true,get:function get(){return _step_metrics.StepMetrics}});var _step_review=__webpack_require__(7154);Object.defineProperty(exports,"StepReview",{enumerable:true,get:function get(){return _step_review.StepReview}})},7139:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.StepLogistics=exports.StepLogisticsUi=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(4);var _propTypes2=_interopRequireDefault(_propTypes);var _react3=__webpack_require__(10);var _eui=__webpack_require__(2);var _index_patterns=__webpack_require__(331);var _indices=__webpack_require__(2234);var _services=__webpack_require__(81);var _components=__webpack_require__(646);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var indexPatternIllegalCharacters=_index_patterns.INDEX_PATTERN_ILLEGAL_CHARACTERS_VISIBLE.join(" ");var indexIllegalCharacters=_indices.INDEX_ILLEGAL_CHARACTERS_VISIBLE.join(" ");var StepLogisticsUi=exports.StepLogisticsUi=function(_Component){_inherits(StepLogisticsUi,_Component);function StepLogisticsUi(){var _ref;var _temp,_this,_ret;_classCallCheck(this,StepLogisticsUi);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _ret=(_temp=(_this=_possibleConstructorReturn(this,(_ref=StepLogisticsUi.__proto__||Object.getPrototypeOf(StepLogisticsUi)).call.apply(_ref,[this].concat(args))),_this),_this.showAdvancedCron=function(){var onFieldsChange=_this.props.onFieldsChange;onFieldsChange({isAdvancedCronVisible:true})},_this.hideAdvancedCron=function(){var _this$props=_this.props,onFieldsChange=_this$props.onFieldsChange,fields=_this$props.fields;var simpleRollupCron=fields.simpleRollupCron;onFieldsChange({isAdvancedCronVisible:false,rollupCron:simpleRollupCron})},_this.renderErrors=function(){var _this$props2=_this.props,areStepErrorsVisible=_this$props2.areStepErrorsVisible,hasErrors=_this$props2.hasErrors;if(!areStepErrorsVisible||!hasErrors)return null;return _react2.default.createElement(_components.StepError,null)},_temp),_possibleConstructorReturn(_this,_ret)}_createClass(StepLogisticsUi,[{key:"renderIndexPatternHelpText",value:function renderIndexPatternHelpText(){var _props=this.props,isValidatingIndexPattern=_props.isValidatingIndexPattern,hasMatchingIndices=_props.hasMatchingIndices;if(!isValidatingIndexPattern&&hasMatchingIndices)return _react2.default.createElement(_eui.EuiTextColor,{color:"secondary"},_react2.default.createElement("p",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.create.stepLogistics.fieldIndexPattern.helpHasMatchesLabel",defaultMessage:"Success! Index pattern has matching indices."})));var indexPatternValidationStatus=void 0;indexPatternValidationStatus=isValidatingIndexPattern?_react2.default.createElement("p",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.create.stepLogistics.fieldIndexPattern.helpSearchingLabel",defaultMessage:"Looking for matching indices..."})):_react2.default.createElement("p",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.create.stepLogistics.fieldIndexPattern.helpMustMatchLabel",defaultMessage:"Index pattern must match at least one index that is not a rollup."}));return _react2.default.createElement(_react.Fragment,null,indexPatternValidationStatus,_react2.default.createElement("p",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.create.stepLogistics.fieldIndexPattern.helpAllowLabel",defaultMessage:"Use a wildcard ({asterisk}) to match multiple indices.",values:{asterisk:_react2.default.createElement("strong",null,"*")}})),_react2.default.createElement("p",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.create.stepLogistics.fieldIndexPattern.helpDisallowLabel",defaultMessage:"Spaces and the characters {characterList} are not allowed.",values:{characterList:_react2.default.createElement("strong",null,indexPatternIllegalCharacters)}})))}},{key:"renderCronEditor",value:function renderCronEditor(){var _props2=this.props,fields=_props2.fields,onFieldsChange=_props2.onFieldsChange,areStepErrorsVisible=_props2.areStepErrorsVisible,fieldErrors=_props2.fieldErrors;var rollupCron=fields.rollupCron,cronFrequency=fields.cronFrequency,isAdvancedCronVisible=fields.isAdvancedCronVisible,fieldToPreferredValueMap=fields.fieldToPreferredValueMap;var errorRollupCron=fieldErrors.rollupCron;if(isAdvancedCronVisible)return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_eui.EuiFormRow,{label:_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.create.stepLogistics.fieldCronLabel",defaultMessage:"Cron expression"}),error:errorRollupCron,isInvalid:Boolean(areStepErrorsVisible&&errorRollupCron),helpText:_react2.default.createElement("p",null,_react2.default.createElement(_eui.EuiLink,{href:_services.cronUrl,target:"_blank"},_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.create.stepLogistics.fieldCron.helpReferenceLinkLabel",defaultMessage:"Learn more about cron expressions"}))),fullWidth:true},_react2.default.createElement(_eui.EuiFieldText,{value:rollupCron,onChange:function onChange(e){return onFieldsChange({rollupCron:e.target.value})},isInvalid:Boolean(areStepErrorsVisible&&errorRollupCron),fullWidth:true})),_react2.default.createElement(_eui.EuiText,{size:"s"},_react2.default.createElement(_eui.EuiLink,{onClick:this.hideAdvancedCron},_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.create.stepLogistics.sectionSchedule.buttonBasicLabel",defaultMessage:"Create basic interval"}))));return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_components.CronEditor,{fieldToPreferredValueMap:fieldToPreferredValueMap,cronExpression:rollupCron,frequency:cronFrequency,onChange:function onChange(_ref2){var cronExpression=_ref2.cronExpression,frequency=_ref2.frequency,fieldToPreferredValueMap=_ref2.fieldToPreferredValueMap;return onFieldsChange({rollupCron:cronExpression,simpleRollupCron:cronExpression,cronFrequency:frequency,fieldToPreferredValueMap:fieldToPreferredValueMap})}}),_react2.default.createElement(_eui.EuiText,{size:"s"},_react2.default.createElement(_eui.EuiLink,{onClick:this.showAdvancedCron},_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.create.stepLogistics.sectionSchedule.buttonAdvancedLabel",defaultMessage:"Create cron expression"}))))}},{key:"render",value:function render(){var _props3=this.props,fields=_props3.fields,onFieldsChange=_props3.onFieldsChange,areStepErrorsVisible=_props3.areStepErrorsVisible,fieldErrors=_props3.fieldErrors,isValidatingIndexPattern=_props3.isValidatingIndexPattern,indexPatternAsyncErrors=_props3.indexPatternAsyncErrors;var id=fields.id,indexPattern=fields.indexPattern,rollupIndex=fields.rollupIndex,rollupPageSize=fields.rollupPageSize,rollupDelay=fields.rollupDelay;var errorId=fieldErrors.id,errorIndexPattern=fieldErrors.indexPattern,errorRollupIndex=fieldErrors.rollupIndex,errorRollupPageSize=fieldErrors.rollupPageSize,errorRollupDelay=fieldErrors.rollupDelay;return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_eui.EuiFlexGroup,{justifyContent:"spaceBetween"},_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiTitle,null,_react2.default.createElement("h3",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.create.stepLogisticsTitle",defaultMessage:"Logistics"}))),_react2.default.createElement(_eui.EuiSpacer,{size:"s"}),_react2.default.createElement(_eui.EuiText,null,_react2.default.createElement("p",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.create.stepLogistics.logisticsDescription",defaultMessage:"Define how to run the rollup job and when to index the documents."})))),_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiButtonEmpty,{size:"s",flush:"right",href:_services.logisticalDetailsUrl,target:"_blank",iconType:"help"},_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.create.stepLogistics.readDocsButtonLabel",defaultMessage:"Logistics docs"})))),_react2.default.createElement(_eui.EuiSpacer,{size:"l"}),_react2.default.createElement(_eui.EuiForm,null,_react2.default.createElement(_eui.EuiDescribedFormGroup,{title:_react2.default.createElement(_eui.EuiTitle,{size:"s"},_react2.default.createElement("h4",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.create.stepLogistics.sectionIdTitle",defaultMessage:"Name"}))),description:_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.create.stepLogistics.sectionIdDescription",defaultMessage:"This name will be used as a unique identifier for this rollup job."}),fullWidth:true},_react2.default.createElement(_eui.EuiFormRow,{label:_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.create.stepLogistics.fieldIdLabel",defaultMessage:"Name"}),error:errorId,isInvalid:Boolean(areStepErrorsVisible&&errorId),fullWidth:true},_react2.default.createElement(_eui.EuiFieldText,{isInvalid:Boolean(areStepErrorsVisible&&errorId),value:id,onChange:function onChange(e){return onFieldsChange({id:e.target.value})},fullWidth:true}))),_react2.default.createElement(_eui.EuiDescribedFormGroup,{title:_react2.default.createElement(_eui.EuiTitle,{size:"s"},_react2.default.createElement("h4",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.create.stepLogistics.sectionDataFlowTitle",defaultMessage:"Data flow"}))),description:_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.create.stepLogistics.sectionDataFlowDescription",defaultMessage:"Which indices do you want to roll up and where do you want to store the data?"}),fullWidth:true},_react2.default.createElement(_eui.EuiFormRow,{label:_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.create.stepLogistics.fieldIndexPatternLabel",defaultMessage:"Index pattern"}),error:isValidatingIndexPattern?void 0:errorIndexPattern||indexPatternAsyncErrors,isInvalid:Boolean(areStepErrorsVisible&&errorIndexPattern)||Boolean(indexPatternAsyncErrors),helpText:this.renderIndexPatternHelpText(),fullWidth:true},_react2.default.createElement(_eui.EuiFieldText,{value:indexPattern,onChange:function onChange(e){return onFieldsChange({indexPattern:e.target.value})},isInvalid:Boolean(areStepErrorsVisible&&errorIndexPattern)||Boolean(indexPatternAsyncErrors),isLoading:isValidatingIndexPattern,fullWidth:true})),_react2.default.createElement(_eui.EuiFormRow,{label:_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.create.stepLogistics.fieldRollupIndexLabel",defaultMessage:"Rollup index name"}),error:errorRollupIndex,isInvalid:Boolean(areStepErrorsVisible&&errorRollupIndex),helpText:_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.create.stepLogistics.fieldRollupIndex.helpDisallowLabel",defaultMessage:"Spaces, commas, and the characters {characterList} are not allowed.",values:{characterList:_react2.default.createElement("strong",null,indexIllegalCharacters)}}),fullWidth:true},_react2.default.createElement(_eui.EuiFieldText,{value:rollupIndex,onChange:function onChange(e){return onFieldsChange({rollupIndex:e.target.value})},isInvalid:Boolean(areStepErrorsVisible&&errorRollupIndex),fullWidth:true}))),_react2.default.createElement(_eui.EuiDescribedFormGroup,{title:_react2.default.createElement(_eui.EuiTitle,{size:"s"},_react2.default.createElement("h4",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.create.stepLogistics.sectionScheduleTitle",defaultMessage:"Schedule"}))),description:_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.create.stepLogistics.sectionScheduleDescription",defaultMessage:"How often do you want to roll up the data?"}),fullWidth:true},this.renderCronEditor()),_react2.default.createElement(_eui.EuiDescribedFormGroup,{title:_react2.default.createElement(_eui.EuiTitle,{size:"xs"},_react2.default.createElement("h5",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.create.stepLogistics.sectionPageSizeTitle",defaultMessage:"How many documents do you want to roll up at a time?"}))),description:_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.create.stepLogistics.sectionPageSizeDescription",defaultMessage:"A larger page size will roll up data quicker, but requires more memory."}),fullWidth:true},_react2.default.createElement(_eui.EuiFormRow,{label:_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.create.stepLogistics.fieldPageSizeLabel",defaultMessage:"Page size"}),error:errorRollupPageSize,isInvalid:Boolean(areStepErrorsVisible&&errorRollupPageSize),fullWidth:true},_react2.default.createElement(_eui.EuiFieldNumber,{value:rollupPageSize?Number(rollupPageSize):"",onChange:function onChange(e){return onFieldsChange({rollupPageSize:e.target.value})},isInvalid:Boolean(areStepErrorsVisible&&errorRollupPageSize),fullWidth:true,min:0}))),_react2.default.createElement(_eui.EuiDescribedFormGroup,{title:_react2.default.createElement(_eui.EuiTitle,{size:"xs"},_react2.default.createElement("h5",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.create.stepLogistics.sectionDelayTitle",defaultMessage:"How long should the rollup job wait before rolling up new data?"}))),description:_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.create.stepLogistics.sectionDelayDescription",defaultMessage:"A latency buffer will delay rolling up data. This will yield a higher-fidelity rollup by allowing for variable ingest latency. By default, the rollup job attempts to roll up all data that is available."}),fullWidth:true},_react2.default.createElement(_eui.EuiFormRow,{label:_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.create.stepDateHistogram.fieldDelayLabel",defaultMessage:"Latency buffer (optional)"}),error:errorRollupDelay,isInvalid:Boolean(areStepErrorsVisible&&errorRollupDelay),helpText:_react2.default.createElement(_react.Fragment,null,_react2.default.createElement("p",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.create.stepDateHistogram.fieldDelay.helpExampleLabel",defaultMessage:"Example values: 30s, 20m, 24h, 2d, 1w, 1M"}))),fullWidth:true},_react2.default.createElement(_eui.EuiFieldText,{value:rollupDelay||"",onChange:function onChange(e){return onFieldsChange({rollupDelay:e.target.value})},isInvalid:Boolean(areStepErrorsVisible&&errorRollupDelay),fullWidth:true})))),this.renderErrors())}}]);return StepLogisticsUi}(_react.Component);StepLogisticsUi.propTypes={fields:_propTypes2.default.object.isRequired,onFieldsChange:_propTypes2.default.func.isRequired,fieldErrors:_propTypes2.default.object.isRequired,hasErrors:_propTypes2.default.bool.isRequired,areStepErrorsVisible:_propTypes2.default.bool.isRequired,isValidatingIndexPattern:_propTypes2.default.bool.isRequired,hasMatchingIndices:_propTypes2.default.bool.isRequired,indexPatternAsyncErrors:_propTypes2.default.array};exports.StepLogistics=(0,_react3.injectI18n)(StepLogisticsUi)},7140:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.INDEX_ILLEGAL_CHARACTERS_VISIBLE=void 0;var _index_patterns=__webpack_require__(331);exports.INDEX_ILLEGAL_CHARACTERS_VISIBLE=_index_patterns.INDEX_PATTERN_ILLEGAL_CHARACTERS_VISIBLE.concat(",")},7141:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.FieldChooser=void 0;var _FieldChooser$propTyp;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(4);var _propTypes2=_interopRequireDefault(_propTypes);var _eui=__webpack_require__(2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _defineProperty(obj,key,value){key in obj?Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true}):obj[key]=value;return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var FieldChooser=exports.FieldChooser=function(_Component){_inherits(FieldChooser,_Component);function FieldChooser(props){_classCallCheck(this,FieldChooser);var _this=_possibleConstructorReturn(this,(FieldChooser.__proto__||Object.getPrototypeOf(FieldChooser)).call(this,props));_this.onSearch=function(e){_this.setState({searchValue:e.target.value})};_this.onButtonClick=function(){_this.setState(function(state){return{isOpen:!state.isOpen}})};_this.close=function(){_this.setState({isOpen:false})};_this.state={isOpen:false,searchValue:""};return _this}_createClass(FieldChooser,[{key:"render",value:function render(){var _props=this.props,buttonLabel=_props.buttonLabel,columns=_props.columns,fields=_props.fields,selectedFields=_props.selectedFields,prompt=_props.prompt,onSelectField=_props.onSelectField;var _state=this.state,isOpen=_state.isOpen,searchValue=_state.searchValue;var getRowProps=function getRowProps(item){return{onClick:function onClick(){onSelectField(item)}}};var flyout=void 0;if(isOpen){var selectedFieldNames=selectedFields.map(function(_ref){var name=_ref.name;return name});var unselectedFields=fields.filter(function(_ref2){var name=_ref2.name;return!selectedFieldNames.includes(name)});var searchedItems=searchValue?unselectedFields.filter(function(item){var normalizedSearchValue=searchValue.trim().toLowerCase();return item.name.toLowerCase().includes(normalizedSearchValue)||item.type.toLowerCase().includes(normalizedSearchValue)}):unselectedFields;flyout=_react2.default.createElement(_eui.EuiFlyout,{onClose:this.close,"aria-labelledby":"fieldChooserFlyoutTitle",size:"m",maxWidth:400},_react2.default.createElement(_eui.EuiFlyoutHeader,null,_react2.default.createElement(_eui.EuiTitle,{size:"m",id:"fieldChooserFlyoutTitle"},_react2.default.createElement("h2",null,buttonLabel)),_react2.default.createElement(_eui.EuiSpacer,{size:"s"}),_react2.default.createElement(_eui.EuiFieldSearch,{placeholder:prompt,value:searchValue,onChange:this.onSearch,"aria-label":prompt,fullWidth:true})),_react2.default.createElement(_eui.EuiFlyoutBody,null,_react2.default.createElement(_eui.EuiBasicTable,{items:searchedItems,columns:columns,rowProps:getRowProps,responsive:false})))}return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_eui.EuiButton,{onClick:this.onButtonClick},buttonLabel),flyout)}}]);return FieldChooser}(_react.Component);FieldChooser.propTypes=(_FieldChooser$propTyp={buttonLabel:_propTypes2.default.node.isRequired,columns:_propTypes2.default.array.isRequired,fields:_propTypes2.default.array.isRequired,selectedFields:_propTypes2.default.array.isRequired,onSelectField:_propTypes2.default.func.isRequired},_defineProperty(_FieldChooser$propTyp,"columns",_propTypes2.default.array.isRequired),_defineProperty(_FieldChooser$propTyp,"prompt",_propTypes2.default.string),_FieldChooser$propTyp);FieldChooser.defaultProps={prompt:"Search"}},7142:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _cron_editor=__webpack_require__(7143);Object.defineProperty(exports,"CronEditor",{enumerable:true,get:function get(){return _cron_editor.CronEditor}})},7143:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.CronEditor=void 0;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _frequencyToFieldsMap,_frequencyToBaselineF;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(4);var _propTypes2=_interopRequireDefault(_propTypes);var _lodash=__webpack_require__(1);var _react3=__webpack_require__(10);var _eui=__webpack_require__(2);var _services=__webpack_require__(81);var _cron_hourly=__webpack_require__(7144);var _cron_daily=__webpack_require__(7145);var _cron_weekly=__webpack_require__(7146);var _cron_monthly=__webpack_require__(7147);var _cron_yearly=__webpack_require__(7148);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function _defineProperty(obj,key,value){key in obj?Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true}):obj[key]=value;return obj}function makeSequence(min,max){var values=[];for(var i=min;i<=max;i++)values.push(i);return values}var MINUTE_OPTIONS=makeSequence(0,59).map(function(value){return{value:value.toString(),text:(0,_lodash.padLeft)(value,2,"0")}});var HOUR_OPTIONS=makeSequence(0,23).map(function(value){return{value:value.toString(),text:(0,_lodash.padLeft)(value,2,"0")}});var DAY_OPTIONS=makeSequence(1,7).map(function(value){return{value:value.toString(),text:(0,_services.getDayName)(value-1)}});var DATE_OPTIONS=makeSequence(1,31).map(function(value){return{value:value.toString(),text:(0,_services.getOrdinalValue)(value)}});var MONTH_OPTIONS=makeSequence(1,12).map(function(value){return{value:value.toString(),text:(0,_services.getMonthName)(value-1)}});var UNITS=[{value:_services.MINUTE,text:"minute"},{value:_services.HOUR,text:"hour"},{value:_services.DAY,text:"day"},{value:_services.WEEK,text:"week"},{value:_services.MONTH,text:"month"},{value:_services.YEAR,text:"year"}];var frequencyToFieldsMap=(_frequencyToFieldsMap={},_defineProperty(_frequencyToFieldsMap,_services.MINUTE,{}),_defineProperty(_frequencyToFieldsMap,_services.HOUR,{minute:true}),_defineProperty(_frequencyToFieldsMap,_services.DAY,{hour:true,minute:true}),_defineProperty(_frequencyToFieldsMap,_services.WEEK,{day:true,hour:true,minute:true}),_defineProperty(_frequencyToFieldsMap,_services.MONTH,{date:true,hour:true,minute:true}),_defineProperty(_frequencyToFieldsMap,_services.YEAR,{month:true,date:true,hour:true,minute:true}),_frequencyToFieldsMap);var frequencyToBaselineFieldsMap=(_frequencyToBaselineF={},_defineProperty(_frequencyToBaselineF,_services.MINUTE,{second:"0",minute:"*",hour:"*",date:"*",month:"*",day:"?"}),_defineProperty(_frequencyToBaselineF,_services.HOUR,{second:"0",minute:"0",hour:"*",date:"*",month:"*",day:"?"}),_defineProperty(_frequencyToBaselineF,_services.DAY,{second:"0",minute:"0",hour:"0",date:"*",month:"*",day:"?"}),_defineProperty(_frequencyToBaselineF,_services.WEEK,{second:"0",minute:"0",hour:"0",date:"?",month:"*",day:"7"}),_defineProperty(_frequencyToBaselineF,_services.MONTH,{second:"0",minute:"0",hour:"0",date:"1",month:"*",day:"?"}),_defineProperty(_frequencyToBaselineF,_services.YEAR,{second:"0",minute:"0",hour:"0",date:"1",month:"1",day:"?"}),_frequencyToBaselineF);var CronEditor=exports.CronEditor=function(_Component){_inherits(CronEditor,_Component);_createClass(CronEditor,null,[{key:"getDerivedStateFromProps",value:function getDerivedStateFromProps(props){var cronExpression=props.cronExpression;return(0,_services.cronExpressionToParts)(cronExpression)}}]);function CronEditor(props){_classCallCheck(this,CronEditor);var _this=_possibleConstructorReturn(this,(CronEditor.__proto__||Object.getPrototypeOf(CronEditor)).call(this,props));_this.onChangeFrequency=function(frequency){var _this$props=_this.props,onChange=_this$props.onChange,fieldToPreferredValueMap=_this$props.fieldToPreferredValueMap;var editableFields=Object.keys(frequencyToFieldsMap[frequency]);var inheritedFields=editableFields.reduce(function(baselineFields,field){null!=fieldToPreferredValueMap[field]&&(baselineFields[field]=fieldToPreferredValueMap[field]);return baselineFields},_extends({},frequencyToBaselineFieldsMap[frequency]));var newCronExpression=(0,_services.cronPartsToExpression)(inheritedFields);onChange({frequency:frequency,cronExpression:newCronExpression,fieldToPreferredValueMap:fieldToPreferredValueMap})};_this.onChangeFields=function(fields){var _this$props2=_this.props,onChange=_this$props2.onChange,frequency=_this$props2.frequency,fieldToPreferredValueMap=_this$props2.fieldToPreferredValueMap;var editableFields=Object.keys(frequencyToFieldsMap[frequency]);var newFieldToPreferredValueMap={};var editedFields=editableFields.reduce(function(accumFields,field){if(void 0!==fields[field]){accumFields[field]=fields[field];newFieldToPreferredValueMap[field]=fields[field]}else accumFields[field]=_this.state[field];return accumFields},_extends({},frequencyToBaselineFieldsMap[frequency]));var newCronExpression=(0,_services.cronPartsToExpression)(editedFields);onChange({frequency:frequency,cronExpression:newCronExpression,fieldToPreferredValueMap:_extends({},fieldToPreferredValueMap,newFieldToPreferredValueMap)})};var cronExpression=props.cronExpression;var parsedCron=(0,_services.cronExpressionToParts)(cronExpression);_this.state=_extends({},parsedCron);return _this}_createClass(CronEditor,[{key:"renderForm",value:function renderForm(){var frequency=this.props.frequency;var _state=this.state,minute=_state.minute,hour=_state.hour,day=_state.day,date=_state.date,month=_state.month;switch(frequency){case _services.MINUTE:return;case _services.HOUR:return _react2.default.createElement(_cron_hourly.CronHourly,{minute:minute,minuteOptions:MINUTE_OPTIONS,onChange:this.onChangeFields});case _services.DAY:return _react2.default.createElement(_cron_daily.CronDaily,{minute:minute,minuteOptions:MINUTE_OPTIONS,hour:hour,hourOptions:HOUR_OPTIONS,onChange:this.onChangeFields});case _services.WEEK:return _react2.default.createElement(_cron_weekly.CronWeekly,{minute:minute,minuteOptions:MINUTE_OPTIONS,hour:hour,hourOptions:HOUR_OPTIONS,day:day,dayOptions:DAY_OPTIONS,onChange:this.onChangeFields});case _services.MONTH:return _react2.default.createElement(_cron_monthly.CronMonthly,{minute:minute,minuteOptions:MINUTE_OPTIONS,hour:hour,hourOptions:HOUR_OPTIONS,date:date,dateOptions:DATE_OPTIONS,onChange:this.onChangeFields});case _services.YEAR:return _react2.default.createElement(_cron_yearly.CronYearly,{minute:minute,minuteOptions:MINUTE_OPTIONS,hour:hour,hourOptions:HOUR_OPTIONS,date:date,dateOptions:DATE_OPTIONS,month:month,monthOptions:MONTH_OPTIONS,onChange:this.onChangeFields});default:return}}},{key:"render",value:function render(){var _this2=this;var frequency=this.props.frequency;return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_eui.EuiFormRow,{label:_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.cronEditor.fieldFrequencyLabel",defaultMessage:"Frequency"}),fullWidth:true},_react2.default.createElement(_eui.EuiSelect,{options:UNITS,value:frequency,onChange:function onChange(e){return _this2.onChangeFrequency(e.target.value)},fullWidth:true,prepend:_react2.default.createElement(_eui.EuiText,{size:"xs"},_react2.default.createElement("strong",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.cronEditor.textEveryLabel",defaultMessage:"Every"})))})),this.renderForm())}}]);return CronEditor}(_react.Component);CronEditor.propTypes={fieldToPreferredValueMap:_propTypes2.default.object.isRequired,frequency:_propTypes2.default.string.isRequired,cronExpression:_propTypes2.default.string.isRequired,onChange:_propTypes2.default.func.isRequired}},7144:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.CronHourly=void 0;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(4);var _propTypes2=_interopRequireDefault(_propTypes);var _react3=__webpack_require__(10);var _eui=__webpack_require__(2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var CronHourly=exports.CronHourly=function CronHourly(_ref){var minute=_ref.minute,minuteOptions=_ref.minuteOptions,_onChange=_ref.onChange;return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_eui.EuiFormRow,{label:_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.cronEditor.cronHourly.fieldTimeLabel",defaultMessage:"Minute"}),fullWidth:true},_react2.default.createElement(_eui.EuiSelect,{options:minuteOptions,value:minute,onChange:function onChange(e){return _onChange({minute:e.target.value})},fullWidth:true,prepend:_react2.default.createElement(_eui.EuiText,{size:"xs"},_react2.default.createElement("strong",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.cronEditor.cronHourly.fieldMinute.textAtLabel",defaultMessage:"At"})))})))};CronHourly.propTypes={minute:_propTypes2.default.string.isRequired,minuteOptions:_propTypes2.default.array.isRequired,onChange:_propTypes2.default.func.isRequired}},7145:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.CronDaily=void 0;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(4);var _propTypes2=_interopRequireDefault(_propTypes);var _react3=__webpack_require__(10);var _eui=__webpack_require__(2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var CronDaily=exports.CronDaily=function CronDaily(_ref){var minute=_ref.minute,minuteOptions=_ref.minuteOptions,hour=_ref.hour,hourOptions=_ref.hourOptions,_onChange=_ref.onChange;return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_eui.EuiFormRow,{label:_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.cronEditor.cronDaily.fieldTimeLabel",defaultMessage:"Time"}),fullWidth:true},_react2.default.createElement(_eui.EuiFlexGroup,{gutterSize:"xs"},_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiSelect,{options:hourOptions,value:hour,onChange:function onChange(e){return _onChange({hour:e.target.value})},fullWidth:true,prepend:_react2.default.createElement(_eui.EuiText,{size:"xs"},_react2.default.createElement("strong",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.cronEditor.cronDaily.fieldHour.textAtLabel",defaultMessage:"At"})))})),_react2.default.createElement(_eui.EuiFlexItem,null,_react2.default.createElement(_eui.EuiSelect,{options:minuteOptions,value:minute,onChange:function onChange(e){return _onChange({minute:e.target.value})},fullWidth:true,prepend:_react2.default.createElement(_eui.EuiText,{size:"xs"},_react2.default.createElement("strong",null,":"))})))))};CronDaily.propTypes={minute:_propTypes2.default.string.isRequired,minuteOptions:_propTypes2.default.array.isRequired,hour:_propTypes2.default.string.isRequired,hourOptions:_propTypes2.default.array.isRequired,onChange:_propTypes2.default.func.isRequired}},7146:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.CronWeekly=void 0;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(4);var _propTypes2=_interopRequireDefault(_propTypes);var _react3=__webpack_require__(10);var _eui=__webpack_require__(2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var CronWeekly=exports.CronWeekly=function CronWeekly(_ref){var minute=_ref.minute,minuteOptions=_ref.minuteOptions,hour=_ref.hour,hourOptions=_ref.hourOptions,day=_ref.day,dayOptions=_ref.dayOptions,_onChange=_ref.onChange;return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_eui.EuiFormRow,{label:_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.cronEditor.cronWeekly.fieldDateLabel",defaultMessage:"Day"}),fullWidth:true},_react2.default.createElement(_eui.EuiSelect,{options:dayOptions,value:day,onChange:function onChange(e){return _onChange({day:e.target.value})},fullWidth:true,prepend:_react2.default.createElement(_eui.EuiText,{size:"xs"},_react2.default.createElement("strong",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.cronEditor.cronWeekly.textOnLabel",defaultMessage:"On"})))})),_react2.default.createElement(_eui.EuiFormRow,{label:_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.cronEditor.cronWeekly.fieldTimeLabel",defaultMessage:"Time"}),fullWidth:true},_react2.default.createElement(_eui.EuiFlexGroup,{gutterSize:"xs"},_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiSelect,{options:hourOptions,value:hour,onChange:function onChange(e){return _onChange({hour:e.target.value})},fullWidth:true,prepend:_react2.default.createElement(_eui.EuiText,{size:"xs"},_react2.default.createElement("strong",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.cronEditor.cronWeekly.fieldHour.textAtLabel",defaultMessage:"At"})))})),_react2.default.createElement(_eui.EuiFlexItem,null,_react2.default.createElement(_eui.EuiSelect,{options:minuteOptions,value:minute,onChange:function onChange(e){return _onChange({minute:e.target.value})},fullWidth:true,prepend:_react2.default.createElement(_eui.EuiText,{size:"xs"},_react2.default.createElement("strong",null,":"))})))))};CronWeekly.propTypes={minute:_propTypes2.default.string.isRequired,minuteOptions:_propTypes2.default.array.isRequired,hour:_propTypes2.default.string.isRequired,hourOptions:_propTypes2.default.array.isRequired,day:_propTypes2.default.string.isRequired,dayOptions:_propTypes2.default.array.isRequired,onChange:_propTypes2.default.func.isRequired}},7147:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.CronMonthly=void 0;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(4);var _propTypes2=_interopRequireDefault(_propTypes);var _react3=__webpack_require__(10);var _eui=__webpack_require__(2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var CronMonthly=exports.CronMonthly=function CronMonthly(_ref){var minute=_ref.minute,minuteOptions=_ref.minuteOptions,hour=_ref.hour,hourOptions=_ref.hourOptions,date=_ref.date,dateOptions=_ref.dateOptions,_onChange=_ref.onChange;return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_eui.EuiFormRow,{label:_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.cronEditor.cronMonthly.fieldDateLabel",defaultMessage:"Date"}),fullWidth:true},_react2.default.createElement(_eui.EuiSelect,{options:dateOptions,value:date,onChange:function onChange(e){return _onChange({date:e.target.value})},fullWidth:true,prepend:_react2.default.createElement(_eui.EuiText,{size:"xs"},_react2.default.createElement("strong",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.cronEditor.cronMonthly.textOnTheLabel",defaultMessage:"On the"})))})),_react2.default.createElement(_eui.EuiFormRow,{label:_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.cronEditor.cronMonthly.fieldTimeLabel",defaultMessage:"Time"}),fullWidth:true},_react2.default.createElement(_eui.EuiFlexGroup,{gutterSize:"xs"},_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiSelect,{options:hourOptions,value:hour,onChange:function onChange(e){return _onChange({hour:e.target.value})},fullWidth:true,prepend:_react2.default.createElement(_eui.EuiText,{size:"xs"},_react2.default.createElement("strong",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.cronEditor.cronMonthly.fieldHour.textAtLabel",defaultMessage:"At"})))})),_react2.default.createElement(_eui.EuiFlexItem,null,_react2.default.createElement(_eui.EuiSelect,{options:minuteOptions,value:minute,onChange:function onChange(e){return _onChange({minute:e.target.value})},fullWidth:true,prepend:_react2.default.createElement(_eui.EuiText,{size:"xs"},_react2.default.createElement("strong",null,":"))})))))};CronMonthly.propTypes={minute:_propTypes2.default.string.isRequired,minuteOptions:_propTypes2.default.array.isRequired,hour:_propTypes2.default.string.isRequired,hourOptions:_propTypes2.default.array.isRequired,date:_propTypes2.default.string.isRequired,dateOptions:_propTypes2.default.array.isRequired,onChange:_propTypes2.default.func.isRequired}},7148:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.CronYearly=void 0;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(4);var _propTypes2=_interopRequireDefault(_propTypes);var _react3=__webpack_require__(10);var _eui=__webpack_require__(2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var CronYearly=exports.CronYearly=function CronYearly(_ref){var minute=_ref.minute,minuteOptions=_ref.minuteOptions,hour=_ref.hour,hourOptions=_ref.hourOptions,date=_ref.date,dateOptions=_ref.dateOptions,month=_ref.month,monthOptions=_ref.monthOptions,_onChange=_ref.onChange;return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_eui.EuiFormRow,{label:_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.cronEditor.cronYearly.fieldMonthLabel",defaultMessage:"Month"}),fullWidth:true},_react2.default.createElement(_eui.EuiSelect,{options:monthOptions,value:month,onChange:function onChange(e){return _onChange({month:e.target.value})},fullWidth:true,prepend:_react2.default.createElement(_eui.EuiText,{size:"xs"},_react2.default.createElement("strong",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.cronEditor.cronYearly.fieldMonth.textInLabel",defaultMessage:"In"})))})),_react2.default.createElement(_eui.EuiFormRow,{label:_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.cronEditor.cronYearly.fieldDateLabel",defaultMessage:"Date"}),fullWidth:true},_react2.default.createElement(_eui.EuiSelect,{options:dateOptions,value:date,onChange:function onChange(e){return _onChange({date:e.target.value})},fullWidth:true,prepend:_react2.default.createElement(_eui.EuiText,{size:"xs"},_react2.default.createElement("strong",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.cronEditor.cronYearly.fieldDate.textOnTheLabel",defaultMessage:"On the"})))})),_react2.default.createElement(_eui.EuiFormRow,{label:_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.cronEditor.cronYearly.fieldTimeLabel",defaultMessage:"Time"}),fullWidth:true},_react2.default.createElement(_eui.EuiFlexGroup,{gutterSize:"xs"},_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiSelect,{options:hourOptions,value:hour,onChange:function onChange(e){return _onChange({hour:e.target.value})},fullWidth:true,prepend:_react2.default.createElement(_eui.EuiText,{size:"xs"},_react2.default.createElement("strong",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.cronEditor.cronYearly.fieldHour.textAtLabel",defaultMessage:"At"})))})),_react2.default.createElement(_eui.EuiFlexItem,null,_react2.default.createElement(_eui.EuiSelect,{options:minuteOptions,value:minute,onChange:function onChange(e){return _onChange({minute:e.target.value})},fullWidth:true,prepend:_react2.default.createElement(_eui.EuiText,{size:"xs"},_react2.default.createElement("strong",null,":"))})))))};CronYearly.propTypes={minute:_propTypes2.default.string.isRequired,minuteOptions:_propTypes2.default.array.isRequired,hour:_propTypes2.default.string.isRequired,hourOptions:_propTypes2.default.array.isRequired,date:_propTypes2.default.string.isRequired,dateOptions:_propTypes2.default.array.isRequired,month:_propTypes2.default.string.isRequired,monthOptions:_propTypes2.default.array.isRequired,onChange:_propTypes2.default.func.isRequired}},7149:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.StepError=StepError;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(4);var _propTypes2=_interopRequireDefault(_propTypes);var _react3=__webpack_require__(10);var _eui=__webpack_require__(2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function StepError(_ref){var _ref$title=_ref.title,title=void 0===_ref$title?_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.create.stepErrorTitle",defaultMessage:"Fix errors before continuing."}):_ref$title;return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_eui.EuiSpacer,{size:"m"}),_react2.default.createElement(_eui.EuiCallOut,{title:title,color:"danger",iconType:"cross"}))}StepError.propTypes={title:_propTypes2.default.node}},7150:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.StepDateHistogram=exports.StepDateHistogramUi=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(4);var _propTypes2=_interopRequireDefault(_propTypes);var _react3=__webpack_require__(10);var _momentTimezone=__webpack_require__(256);var _momentTimezone2=_interopRequireDefault(_momentTimezone);var _eui=__webpack_require__(2);var _parse_es_interval=__webpack_require__(493);var _services=__webpack_require__(81);var _components=__webpack_require__(646);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var timeZoneOptions=_momentTimezone2.default.tz.names().map(function(name){return{value:name,text:name}});var StepDateHistogramUi=exports.StepDateHistogramUi=function(_Component){_inherits(StepDateHistogramUi,_Component);_createClass(StepDateHistogramUi,null,[{key:"getDerivedStateFromProps",value:function getDerivedStateFromProps(props){var dateFields=props.dateFields;var dateHistogramFieldOptions=dateFields.map(function(dateField){return{value:dateField,text:dateField}});return{dateHistogramFieldOptions:dateHistogramFieldOptions}}}]);function StepDateHistogramUi(props){_classCallCheck(this,StepDateHistogramUi);var _this=_possibleConstructorReturn(this,(StepDateHistogramUi.__proto__||Object.getPrototypeOf(StepDateHistogramUi)).call(this,props));_this.renderErrors=function(){var _this$props=_this.props,areStepErrorsVisible=_this$props.areStepErrorsVisible,hasErrors=_this$props.hasErrors;if(!areStepErrorsVisible||!hasErrors)return null;return _react2.default.createElement(_components.StepError,null)};_this.state={dateHistogramFieldOptions:[]};return _this}_createClass(StepDateHistogramUi,[{key:"renderIntervalHelpText",value:function renderIntervalHelpText(){var fields=this.props.fields;var dateHistogramInterval=fields.dateHistogramInterval;var preferFixedWarning=void 0;try{var _parseEsInterval=(0,_parse_es_interval.parseEsInterval)(dateHistogramInterval),value=_parseEsInterval.value,unit=_parseEsInterval.unit;if(1===value)switch(unit){case"d":preferFixedWarning=_react2.default.createElement(_eui.EuiTextColor,{color:"warning"},_react2.default.createElement("p",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.create.stepDateHistogram.fieldInterval.preferFixedWarningDayLabel",defaultMessage:"Consider using 24h instead of 1d. This allows for more flexible queries."})));break;case"h":preferFixedWarning=_react2.default.createElement(_eui.EuiTextColor,{color:"warning"},_react2.default.createElement("p",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.create.stepDateHistogram.fieldInterval.preferFixedWarningHourLabel",defaultMessage:"Consider using 60m instead of 1h. This allows for more flexible queries."})))}switch(unit){case"y":preferFixedWarning=_react2.default.createElement(_eui.EuiTextColor,{color:"warning"},_react2.default.createElement("p",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.create.stepDateHistogram.fieldInterval.preferFixedWarningYearLabel",defaultMessage:"Consider using the d unit instead of y. This allows for more flexible queries."})));break;case"M":preferFixedWarning=_react2.default.createElement(_eui.EuiTextColor,{color:"warning"},_react2.default.createElement("p",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.create.stepDateHistogram.fieldInterval.preferFixedWarningMonthLabel",defaultMessage:"Consider using the d unit instead of M. This allows for more flexible queries."})));break;case"w":preferFixedWarning=_react2.default.createElement(_eui.EuiTextColor,{color:"warning"},_react2.default.createElement("p",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.create.stepDateHistogram.fieldInterval.preferFixedWarningWeekLabel",defaultMessage:"Consider using the d unit instead of w. This allows for more flexible queries."})))}}catch(error){}return _react2.default.createElement(_react.Fragment,null,preferFixedWarning,_react2.default.createElement("p",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.create.stepDateHistogram.fieldInterval.helpExampleLabel",defaultMessage:"Example sizes: 1000ms, 30s, 20m, 24h, 2d, 1w, 1M, 1y"})))}},{key:"render",value:function render(){var _props=this.props,fields=_props.fields,onFieldsChange=_props.onFieldsChange,areStepErrorsVisible=_props.areStepErrorsVisible,fieldErrors=_props.fieldErrors;var dateHistogramInterval=fields.dateHistogramInterval,dateHistogramField=fields.dateHistogramField,dateHistogramTimeZone=fields.dateHistogramTimeZone;var errorDateHistogramInterval=fieldErrors.dateHistogramInterval,errorDateHistogramField=fieldErrors.dateHistogramField,errorDateHistogramTimeZone=fieldErrors.dateHistogramTimeZone;var dateHistogramFieldOptions=this.state.dateHistogramFieldOptions;return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_eui.EuiFlexGroup,{justifyContent:"spaceBetween"},_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiTitle,null,_react2.default.createElement("h3",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.create.stepDateHistogramTitle",defaultMessage:"Date histogram"})))),_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiButtonEmpty,{size:"s",flush:"right",href:_services.dateHistogramDetailsUrl,target:"_blank",iconType:"help"},_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.create.stepDateHistogram.readDocsButtonLabel",defaultMessage:"Date histogram docs"})))),_react2.default.createElement(_eui.EuiSpacer,{size:"l"}),_react2.default.createElement(_eui.EuiForm,null,_react2.default.createElement(_eui.EuiDescribedFormGroup,{title:_react2.default.createElement("div",null),description:_react2.default.createElement(_react.Fragment,null,_react2.default.createElement("p",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.create.stepDateHistogramDescription",defaultMessage:"Define how {link} will operate on your rollup data.",values:{link:_react2.default.createElement(_eui.EuiLink,{href:_services.dateHistogramAggregationUrl,target:"_blank"},_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.create.stepDateHistogramDescription.aggregationsLinkLabel",defaultMessage:"date histogram aggregations"}))}})),_react2.default.createElement("p",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.create.stepDateHistogram.sectionDataSourceDescription",defaultMessage:"Note that smaller time buckets take up proportionally more space."}))),fullWidth:true},_react2.default.createElement(_eui.EuiFormRow,{label:_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.create.stepDateHistogram.fieldDateFieldLabel",defaultMessage:"Date field"}),error:errorDateHistogramField,isInvalid:Boolean(areStepErrorsVisible&&errorDateHistogramField),fullWidth:true},_react2.default.createElement(_eui.EuiSelect,{isInvalid:Boolean(areStepErrorsVisible&&errorDateHistogramField),options:dateHistogramFieldOptions,value:dateHistogramField,onChange:function onChange(e){return onFieldsChange({dateHistogramField:e.target.value})},fullWidth:true})),_react2.default.createElement(_eui.EuiFormRow,{label:_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.create.stepDateHistogram.fieldIntervalLabel",defaultMessage:"Time bucket size"}),error:errorDateHistogramInterval,isInvalid:Boolean(areStepErrorsVisible&&errorDateHistogramInterval),helpText:this.renderIntervalHelpText(),fullWidth:true},_react2.default.createElement(_eui.EuiFieldText,{value:dateHistogramInterval||"",onChange:function onChange(e){return onFieldsChange({dateHistogramInterval:e.target.value})},isInvalid:Boolean(areStepErrorsVisible&&errorDateHistogramInterval),fullWidth:true})),_react2.default.createElement(_eui.EuiFormRow,{label:_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.create.stepDateHistogram.fieldTimeZoneLabel",defaultMessage:"Time zone"}),error:errorDateHistogramTimeZone||"",isInvalid:Boolean(areStepErrorsVisible&&errorDateHistogramTimeZone),fullWidth:true},_react2.default.createElement(_eui.EuiSelect,{options:timeZoneOptions,value:dateHistogramTimeZone,onChange:function onChange(e){return onFieldsChange({dateHistogramTimeZone:e.target.value})},fullWidth:true})))),this.renderErrors())}}]);return StepDateHistogramUi}(_react.Component);StepDateHistogramUi.propTypes={fields:_propTypes2.default.object.isRequired,onFieldsChange:_propTypes2.default.func.isRequired,fieldErrors:_propTypes2.default.object.isRequired,hasErrors:_propTypes2.default.bool.isRequired,areStepErrorsVisible:_propTypes2.default.bool.isRequired,dateFields:_propTypes2.default.array.isRequired};exports.StepDateHistogram=(0,_react3.injectI18n)(StepDateHistogramUi)},7151:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.StepTerms=exports.StepTermsUi=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(4);var _propTypes2=_interopRequireDefault(_propTypes);var _react3=__webpack_require__(10);var _eui=__webpack_require__(2);var _services=__webpack_require__(81);var _components=__webpack_require__(545);var _components2=__webpack_require__(646);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var StepTermsUi=exports.StepTermsUi=function(_Component){_inherits(StepTermsUi,_Component);function StepTermsUi(){var _ref;var _temp,_this,_ret;_classCallCheck(this,StepTermsUi);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _ret=(_temp=(_this=_possibleConstructorReturn(this,(_ref=StepTermsUi.__proto__||Object.getPrototypeOf(StepTermsUi)).call.apply(_ref,[this].concat(args))),_this),_this.onSelectField=function(field){var _this$props=_this.props,terms=_this$props.fields.terms,onFieldsChange=_this$props.onFieldsChange;onFieldsChange({terms:terms.concat(field)})},_this.onRemoveField=function(field){var _this$props2=_this.props,terms=_this$props2.fields.terms,onFieldsChange=_this$props2.onFieldsChange;onFieldsChange({terms:terms.filter(function(term){return term!==field})})},_temp),_possibleConstructorReturn(_this,_ret)}_createClass(StepTermsUi,[{key:"render",value:function render(){var _props=this.props,fields=_props.fields,termsFields=_props.termsFields;var terms=fields.terms;var columns=[{field:"name",name:"Field",sortable:true},{field:"type",name:"Type",truncateText:true,sortable:true,width:"180px"}];return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_eui.EuiFlexGroup,{justifyContent:"spaceBetween"},_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiTitle,null,_react2.default.createElement("h3",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.create.stepTermsTitle",defaultMessage:"Terms (optional)"}))),_react2.default.createElement(_eui.EuiSpacer,{size:"s"}),_react2.default.createElement(_eui.EuiText,null,_react2.default.createElement("p",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.create.stepTermsDescription",defaultMessage:"Select the fields you want to bucket using terms aggregations. This can be costly for high-cardinality fields such as IP addresses, if the time bucket is sparse."})))),_react2.default.createElement(_eui.EuiFlexItem,{grow:false,className:"rollupJobWizardStepActions"},_react2.default.createElement(_eui.EuiButtonEmpty,{size:"s",flush:"right",href:_services.termsDetailsUrl,target:"_blank",iconType:"help"},_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.create.stepTerms.readDocsButtonLabel",defaultMessage:"Terms docs"})))),_react2.default.createElement(_eui.EuiSpacer,null),_react2.default.createElement(_components.FieldList,{columns:columns,fields:terms,onRemoveField:this.onRemoveField,emptyMessage:_react2.default.createElement("p",null,"No terms fields added"),addButton:_react2.default.createElement(_components2.FieldChooser,{buttonLabel:_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.create.stepTerms.fieldsChooserLabel",defaultMessage:"Add terms fields"}),columns:columns,fields:termsFields,selectedFields:terms,onSelectField:this.onSelectField})}))}}]);return StepTermsUi}(_react.Component);StepTermsUi.propTypes={fields:_propTypes2.default.object.isRequired,onFieldsChange:_propTypes2.default.func.isRequired,termsFields:_propTypes2.default.array.isRequired};exports.StepTerms=(0,_react3.injectI18n)(StepTermsUi)},7152:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.StepHistogram=exports.StepHistogramUi=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(4);var _propTypes2=_interopRequireDefault(_propTypes);var _react3=__webpack_require__(10);var _eui=__webpack_require__(2);var _services=__webpack_require__(81);var _components=__webpack_require__(545);var _components2=__webpack_require__(646);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var StepHistogramUi=exports.StepHistogramUi=function(_Component){_inherits(StepHistogramUi,_Component);function StepHistogramUi(){var _ref;var _temp,_this,_ret;_classCallCheck(this,StepHistogramUi);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _ret=(_temp=(_this=_possibleConstructorReturn(this,(_ref=StepHistogramUi.__proto__||Object.getPrototypeOf(StepHistogramUi)).call.apply(_ref,[this].concat(args))),_this),_this.onSelectField=function(field){var _this$props=_this.props,histogram=_this$props.fields.histogram,onFieldsChange=_this$props.onFieldsChange;onFieldsChange({histogram:histogram.concat(field)})},_this.onRemoveField=function(field){var _this$props2=_this.props,histogram=_this$props2.fields.histogram,onFieldsChange=_this$props2.onFieldsChange;onFieldsChange({histogram:histogram.filter(function(histogramField){return histogramField!==field})})},_this.renderErrors=function(){var _this$props3=_this.props,areStepErrorsVisible=_this$props3.areStepErrorsVisible,hasErrors=_this$props3.hasErrors;if(!areStepErrorsVisible||!hasErrors)return null;return _react2.default.createElement(_components2.StepError,null)},_temp),_possibleConstructorReturn(_this,_ret)}_createClass(StepHistogramUi,[{key:"render",value:function render(){var _props=this.props,fields=_props.fields,histogramFields=_props.histogramFields;var histogram=fields.histogram;var columns=[{field:"name",name:"Field",sortable:true}];return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_eui.EuiFlexGroup,{justifyContent:"spaceBetween"},_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiTitle,null,_react2.default.createElement("h3",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.create.stepHistogramTitle",defaultMessage:"Histogram (optional)"}))),_react2.default.createElement(_eui.EuiSpacer,{size:"s"}),_react2.default.createElement(_eui.EuiText,null,_react2.default.createElement("p",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.create.stepHistogram.histogramDescription",defaultMessage:"Select the fields you want to bucket using numeric intervals."})))),_react2.default.createElement(_eui.EuiFlexItem,{grow:false,className:"rollupJobWizardStepActions"},_react2.default.createElement(_eui.EuiButtonEmpty,{size:"s",flush:"right",href:_services.histogramDetailsUrl,target:"_blank",iconType:"help"},_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.create.stepHistogram.readDocsButtonLabel",defaultMessage:"Histogram docs"})))),_react2.default.createElement(_eui.EuiSpacer,null),_react2.default.createElement(_components.FieldList,{columns:columns,fields:histogram,onRemoveField:this.onRemoveField,emptyMessage:_react2.default.createElement("p",null,"No histogram fields added"),addButton:_react2.default.createElement(_components2.FieldChooser,{buttonLabel:_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.create.stepHistogram.fieldsChooserLabel",defaultMessage:"Add histogram fields"}),columns:columns,fields:histogramFields,selectedFields:histogram,onSelectField:this.onSelectField})}),this.renderInterval(),this.renderErrors())}},{key:"renderInterval",value:function renderInterval(){var _props2=this.props,fields=_props2.fields,onFieldsChange=_props2.onFieldsChange,areStepErrorsVisible=_props2.areStepErrorsVisible,fieldErrors=_props2.fieldErrors;var histogram=fields.histogram,histogramInterval=fields.histogramInterval;var errorHistogramInterval=fieldErrors.histogramInterval;if(!histogram.length)return null;return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_eui.EuiSpacer,{size:"xl"}),_react2.default.createElement(_eui.EuiDescribedFormGroup,{title:_react2.default.createElement(_eui.EuiTitle,{size:"s"},_react2.default.createElement("h4",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.create.stepHistogram.sectionHistogramIntervalTitle",defaultMessage:"Histogram interval"}))),description:_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.create.stepHistogram.sectionHistogramIntervalDescription",defaultMessage:"This is the interval of histogram buckets to be generated when rolling up, e.g. 5 will create buckets that are five units wide (0-5, 5-10, etc). Note that only one interval can be specified in the histogram group, meaning that all fields being grouped via the histogram must share the same interval."}),fullWidth:true},_react2.default.createElement(_eui.EuiFormRow,{label:_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.create.stepHistogram.fieldHistogramIntervalLabel",defaultMessage:"Interval"}),error:errorHistogramInterval,isInvalid:Boolean(areStepErrorsVisible&&errorHistogramInterval),fullWidth:true},_react2.default.createElement(_eui.EuiFieldNumber,{value:histogramInterval||0===histogramInterval?Number(histogramInterval):"",onChange:function onChange(e){return onFieldsChange({histogramInterval:e.target.value})},isInvalid:Boolean(areStepErrorsVisible&&errorHistogramInterval),fullWidth:true}))))}}]);return StepHistogramUi}(_react.Component);StepHistogramUi.propTypes={fields:_propTypes2.default.object.isRequired,onFieldsChange:_propTypes2.default.func.isRequired,fieldErrors:_propTypes2.default.object.isRequired,hasErrors:_propTypes2.default.bool.isRequired,areStepErrorsVisible:_propTypes2.default.bool.isRequired,histogramFields:_propTypes2.default.array.isRequired};exports.StepHistogram=(0,_react3.injectI18n)(StepHistogramUi)},7153:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.StepMetrics=exports.StepMetricsUi=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(4);var _propTypes2=_interopRequireDefault(_propTypes);var _react3=__webpack_require__(10);var _eui=__webpack_require__(2);var _services=__webpack_require__(81);var _components=__webpack_require__(545);var _components2=__webpack_require__(646);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}return Array.from(arr)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var StepMetricsUi=exports.StepMetricsUi=function(_Component){_inherits(StepMetricsUi,_Component);function StepMetricsUi(props){_classCallCheck(this,StepMetricsUi);var _this=_possibleConstructorReturn(this,(StepMetricsUi.__proto__||Object.getPrototypeOf(StepMetricsUi)).call(this,props));_this.onSelectField=function(field){var _this$props=_this.props,metrics=_this$props.fields.metrics,onFieldsChange=_this$props.onFieldsChange;var newMetrics=metrics.concat({name:field.name,types:[]});onFieldsChange({metrics:newMetrics})};_this.onRemoveField=function(field){var _this$props2=_this.props,metrics=_this$props2.fields.metrics,onFieldsChange=_this$props2.onFieldsChange;var newMetrics=metrics.filter(function(_ref){var name=_ref.name;return name!==field.name});onFieldsChange({metrics:newMetrics})};_this.setMetric=function(fieldName,metricType,isSelected){var _this$props3=_this.props,metrics=_this$props3.fields.metrics,onFieldsChange=_this$props3.onFieldsChange;var newMetrics=[].concat(_toConsumableArray(metrics));var _newMetrics$find=newMetrics.find(function(_ref2){var name=_ref2.name;return name===fieldName}),updatedTypes=_newMetrics$find.types;isSelected?updatedTypes.push(metricType):updatedTypes.splice(updatedTypes.indexOf(metricType),1);onFieldsChange({metrics:newMetrics})};_this.renderErrors=function(){var _this$props4=_this.props,areStepErrorsVisible=_this$props4.areStepErrorsVisible,fieldErrors=_this$props4.fieldErrors;var errorMetrics=fieldErrors.metrics;if(!areStepErrorsVisible||!errorMetrics)return null;return _react2.default.createElement(_components2.StepError,{title:errorMetrics})};_this.chooserColumns=[{field:"name",name:"Field",sortable:true}];var metricTypesConfig=[{type:"avg",name:"",label:_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.create.stepMetrics.checkboxAverageLabel",defaultMessage:"Average"})},{type:"max",name:"",label:_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.create.stepMetrics.checkboxMaxLabel",defaultMessage:"Maximum"})},{type:"min",name:"",label:_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.create.stepMetrics.checkboxMinLabel",defaultMessage:"Minimum"})},{type:"sum",name:"",label:_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.create.stepMetrics.checkboxSumLabel",defaultMessage:"Sum"})},{type:"value_count",name:"",label:_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.create.stepMetrics.checkboxValueCountLabel",defaultMessage:"Value count"})}];var metricTypeColumns=metricTypesConfig.map(function(_ref3){var type=_ref3.type,name=_ref3.name,label=_ref3.label;return{name:name,render:function render(_ref4){var fieldName=_ref4.name,types=_ref4.types;var isSelected=types.includes(type);return _react2.default.createElement(_eui.EuiCheckbox,{id:fieldName+"-"+type+"-checkbox",label:label,checked:isSelected,onChange:function onChange(){return _this.setMetric(fieldName,type,!isSelected)}})}}});_this.listColumns=_this.chooserColumns.concat(metricTypeColumns);return _this}_createClass(StepMetricsUi,[{key:"render",value:function render(){var _props=this.props,fields=_props.fields,metricsFields=_props.metricsFields;var metrics=fields.metrics;return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_eui.EuiFlexGroup,{justifyContent:"spaceBetween"},_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiTitle,null,_react2.default.createElement("h3",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.create.stepMetricsTitle",defaultMessage:"Metrics (optional)"}))),_react2.default.createElement(_eui.EuiSpacer,{size:"s"}),_react2.default.createElement(_eui.EuiText,null,_react2.default.createElement("p",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.create.stepMetricsDescription",defaultMessage:"Select the metrics to collect while rolling up data. By default, only doc_counts are collected for each group."})))),_react2.default.createElement(_eui.EuiFlexItem,{grow:false,className:"rollupJobWizardStepActions"},_react2.default.createElement(_eui.EuiButtonEmpty,{size:"s",flush:"right",href:_services.metricsDetailsUrl,target:"_blank",iconType:"help"},_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.create.stepMetrics.readDocsButtonLabel",defaultMessage:"Metrics docs"})))),_react2.default.createElement(_eui.EuiSpacer,null),_react2.default.createElement(_components.FieldList,{columns:this.listColumns,fields:metrics,onRemoveField:this.onRemoveField,emptyMessage:_react2.default.createElement("p",null,"No metrics fields added"),addButton:_react2.default.createElement(_components2.FieldChooser,{buttonLabel:_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.create.stepMetrics.fieldsChooserLabel",defaultMessage:"Add metrics fields"}),columns:this.chooserColumns,fields:metricsFields,selectedFields:metrics,onSelectField:this.onSelectField})}),this.renderErrors())}}]);return StepMetricsUi}(_react.Component);StepMetricsUi.propTypes={fields:_propTypes2.default.object.isRequired,onFieldsChange:_propTypes2.default.func.isRequired,fieldErrors:_propTypes2.default.object.isRequired,areStepErrorsVisible:_propTypes2.default.bool.isRequired,metricsFields:_propTypes2.default.array.isRequired};exports.StepMetrics=(0,_react3.injectI18n)(StepMetricsUi)},7154:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.StepReview=exports.StepReviewUi=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(4);var _propTypes2=_interopRequireDefault(_propTypes);var _react3=__webpack_require__(10);var _eui=__webpack_require__(2);var _services=__webpack_require__(81);var _components=__webpack_require__(545);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var JOB_DETAILS_TABS=[_components.JOB_DETAILS_TAB_SUMMARY,_components.JOB_DETAILS_TAB_TERMS,_components.JOB_DETAILS_TAB_HISTOGRAM,_components.JOB_DETAILS_TAB_METRICS,_components.JOB_DETAILS_TAB_JSON];var StepReviewUi=exports.StepReviewUi=function(_Component){_inherits(StepReviewUi,_Component);function StepReviewUi(props){_classCallCheck(this,StepReviewUi);var _this=_possibleConstructorReturn(this,(StepReviewUi.__proto__||Object.getPrototypeOf(StepReviewUi)).call(this,props));_this.selectTab=function(tab){_this.setState({selectedTab:tab})};_this.state={selectedTab:JOB_DETAILS_TABS[0]};return _this}_createClass(StepReviewUi,[{key:"renderTabs",value:function renderTabs(){var _this2=this;var selectedTab=this.state.selectedTab;var job=this.props.job;var renderedTabs=[];JOB_DETAILS_TABS.forEach(function(tab,index){if(tab===_components.JOB_DETAILS_TAB_TERMS&&!job.terms.length)return;if(tab===_components.JOB_DETAILS_TAB_HISTOGRAM&&!job.histogram.length)return;if(tab===_components.JOB_DETAILS_TAB_METRICS&&!job.metrics.length)return;var isSelected=tab===selectedTab;renderedTabs.push(_react2.default.createElement(_eui.EuiTab,{onClick:function onClick(){return _this2.selectTab(tab)},isSelected:isSelected,"data-test-subj":"stepReviewTab"+(isSelected?"Selected":""),key:index},_components.tabToHumanizedMap[tab]))});if(1===!renderedTabs.length)return null;return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_eui.EuiTabs,null,renderedTabs),_react2.default.createElement(_eui.EuiSpacer,{size:"m"}))}},{key:"render",value:function render(){var job=this.props.job;var selectedTab=this.state.selectedTab;var json=(0,_services.serializeJob)(job);return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_eui.EuiTitle,null,_react2.default.createElement("h3",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.create.stepReviewTitle",defaultMessage:"Review details for '{jobId}'",values:{jobId:job.id}}))),this.renderTabs(),_react2.default.createElement(_eui.EuiErrorBoundary,null,_react2.default.createElement(_components.JobDetails,{job:job,json:json,tab:selectedTab})))}}]);return StepReviewUi}(_react.Component);StepReviewUi.propTypes={job:_propTypes2.default.object.isRequired};exports.StepReview=(0,_react3.injectI18n)(StepReviewUi)},7155:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.stepIdToStepConfigMap=exports.stepIds=exports.STEP_REVIEW=exports.STEP_METRICS=exports.STEP_HISTOGRAM=exports.STEP_TERMS=exports.STEP_DATE_HISTOGRAM=exports.STEP_LOGISTICS=void 0;var _stepIdToStepConfigMa;exports.getAffectedStepsFields=getAffectedStepsFields;exports.hasErrors=hasErrors;var _cloneDeep=__webpack_require__(2233);var _cloneDeep2=_interopRequireDefault(_cloneDeep);var _services=__webpack_require__(81);var _validate_id=__webpack_require__(7156);var _validate_index_pattern=__webpack_require__(7157);var _validate_rollup_index=__webpack_require__(7158);var _validate_rollup_cron=__webpack_require__(7159);var _validate_rollup_page_size=__webpack_require__(7161);var _validate_rollup_delay=__webpack_require__(7162);var _validate_date_histogram_field=__webpack_require__(7163);var _validate_date_histogram_interval=__webpack_require__(7164);var _validate_histogram_interval=__webpack_require__(7165);var _validate_metrics=__webpack_require__(7166);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _defineProperty(obj,key,value){key in obj?Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true}):obj[key]=value;return obj}var STEP_LOGISTICS=exports.STEP_LOGISTICS="STEP_LOGISTICS";var STEP_DATE_HISTOGRAM=exports.STEP_DATE_HISTOGRAM="STEP_DATE_HISTOGRAM";var STEP_TERMS=exports.STEP_TERMS="STEP_TERMS";var STEP_HISTOGRAM=exports.STEP_HISTOGRAM="STEP_HISTOGRAM";var STEP_METRICS=exports.STEP_METRICS="STEP_METRICS";var STEP_REVIEW=exports.STEP_REVIEW="STEP_REVIEW";exports.stepIds=[STEP_LOGISTICS,STEP_DATE_HISTOGRAM,STEP_TERMS,STEP_HISTOGRAM,STEP_METRICS,STEP_REVIEW];exports.stepIdToStepConfigMap=(_stepIdToStepConfigMa={},_defineProperty(_stepIdToStepConfigMa,STEP_LOGISTICS,{defaultFields:{id:"",indexPattern:"",rollupIndex:"",rollupCron:"0 0 0 ? * 7",simpleRollupCron:"0 0 0 ? * 7",rollupPageSize:1e3,rollupDelay:"1d",cronFrequency:_services.WEEK,isAdvancedCronVisible:false,fieldToPreferredValueMap:{}},fieldsValidator:function fieldsValidator(fields){var id=fields.id,indexPattern=fields.indexPattern,rollupIndex=fields.rollupIndex,rollupCron=fields.rollupCron,rollupPageSize=fields.rollupPageSize,rollupDelay=fields.rollupDelay;var errors={id:(0,_validate_id.validateId)(id),indexPattern:(0,_validate_index_pattern.validateIndexPattern)(indexPattern,rollupIndex),rollupIndex:(0,_validate_rollup_index.validateRollupIndex)(rollupIndex,indexPattern),rollupCron:(0,_validate_rollup_cron.validateRollupCron)(rollupCron),rollupPageSize:(0,_validate_rollup_page_size.validateRollupPageSize)(rollupPageSize),rollupDelay:(0,_validate_rollup_delay.validateRollupDelay)(rollupDelay)};return errors}}),_defineProperty(_stepIdToStepConfigMa,STEP_DATE_HISTOGRAM,{defaultFields:{dateHistogramField:null,dateHistogramInterval:null,dateHistogramTimeZone:"UTC"},fieldsValidator:function fieldsValidator(fields){var dateHistogramField=fields.dateHistogramField,dateHistogramInterval=fields.dateHistogramInterval;var errors={dateHistogramField:(0,_validate_date_histogram_field.validateDateHistogramField)(dateHistogramField),dateHistogramInterval:(0,_validate_date_histogram_interval.validateDateHistogramInterval)(dateHistogramInterval)};return errors}}),_defineProperty(_stepIdToStepConfigMa,STEP_TERMS,{defaultFields:{terms:[]}}),_defineProperty(_stepIdToStepConfigMa,STEP_HISTOGRAM,{defaultFields:{histogram:[],histogramInterval:void 0},fieldsValidator:function fieldsValidator(fields){var histogram=fields.histogram,histogramInterval=fields.histogramInterval;var errors={histogramInterval:(0,_validate_histogram_interval.validateHistogramInterval)(histogram,histogramInterval)};return errors}}),_defineProperty(_stepIdToStepConfigMa,STEP_METRICS,{defaultFields:{metrics:[]},fieldsValidator:function fieldsValidator(fields){var metrics=fields.metrics;var errors={metrics:(0,_validate_metrics.validateMetrics)(metrics)};return errors}}),_defineProperty(_stepIdToStepConfigMa,STEP_REVIEW,{}),_stepIdToStepConfigMa);function getAffectedStepsFields(fields,stepsFields){var indexPattern=fields.indexPattern;var affectedStepsFields=(0,_cloneDeep2.default)(stepsFields);if(indexPattern){affectedStepsFields[STEP_DATE_HISTOGRAM].dateHistogramField=void 0;affectedStepsFields[STEP_TERMS].terms=[];affectedStepsFields[STEP_HISTOGRAM].histogram=[];affectedStepsFields[STEP_METRICS].metrics=[]}return affectedStepsFields}function hasErrors(fieldErrors){var errorValues=Object.values(fieldErrors);return errorValues.some(function(error){return void 0!==error})}},7156:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.validateId=validateId;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _react3=__webpack_require__(10);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function validateId(id){if(!id||!id.trim())return[_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.create.errors.idMissing",defaultMessage:"Name is required."})];return}},7157:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.validateIndexPattern=validateIndexPattern;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _react3=__webpack_require__(10);var _index_patterns=__webpack_require__(331);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function validateIndexPattern(indexPattern,rollupIndex){if(!indexPattern||!indexPattern.trim())return[_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.create.errors.indexPatternMissing",defaultMessage:"Index pattern is required."})];if(indexPattern===rollupIndex)return[_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.create.errors.indexPatternSameAsRollupIndex",defaultMessage:"Index pattern cannot have the same as the rollup index."})];var illegalCharacters=_index_patterns.INDEX_PATTERN_ILLEGAL_CHARACTERS_VISIBLE.reduce(function(chars,char){indexPattern.includes(char)&&chars.push(char);return chars},[]);if(illegalCharacters.length)return[_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.create.errors.indexPatternIllegalCharacters",defaultMessage:"Remove the characters {characterList} from your index pattern.",values:{characterList:_react2.default.createElement("strong",null,illegalCharacters.join(" "))}})];if(indexPattern.includes(" "))return[_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.create.errors.indexPatternSpaces",defaultMessage:"Remove the spaces from your index pattern."})];return}},7158:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.validateRollupIndex=validateRollupIndex;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _react3=__webpack_require__(10);var _indices=__webpack_require__(2234);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function validateRollupIndex(rollupIndex,indexPattern){if(!rollupIndex||!rollupIndex.trim())return[_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.create.errors.rollupIndexMissing",defaultMessage:"Rollup index is required."})];if(rollupIndex===indexPattern)return[_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.create.errors.rollupIndexSameAsIndexPattern",defaultMessage:"Rollup index cannot have the same as the index pattern."})];var illegalCharacters=_indices.INDEX_ILLEGAL_CHARACTERS_VISIBLE.reduce(function(chars,char){rollupIndex.includes(char)&&chars.push(char);return chars},[]);if(illegalCharacters.length)return[_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.create.errors.rollupIndexIllegalCharacters",defaultMessage:"Remove the characters {characterList} from your rollup index name.",values:{characterList:_react2.default.createElement("strong",null,illegalCharacters.join(" "))}})];if(rollupIndex.includes(","))return[_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.create.errors.rollupIndexCommas",defaultMessage:"Remove the commas from your rollup index name."})];if(rollupIndex.includes(" "))return[_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.create.errors.rollupIndexSpaces",defaultMessage:"Remove the spaces from your rollup index name."})];if("."===rollupIndex[0])return[_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.create.errors.rollupIndexBeginningPeriod",defaultMessage:"Index names cannot begin with periods."})];return}},7159:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.validateRollupCron=validateRollupCron;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _cronstrue=__webpack_require__(7160);var _cronstrue2=_interopRequireDefault(_cronstrue);var _react3=__webpack_require__(10);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function validateRollupCron(rollupCron){if(!rollupCron||!rollupCron.trim())return[_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.create.errors.rollupCronMissing",defaultMessage:"Cron pattern or basic interval is required."})];try{_cronstrue2.default.toString(rollupCron)}catch(error){var prefix="Error: ";var prefixIndex=error.indexOf(prefix);return error.substring(prefixIndex+prefix.length)}return}},7160:function(module,exports,__webpack_require__){!("undefined"!=typeof self&&self,t=function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=4)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),o=n(2),i=function(){function e(t,n){this.expression=t,this.options=n,this.expressionParts=new Array(5),e.locales[n.locale]?this.i18n=e.locales[n.locale]:(console.warn("Locale '"+n.locale+"' could not be found; falling back to 'en'."),this.i18n=e.locales.en),void 0===n.use24HourTimeFormat&&(n.use24HourTimeFormat=this.i18n.use24HourTimeFormatByDefault())}return e.toString=function(t,n){var r=void 0===n?{}:n,o=r.throwExceptionOnParseError,i=void 0===o||o,s=r.verbose,a=void 0!==s&&s,u=r.dayOfWeekStartIndexZero,c=void 0===u||u,f=r.use24HourTimeFormat,p=r.locale;return new e(t,{throwExceptionOnParseError:i,verbose:a,dayOfWeekStartIndexZero:c,use24HourTimeFormat:f,locale:void 0===p?"en":p}).getFullDescription()},e.initialize=function(t){e.specialCharacters=["/","-",",","*"],t.load(e.locales)},e.prototype.getFullDescription=function(){var e="";try{var t=new o.CronParser(this.expression,this.options.dayOfWeekStartIndexZero);this.expressionParts=t.parse();var n=this.getTimeOfDayDescription(),r=this.getDayOfMonthDescription(),i=this.getMonthDescription();e+=n+r+this.getDayOfWeekDescription()+i+this.getYearDescription(),e=(e=this.transformVerbosity(e,this.options.verbose)).charAt(0).toLocaleUpperCase()+e.substr(1)}catch(t){if(this.options.throwExceptionOnParseError)throw""+t;e=this.i18n.anErrorOccuredWhenGeneratingTheExpressionD()}return e},e.prototype.getTimeOfDayDescription=function(){var t=this.expressionParts[0],n=this.expressionParts[1],o=this.expressionParts[2],i="";if(r.StringUtilities.containsAny(n,e.specialCharacters)||r.StringUtilities.containsAny(o,e.specialCharacters)||r.StringUtilities.containsAny(t,e.specialCharacters))if(t||!(n.indexOf("-")>-1)||n.indexOf(",")>-1||r.StringUtilities.containsAny(o,e.specialCharacters))if(!t&&o.indexOf(",")>-1&&-1==o.indexOf("-")&&-1==o.indexOf("/")&&!r.StringUtilities.containsAny(n,e.specialCharacters)){var s=o.split(",");i+=this.i18n.at();for(var a=0;a<s.length;a++)i+=" ",i+=this.formatTime(s[a],n,""),a<s.length-2&&(i+=","),a==s.length-2&&(i+=this.i18n.spaceAnd())}else{var u=this.getSecondsDescription(),c=this.getMinutesDescription(),f=this.getHoursDescription();(i+=u).length>0&&(i+=", "),(i+=c).length>0&&(i+=", "),i+=f}else{var p=n.split("-");i+=r.StringUtilities.format(this.i18n.everyMinuteBetweenX0AndX1(),this.formatTime(o,p[0],""),this.formatTime(o,p[1],""))}else i+=this.i18n.atSpace()+this.formatTime(o,n,t);return i},e.prototype.getSecondsDescription=function(){var e=this;return this.getSegmentDescription(this.expressionParts[0],this.i18n.everySecond(),function(e){return e},function(t){return r.StringUtilities.format(e.i18n.everyX0Seconds(),t)},function(t){return e.i18n.secondsX0ThroughX1PastTheMinute()},function(t){return"0"==t?"":parseInt(t)<20?e.i18n.atX0SecondsPastTheMinute():e.i18n.atX0SecondsPastTheMinuteGt20()||e.i18n.atX0SecondsPastTheMinute()})},e.prototype.getMinutesDescription=function(){var e=this;return this.getSegmentDescription(this.expressionParts[1],this.i18n.everyMinute(),function(e){return e},function(t){return r.StringUtilities.format(e.i18n.everyX0Minutes(),t)},function(t){return e.i18n.minutesX0ThroughX1PastTheHour()},function(t){try{return"0"==t?"":parseInt(t)<20?e.i18n.atX0MinutesPastTheHour():e.i18n.atX0MinutesPastTheHourGt20()||e.i18n.atX0MinutesPastTheHour()}catch(t){return e.i18n.atX0MinutesPastTheHour()}})},e.prototype.getHoursDescription=function(){var e=this,t=this.expressionParts[2];return this.getSegmentDescription(t,this.i18n.everyHour(),function(t){return e.formatTime(t,"0","")},function(t){return r.StringUtilities.format(e.i18n.everyX0Hours(),t)},function(t){return e.i18n.betweenX0AndX1()},function(t){return e.i18n.atX0()})},e.prototype.getDayOfWeekDescription=function(){var e=this,t=this.i18n.daysOfTheWeek();return"*"==this.expressionParts[5]?"":this.getSegmentDescription(this.expressionParts[5],this.i18n.commaEveryDay(),function(e){var n=e;return e.indexOf("#")>-1?n=e.substr(0,e.indexOf("#")):e.indexOf("L")>-1&&(n=n.replace("L","")),t[parseInt(n)]},function(t){return r.StringUtilities.format(e.i18n.commaEveryX0DaysOfTheWeek(),t)},function(t){return e.i18n.commaX0ThroughX1()},function(t){var n=null;if(t.indexOf("#")>-1){var r=null;switch(t.substring(t.indexOf("#")+1)){case"1":r=e.i18n.first();break;case"2":r=e.i18n.second();break;case"3":r=e.i18n.third();break;case"4":r=e.i18n.fourth();break;case"5":r=e.i18n.fifth()}n=e.i18n.commaOnThe()+r+e.i18n.spaceX0OfTheMonth()}else n=t.indexOf("L")>-1?e.i18n.commaOnTheLastX0OfTheMonth():"*"!=e.expressionParts[3]?e.i18n.commaAndOnX0():e.i18n.commaOnlyOnX0();return n})},e.prototype.getMonthDescription=function(){var e=this,t=this.i18n.monthsOfTheYear();return this.getSegmentDescription(this.expressionParts[4],"",function(e){return t[parseInt(e)-1]},function(t){return r.StringUtilities.format(e.i18n.commaEveryX0Months(),t)},function(t){return e.i18n.commaMonthX0ThroughMonthX1()||e.i18n.commaX0ThroughX1()},function(t){return e.i18n.commaOnlyInX0()})},e.prototype.getDayOfMonthDescription=function(){var e=this,t=null,n=this.expressionParts[3];switch(n){case"L":t=this.i18n.commaOnTheLastDayOfTheMonth();break;case"WL":case"LW":t=this.i18n.commaOnTheLastWeekdayOfTheMonth();break;default:var o=n.match(/(\d{1,2}W)|(W\d{1,2})/);if(o){var i=parseInt(o[0].replace("W","")),s=1==i?this.i18n.firstWeekday():r.StringUtilities.format(this.i18n.weekdayNearestDayX0(),i.toString());t=r.StringUtilities.format(this.i18n.commaOnTheX0OfTheMonth(),s);break}var a=n.match(/L-(\d{1,2})/);if(a){var u=a[1];t=r.StringUtilities.format(this.i18n.commaDaysBeforeTheLastDayOfTheMonth(),u);break}t=this.getSegmentDescription(n,this.i18n.commaEveryDay(),function(t){return"L"==t?e.i18n.lastDay():t},function(t){return"1"==t?e.i18n.commaEveryDay():e.i18n.commaEveryX0Days()},function(t){return e.i18n.commaBetweenDayX0AndX1OfTheMonth()},function(t){return e.i18n.commaOnDayX0OfTheMonth()})}return t},e.prototype.getYearDescription=function(){var e=this;return this.getSegmentDescription(this.expressionParts[6],"",function(e){return/^\d+$/.test(e)?new Date(parseInt(e),1).getFullYear().toString():e},function(t){return r.StringUtilities.format(e.i18n.commaEveryX0Years(),t)},function(t){return e.i18n.commaYearX0ThroughYearX1()||e.i18n.commaX0ThroughX1()},function(t){return e.i18n.commaOnlyInX0()})},e.prototype.getSegmentDescription=function(e,t,n,o,i,s){var a=this,u=null;if(e)if("*"===e)u=t;else if(r.StringUtilities.containsAny(e,["/","-",","]))if(e.indexOf("/")>-1){var c=e.split("/");if(u=r.StringUtilities.format(o(c[1]),n(c[1])),c[0].indexOf("-")>-1)0!=(y=this.generateBetweenSegmentDescription(c[0],i,n)).indexOf(", ")&&(u+=", "),u+=y;else if(!r.StringUtilities.containsAny(c[0],["*",","])){var f=r.StringUtilities.format(s(c[0]),n(c[0]));f=f.replace(", ",""),u+=r.StringUtilities.format(this.i18n.commaStartingX0(),f)}}else if(e.indexOf(",")>-1){c=e.split(",");for(var p="",h=0;h<c.length;h++){var y;h>0&&c.length>2&&(p+=",",h<c.length-1&&(p+=" ")),h>0&&c.length>1&&(h==c.length-1||2==c.length)&&(p+=this.i18n.spaceAnd()+" "),c[h].indexOf("-")>-1?p+=y=(y=this.generateBetweenSegmentDescription(c[h],function(e){return a.i18n.commaX0ThroughX1()},n)).replace(", ",""):p+=n(c[h])}u=r.StringUtilities.format(s(e),p)}else e.indexOf("-")>-1&&(u=this.generateBetweenSegmentDescription(e,i,n));else u=r.StringUtilities.format(s(e),n(e));else u="";return u},e.prototype.generateBetweenSegmentDescription=function(e,t,n){var o="",i=e.split("-"),s=n(i[0]),a=n(i[1]);a=a.replace(":00",":59");var u=t(e);return o+r.StringUtilities.format(u,s,a)},e.prototype.formatTime=function(e,t,n){var r=parseInt(e),o="";this.options.use24HourTimeFormat||(o=r>=12?" PM":" AM",r>12&&(r-=12),0===r&&(r=12));var i=t,s="";return n&&(s=":"+("00"+n).substring(n.length)),("00"+r.toString()).substring(r.toString().length)+":"+("00"+i.toString()).substring(i.toString().length)+s+o},e.prototype.transformVerbosity=function(e,t){return t||(e=(e=(e=e.replace(new RegExp(this.i18n.commaEveryMinute(),"g"),"")).replace(new RegExp(this.i18n.commaEveryHour(),"g"),"")).replace(new RegExp(this.i18n.commaEveryDay(),"g"),"")),e},e.locales={},e}();t.ExpressionDescriptor=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){}return e.format=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return e.replace(/%s/g,function(){return t.shift()})},e.containsAny=function(e,t){return t.some(function(t){return e.indexOf(t)>-1})},e}();t.StringUtilities=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){void 0===t&&(t=!0),this.expression=e,this.dayOfWeekStartIndexZero=t}return e.prototype.parse=function(){var e=this.extractParts(this.expression);return this.normalize(e),this.validate(e),e},e.prototype.extractParts=function(e){if(!this.expression)throw new Error("Expression is empty");var t=e.trim().split(" ");if(t.length<5)throw new Error("Expression has only "+t.length+" part"+(1==t.length?"":"s")+". At least 5 parts are required.");if(5==t.length)t.unshift(""),t.push("");else if(6==t.length)/\d{4}$/.test(t[5])?t.unshift(""):t.push("");else if(t.length>7)throw new Error("Expression has "+t.length+" parts; too many!");return t},e.prototype.normalize=function(e){var t=this;if(e[3]=e[3].replace("?","*"),e[5]=e[5].replace("?","*"),0==e[0].indexOf("0/")&&(e[0]=e[0].replace("0/","*/")),0==e[1].indexOf("0/")&&(e[1]=e[1].replace("0/","*/")),0==e[2].indexOf("0/")&&(e[2]=e[2].replace("0/","*/")),0==e[3].indexOf("1/")&&(e[3]=e[3].replace("1/","*/")),0==e[4].indexOf("1/")&&(e[4]=e[4].replace("1/","*/")),0==e[5].indexOf("1/")&&(e[5]=e[5].replace("1/","*/")),0==e[6].indexOf("1/")&&(e[6]=e[6].replace("1/","*/")),e[5]=e[5].replace(/(^\d)|([^#/\s]\d)/g,function(e){var n=e.replace(/\D/,""),r=n;return t.dayOfWeekStartIndexZero?"7"==n&&(r="0"):r=(parseInt(n)-1).toString(),e.replace(n,r)}),"L"==e[5]&&(e[5]="6"),"?"==e[3]&&(e[3]="*"),e[3].indexOf("W")>-1&&(e[3].indexOf(",")>-1||e[3].indexOf("-")>-1))throw new Error("The 'W' character can be specified only when the day-of-month is a single day, not a range or list of days.");var n={SUN:0,MON:1,TUE:2,WED:3,THU:4,FRI:5,SAT:6};for(var r in n)e[5]=e[5].replace(new RegExp(r,"gi"),n[r].toString());var o={JAN:1,FEB:2,MAR:3,APR:4,MAY:5,JUN:6,JUL:7,AUG:8,SEP:9,OCT:10,NOV:11,DEC:12};for(var i in o)e[4]=e[4].replace(new RegExp(i,"gi"),o[i].toString());"0"==e[0]&&(e[0]="");for(var s=0;s<e.length;s++)if("*/1"==e[s]&&(e[s]="*"),e[s].indexOf("/")>-1&&!/^\*|\-|\,/.test(e[s])){var a=null;switch(s){case 4:a="12";break;case 5:a="6";break;case 6:a="9999";break;default:a=null}if(null!=a){var u=e[s].split("/");e[s]=u[0]+"-"+a+"/"+u[1]}}},e.prototype.validate=function(e){this.assertNoInvalidCharacters("DOW",e[5]),this.assertNoInvalidCharacters("DOM",e[3])},e.prototype.assertNoInvalidCharacters=function(e,t){var n=t.match(/[A-KM-VX-Z]+/gi);if(n&&n.length)throw new Error(e+" part contains invalid values: '"+n.toString()+"'")},e}();t.CronParser=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){}return e.prototype.atX0SecondsPastTheMinuteGt20=function(){return null},e.prototype.atX0MinutesPastTheHourGt20=function(){return null},e.prototype.commaMonthX0ThroughMonthX1=function(){return null},e.prototype.commaYearX0ThroughYearX1=function(){return null},e.prototype.use24HourTimeFormatByDefault=function(){return!1},e.prototype.anErrorOccuredWhenGeneratingTheExpressionD=function(){return"An error occured when generating the expression description.  Check the cron expression syntax."},e.prototype.everyMinute=function(){return"every minute"},e.prototype.everyHour=function(){return"every hour"},e.prototype.atSpace=function(){return"At "},e.prototype.everyMinuteBetweenX0AndX1=function(){return"Every minute between %s and %s"},e.prototype.at=function(){return"At"},e.prototype.spaceAnd=function(){return" and"},e.prototype.everySecond=function(){return"every second"},e.prototype.everyX0Seconds=function(){return"every %s seconds"},e.prototype.secondsX0ThroughX1PastTheMinute=function(){return"seconds %s through %s past the minute"},e.prototype.atX0SecondsPastTheMinute=function(){return"at %s seconds past the minute"},e.prototype.everyX0Minutes=function(){return"every %s minutes"},e.prototype.minutesX0ThroughX1PastTheHour=function(){return"minutes %s through %s past the hour"},e.prototype.atX0MinutesPastTheHour=function(){return"at %s minutes past the hour"},e.prototype.everyX0Hours=function(){return"every %s hours"},e.prototype.betweenX0AndX1=function(){return"between %s and %s"},e.prototype.atX0=function(){return"at %s"},e.prototype.commaEveryDay=function(){return", every day"},e.prototype.commaEveryX0DaysOfTheWeek=function(){return", every %s days of the week"},e.prototype.commaX0ThroughX1=function(){return", %s through %s"},e.prototype.first=function(){return"first"},e.prototype.second=function(){return"second"},e.prototype.third=function(){return"third"},e.prototype.fourth=function(){return"fourth"},e.prototype.fifth=function(){return"fifth"},e.prototype.commaOnThe=function(){return", on the "},e.prototype.spaceX0OfTheMonth=function(){return" %s of the month"},e.prototype.lastDay=function(){return"the last day"},e.prototype.commaOnTheLastX0OfTheMonth=function(){return", on the last %s of the month"},e.prototype.commaOnlyOnX0=function(){return", only on %s"},e.prototype.commaAndOnX0=function(){return", and on %s"},e.prototype.commaEveryX0Months=function(){return", every %s months"},e.prototype.commaOnlyInX0=function(){return", only in %s"},e.prototype.commaOnTheLastDayOfTheMonth=function(){return", on the last day of the month"},e.prototype.commaOnTheLastWeekdayOfTheMonth=function(){return", on the last weekday of the month"},e.prototype.commaDaysBeforeTheLastDayOfTheMonth=function(){return", %s days before the last day of the month"},e.prototype.firstWeekday=function(){return"first weekday"},e.prototype.weekdayNearestDayX0=function(){return"weekday nearest day %s"},e.prototype.commaOnTheX0OfTheMonth=function(){return", on the %s of the month"},e.prototype.commaEveryX0Days=function(){return", every %s days"},e.prototype.commaBetweenDayX0AndX1OfTheMonth=function(){return", between day %s and %s of the month"},e.prototype.commaOnDayX0OfTheMonth=function(){return", on day %s of the month"},e.prototype.commaEveryMinute=function(){return", every minute"},e.prototype.commaEveryHour=function(){return", every hour"},e.prototype.commaEveryX0Years=function(){return", every %s years"},e.prototype.commaStartingX0=function(){return", starting %s"},e.prototype.daysOfTheWeek=function(){return["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},e.prototype.monthsOfTheYear=function(){return["January","February","March","April","May","June","July","August","September","October","November","December"]},e}();t.en=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=n(5);r.ExpressionDescriptor.initialize(new o.enLocaleLoader),t.default=r.ExpressionDescriptor;var i=r.ExpressionDescriptor.toString;t.toString=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),o=function(){function e(){}return e.prototype.load=function(e){e.en=new r.en},e}();t.enLocaleLoader=o}])},void(module.exports=t()));var t},7161:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.validateRollupPageSize=validateRollupPageSize;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _react3=__webpack_require__(10);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function validateRollupPageSize(rollupPageSize){if(!rollupPageSize||!rollupPageSize.toString().trim())return[_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.create.errors.rollupPageSizeMissing",defaultMessage:"Page size is required."})];if(rollupPageSize<=0)return[_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.create.errors.rollupPageSizeGreaterThanZero",defaultMessage:"Page size must be greater than zero."})];return}},7162:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.validateRollupDelay=validateRollupDelay;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _react3=__webpack_require__(10);var _parse_es_interval=__webpack_require__(493);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function validateRollupDelay(rollupDelay){if(!rollupDelay||!rollupDelay.trim())return;try{(0,_parse_es_interval.parseEsInterval)(rollupDelay)}catch(error){if(error instanceof _parse_es_interval.InvalidEsIntervalFormatError)return[_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.create.errors.rollupDelayInvalidFormat",defaultMessage:"Invalid delay format."})];if(error instanceof _parse_es_interval.InvalidEsCalendarIntervalError){var unit=error.unit;return[_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.create.errors.rollupDelayInvalidCalendarInterval",defaultMessage:"The '{unit}' unit only allows values of 1. Try {suggestion}.",values:{unit:unit,suggestion:_react2.default.createElement("strong",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.create.errors.rollupDelayInvalidCalendarIntervalSuggestion",defaultMessage:"1{unit}",values:{unit:unit}}))}})]}throw error}return}},7163:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.validateDateHistogramField=validateDateHistogramField;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _react3=__webpack_require__(10);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function validateDateHistogramField(dateHistogramField){if(!dateHistogramField||!dateHistogramField.trim())return[_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.create.errors.dateHistogramFieldMissing",defaultMessage:"Date field is required."})];return}},7164:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.validateDateHistogramInterval=validateDateHistogramInterval;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _react3=__webpack_require__(10);var _parse_es_interval=__webpack_require__(493);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function validateDateHistogramInterval(dateHistogramInterval){if(!dateHistogramInterval||!dateHistogramInterval.trim())return[_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.create.errors.dateHistogramIntervalMissing",defaultMessage:"Interval is required."})];try{(0,_parse_es_interval.parseEsInterval)(dateHistogramInterval)}catch(error){if(error instanceof _parse_es_interval.InvalidEsIntervalFormatError)return[_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.create.errors.dateHistogramIntervalInvalidFormat",defaultMessage:"Invalid interval format."})];if(error instanceof _parse_es_interval.InvalidEsCalendarIntervalError){var unit=error.unit;return[_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.create.errors.dateHistogramIntervalInvalidCalendarInterval",defaultMessage:"The '{unit}' unit only allows values of 1. Try {suggestion}.",values:{unit:unit,suggestion:_react2.default.createElement("strong",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.create.errors.dateHistogramIntervalInvalidCalendarIntervalSuggestion",defaultMessage:"1{unit}",values:{unit:unit}}))}})]}throw error}return}},7165:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.validateHistogramInterval=validateHistogramInterval;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _react3=__webpack_require__(10);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function validateHistogramInterval(histogram,histogramInterval){if(!histogram.length)return;if(histogramInterval<=0)return[_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.create.errors.histogramIntervalZero",defaultMessage:"Interval must be greater than zero."})];if(!histogramInterval)return[_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.create.errors.histogramIntervalMissing",defaultMessage:"An interval is required to roll up these histogram fields."})];return}},7166:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.validateMetrics=validateMetrics;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _react3=__webpack_require__(10);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function validateMetrics(metrics){var missingTypes=metrics.reduce(function(accumMissingTypes,_ref){var name=_ref.name,types=_ref.types;types.length||accumMissingTypes.push(name);return accumMissingTypes},[]);if(missingTypes.length){var allMissingTypes=missingTypes.join(", ");return[_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.create.errors.metricsTypesMissing",key:"xpack.rollupJobs.create.errors.metricsTypesMissing",defaultMessage:"Select metrics types for these fields or remove them: {allMissingTypes}.",values:{allMissingTypes:allMissingTypes}})]}return}},7167:function(module,exports){module.exports='<kbn-management-app section="elasticsearch/rollup_jobs">\n  <div id="rollupJobsReactRoot"></div>\n</kbn-management-app>\n'},7168:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _store=__webpack_require__(7169);Object.defineProperty(exports,"rollupJobsStore",{enumerable:true,get:function get(){return _store.rollupJobsStore}})},7169:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.rollupJobsStore=void 0;var _redux=__webpack_require__(53);var _reduxThunk=__webpack_require__(434);var _reduxThunk2=_interopRequireDefault(_reduxThunk);var _reducers=__webpack_require__(7170);var _middleware=__webpack_require__(7176);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function createRollupJobsStore(){var initialState=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var enhancers=[(0,_redux.applyMiddleware)(_reduxThunk2.default,_middleware.detailPanel)];window.__REDUX_DEVTOOLS_EXTENSION__&&enhancers.push(window.__REDUX_DEVTOOLS_EXTENSION__());return(0,_redux.createStore)(_reducers.rollupJobs,initialState,_redux.compose.apply(void 0,enhancers))}exports.rollupJobsStore=createRollupJobsStore()},7170:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.rollupJobs=void 0;var _redux=__webpack_require__(53);var _jobs=__webpack_require__(7171);var _table_state=__webpack_require__(7172);var _detail_panel=__webpack_require__(7173);var _create_job=__webpack_require__(7174);var _update_job=__webpack_require__(7175);exports.rollupJobs=(0,_redux.combineReducers)({jobs:_jobs.jobs,tableState:_table_state.tableState,detailPanel:_detail_panel.detailPanel,createJob:_create_job.createJob,updateJob:_update_job.updateJob})},7171:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};exports.jobs=jobs;var _action_types=__webpack_require__(248);function _defineProperty(obj,key,value){key in obj?Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true}):obj[key]=value;return obj}var initialState={isLoading:false,byId:{},allIds:[]};function mapJobsToIds(jobs){var jobsById={};jobs.forEach(function(job){jobsById[job.id]=job});return jobsById}function getJobsIds(jobs){return jobs.map(function(job){return job.id})}function jobs(){var state=arguments.length>0&&void 0!==arguments[0]?arguments[0]:initialState;var action=arguments[1];var type=action.type,payload=action.payload;switch(type){case _action_types.LOAD_JOBS_START:return _extends({},state,{isLoading:true});case _action_types.LOAD_JOBS_SUCCESS:return{byId:mapJobsToIds(payload.jobs),allIds:getJobsIds(payload.jobs),isLoading:false};case _action_types.REFRESH_JOBS_SUCCESS:return{byId:mapJobsToIds(payload.jobs),allIds:getJobsIds(payload.jobs)};case _action_types.LOAD_JOBS_FAILURE:return _extends({},state,{isLoading:false,jobLoadError:payload.error});case _action_types.CREATE_JOB_SUCCESS:var job=payload.job;return{byId:_extends({},state.byId,_defineProperty({},job.id,job)),allIds:state.allIds.concat(job.id)};default:return state}}},7172:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};exports.tableState=tableState;var _action_types=__webpack_require__(248);var initialState={filter:"",pageSize:20,currentPage:0,sortField:"job.id",isSortAscending:true};function tableState(){var state=arguments.length>0&&void 0!==arguments[0]?arguments[0]:initialState;var action=arguments[1];var type=action.type,payload=action.payload;switch(type){case _action_types.FILTER_CHANGED:var filter=payload.filter;return _extends({},state,{filter:filter,currentPage:0});case _action_types.SORT_CHANGED:var sortField=payload.sortField,isSortAscending=payload.isSortAscending;return _extends({},state,{sortField:sortField,isSortAscending:isSortAscending});case _action_types.PAGE_CHANGED:var pageNumber=payload.pageNumber;return _extends({},state,{currentPage:pageNumber});case _action_types.PAGE_SIZE_CHANGED:var pageSize=payload.pageSize;return _extends({},state,{pageSize:pageSize});default:return state}}},7173:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.detailPanel=detailPanel;var _action_types=__webpack_require__(248);var initialState={isOpen:false,panelType:void 0,jobId:void 0};function detailPanel(){var state=arguments.length>0&&void 0!==arguments[0]?arguments[0]:initialState;var action=arguments[1];var type=action.type,payload=action.payload;switch(type){case _action_types.OPEN_DETAIL_PANEL:var panelType=payload.panelType,jobId=payload.jobId;return{panelType:panelType||state.panelType,jobId:jobId,isOpen:true};case _action_types.CLOSE_DETAIL_PANEL:return{panelType:void 0,jobId:void 0,isOpen:false};default:return state}}},7174:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};exports.createJob=createJob;var _action_types=__webpack_require__(248);var initialState={isSaving:false,error:void 0};function createJob(){var state=arguments.length>0&&void 0!==arguments[0]?arguments[0]:initialState;var action=arguments[1];var type=action.type,payload=action.payload;switch(type){case _action_types.CREATE_JOB_START:return{isSaving:true,error:void 0};case _action_types.CREATE_JOB_SUCCESS:return _extends({},state,{isSaving:false});case _action_types.CREATE_JOB_FAILURE:return _extends({},state,{error:payload.error,isSaving:false});case _action_types.CLEAR_CREATE_JOB_ERRORS:return _extends({},state,{error:void 0});default:return state}}},7175:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.updateJob=updateJob;var _action_types=__webpack_require__(248);var initialState={isUpdating:false,error:void 0};function updateJob(){var state=arguments.length>0&&void 0!==arguments[0]?arguments[0]:initialState;var action=arguments[1];var type=action.type;switch(type){case _action_types.UPDATE_JOB_START:return{isUpdating:true};case _action_types.UPDATE_JOB_SUCCESS:case _action_types.UPDATE_JOB_FAILURE:return{isUpdating:false};default:return state}}},7176:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _detail_panel=__webpack_require__(7177);Object.defineProperty(exports,"detailPanel",{enumerable:true,get:function get(){return _detail_panel.detailPanel}})},7177:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.detailPanel=void 0;var _services=__webpack_require__(81);var _action_types=__webpack_require__(248);exports.detailPanel=function detailPanel(){return function(next){return function(action){var type=action.type;switch(type){case _action_types.CLOSE_DETAIL_PANEL:if(!(0,_services.getUserHasLeftApp)()){var _getRouter=(0,_services.getRouter)(),history=_getRouter.history;history.replace({search:""})}}return next(action)}}}},7178:function(module,exports,__webpack_require__){"use strict";__webpack_require__(7179)},7179:function(module,exports,__webpack_require__){"use strict";__webpack_require__(1598);__webpack_require__(7180);__webpack_require__(7182);__webpack_require__(7186);__webpack_require__(7189);__webpack_require__(7195);__webpack_require__(7226);var _routes=__webpack_require__(13);var _routes2=_interopRequireDefault(_routes);var _xpack_info=__webpack_require__(73);__webpack_require__(486);var _management_urls=__webpack_require__(453);var _management=__webpack_require__(84);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}_routes2.default.defaults(/\/management/,{resolve:{securityManagementSection:function securityManagementSection(ShieldUser,Private,esDataIsTribe){var xpackInfo=Private(_xpack_info.XPackInfoProvider);var showSecurityLinks=xpackInfo.get("features.security.showLinks");var tribeTooltip="Not available when using a tribe node.";function deregisterSecurity(){_management.management.deregister("security")}function ensureSecurityRegistered(){var registerSecurity=function registerSecurity(){return _management.management.register("security",{display:"Security",order:10,icon:"securityApp"})};var getSecurity=function getSecurity(){return _management.management.getSection("security")};var security=_management.management.hasItem("security")?getSecurity():registerSecurity();security.hasItem("users")||security.register("users",{name:"securityUsersLink",order:10,display:"Users",url:esDataIsTribe?void 0:"#"+_management_urls.USERS_PATH,tooltip:esDataIsTribe?tribeTooltip:void 0});security.hasItem("roles")||security.register("roles",{name:"securityRolesLink",order:20,display:"Roles",url:esDataIsTribe?void 0:"#"+_management_urls.ROLES_PATH,tooltip:esDataIsTribe?tribeTooltip:void 0})}deregisterSecurity();if(!showSecurityLinks)return;return ShieldUser.getCurrent().$promise.then(ensureSecurityRegistered).catch(deregisterSecurity)}}})},7180:function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(3);var _password_form=__webpack_require__(7181);var _password_form2=_interopRequireDefault(_password_form);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _module=_modules.uiModules.get("security",["kibana"]);_module.directive("kbnPasswordForm",function(){return{template:_password_form2.default,scope:{password:"="},restrict:"E",replace:true,controllerAs:"passwordController",controller:function controller(){this.confirmation=null}}})},7181:function(module,exports){module.exports='<ng-form name="passwordForm">\n  \x3c!-- Password --\x3e\n  <div class="kuiFormSection">\n    <label class="kuiFormLabel">\n      Password\n    </label>\n    <input\n      type="password"\n      class="kuiTextInput fullWidth"\n      id="password"\n      name="password"\n      ng-model="password"\n      required\n      minlength="6"\n      data-test-subj="passwordInput"\n    />\n\n    \x3c!-- Errors --\x3e\n    <div\n      class="kuiInputNote kuiInputNote--danger"\n      ng-show="passwordForm.password.$touched && (passwordForm.password.$error.required || passwordForm.password.$error.minlength)"\n    >\n      Password must be at least 6 characters\n    </div>\n  </div>\n\n  \x3c!-- Confirm password --\x3e\n  <div class="kuiFormSection">\n    <label class="kuiFormLabel">\n      Confirm password\n    </label>\n    <input\n      type="password"\n      class="kuiTextInput fullWidth"\n      name="confirmation"\n      ng-model="passwordController.confirmation"\n      required\n      data-test-subj="passwordConfirmationInput"\n    />\n\n    \x3c!-- Errors --\x3e\n    <div\n      class="kuiInputNote kuiInputNote--danger"\n      ng-show="passwordForm.confirmation.$touched && (password !== passwordController.confirmation)"\n    >\n      Passwords do not match\n    </div>\n  </div>\n</ng-form>\n'},7182:function(module,exports,__webpack_require__){"use strict";var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _reactDom=__webpack_require__(14);var _routes=__webpack_require__(13);var _routes2=_interopRequireDefault(_routes);var _users=__webpack_require__(7183);var _users2=_interopRequireDefault(_users);__webpack_require__(486);var _management_urls=__webpack_require__(453);var _users3=__webpack_require__(2235);var _api=__webpack_require__(2237);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}_routes2.default.when(_management_urls.SECURITY_PATH,{redirectTo:_management_urls.USERS_PATH});var renderReact=function renderReact(elem,httpClient,changeUrl){(0,_reactDom.render)(_react2.default.createElement(_users3.Users,{changeUrl:changeUrl,apiClient:(0,_api.createApiClient)(httpClient)}),elem)};_routes2.default.when(_management_urls.USERS_PATH,{template:_users2.default,controller:function controller($scope,$route,$q,confirmModal,$http,kbnUrl){$scope.$on("$destroy",function(){var elem=document.getElementById("usersReactRoot");elem&&(0,_reactDom.unmountComponentAtNode)(elem)});$scope.$$postDigest(function(){var elem=document.getElementById("usersReactRoot");var changeUrl=function changeUrl(url){kbnUrl.change(url);$scope.$apply()};renderReact(elem,$http,changeUrl)})}})},7183:function(module,exports){module.exports='<kbn-management-app section="security">\n  <div id="usersReactRoot" />\n</kbn-management-app>\n'},7184:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Users=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _eui=__webpack_require__(2);var _notify=__webpack_require__(11);var _confirm_delete=__webpack_require__(2236);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}exports.Users=function(_Component){_inherits(Users,_Component);function Users(props){_classCallCheck(this,Users);var _this=_possibleConstructorReturn(this,(Users.__proto__||Object.getPrototypeOf(Users)).call(this,props));_this.handleDelete=function(usernames,errors){var users=_this.state.users;_this.setState({selection:[],showDeleteConfirmation:false,users:users.filter(function(_ref){var username=_ref.username;return!usernames.includes(username)||errors.includes(username)})})};_this.onCancelDelete=function(){_this.setState({showDeleteConfirmation:false})};_this.state={users:[],selection:[],showDeleteConfirmation:false};return _this}_createClass(Users,[{key:"componentDidMount",value:function componentDidMount(){this.loadUsers()}},{key:"loadUsers",value:function(){var _ref2=_asyncToGenerator(regeneratorRuntime.mark(function _callee(){var apiClient,users;return regeneratorRuntime.wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:apiClient=this.props.apiClient;_context.prev=1;_context.next=4;return apiClient.getUsers();case 4:users=_context.sent;this.setState({users:users});_context.next=11;break;case 8:_context.prev=8;_context.t0=_context["catch"](1);403===_context.t0.status?this.setState({permissionDenied:true}):_notify.toastNotifications.addDanger("Error fetching users: "+_context.t0.data.message);case 11:case"end":return _context.stop()}},_callee,this,[[1,8]])}));function loadUsers(){return _ref2.apply(this,arguments)}return loadUsers}()},{key:"renderToolsLeft",value:function renderToolsLeft(){var _this2=this;var selection=this.state.selection;if(0===selection.length)return;var numSelected=selection.length;return _react2.default.createElement(_eui.EuiButton,{"data-test-subj":"deleteUserButton",color:"danger",onClick:function onClick(){return _this2.setState({showDeleteConfirmation:true})}},"Delete ",numSelected," user",numSelected>1?"s":"")}},{key:"render",value:function render(){var _this3=this;var _state=this.state,users=_state.users,filter=_state.filter,permissionDenied=_state.permissionDenied,showDeleteConfirmation=_state.showDeleteConfirmation,selection=_state.selection;var apiClient=this.props.apiClient;if(permissionDenied)return _react2.default.createElement(_eui.EuiPage,{className:"mgtUsersListingPage"},_react2.default.createElement(_eui.EuiPageBody,null,_react2.default.createElement(_eui.EuiPageContent,{horizontalPosition:"center"},_react2.default.createElement(_eui.EuiEmptyPrompt,{iconType:"securityApp",iconColor:null,title:_react2.default.createElement("h2",null,"Permission denied"),body:_react2.default.createElement("p",{"data-test-subj":"permissionDeniedMessage"},"You do not have permission to manage users.")}))));var path="#/management/security/";var columns=[{field:"full_name",name:"Full Name",sortable:true,truncateText:true,render:function render(fullName){return _react2.default.createElement("div",{"data-test-subj":"userRowFullName"},fullName)}},{field:"username",name:"User Name",sortable:true,truncateText:true,render:function render(username){return _react2.default.createElement(_eui.EuiLink,{"data-test-subj":"userRowUserName",href:path+"users/edit/"+username},username)}},{field:"email",name:"Email Address",sortable:true,truncateText:true},{field:"roles",name:"Roles",render:function render(rolenames){var roleLinks=rolenames.map(function(rolename,index){return _react2.default.createElement(_react.Fragment,{key:rolename},_react2.default.createElement(_eui.EuiLink,{href:path+"roles/edit/"+rolename},rolename),index===rolenames.length-1?null:", ")});return _react2.default.createElement("div",{"data-test-subj":"userRowRoles"},roleLinks)}},{field:"metadata._reserved",name:"Reserved",sortable:false,width:"100px",align:"right",description:"Reserved users are built-in and cannot be removed. Only the password can be changed.",render:function render(reserved){return reserved?_react2.default.createElement(_eui.EuiIcon,{"aria-label":"Reserved user","data-test-subj":"reservedUser",type:"check"}):null}}];var pagination={initialPageSize:20,pageSizeOptions:[10,20,50,100]};var selectionConfig={itemId:"username",selectable:function selectable(user){return!user.metadata._reserved},selectableMessage:function selectableMessage(selectable){return selectable?void 0:"User is a system user"},onSelectionChange:function onSelectionChange(selection){return _this3.setState({selection:selection})}};var search={toolsLeft:this.renderToolsLeft(),box:{incremental:true},onChange:function onChange(query){_this3.setState({filter:query.queryText})}};var sorting={sort:{field:"full_name",direction:"asc"}};var rowProps=function rowProps(){return{"data-test-subj":"userRow"}};var usersToShow=filter?users.filter(function(_ref3){var username=_ref3.username,roles=_ref3.roles,_ref3$full_name=_ref3.full_name,fullName=void 0===_ref3$full_name?"":_ref3$full_name,_ref3$email=_ref3.email,email=void 0===_ref3$email?"":_ref3$email;var normalized=(username+" "+roles.join(" ")+" "+fullName+" "+email).toLowerCase();var normalizedQuery=filter.toLowerCase();return-1!==normalized.indexOf(normalizedQuery)}):users;return _react2.default.createElement(_eui.EuiPage,{className:"mgtUsersListingPage"},_react2.default.createElement(_eui.EuiPageBody,null,_react2.default.createElement(_eui.EuiPageContent,{className:"mgtUsersListingPage__content"},_react2.default.createElement(_eui.EuiPageContentHeader,null,_react2.default.createElement(_eui.EuiPageContentHeaderSection,null,_react2.default.createElement(_eui.EuiTitle,null,_react2.default.createElement("h2",null,"Users"))),_react2.default.createElement(_eui.EuiPageContentHeaderSection,null,_react2.default.createElement(_eui.EuiButton,{"data-test-subj":"createUserButton",href:"#/management/security/users/edit"},"Create new user"))),_react2.default.createElement(_eui.EuiPageContentBody,null,showDeleteConfirmation?_react2.default.createElement(_confirm_delete.ConfirmDelete,{onCancel:this.onCancelDelete,apiClient:apiClient,usersToDelete:selection.map(function(user){return user.username}),callback:this.handleDelete}):null,_react2.default.createElement(_eui.EuiInMemoryTable,{itemId:"username",columns:columns,selection:selectionConfig,pagination:pagination,items:usersToShow,loading:0===users.length,search:search,sorting:sorting,rowProps:rowProps,isSelectable:true})))))}}]);return Users}(_react.Component)},7185:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.EditUser=void 0;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _lodash=__webpack_require__(1);var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _eui=__webpack_require__(2);var _notify=__webpack_require__(11);var _management_urls=__webpack_require__(453);var _confirm_delete=__webpack_require__(2236);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var validEmailRegex=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;var validUsernameRegex=/[a-zA-Z_][a-zA-Z0-9_@\-\$\.]*/;exports.EditUser=function(_Component){_inherits(EditUser,_Component);function EditUser(props){var _this2=this;_classCallCheck(this,EditUser);var _this=_possibleConstructorReturn(this,(EditUser.__proto__||Object.getPrototypeOf(EditUser)).call(this,props));_this.handleDelete=function(usernames,errors){if(0===errors.length){var changeUrl=_this.props.changeUrl;changeUrl(_management_urls.USERS_PATH)}};_this.passwordError=function(){var password=_this.state.password;if(null!==password&&password.length<6)return"Password must be at least 6 characters"};_this.currentPasswordError=function(){var currentPasswordError=_this.state.currentPasswordError;if(currentPasswordError)return"The current password you entered is incorrect"};_this.confirmPasswordError=function(){var _this$state=_this.state,password=_this$state.password,confirmPassword=_this$state.confirmPassword;if(password&&null!==confirmPassword&&password!==confirmPassword)return"Passwords do not match"};_this.usernameError=function(){var username=_this.state.user.username;if(null!==username&&!username)return"Username is required";if(username&&!username.match(validUsernameRegex))return"Username must begin with a letter or underscore and contain only letters, underscores, and numbers"};_this.fullnameError=function(){var full_name=_this.state.user.full_name;if(null!==full_name&&!full_name)return"Full name is required"};_this.emailError=function(){var email=_this.state.user.email;if(null!==email&&(!email||!email.match(validEmailRegex)))return"A valid email address is required"};_this.changePassword=_asyncToGenerator(regeneratorRuntime.mark(function _callee(){var apiClient,_this$state2,user,password,currentPassword;return regeneratorRuntime.wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:apiClient=_this.props.apiClient;_this$state2=_this.state,user=_this$state2.user,password=_this$state2.password,currentPassword=_this$state2.currentPassword;_context.prev=2;_context.next=5;return apiClient.changePassword(user.username,password,currentPassword);case 5:_notify.toastNotifications.addSuccess("Password changed.");_context.next=15;break;case 8:_context.prev=8;_context.t0=_context["catch"](2);if(!(401===_context.t0.status)){_context.next=14;break}return _context.abrupt("return",_this.setState({currentPasswordError:true}));case 14:_notify.toastNotifications.addDanger("Error setting password: "+_context.t0.data.message);case 15:_this.clearPasswordForm();case 16:case"end":return _context.stop()}},_callee,_this2,[[2,8]])}));_this.saveUser=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(){var _this$props,apiClient,changeUrl,_this$state3,user,password,selectedRoles,userToSave;return regeneratorRuntime.wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_this$props=_this.props,apiClient=_this$props.apiClient,changeUrl=_this$props.changeUrl;_this$state3=_this.state,user=_this$state3.user,password=_this$state3.password,selectedRoles=_this$state3.selectedRoles;userToSave=_extends({},user);userToSave.roles=selectedRoles.map(function(selectedRole){return selectedRole.label});password&&(userToSave.password=password);_context2.prev=5;_context2.next=8;return apiClient.saveUser(userToSave);case 8:_notify.toastNotifications.addSuccess("Saved user "+user.username);changeUrl(_management_urls.USERS_PATH);_context2.next=15;break;case 12:_context2.prev=12;_context2.t0=_context2["catch"](5);_notify.toastNotifications.addDanger("Error saving user: "+_context2.t0.data.message);case 15:case"end":return _context2.stop()}},_callee2,_this2,[[5,12]])}));_this.clearPasswordForm=function(){_this.setState({showChangePasswordForm:false,password:null,confirmPassword:null})};_this.passwordFields=function(){var _this$state4=_this.state,user=_this$state4.user,currentUser=_this$state4.currentUser;var userIsLoggedInUser=user.username&&user.username===currentUser.username;return _react2.default.createElement(_react.Fragment,null,userIsLoggedInUser?_react2.default.createElement(_eui.EuiFormRow,{label:"Current password",isInvalid:!!_this.currentPasswordError(),error:_this.currentPasswordError()},_react2.default.createElement(_eui.EuiFieldText,{name:"currentPassword",type:"password",onChange:function onChange(event){return _this.setState({currentPassword:event.target.value})}})):null,_react2.default.createElement(_eui.EuiFormRow,{label:userIsLoggedInUser?"New password":"Password",isInvalid:!!_this.passwordError(),error:_this.passwordError()},_react2.default.createElement(_eui.EuiFieldText,{"data-test-subj":"passwordInput",name:"password",type:"password",onChange:function onChange(event){return _this.setState({password:event.target.value})},onBlur:function onBlur(event){return _this.setState({password:event.target.value||""})}})),_react2.default.createElement(_eui.EuiFormRow,{label:"Confirm password",isInvalid:!!_this.confirmPasswordError(),error:_this.confirmPasswordError()},_react2.default.createElement(_eui.EuiFieldText,{"data-test-subj":"passwordConfirmationInput",onChange:function onChange(event){return _this.setState({confirmPassword:event.target.value})},onBlur:function onBlur(event){return _this.setState({confirmPassword:event.target.value||""})},name:"confirm_password",type:"password"})))};_this.changePasswordForm=function(){var _this$state5=_this.state,showChangePasswordForm=_this$state5.showChangePasswordForm,password=_this$state5.password,confirmPassword=_this$state5.confirmPassword,username=_this$state5.user.username;if(!showChangePasswordForm)return null;return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_eui.EuiHorizontalRule,null),_this.passwordFields(),"kibana"===username?_react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_eui.EuiCallOut,{title:"Extra step needed",color:"warning",iconType:"help"},_react2.default.createElement("p",null,"After you change the password for the kibana user, you must update the kibana.yml file and restart Kibana.")),_react2.default.createElement(_eui.EuiSpacer,null)):null,_react2.default.createElement(_eui.EuiFlexGroup,null,_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiButton,{size:"s",fill:true,disabled:!password||!confirmPassword||_this.passwordError()||_this.confirmPasswordError(),onClick:function onClick(){_this.changePassword(password)}},"Save password")),_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiButtonEmpty,{size:"s",onClick:function onClick(){_this.clearPasswordForm()}},"Cancel"))))};_this.toggleChangePasswordForm=function(){var showChangePasswordForm=_this.state.showChangePasswordForm;_this.setState({showChangePasswordForm:!showChangePasswordForm})};_this.onRolesChange=function(selectedRoles){_this.setState({selectedRoles:selectedRoles})};_this.cannotSaveUser=function(){var _this$state6=_this.state,user=_this$state6.user,isNewUser=_this$state6.isNewUser;return!user.username||!user.full_name||!user.email||_this.emailError()||isNewUser&&(_this.passwordError()||_this.confirmPasswordError())};_this.onCancelDelete=function(){_this.setState({showDeleteConfirmation:false})};_this.state={isLoaded:false,isNewUser:true,currentUser:{},showDeleteConfirmation:false,user:{email:null,username:null,full_name:null,roles:[]},roles:[],selectedRoles:[],password:null,confirmPassword:null};return _this}_createClass(EditUser,[{key:"componentDidMount",value:function(){var _ref3=_asyncToGenerator(regeneratorRuntime.mark(function _callee3(){var _props,apiClient,username,_state,user,currentUser,roles;return regeneratorRuntime.wrap(function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:_props=this.props,apiClient=_props.apiClient,username=_props.username;_state=this.state,user=_state.user,currentUser=_state.currentUser;if(!username){_context3.next=16;break}_context3.prev=3;_context3.next=6;return apiClient.getUser(username);case 6:user=_context3.sent;_context3.next=9;return apiClient.getCurrentUser();case 9:currentUser=_context3.sent;_context3.next=16;break;case 12:_context3.prev=12;_context3.t0=_context3["catch"](3);_notify.toastNotifications.addDanger({title:"Error loading user",text:(0,_lodash.get)(_context3.t0,"data.message")||_context3.t0.message});return _context3.abrupt("return");case 16:roles=void 0;_context3.prev=17;_context3.next=20;return apiClient.getRoles();case 20:roles=_context3.sent;_context3.next=27;break;case 23:_context3.prev=23;_context3.t1=_context3["catch"](17);_notify.toastNotifications.addDanger({title:"Error loading roles",text:(0,_lodash.get)(_context3.t1,"data.message")||_context3.t1.message});return _context3.abrupt("return");case 27:this.setState({isLoaded:true,isNewUser:!username,currentUser:currentUser,user:user,roles:roles,selectedRoles:user.roles.map(function(role){return{label:role}})||[]});case 28:case"end":return _context3.stop()}},_callee3,this,[[3,12],[17,23]])}));function componentDidMount(){return _ref3.apply(this,arguments)}return componentDidMount}()},{key:"render",value:function render(){var _this3=this;var _props2=this.props,changeUrl=_props2.changeUrl,apiClient=_props2.apiClient;var _state2=this.state,user=_state2.user,roles=_state2.roles,selectedRoles=_state2.selectedRoles,showChangePasswordForm=_state2.showChangePasswordForm,isNewUser=_state2.isNewUser,showDeleteConfirmation=_state2.showDeleteConfirmation;var reserved=user.metadata&&user.metadata._reserved;if(!user||!roles)return null;if(!this.state.isLoaded)return null;return _react2.default.createElement(_eui.EuiPage,{className:"mgtUsersEditPage"},_react2.default.createElement(_eui.EuiPageBody,null,_react2.default.createElement(_eui.EuiPageContent,{className:"mgtUsersEditPage__content"},_react2.default.createElement(_eui.EuiPageContentHeader,null,_react2.default.createElement(_eui.EuiPageContentHeaderSection,null,_react2.default.createElement(_eui.EuiTitle,null,_react2.default.createElement("h2",null,isNewUser?"New user":'Edit "'+user.username+'" user'))),reserved&&_react2.default.createElement(_eui.EuiPageContentHeaderSection,null,_react2.default.createElement(_eui.EuiIcon,{type:"lock",size:"l",color:"subdued"}))),_react2.default.createElement(_eui.EuiPageContentBody,null,reserved&&_react2.default.createElement(_eui.EuiText,{size:"s",color:"subdued"},_react2.default.createElement("p",null,"Reserved users are built-in and cannot be removed or modified. Only the password may be changed.")),showDeleteConfirmation?_react2.default.createElement(_confirm_delete.ConfirmDelete,{onCancel:this.onCancelDelete,apiClient:apiClient,usersToDelete:[user.username],callback:this.handleDelete}):null,_react2.default.createElement("form",{onSubmit:function onSubmit(event){event.preventDefault()}},_react2.default.createElement(_eui.EuiForm,null,_react2.default.createElement(_eui.EuiFormRow,{isInvalid:!!this.usernameError(),error:this.usernameError(),helpText:isNewUser||reserved?null:"Username's cannot be changed after creation.",label:"Username"},_react2.default.createElement(_eui.EuiFieldText,{onBlur:function onBlur(event){return _this3.setState({user:_extends({},_this3.state.user,{username:event.target.value||""})})},value:user.username||"",name:"username","data-test-subj":"userFormUserNameInput",disabled:!isNewUser,onChange:function onChange(event){_this3.setState({user:_extends({},_this3.state.user,{username:event.target.value})})}})),isNewUser?this.passwordFields():null,reserved?null:_react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_eui.EuiFormRow,{isInvalid:!!this.fullnameError(),error:this.fullnameError(),label:"Full name"},_react2.default.createElement(_eui.EuiFieldText,{onBlur:function onBlur(event){return _this3.setState({user:_extends({},_this3.state.user,{full_name:event.target.value||""})})},"data-test-subj":"userFormFullNameInput",name:"full_name",value:user.full_name||"",onChange:function onChange(event){_this3.setState({user:_extends({},_this3.state.user,{full_name:event.target.value})})}})),_react2.default.createElement(_eui.EuiFormRow,{isInvalid:!!this.emailError(),error:this.emailError(),label:"Email address"},_react2.default.createElement(_eui.EuiFieldText,{onBlur:function onBlur(event){return _this3.setState({user:_extends({},_this3.state.user,{email:event.target.value||""})})},"data-test-subj":"userFormEmailInput",name:"email",value:user.email||"",onChange:function onChange(event){_this3.setState({user:_extends({},_this3.state.user,{email:event.target.value})})}}))),_react2.default.createElement(_eui.EuiFormRow,{label:"Roles"},_react2.default.createElement(_eui.EuiComboBox,{"data-test-subj":"userFormRolesDropdown",placeholder:"Add roles",onChange:this.onRolesChange,isDisabled:reserved,name:"roles",options:roles.map(function(role){return{"data-test-subj":"roleOption-"+role.name,label:role.name}}),selectedOptions:selectedRoles})),isNewUser||showChangePasswordForm?null:_react2.default.createElement(_eui.EuiFormRow,{label:"Password"},_react2.default.createElement(_eui.EuiLink,{onClick:this.toggleChangePasswordForm},"Change password")),this.changePasswordForm(),_react2.default.createElement(_eui.EuiHorizontalRule,null),reserved&&_react2.default.createElement(_eui.EuiButton,{onClick:function onClick(){return changeUrl(_management_urls.USERS_PATH)}},"Return to user list"),reserved?null:_react2.default.createElement(_eui.EuiFlexGroup,{responsive:false},_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiButton,{disabled:this.cannotSaveUser(),fill:true,"data-test-subj":"userFormSaveButton",onClick:function onClick(){return _this3.saveUser()}},isNewUser?"Create user":"Update user")),_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiButtonEmpty,{"data-test-subj":"userFormCancelButton",onClick:function onClick(){return changeUrl(_management_urls.USERS_PATH)}},"Cancel")),_react2.default.createElement(_eui.EuiFlexItem,{grow:true}),isNewUser||reserved?null:_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiButtonEmpty,{onClick:function onClick(){_this3.setState({showDeleteConfirmation:true})},"data-test-subj":"userFormDeleteButton",color:"danger"},"Delete user")))))))))}}]);return EditUser}(_react.Component)},7186:function(module,exports,__webpack_require__){"use strict";var _lodash=__webpack_require__(1);var _lodash2=_interopRequireDefault(_lodash);var _routes=__webpack_require__(13);var _routes2=_interopRequireDefault(_routes);var _notify=__webpack_require__(11);var _util=__webpack_require__(7187);var _role=__webpack_require__(391);var _roles=__webpack_require__(7188);var _roles2=_interopRequireDefault(_roles);__webpack_require__(1263);var _check_license_error=__webpack_require__(2238);var _gate_keeper=__webpack_require__(1599);var _management_urls=__webpack_require__(453);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}_routes2.default.when(_management_urls.ROLES_PATH,{template:_roles2.default,resolve:{tribeRedirect:function tribeRedirect(Private){var gateKeeper=Private(_gate_keeper.GateKeeperProvider);gateKeeper.redirectAndNotifyIfTribe()},roles:function roles(ShieldRole,kbnUrl,Promise,Private){return ShieldRole.query().$promise.catch((0,_check_license_error.checkLicenseError)(kbnUrl,Promise,Private)).catch(_lodash2.default.identity)}},controller:function controller($scope,$route,$q,confirmModal){$scope.roles=$route.current.locals.roles;$scope.forbidden=!_lodash2.default.isArray($scope.roles);$scope.selectedRoles=[];$scope.sort={orderBy:"name",reverse:false};$scope.editRolesHref="#"+_management_urls.EDIT_ROLES_PATH;$scope.getEditRoleHref=function(role){return"#"+_management_urls.EDIT_ROLES_PATH+"/"+role};$scope.deleteRoles=function(){var doDelete=function doDelete(){$q.all($scope.selectedRoles.map(function(role){return role.$delete()})).then(function(){return _notify.toastNotifications.addSuccess("Deleted "+($scope.selectedRoles.length>1?"roles":"role"))}).then(function(){$scope.selectedRoles.map(function(role){var i=$scope.roles.indexOf(role);$scope.roles.splice(i,1)});$scope.selectedRoles.length=0})};var confirmModalOptions={confirmButtonText:"Delete role(s)",onConfirm:doDelete};confirmModal("\n        Are you sure you want to delete the selected role(s)? This action is irreversible!",confirmModalOptions)};$scope.getSortArrowClass=function(field){if($scope.sort.orderBy===field)return $scope.sort.reverse?"fa-long-arrow-down":"fa-long-arrow-up";return"fa-long-arrow-up"};$scope.toggleAll=function(){$scope.allSelected()?$scope.selectedRoles.length=0:$scope.selectedRoles=getActionableRoles().slice()};$scope.allSelected=function(){var roles=getActionableRoles();return roles.length&&roles.length===$scope.selectedRoles.length};$scope.isRoleEnabled=_role.isRoleEnabled;$scope.toggle=_util.toggle;$scope.includes=_lodash2.default.includes;$scope.toggleSort=_util.toggleSort;function getActionableRoles(){return $scope.roles.filter(function(role){return!role.metadata._reserved})}}})},7187:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.toggle=toggle;exports.toggleSort=toggleSort;function toggle(collection,item){var i=collection.indexOf(item);i>=0?collection.splice(i,1):collection.push(item)}function toggleSort(sort,orderBy){if(sort.orderBy===orderBy)sort.reverse=!sort.reverse;else{sort.orderBy=orderBy;sort.reverse=false}}},7188:function(module,exports){module.exports='<kbn-management-app section="security">\n  <div class="kuiViewContent kuiViewContent--constrainedWidth kuiViewContentItem">\n    <div class="kuiInfoPanel kuiInfoPanel--error" ng-if="forbidden">\n      <div class="kuiInfoPanelHeader">\n        <span class="kuiInfoPanelHeader__icon kuiIcon kuiIcon--error fa-warning"></span>\n        <span class="kuiInfoPanelHeader__title">\n          You do not have permission to manage roles.\n        </span>\n      </div>\n\n      <div class="kuiInfoPanelBody">\n        <div class="kuiInfoPanelBody__message">\n          Please contact your administrator.\n        </div>\n      </div>\n    </div>\n\n    <div ng-if="!forbidden">\n      \x3c!-- ControlledTable --\x3e\n      <div class="kuiControlledTable">\n        \x3c!-- ToolBar --\x3e\n        <div class="kuiToolBar">\n          <div class="kuiToolBarSearch">\n            <div class="kuiToolBarSearchBox">\n              <div class="kuiToolBarSearchBox__icon kuiIcon fa-search"></div>\n              <input\n                class="kuiToolBarSearchBox__input"\n                type="text"\n                placeholder="Search..."\n                aria-label="Filter"\n                ng-model="query"\n              >\n            </div>\n          </div>\n\n          <div class="kuiToolBarSection">\n            \x3c!-- Delete roles button --\x3e\n            <button\n              ng-click="deleteRoles()"\n              class="kuiButton kuiButton--danger kuiButton--iconText"\n              ng-if="selectedRoles.length"\n            >\n              <span class="kuiButton__inner">\n                <span class="kuiButton__icon kuiIcon fa-trash"></span>\n                <span>Delete</span>\n              </span>\n            </button>\n\n            \x3c!-- Create role button --\x3e\n            <a\n              ng-href="{{editRolesHref}}"\n              ng-click="newRole()"\n              class="kuiButton kuiButton--primary kuiButton--iconText"\n              ng-if="!selectedRoles.length"\n              data-test-subj="createRoleButton"\n            >\n              <span class="kuiButton__icon kuiIcon fa-plus"></span><span>Create role</span>\n            </a>\n          </div>\n\n          <div class="kuiToolBarSection">\n            \x3c!-- We need an empty section for the buttons to be positioned consistently. --\x3e\n          </div>\n        </div>\n\n        \x3c!-- NoResults --\x3e\n        <div class="kuiPanel kuiPanel--centered" ng-show="!(roles | filter:query).length">\n          <div class="kuiNoItems">\n            No <span ng-show="query">matching</span> roles found.\n          </div>\n        </div>\n\n        \x3c!-- Table --\x3e\n        <table class="kuiTable" ng-show="(roles | filter:query).length">\n          <thead>\n            <tr>\n              <th scope="col" class="kuiTableHeaderCell kuiTableHeaderCell--checkBox">\n                <div class="kuiTableHeaderCell__liner">\n                  <input\n                    type="checkbox"\n                    class="kuiCheckBox"\n                    ng-checked="allSelected()"\n                    ng-click="toggleAll()"\n                    aria-label="{{allSelected() ? \'Deselect all rows\' : \'Select all rows\'}}"\n                  >\n                </div>\n              </th>\n\n              <th\n                class="kuiTableHeaderCell"\n                scope="col"\n              >\n                <button\n                  class="kuiTableHeaderCellButton"\n                  ng-class="{\'kuiTableHeaderCellButton-isSorted\': sort.orderBy == \'name\'}"\n                  ng-click="toggleSort(sort, \'name\')"\n                  aria-label="{{sort.reverse ? \'Sort role ascending\' : \'Sort role descending\'}}"\n                >\n                  <span class="kuiTableHeaderCell__liner">\n                    Role\n                    <span\n                      aria-hidden="true"\n                      class="kuiTableSortIcon kuiIcon"\n                      ng-class="getSortArrowClass(\'name\')"\n                    ></span>\n                  </span>\n                </button>\n              </th>\n\n              <th scope="col" class="kuiTableHeaderCell">\n                <span class="kuiTableHeaderCell__liner">\n                  Reserved\n                  <span\n                    class="kuiIcon fa-question-circle"\n                    tooltip="Reserved roles are built-in and cannot be removed or modified. Only the password may be changed."\n                    aria-label="Reserved roles are built-in and cannot be removed or modified. Only the password may be changed."\n                  ></span>\n                </span>\n              </th>\n            </tr>\n          </thead>\n\n          <tbody>\n            <tr\n              ng-repeat="role in roles | orderBy:\'name\' | filter:query | orderBy:sort.orderBy:sort.reverse"\n              data-test-subj="roleRow"\n              class="kuiTableRow"\n            >\n              <td class="kuiTableRowCell kuiTableRowCell--checkBox">\n                <div class="kuiTableRowCell__liner">\n                  <input\n                    type="checkbox"\n                    class="kuiCheckBox"\n                    ng-click="toggle(selectedRoles, role)"\n                    ng-checked="includes(selectedRoles, role)"\n                    ng-disabled="role.metadata._reserved"\n                  >\n                </div>\n              </td>\n\n              <td class="kuiTableRowCell">\n                <div class="kuiTableRowCell__liner">\n                  <a\n                    class="kuiLink"\n                    ng-href="{{getEditRoleHref(role.name)}}"\n                    data-test-subj="roleRowName"\n                  >\n                    {{ role.name }}\n                    <span\n                      ng-if="!isRoleEnabled(role)"\n                      class="kuiBadge kuiBadge--default"\n                      tooltip="This role is currently disabled. You may only view or delete it."\n                      aria-label="This role is currently disabled. You may only view or delete it."\n                    >\n                      <span class="kuiIcon fa-warning"></span>\n                      Disabled\n                    </span>\n                  </a>\n                </div>\n              </td>\n\n              <td class="kuiTableRowCell">\n                <div class="kuiTableRowCell__liner">\n                  <div\n                    ng-if="role.metadata._reserved"\n                    class="kuiIcon fa-check"\n                    data-test-subj="roleRowReserved"\n                  ></div>\n                </div>\n              </td>\n            </tr>\n          </tbody>\n        </table>\n\n        \x3c!-- ToolBarFooter --\x3e\n        <div class="kuiToolBarFooter">\n          <div class="kuiToolBarFooterSection">\n            <div class="kuiToolBarText" ng-hide="selectedRoles.length === 0">\n              {{ selectedRoles.length }} roles selected\n            </div>\n          </div>\n          <div class="kuiToolBarFooterSection">\n            \x3c!-- We need an empty section for the buttons to be positioned consistently. --\x3e\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</kbn-management-app>\n'},7189:function(module,exports,__webpack_require__){"use strict";var _routes=__webpack_require__(13);var _routes2=_interopRequireDefault(_routes);var _edit_user=__webpack_require__(7190);var _edit_user2=_interopRequireDefault(_edit_user);__webpack_require__(728);__webpack_require__(2239);__webpack_require__(486);__webpack_require__(1263);var _management_urls=__webpack_require__(453);var _users=__webpack_require__(2235);var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _reactDom=__webpack_require__(14);var _api=__webpack_require__(2237);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var renderReact=function renderReact(elem,httpClient,changeUrl,username){(0,_reactDom.render)(_react2.default.createElement(_users.EditUser,{changeUrl:changeUrl,apiClient:(0,_api.createApiClient)(httpClient),username:username}),elem)};_routes2.default.when(_management_urls.EDIT_USERS_PATH+"/:username?",{template:_edit_user2.default,controllerAs:"editUser",controller:function controller($scope,$route,kbnUrl,Notifier,confirmModal,$http){$scope.$on("$destroy",function(){var elem=document.getElementById("editUserReactRoot");elem&&(0,_reactDom.unmountComponentAtNode)(elem)});$scope.$$postDigest(function(){var elem=document.getElementById("editUserReactRoot");var username=$route.current.params.username;var changeUrl=function changeUrl(url){kbnUrl.change(url);$scope.$apply()};renderReact(elem,$http,changeUrl,username)})}})},7190:function(module,exports){module.exports='<kbn-management-app section="security" omit-breadcrumb-pages="[\'edit\']">\n  <div id="editUserReactRoot" />\n</kbn-management-app>\n'},7191:function(module,exports,__webpack_require__){__webpack_require__(7192);module.exports="ngSanitize"},7192:function(module,exports){
/**
 * @license AngularJS v1.4.9
 * (c) 2010-2015 Google, Inc. http://angularjs.org
 * License: MIT
 */
(function(window,angular,undefined){"use strict";var $sanitizeMinErr=angular.$$minErr("$sanitize");function $SanitizeProvider(){this.$get=["$$sanitizeUri",function($$sanitizeUri){return function(html){var buf=[];htmlParser(html,htmlSanitizeWriter(buf,function(uri,isImage){return!/^unsafe/.test($$sanitizeUri(uri,isImage))}));return buf.join("")}}]}function sanitizeText(chars){var buf=[];var writer=htmlSanitizeWriter(buf,angular.noop);writer.chars(chars);return buf.join("")}var START_TAG_REGEXP=/^<((?:[a-zA-Z])[\w:-]*)((?:\s+[\w:-]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)\s*(>?)/,END_TAG_REGEXP=/^<\/\s*([\w:-]+)[^>]*>/,ATTR_REGEXP=/([\w:-]+)(?:\s*=\s*(?:(?:"((?:[^"])*)")|(?:'((?:[^'])*)')|([^>\s]+)))?/g,BEGIN_TAG_REGEXP=/^</,BEGING_END_TAGE_REGEXP=/^<\//,COMMENT_REGEXP=/<!--(.*?)-->/g,DOCTYPE_REGEXP=/<!DOCTYPE([^>]*?)>/i,CDATA_REGEXP=/<!\[CDATA\[(.*?)]]>/g,SURROGATE_PAIR_REGEXP=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,NON_ALPHANUMERIC_REGEXP=/([^\#-~| |!])/g;var voidElements=makeMap("area,br,col,hr,img,wbr");var optionalEndTagBlockElements=makeMap("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),optionalEndTagInlineElements=makeMap("rp,rt"),optionalEndTagElements=angular.extend({},optionalEndTagInlineElements,optionalEndTagBlockElements);var blockElements=angular.extend({},optionalEndTagBlockElements,makeMap("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,script,section,table,ul"));var inlineElements=angular.extend({},optionalEndTagInlineElements,makeMap("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var"));var svgElements=makeMap("circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,radialGradient,rect,stop,svg,switch,text,title,tspan,use");var specialElements=makeMap("script,style");var validElements=angular.extend({},voidElements,blockElements,inlineElements,optionalEndTagElements,svgElements);var uriAttrs=makeMap("background,cite,href,longdesc,src,usemap,xlink:href");var htmlAttrs=makeMap("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,tabindex,target,title,type,valign,value,vspace,width");var svgAttrs=makeMap("accent-height,accumulate,additive,alphabetic,arabic-form,ascent,baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan",true);var validAttrs=angular.extend({},uriAttrs,svgAttrs,htmlAttrs);function makeMap(str,lowercaseKeys){var i,obj={},items=str.split(",");for(i=0;i<items.length;i++)obj[lowercaseKeys?angular.lowercase(items[i]):items[i]]=true;return obj}function htmlParser(html,handler){"string"!==typeof html&&(html=null===html||"undefined"===typeof html?"":""+html);var index,chars,match,text,stack=[],last=html;stack.last=function(){return stack[stack.length-1]};while(html){text="";chars=true;if(stack.last()&&specialElements[stack.last()]){html=html.replace(new RegExp("([\\W\\w]*)<\\s*\\/\\s*"+stack.last()+"[^>]*>","i"),function(all,text){text=text.replace(COMMENT_REGEXP,"$1").replace(CDATA_REGEXP,"$1");handler.chars&&handler.chars(decodeEntities(text));return""});parseEndTag("",stack.last())}else{if(0===html.indexOf("\x3c!--")){index=html.indexOf("--",4);if(index>=0&&html.lastIndexOf("--\x3e",index)===index){handler.comment&&handler.comment(html.substring(4,index));html=html.substring(index+3);chars=false}}else if(DOCTYPE_REGEXP.test(html)){match=html.match(DOCTYPE_REGEXP);if(match){html=html.replace(match[0],"");chars=false}}else if(BEGING_END_TAGE_REGEXP.test(html)){match=html.match(END_TAG_REGEXP);if(match){html=html.substring(match[0].length);match[0].replace(END_TAG_REGEXP,parseEndTag);chars=false}}else if(BEGIN_TAG_REGEXP.test(html)){match=html.match(START_TAG_REGEXP);if(match){if(match[4]){html=html.substring(match[0].length);match[0].replace(START_TAG_REGEXP,parseStartTag)}chars=false}else{text+="<";html=html.substring(1)}}if(chars){index=html.indexOf("<");text+=index<0?html:html.substring(0,index);html=index<0?"":html.substring(index);handler.chars&&handler.chars(decodeEntities(text))}}if(html==last)throw $sanitizeMinErr("badparse","The sanitizer was unable to parse the following block of html: {0}",html);last=html}parseEndTag();function parseStartTag(tag,tagName,rest,unary){tagName=angular.lowercase(tagName);if(blockElements[tagName])while(stack.last()&&inlineElements[stack.last()])parseEndTag("",stack.last());optionalEndTagElements[tagName]&&stack.last()==tagName&&parseEndTag("",tagName);unary=voidElements[tagName]||!!unary;unary||stack.push(tagName);var attrs={};rest.replace(ATTR_REGEXP,function(match,name,doubleQuotedValue,singleQuotedValue,unquotedValue){var value=doubleQuotedValue||singleQuotedValue||unquotedValue||"";attrs[name]=decodeEntities(value)});handler.start&&handler.start(tagName,attrs,unary)}function parseEndTag(tag,tagName){var i,pos=0;tagName=angular.lowercase(tagName);if(tagName)for(pos=stack.length-1;pos>=0;pos--)if(stack[pos]==tagName)break;if(pos>=0){for(i=stack.length-1;i>=pos;i--)handler.end&&handler.end(stack[i]);stack.length=pos}}}var hiddenPre=document.createElement("pre");function decodeEntities(value){if(!value)return"";hiddenPre.innerHTML=value.replace(/</g,"&lt;");return hiddenPre.textContent}function encodeEntities(value){return value.replace(/&/g,"&amp;").replace(SURROGATE_PAIR_REGEXP,function(value){var hi=value.charCodeAt(0);var low=value.charCodeAt(1);return"&#"+(1024*(hi-55296)+(low-56320)+65536)+";"}).replace(NON_ALPHANUMERIC_REGEXP,function(value){return"&#"+value.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function htmlSanitizeWriter(buf,uriValidator){var ignore=false;var out=angular.bind(buf,buf.push);return{start:function(tag,attrs,unary){tag=angular.lowercase(tag);!ignore&&specialElements[tag]&&(ignore=tag);if(!ignore&&true===validElements[tag]){out("<");out(tag);angular.forEach(attrs,function(value,key){var lkey=angular.lowercase(key);var isImage="img"===tag&&"src"===lkey||"background"===lkey;if(true===validAttrs[lkey]&&(true!==uriAttrs[lkey]||uriValidator(value,isImage))){out(" ");out(key);out('="');out(encodeEntities(value));out('"')}});out(unary?"/>":">")}},end:function(tag){tag=angular.lowercase(tag);if(!ignore&&true===validElements[tag]){out("</");out(tag);out(">")}tag==ignore&&(ignore=false)},chars:function(chars){ignore||out(encodeEntities(chars))}}}angular.module("ngSanitize",[]).provider("$sanitize",$SanitizeProvider);angular.module("ngSanitize").filter("linky",["$sanitize",function($sanitize){var LINKY_URL_REGEXP=/((ftp|https?):\/\/|(www\.)|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"\u201d\u2019]/i,MAILTO_REGEXP=/^mailto:/i;return function(text,target){if(!text)return text;var match;var raw=text;var html=[];var url;var i;while(match=raw.match(LINKY_URL_REGEXP)){url=match[0];match[2]||match[4]||(url=(match[3]?"http://":"mailto:")+url);i=match.index;addText(raw.substr(0,i));addLink(url,match[0].replace(MAILTO_REGEXP,""));raw=raw.substring(i+match[0].length)}addText(raw);return $sanitize(html.join(""));function addText(text){if(!text)return;html.push(sanitizeText(text))}function addLink(url,text){html.push("<a ");angular.isDefined(target)&&html.push('target="',target,'" ');html.push('href="',url.replace(/"/g,"&quot;"),'">');addText(text);html.push("</a>")}}}])})(window,window.angular)},7193:function(module,exports){
/*!
 * ui-select
 * http://github.com/angular-ui/ui-select
 * Version: 0.19.3 - 2016-08-17T06:16:41.345Z
 * License: MIT
 */
(function(){"use strict";var KEY={TAB:9,ENTER:13,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,SHIFT:16,CTRL:17,ALT:18,PAGE_UP:33,PAGE_DOWN:34,HOME:36,END:35,BACKSPACE:8,DELETE:46,COMMAND:91,MAP:{91:"COMMAND",8:"BACKSPACE",9:"TAB",13:"ENTER",16:"SHIFT",17:"CTRL",18:"ALT",19:"PAUSEBREAK",20:"CAPSLOCK",27:"ESC",32:"SPACE",33:"PAGE_UP",34:"PAGE_DOWN",35:"END",36:"HOME",37:"LEFT",38:"UP",39:"RIGHT",40:"DOWN",43:"+",44:"PRINTSCREEN",45:"INSERT",46:"DELETE",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",61:"=",65:"A",66:"B",67:"C",68:"D",69:"E",70:"F",71:"G",72:"H",73:"I",74:"J",75:"K",76:"L",77:"M",78:"N",79:"O",80:"P",81:"Q",82:"R",83:"S",84:"T",85:"U",86:"V",87:"W",88:"X",89:"Y",90:"Z",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NUMLOCK",145:"SCROLLLOCK",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},isControl:function(e){var k=e.which;switch(k){case KEY.COMMAND:case KEY.SHIFT:case KEY.CTRL:case KEY.ALT:return true}if(e.metaKey||e.ctrlKey||e.altKey)return true;return false},isFunctionKey:function(k){k=k.which?k.which:k;return k>=112&&k<=123},isVerticalMovement:function(k){return~[KEY.UP,KEY.DOWN].indexOf(k)},isHorizontalMovement:function(k){return~[KEY.LEFT,KEY.RIGHT,KEY.BACKSPACE,KEY.DELETE].indexOf(k)},toSeparator:function(k){var sep={ENTER:"\n",TAB:"\t",SPACE:" "}[k];if(sep)return sep;return KEY[k]?void 0:k}};void 0===angular.element.prototype.querySelectorAll&&(angular.element.prototype.querySelectorAll=function(selector){return angular.element(this[0].querySelectorAll(selector))});void 0===angular.element.prototype.closest&&(angular.element.prototype.closest=function(selector){var elem=this[0];var matchesSelector=elem.matches||elem.webkitMatchesSelector||elem.mozMatchesSelector||elem.msMatchesSelector;while(elem){if(matchesSelector.bind(elem)(selector))return elem;elem=elem.parentElement}return false});var latestId=0;var uis=angular.module("ui.select",[]).constant("uiSelectConfig",{theme:"bootstrap",searchEnabled:true,sortable:false,placeholder:"",refreshDelay:1e3,closeOnSelect:true,skipFocusser:false,dropdownPosition:"auto",removeSelected:true,resetSearchInput:true,generateId:function(){return latestId++},appendToBody:false}).service("uiSelectMinErr",function(){var minErr=angular.$$minErr("ui.select");return function(){var error=minErr.apply(this,arguments);var message=error.message.replace(new RegExp("\nhttp://errors.angularjs.org/.*"),"");return new Error(message)}}).directive("uisTranscludeAppend",function(){return{link:function(scope,element,attrs,ctrl,transclude){transclude(scope,function(clone){element.append(clone)})}}}).filter("highlight",function(){function escapeRegexp(queryToEscape){return(""+queryToEscape).replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}return function(matchItem,query){return query&&matchItem?(""+matchItem).replace(new RegExp(escapeRegexp(query),"gi"),'<span class="ui-select-highlight">$&</span>'):matchItem}}).factory("uisOffset",["$document","$window",function($document,$window){return function(element){var boundingClientRect=element[0].getBoundingClientRect();return{width:boundingClientRect.width||element.prop("offsetWidth"),height:boundingClientRect.height||element.prop("offsetHeight"),top:boundingClientRect.top+($window.pageYOffset||$document[0].documentElement.scrollTop),left:boundingClientRect.left+($window.pageXOffset||$document[0].documentElement.scrollLeft)}}}]);uis.directive("uiSelectChoices",["uiSelectConfig","uisRepeatParser","uiSelectMinErr","$compile","$window",function(uiSelectConfig,RepeatParser,uiSelectMinErr,$compile,$window){return{restrict:"EA",require:"^uiSelect",replace:true,transclude:true,templateUrl:function(tElement){tElement.addClass("ui-select-choices");var theme=tElement.parent().attr("theme")||uiSelectConfig.theme;return theme+"/choices.tpl.html"},compile:function(tElement,tAttrs){if(!tAttrs.repeat)throw uiSelectMinErr("repeat","Expected 'repeat' expression.");var groupByExp=tAttrs.groupBy;var groupFilterExp=tAttrs.groupFilter;if(groupByExp){var groups=tElement.querySelectorAll(".ui-select-choices-group");if(1!==groups.length)throw uiSelectMinErr("rows","Expected 1 .ui-select-choices-group but got '{0}'.",groups.length);groups.attr("ng-repeat",RepeatParser.getGroupNgRepeatExpression())}var parserResult=RepeatParser.parse(tAttrs.repeat);var choices=tElement.querySelectorAll(".ui-select-choices-row");if(1!==choices.length)throw uiSelectMinErr("rows","Expected 1 .ui-select-choices-row but got '{0}'.",choices.length);choices.attr("ng-repeat",parserResult.repeatExpression(groupByExp)).attr("ng-if","$select.open");var rowsInner=tElement.querySelectorAll(".ui-select-choices-row-inner");if(1!==rowsInner.length)throw uiSelectMinErr("rows","Expected 1 .ui-select-choices-row-inner but got '{0}'.",rowsInner.length);rowsInner.attr("uis-transclude-append","");var clickTarget=$window.document.addEventListener?choices:rowsInner;clickTarget.attr("ng-click","$select.select("+parserResult.itemName+",$select.skipFocusser,$event)");return function link(scope,element,attrs,$select){$select.parseRepeatAttr(attrs.repeat,groupByExp,groupFilterExp);$select.disableChoiceExpression=attrs.uiDisableChoice;$select.onHighlightCallback=attrs.onHighlight;$select.dropdownPosition=attrs.position?attrs.position.toLowerCase():uiSelectConfig.dropdownPosition;scope.$on("$destroy",function(){choices.remove()});scope.$watch("$select.search",function(newValue){newValue&&!$select.open&&$select.multiple&&$select.activate(false,true);$select.activeIndex=$select.tagging.isActivated?-1:0;!attrs.minimumInputLength||$select.search.length>=attrs.minimumInputLength?$select.refresh(attrs.refresh):$select.items=[]});attrs.$observe("refreshDelay",function(){var refreshDelay=scope.$eval(attrs.refreshDelay);$select.refreshDelay=void 0!==refreshDelay?refreshDelay:uiSelectConfig.refreshDelay})}}}}]);uis.controller("uiSelectCtrl",["$scope","$element","$timeout","$filter","$$uisDebounce","uisRepeatParser","uiSelectMinErr","uiSelectConfig","$parse","$injector","$window",function($scope,$element,$timeout,$filter,$$uisDebounce,RepeatParser,uiSelectMinErr,uiSelectConfig,$parse,$injector,$window){var ctrl=this;var EMPTY_SEARCH="";ctrl.placeholder=uiSelectConfig.placeholder;ctrl.searchEnabled=uiSelectConfig.searchEnabled;ctrl.sortable=uiSelectConfig.sortable;ctrl.refreshDelay=uiSelectConfig.refreshDelay;ctrl.paste=uiSelectConfig.paste;ctrl.resetSearchInput=uiSelectConfig.resetSearchInput;ctrl.removeSelected=uiSelectConfig.removeSelected;ctrl.closeOnSelect=true;ctrl.skipFocusser=false;ctrl.search=EMPTY_SEARCH;ctrl.activeIndex=0;ctrl.items=[];ctrl.open=false;ctrl.focus=false;ctrl.disabled=false;ctrl.selected=void 0;ctrl.dropdownPosition="auto";ctrl.focusser=void 0;ctrl.multiple=void 0;ctrl.disableChoiceExpression=void 0;ctrl.tagging={isActivated:false,fct:void 0};ctrl.taggingTokens={isActivated:false,tokens:void 0};ctrl.lockChoiceExpression=void 0;ctrl.clickTriggeredSelect=false;ctrl.$filter=$filter;ctrl.$element=$element;ctrl.$animate=function(){try{return $injector.get("$animate")}catch(err){return null}}();ctrl.searchInput=$element.querySelectorAll("input.ui-select-search");if(1!==ctrl.searchInput.length)throw uiSelectMinErr("searchInput","Expected 1 input.ui-select-search but got '{0}'.",ctrl.searchInput.length);ctrl.isEmpty=function(){return angular.isUndefined(ctrl.selected)||null===ctrl.selected||""===ctrl.selected||ctrl.multiple&&0===ctrl.selected.length};function _findIndex(collection,predicate,thisArg){if(collection.findIndex)return collection.findIndex(predicate,thisArg);var list=Object(collection);var length=list.length>>>0;var value;for(var i=0;i<length;i++){value=list[i];if(predicate.call(thisArg,value,i,list))return i}return-1}function _resetSearchInput(){if(ctrl.resetSearchInput){ctrl.search=EMPTY_SEARCH;ctrl.selected&&ctrl.items.length&&!ctrl.multiple&&(ctrl.activeIndex=_findIndex(ctrl.items,function(item){return angular.equals(this,item)},ctrl.selected))}}function _groupsFilter(groups,groupNames){var i,j,result=[];for(i=0;i<groupNames.length;i++)for(j=0;j<groups.length;j++)groups[j].name==[groupNames[i]]&&result.push(groups[j]);return result}ctrl.activate=function(initSearchValue,avoidReset){if(ctrl.disabled||ctrl.open)ctrl.open&&!ctrl.searchEnabled&&ctrl.close();else{avoidReset||_resetSearchInput();$scope.$broadcast("uis:activate");ctrl.open=true;ctrl.activeIndex=ctrl.activeIndex>=ctrl.items.length?0:ctrl.activeIndex;-1===ctrl.activeIndex&&false!==ctrl.taggingLabel&&(ctrl.activeIndex=0);var container=$element.querySelectorAll(".ui-select-choices-content");var searchInput=$element.querySelectorAll(".ui-select-search");if(ctrl.$animate&&ctrl.$animate.on&&ctrl.$animate.enabled(container[0])){var animateHandler=function(elem,phase){if("start"===phase&&0===ctrl.items.length){ctrl.$animate.off("removeClass",searchInput[0],animateHandler);$timeout(function(){ctrl.focusSearchInput(initSearchValue)})}else if("close"===phase){ctrl.$animate.off("enter",container[0],animateHandler);$timeout(function(){ctrl.focusSearchInput(initSearchValue)})}};ctrl.items.length>0?ctrl.$animate.on("enter",container[0],animateHandler):ctrl.$animate.on("removeClass",searchInput[0],animateHandler)}else $timeout(function(){ctrl.focusSearchInput(initSearchValue);!ctrl.tagging.isActivated&&ctrl.items.length>1&&_ensureHighlightVisible()})}};ctrl.focusSearchInput=function(initSearchValue){ctrl.search=initSearchValue||ctrl.search;ctrl.searchInput[0].focus()};ctrl.findGroupByName=function(name){return ctrl.groups&&ctrl.groups.filter(function(group){return group.name===name})[0]};ctrl.parseRepeatAttr=function(repeatAttr,groupByExp,groupFilterExp){function updateGroups(items){var groupFn=$scope.$eval(groupByExp);ctrl.groups=[];angular.forEach(items,function(item){var groupName=angular.isFunction(groupFn)?groupFn(item):item[groupFn];var group=ctrl.findGroupByName(groupName);group?group.items.push(item):ctrl.groups.push({name:groupName,items:[item]})});if(groupFilterExp){var groupFilterFn=$scope.$eval(groupFilterExp);angular.isFunction(groupFilterFn)?ctrl.groups=groupFilterFn(ctrl.groups):angular.isArray(groupFilterFn)&&(ctrl.groups=_groupsFilter(ctrl.groups,groupFilterFn))}ctrl.items=[];ctrl.groups.forEach(function(group){ctrl.items=ctrl.items.concat(group.items)})}function setPlainItems(items){ctrl.items=items}ctrl.setItemsFn=groupByExp?updateGroups:setPlainItems;ctrl.parserResult=RepeatParser.parse(repeatAttr);ctrl.isGrouped=!!groupByExp;ctrl.itemProperty=ctrl.parserResult.itemName;var originalSource=ctrl.parserResult.source;var createArrayFromObject=function(){var origSrc=originalSource($scope);$scope.$uisSource=Object.keys(origSrc).map(function(v){var result={};result[ctrl.parserResult.keyName]=v;result.value=origSrc[v];return result})};if(ctrl.parserResult.keyName){createArrayFromObject();ctrl.parserResult.source=$parse("$uisSource"+ctrl.parserResult.filters);$scope.$watch(originalSource,function(newVal,oldVal){newVal!==oldVal&&createArrayFromObject()},true)}ctrl.refreshItems=function(data){data=data||ctrl.parserResult.source($scope);var selectedItems=ctrl.selected;if(ctrl.isEmpty()||angular.isArray(selectedItems)&&!selectedItems.length||!ctrl.multiple||!ctrl.removeSelected)ctrl.setItemsFn(data);else if(void 0!==data&&null!==data){var filteredItems=data.filter(function(i){return angular.isArray(selectedItems)?selectedItems.every(function(selectedItem){return!angular.equals(i,selectedItem)}):!angular.equals(i,selectedItems)});ctrl.setItemsFn(filteredItems)}"auto"!==ctrl.dropdownPosition&&"up"!==ctrl.dropdownPosition||$scope.calculateDropdownPos();$scope.$broadcast("uis:refresh")};$scope.$watchCollection(ctrl.parserResult.source,function(items){if(void 0===items||null===items)ctrl.items=[];else{if(!angular.isArray(items))throw uiSelectMinErr("items","Expected an array but got '{0}'.",items);ctrl.refreshItems(items);angular.isDefined(ctrl.ngModel.$modelValue)&&(ctrl.ngModel.$modelValue=null)}})};var _refreshDelayPromise;ctrl.refresh=function(refreshAttr){if(void 0!==refreshAttr){_refreshDelayPromise&&$timeout.cancel(_refreshDelayPromise);_refreshDelayPromise=$timeout(function(){$scope.$eval(refreshAttr)},ctrl.refreshDelay)}};ctrl.isActive=function(itemScope){if(!ctrl.open)return false;var itemIndex=ctrl.items.indexOf(itemScope[ctrl.itemProperty]);var isActive=itemIndex==ctrl.activeIndex;if(!isActive||itemIndex<0)return false;isActive&&!angular.isUndefined(ctrl.onHighlightCallback)&&itemScope.$eval(ctrl.onHighlightCallback);return isActive};var _isItemSelected=function(item){return ctrl.selected&&angular.isArray(ctrl.selected)&&ctrl.selected.filter(function(selection){return angular.equals(selection,item)}).length>0};var disabledItems=[];function _updateItemDisabled(item,isDisabled){var disabledItemIndex=disabledItems.indexOf(item);isDisabled&&-1===disabledItemIndex&&disabledItems.push(item);!isDisabled&&disabledItemIndex>-1&&disabledItems.splice(disabledItemIndex,1)}function _isItemDisabled(item){return disabledItems.indexOf(item)>-1}ctrl.isDisabled=function(itemScope){if(!ctrl.open)return;var item=itemScope[ctrl.itemProperty];var itemIndex=ctrl.items.indexOf(item);var isDisabled=false;if(itemIndex>=0&&(angular.isDefined(ctrl.disableChoiceExpression)||ctrl.multiple)){if(item.isTag)return false;ctrl.multiple&&(isDisabled=_isItemSelected(item));!isDisabled&&angular.isDefined(ctrl.disableChoiceExpression)&&(isDisabled=!!itemScope.$eval(ctrl.disableChoiceExpression));_updateItemDisabled(item,isDisabled)}return isDisabled};ctrl.select=function(item,skipFocusser,$event){if(void 0===item||!_isItemDisabled(item)){if(!ctrl.items&&!ctrl.search&&!ctrl.tagging.isActivated)return;if(!item||!_isItemDisabled(item)){ctrl.clickTriggeredSelect=false;$event&&"click"===$event.type&&item&&(ctrl.clickTriggeredSelect=true);if(ctrl.tagging.isActivated&&false===ctrl.clickTriggeredSelect){if(false===ctrl.taggingLabel)if(ctrl.activeIndex<0){void 0===item&&(item=void 0!==ctrl.tagging.fct?ctrl.tagging.fct(ctrl.search):ctrl.search);if(!item||angular.equals(ctrl.items[0],item))return}else item=ctrl.items[ctrl.activeIndex];else if(0===ctrl.activeIndex){if(void 0===item)return;if(void 0!==ctrl.tagging.fct&&"string"===typeof item){item=ctrl.tagging.fct(item);if(!item)return}else"string"===typeof item&&(item=item.replace(ctrl.taggingLabel,"").trim())}if(_isItemSelected(item)){ctrl.close(skipFocusser);return}}_resetSearchInput();$scope.$broadcast("uis:select",item);var locals={};locals[ctrl.parserResult.itemName]=item;$timeout(function(){ctrl.onSelectCallback($scope,{$item:item,$model:ctrl.parserResult.modelMapper($scope,locals)})});ctrl.closeOnSelect&&ctrl.close(skipFocusser)}}};ctrl.close=function(skipFocusser){if(!ctrl.open)return;ctrl.ngModel&&ctrl.ngModel.$setTouched&&ctrl.ngModel.$setTouched();ctrl.open=false;_resetSearchInput();$scope.$broadcast("uis:close",skipFocusser)};ctrl.setFocus=function(){ctrl.focus||ctrl.focusInput[0].focus()};ctrl.clear=function($event){ctrl.select(void 0);$event.stopPropagation();$timeout(function(){ctrl.focusser[0].focus()},0,false)};ctrl.toggle=function(e){if(ctrl.open){ctrl.close();e.preventDefault();e.stopPropagation()}else ctrl.activate()};ctrl.isLocked=function(){return false};$scope.$watch(function(){return angular.isDefined(ctrl.lockChoiceExpression)&&""!==ctrl.lockChoiceExpression},_initaliseLockedChoices);function _initaliseLockedChoices(doInitalise){if(!doInitalise)return;var lockedItems=[];function _updateItemLocked(item,isLocked){var lockedItemIndex=lockedItems.indexOf(item);isLocked&&-1===lockedItemIndex&&lockedItems.push(item);!isLocked&&lockedItemIndex>-1&&lockedItems.splice(lockedItemIndex,0)}function _isItemlocked(item){return lockedItems.indexOf(item)>-1}ctrl.isLocked=function(itemScope,itemIndex){var isLocked=false,item=ctrl.selected[itemIndex];if(item)if(itemScope){isLocked=!!itemScope.$eval(ctrl.lockChoiceExpression);_updateItemLocked(item,isLocked)}else isLocked=_isItemlocked(item);return isLocked}}var sizeWatch=null;var updaterScheduled=false;ctrl.sizeSearchInput=function(){var input=ctrl.searchInput[0],container=ctrl.searchInput.parent().parent()[0],calculateContainerWidth=function(){return container.clientWidth*!!input.offsetParent},updateIfVisible=function(containerWidth){if(0===containerWidth)return false;var inputWidth=containerWidth-input.offsetLeft-10;inputWidth<50&&(inputWidth=containerWidth);ctrl.searchInput.css("width",inputWidth+"px");return true};ctrl.searchInput.css("width","10px");$timeout(function(){null!==sizeWatch||updateIfVisible(calculateContainerWidth())||(sizeWatch=$scope.$watch(function(){if(!updaterScheduled){updaterScheduled=true;$scope.$$postDigest(function(){updaterScheduled=false;if(updateIfVisible(calculateContainerWidth())){sizeWatch();sizeWatch=null}})}},angular.noop))})};function _handleDropDownSelection(key){var processed=true;switch(key){case KEY.DOWN:!ctrl.open&&ctrl.multiple?ctrl.activate(false,true):ctrl.activeIndex<ctrl.items.length-1&&ctrl.activeIndex++;break;case KEY.UP:!ctrl.open&&ctrl.multiple?ctrl.activate(false,true):(ctrl.activeIndex>0||0===ctrl.search.length&&ctrl.tagging.isActivated&&ctrl.activeIndex>-1)&&ctrl.activeIndex--;break;case KEY.TAB:ctrl.multiple&&!ctrl.open||ctrl.select(ctrl.items[ctrl.activeIndex],true);break;case KEY.ENTER:ctrl.open&&(ctrl.tagging.isActivated||ctrl.activeIndex>=0)?ctrl.select(ctrl.items[ctrl.activeIndex],ctrl.skipFocusser):ctrl.activate(false,true);break;case KEY.ESC:ctrl.close();break;default:processed=false}return processed}ctrl.searchInput.on("keydown",function(e){var key=e.which;if(~[KEY.ENTER,KEY.ESC].indexOf(key)){e.preventDefault();e.stopPropagation()}$scope.$apply(function(){var tagged=false;if(ctrl.items.length>0||ctrl.tagging.isActivated){if(!_handleDropDownSelection(key)&&!ctrl.searchEnabled){e.preventDefault();e.stopPropagation()}if(ctrl.taggingTokens.isActivated){for(var i=0;i<ctrl.taggingTokens.tokens.length;i++)ctrl.taggingTokens.tokens[i]===KEY.MAP[e.keyCode]&&ctrl.search.length>0&&(tagged=true);tagged&&$timeout(function(){ctrl.searchInput.triggerHandler("tagged");var newItem=ctrl.search.replace(KEY.MAP[e.keyCode],"").trim();ctrl.tagging.fct&&(newItem=ctrl.tagging.fct(newItem));newItem&&ctrl.select(newItem,true)})}}});KEY.isVerticalMovement(key)&&ctrl.items.length>0&&_ensureHighlightVisible();if(key===KEY.ENTER||key===KEY.ESC){e.preventDefault();e.stopPropagation()}});ctrl.searchInput.on("paste",function(e){var data;data=window.clipboardData&&window.clipboardData.getData?window.clipboardData.getData("Text"):(e.originalEvent||e).clipboardData.getData("text/plain");data=ctrl.search+data;if(data&&data.length>0)if(ctrl.taggingTokens.isActivated){var items=[];for(var i=0;i<ctrl.taggingTokens.tokens.length;i++){var separator=KEY.toSeparator(ctrl.taggingTokens.tokens[i])||ctrl.taggingTokens.tokens[i];if(data.indexOf(separator)>-1){items=data.split(separator);break}}0===items.length&&(items=[data]);var oldsearch=ctrl.search;angular.forEach(items,function(item){var newItem=ctrl.tagging.fct?ctrl.tagging.fct(item):item;newItem&&ctrl.select(newItem,true)});ctrl.search=oldsearch||EMPTY_SEARCH;e.preventDefault();e.stopPropagation()}else if(ctrl.paste){ctrl.paste(data);ctrl.search=EMPTY_SEARCH;e.preventDefault();e.stopPropagation()}});ctrl.searchInput.on("tagged",function(){$timeout(function(){_resetSearchInput()})});function _ensureHighlightVisible(){var container=$element.querySelectorAll(".ui-select-choices-content");var choices=container.querySelectorAll(".ui-select-choices-row");if(choices.length<1)throw uiSelectMinErr("choices","Expected multiple .ui-select-choices-row but got '{0}'.",choices.length);if(ctrl.activeIndex<0)return;var highlighted=choices[ctrl.activeIndex];var posY=highlighted.offsetTop+highlighted.clientHeight-container[0].scrollTop;var height=container[0].offsetHeight;posY>height?container[0].scrollTop+=posY-height:posY<highlighted.clientHeight&&(ctrl.isGrouped&&0===ctrl.activeIndex?container[0].scrollTop=0:container[0].scrollTop-=highlighted.clientHeight-posY)}var onResize=$$uisDebounce(function(){ctrl.sizeSearchInput()},50);angular.element($window).bind("resize",onResize);$scope.$on("$destroy",function(){ctrl.searchInput.off("keyup keydown tagged blur paste");angular.element($window).off("resize",onResize)})}]);uis.directive("uiSelect",["$document","uiSelectConfig","uiSelectMinErr","uisOffset","$compile","$parse","$timeout",function($document,uiSelectConfig,uiSelectMinErr,uisOffset,$compile,$parse,$timeout){return{restrict:"EA",templateUrl:function(tElement,tAttrs){var theme=tAttrs.theme||uiSelectConfig.theme;return theme+(angular.isDefined(tAttrs.multiple)?"/select-multiple.tpl.html":"/select.tpl.html")},replace:true,transclude:true,require:["uiSelect","^ngModel"],scope:true,controller:"uiSelectCtrl",controllerAs:"$select",compile:function(tElement,tAttrs){var match=/{(.*)}\s*{(.*)}/.exec(tAttrs.ngClass);if(match){var combined="{"+match[1]+", "+match[2]+"}";tAttrs.ngClass=combined;tElement.attr("ng-class",combined)}angular.isDefined(tAttrs.multiple)?tElement.append("<ui-select-multiple/>").removeAttr("multiple"):tElement.append("<ui-select-single/>");tAttrs.inputId&&(tElement.querySelectorAll("input.ui-select-search")[0].id=tAttrs.inputId);return function(scope,element,attrs,ctrls,transcludeFn){var $select=ctrls[0];var ngModel=ctrls[1];$select.generatedId=uiSelectConfig.generateId();$select.baseTitle=attrs.title||"Select box";$select.focusserTitle=$select.baseTitle+" focus";$select.focusserId="focusser-"+$select.generatedId;$select.closeOnSelect=angular.isDefined(attrs.closeOnSelect)?$parse(attrs.closeOnSelect)():uiSelectConfig.closeOnSelect;scope.$watch("skipFocusser",function(){var skipFocusser=scope.$eval(attrs.skipFocusser);$select.skipFocusser=void 0!==skipFocusser?skipFocusser:uiSelectConfig.skipFocusser});$select.onSelectCallback=$parse(attrs.onSelect);$select.onRemoveCallback=$parse(attrs.onRemove);$select.ngModel=ngModel;$select.choiceGrouped=function(group){return $select.isGrouped&&group&&group.name};attrs.tabindex&&attrs.$observe("tabindex",function(value){$select.focusInput.attr("tabindex",value);element.removeAttr("tabindex")});scope.$watch(function(){return scope.$eval(attrs.searchEnabled)},function(newVal){$select.searchEnabled=void 0!==newVal?newVal:uiSelectConfig.searchEnabled});scope.$watch("sortable",function(){var sortable=scope.$eval(attrs.sortable);$select.sortable=void 0!==sortable?sortable:uiSelectConfig.sortable});attrs.$observe("limit",function(){$select.limit=angular.isDefined(attrs.limit)?parseInt(attrs.limit,10):void 0});scope.$watch("removeSelected",function(){var removeSelected=scope.$eval(attrs.removeSelected);$select.removeSelected=void 0!==removeSelected?removeSelected:uiSelectConfig.removeSelected});attrs.$observe("disabled",function(){$select.disabled=void 0!==attrs.disabled&&attrs.disabled});attrs.$observe("resetSearchInput",function(){var resetSearchInput=scope.$eval(attrs.resetSearchInput);$select.resetSearchInput=void 0===resetSearchInput||resetSearchInput});attrs.$observe("paste",function(){$select.paste=scope.$eval(attrs.paste)});attrs.$observe("tagging",function(){if(void 0!==attrs.tagging){var taggingEval=scope.$eval(attrs.tagging);$select.tagging={isActivated:true,fct:true!==taggingEval?taggingEval:void 0}}else $select.tagging={isActivated:false,fct:void 0}});attrs.$observe("taggingLabel",function(){void 0!==attrs.tagging&&("false"===attrs.taggingLabel?$select.taggingLabel=false:$select.taggingLabel=void 0!==attrs.taggingLabel?attrs.taggingLabel:"(new)")});attrs.$observe("taggingTokens",function(){if(void 0!==attrs.tagging){var tokens=void 0!==attrs.taggingTokens?attrs.taggingTokens.split("|"):[",","ENTER"];$select.taggingTokens={isActivated:true,tokens:tokens}}});angular.isDefined(attrs.autofocus)&&$timeout(function(){$select.setFocus()});angular.isDefined(attrs.focusOn)&&scope.$on(attrs.focusOn,function(){$timeout(function(){$select.setFocus()})});function onDocumentClick(e){if(!$select.open)return;var contains=false;contains=window.jQuery?window.jQuery.contains(element[0],e.target):element[0].contains(e.target);if(!contains&&!$select.clickTriggeredSelect){var skipFocusser;if($select.skipFocusser)skipFocusser=true;else{var focusableControls=["input","button","textarea","select"];var targetController=angular.element(e.target).controller("uiSelect");skipFocusser=targetController&&targetController!==$select;skipFocusser||(skipFocusser=~focusableControls.indexOf(e.target.tagName.toLowerCase()))}$select.close(skipFocusser);scope.$digest()}$select.clickTriggeredSelect=false}$document.on("click",onDocumentClick);scope.$on("$destroy",function(){$document.off("click",onDocumentClick)});transcludeFn(scope,function(clone){var transcluded=angular.element("<div>").append(clone);var transcludedMatch=transcluded.querySelectorAll(".ui-select-match");transcludedMatch.removeAttr("ui-select-match");transcludedMatch.removeAttr("data-ui-select-match");if(1!==transcludedMatch.length)throw uiSelectMinErr("transcluded","Expected 1 .ui-select-match but got '{0}'.",transcludedMatch.length);element.querySelectorAll(".ui-select-match").replaceWith(transcludedMatch);var transcludedChoices=transcluded.querySelectorAll(".ui-select-choices");transcludedChoices.removeAttr("ui-select-choices");transcludedChoices.removeAttr("data-ui-select-choices");if(1!==transcludedChoices.length)throw uiSelectMinErr("transcluded","Expected 1 .ui-select-choices but got '{0}'.",transcludedChoices.length);element.querySelectorAll(".ui-select-choices").replaceWith(transcludedChoices);var transcludedNoChoice=transcluded.querySelectorAll(".ui-select-no-choice");transcludedNoChoice.removeAttr("ui-select-no-choice");transcludedNoChoice.removeAttr("data-ui-select-no-choice");1==transcludedNoChoice.length&&element.querySelectorAll(".ui-select-no-choice").replaceWith(transcludedNoChoice)});var appendToBody=scope.$eval(attrs.appendToBody);if(void 0!==appendToBody?appendToBody:uiSelectConfig.appendToBody){scope.$watch("$select.open",function(isOpen){isOpen?positionDropdown():resetDropdown()});scope.$on("$destroy",function(){resetDropdown()})}var placeholder=null,originalWidth="";function positionDropdown(){var offset=uisOffset(element);placeholder=angular.element('<div class="ui-select-placeholder"></div>');placeholder[0].style.width=offset.width+"px";placeholder[0].style.height=offset.height+"px";element.after(placeholder);originalWidth=element[0].style.width;$document.find("body").append(element);element[0].style.position="absolute";element[0].style.left=offset.left+"px";element[0].style.top=offset.top+"px";element[0].style.width=offset.width+"px"}function resetDropdown(){if(null===placeholder)return;placeholder.replaceWith(element);placeholder=null;element[0].style.position="";element[0].style.left="";element[0].style.top="";element[0].style.width=originalWidth;$select.setFocus()}var dropdown=null,directionUpClassName="direction-up";scope.$watch("$select.open",function(){"auto"!==$select.dropdownPosition&&"up"!==$select.dropdownPosition||scope.calculateDropdownPos()});var setDropdownPosUp=function(offset,offsetDropdown){offset=offset||uisOffset(element);offsetDropdown=offsetDropdown||uisOffset(dropdown);dropdown[0].style.position="absolute";dropdown[0].style.top=-1*offsetDropdown.height+"px";element.addClass(directionUpClassName)};var setDropdownPosDown=function(offset,offsetDropdown){element.removeClass(directionUpClassName);offset=offset||uisOffset(element);offsetDropdown=offsetDropdown||uisOffset(dropdown);dropdown[0].style.position="";dropdown[0].style.top=""};var calculateDropdownPosAfterAnimation=function(){$timeout(function(){if("up"===$select.dropdownPosition)setDropdownPosUp();else{element.removeClass(directionUpClassName);var offset=uisOffset(element);var offsetDropdown=uisOffset(dropdown);var scrollTop=$document[0].documentElement.scrollTop||$document[0].body.scrollTop;offset.top+offset.height+offsetDropdown.height>scrollTop+$document[0].documentElement.clientHeight?setDropdownPosUp(offset,offsetDropdown):setDropdownPosDown(offset,offsetDropdown)}dropdown[0].style.opacity=1})};var opened=false;scope.calculateDropdownPos=function(){if($select.open){dropdown=angular.element(element).querySelectorAll(".ui-select-dropdown");if(0===dropdown.length)return;if(""===$select.search&&!opened){dropdown[0].style.opacity=0;opened=true}if(!uisOffset(dropdown).height&&$select.$animate&&$select.$animate.on&&$select.$animate.enabled(dropdown)){var needsCalculated=true;$select.$animate.on("enter",dropdown,function(elem,phase){if("close"===phase&&needsCalculated){calculateDropdownPosAfterAnimation();needsCalculated=false}})}else calculateDropdownPosAfterAnimation()}else{if(null===dropdown||0===dropdown.length)return;dropdown[0].style.opacity=0;dropdown[0].style.position="";dropdown[0].style.top="";element.removeClass(directionUpClassName)}}}}}}]);uis.directive("uiSelectMatch",["uiSelectConfig",function(uiSelectConfig){return{restrict:"EA",require:"^uiSelect",replace:true,transclude:true,templateUrl:function(tElement){tElement.addClass("ui-select-match");var parent=tElement.parent();var theme=getAttribute(parent,"theme")||uiSelectConfig.theme;var multi=angular.isDefined(getAttribute(parent,"multiple"));return theme+(multi?"/match-multiple.tpl.html":"/match.tpl.html")},link:function(scope,element,attrs,$select){$select.lockChoiceExpression=attrs.uiLockChoice;attrs.$observe("placeholder",function(placeholder){$select.placeholder=void 0!==placeholder?placeholder:uiSelectConfig.placeholder});function setAllowClear(allow){$select.allowClear=!!angular.isDefined(allow)&&(""===allow||"true"===allow.toLowerCase())}attrs.$observe("allowClear",setAllowClear);setAllowClear(attrs.allowClear);$select.multiple&&$select.sizeSearchInput()}};function getAttribute(elem,attribute){if(elem[0].hasAttribute(attribute))return elem.attr(attribute);if(elem[0].hasAttribute("data-"+attribute))return elem.attr("data-"+attribute);if(elem[0].hasAttribute("x-"+attribute))return elem.attr("x-"+attribute)}}]);uis.directive("uiSelectMultiple",["uiSelectMinErr","$timeout",function(uiSelectMinErr,$timeout){return{restrict:"EA",require:["^uiSelect","^ngModel"],controller:["$scope","$timeout",function($scope,$timeout){var ngModel,ctrl=this,$select=$scope.$select;angular.isUndefined($select.selected)&&($select.selected=[]);$scope.$evalAsync(function(){ngModel=$scope.ngModel});ctrl.activeMatchIndex=-1;ctrl.updateModel=function(){ngModel.$setViewValue(Date.now());ctrl.refreshComponent()};ctrl.refreshComponent=function(){$select.refreshItems&&$select.refreshItems();$select.sizeSearchInput&&$select.sizeSearchInput()};ctrl.removeChoice=function(index){if($select.isLocked(null,index))return false;var removedChoice=$select.selected[index];var locals={};locals[$select.parserResult.itemName]=removedChoice;$select.selected.splice(index,1);ctrl.activeMatchIndex=-1;$select.sizeSearchInput();$timeout(function(){$select.onRemoveCallback($scope,{$item:removedChoice,$model:$select.parserResult.modelMapper($scope,locals)})});ctrl.updateModel();return true};ctrl.getPlaceholder=function(){if($select.selected&&$select.selected.length)return;return $select.placeholder}}],controllerAs:"$selectMultiple",link:function(scope,element,attrs,ctrls){var $select=ctrls[0];var ngModel=scope.ngModel=ctrls[1];var $selectMultiple=scope.$selectMultiple;$select.multiple=true;$select.focusInput=$select.searchInput;ngModel.$isEmpty=function(value){return!value||0===value.length};ngModel.$parsers.unshift(function(){var result,locals={},resultMultiple=[];for(var j=$select.selected.length-1;j>=0;j--){locals={};locals[$select.parserResult.itemName]=$select.selected[j];result=$select.parserResult.modelMapper(scope,locals);resultMultiple.unshift(result)}return resultMultiple});ngModel.$formatters.unshift(function(inputValue){var result,data=$select.parserResult&&$select.parserResult.source(scope,{$select:{search:""}}),locals={};if(!data)return inputValue;var resultMultiple=[];var checkFnMultiple=function(list,value){if(!list||!list.length)return;for(var p=list.length-1;p>=0;p--){locals[$select.parserResult.itemName]=list[p];result=$select.parserResult.modelMapper(scope,locals);if($select.parserResult.trackByExp){var propsItemNameMatches=/(\w*)\./.exec($select.parserResult.trackByExp);var matches=/\.([^\s]+)/.exec($select.parserResult.trackByExp);if(propsItemNameMatches&&propsItemNameMatches.length>0&&propsItemNameMatches[1]==$select.parserResult.itemName&&matches&&matches.length>0&&result[matches[1]]==value[matches[1]]){resultMultiple.unshift(list[p]);return true}}if(angular.equals(result,value)){resultMultiple.unshift(list[p]);return true}}return false};if(!inputValue)return resultMultiple;for(var k=inputValue.length-1;k>=0;k--)checkFnMultiple($select.selected,inputValue[k])||checkFnMultiple(data,inputValue[k])||resultMultiple.unshift(inputValue[k]);return resultMultiple});scope.$watchCollection(function(){return ngModel.$modelValue},function(newValue,oldValue){if(oldValue!=newValue){angular.isDefined(ngModel.$modelValue)&&(ngModel.$modelValue=null);$selectMultiple.refreshComponent()}});ngModel.$render=function(){if(!angular.isArray(ngModel.$viewValue)){if(!angular.isUndefined(ngModel.$viewValue)&&null!==ngModel.$viewValue)throw uiSelectMinErr("multiarr","Expected model value to be array but got '{0}'",ngModel.$viewValue);ngModel.$viewValue=[]}$select.selected=ngModel.$viewValue;$selectMultiple.refreshComponent();scope.$evalAsync()};scope.$on("uis:select",function(event,item){if($select.selected.length>=$select.limit)return;$select.selected.push(item);$selectMultiple.updateModel()});scope.$on("uis:activate",function(){$selectMultiple.activeMatchIndex=-1});scope.$watch("$select.disabled",function(newValue,oldValue){oldValue&&!newValue&&$select.sizeSearchInput()});$select.searchInput.on("keydown",function(e){var key=e.which;scope.$apply(function(){var processed=false;KEY.isHorizontalMovement(key)&&(processed=_handleMatchSelection(key));if(processed&&key!=KEY.TAB){e.preventDefault();e.stopPropagation()}})});function _getCaretPosition(el){return angular.isNumber(el.selectionStart)?el.selectionStart:el.value.length}function _handleMatchSelection(key){var caretPosition=_getCaretPosition($select.searchInput[0]),length=$select.selected.length,first=0,last=length-1,curr=$selectMultiple.activeMatchIndex,next=$selectMultiple.activeMatchIndex+1,prev=$selectMultiple.activeMatchIndex-1,newIndex=curr;if(caretPosition>0||$select.search.length&&key==KEY.RIGHT)return false;$select.close();function getNewActiveMatchIndex(){switch(key){case KEY.LEFT:return~$selectMultiple.activeMatchIndex?prev:last;case KEY.RIGHT:if(~$selectMultiple.activeMatchIndex&&curr!==last)return next;$select.activate();return false;case KEY.BACKSPACE:return~$selectMultiple.activeMatchIndex?$selectMultiple.removeChoice(curr)?prev:curr:last;case KEY.DELETE:if(~$selectMultiple.activeMatchIndex){$selectMultiple.removeChoice($selectMultiple.activeMatchIndex);return curr}return false}}newIndex=getNewActiveMatchIndex();$select.selected.length&&false!==newIndex?$selectMultiple.activeMatchIndex=Math.min(last,Math.max(first,newIndex)):$selectMultiple.activeMatchIndex=-1;return true}$select.searchInput.on("keyup",function(e){KEY.isVerticalMovement(e.which)||scope.$evalAsync(function(){$select.activeIndex=false===$select.taggingLabel?-1:0});if($select.tagging.isActivated&&$select.search.length>0){if(e.which===KEY.TAB||KEY.isControl(e)||KEY.isFunctionKey(e)||e.which===KEY.ESC||KEY.isVerticalMovement(e.which))return;$select.activeIndex=false===$select.taggingLabel?-1:0;if(false===$select.taggingLabel)return;var items=angular.copy($select.items);var stashArr=angular.copy($select.items);var newItem;var item;var hasTag=false;var dupeIndex=-1;var tagItems;var tagItem;if(void 0!==$select.tagging.fct){tagItems=$select.$filter("filter")(items,{isTag:true});tagItems.length>0&&(tagItem=tagItems[0]);if(items.length>0&&tagItem){hasTag=true;items=items.slice(1,items.length);stashArr=stashArr.slice(1,stashArr.length)}newItem=$select.tagging.fct($select.search);if(stashArr.some(function(origItem){return angular.equals(origItem,newItem)})||$select.selected.some(function(origItem){return angular.equals(origItem,newItem)})){scope.$evalAsync(function(){$select.activeIndex=0;$select.items=items});return}newItem&&(newItem.isTag=true)}else{tagItems=$select.$filter("filter")(items,function(item){return item.match($select.taggingLabel)});tagItems.length>0&&(tagItem=tagItems[0]);item=items[0];if(void 0!==item&&items.length>0&&tagItem){hasTag=true;items=items.slice(1,items.length);stashArr=stashArr.slice(1,stashArr.length)}newItem=$select.search+" "+$select.taggingLabel;if(_findApproxDupe($select.selected,$select.search)>-1)return;if(_findCaseInsensitiveDupe(stashArr.concat($select.selected))){if(hasTag){items=stashArr;scope.$evalAsync(function(){$select.activeIndex=0;$select.items=items})}return}if(_findCaseInsensitiveDupe(stashArr)){hasTag&&($select.items=stashArr.slice(1,stashArr.length));return}}hasTag&&(dupeIndex=_findApproxDupe($select.selected,newItem));if(dupeIndex>-1)items=items.slice(dupeIndex+1,items.length-1);else{items=[];newItem&&items.push(newItem);items=items.concat(stashArr)}scope.$evalAsync(function(){$select.activeIndex=0;$select.items=items;if($select.isGrouped){var itemsWithoutTag=newItem?items.slice(1):items;$select.setItemsFn(itemsWithoutTag);if(newItem){$select.items.unshift(newItem);$select.groups.unshift({name:"",items:[newItem],tagging:true})}}})}});function _findCaseInsensitiveDupe(arr){if(void 0===arr||void 0===$select.search)return false;var hasDupe=arr.filter(function(origItem){if(void 0===$select.search.toUpperCase()||void 0===origItem)return false;return origItem.toUpperCase()===$select.search.toUpperCase()}).length>0;return hasDupe}function _findApproxDupe(haystack,needle){var dupeIndex=-1;if(angular.isArray(haystack)){var tempArr=angular.copy(haystack);for(var i=0;i<tempArr.length;i++)if(void 0===$select.tagging.fct)tempArr[i]+" "+$select.taggingLabel===needle&&(dupeIndex=i);else{var mockObj=tempArr[i];angular.isObject(mockObj)&&(mockObj.isTag=true);angular.equals(mockObj,needle)&&(dupeIndex=i)}}return dupeIndex}$select.searchInput.on("blur",function(){$timeout(function(){$selectMultiple.activeMatchIndex=-1})})}}}]);uis.directive("uiSelectNoChoice",["uiSelectConfig",function(uiSelectConfig){return{restrict:"EA",require:"^uiSelect",replace:true,transclude:true,templateUrl:function(tElement){tElement.addClass("ui-select-no-choice");var theme=tElement.parent().attr("theme")||uiSelectConfig.theme;return theme+"/no-choice.tpl.html"}}}]);uis.directive("uiSelectSingle",["$timeout","$compile",function($timeout,$compile){return{restrict:"EA",require:["^uiSelect","^ngModel"],link:function(scope,element,attrs,ctrls){var $select=ctrls[0];var ngModel=ctrls[1];ngModel.$parsers.unshift(function(inputValue){var result,locals={};locals[$select.parserResult.itemName]=inputValue;result=$select.parserResult.modelMapper(scope,locals);return result});ngModel.$formatters.unshift(function(inputValue){var result,data=$select.parserResult&&$select.parserResult.source(scope,{$select:{search:""}}),locals={};if(data){var checkFnSingle=function(d){locals[$select.parserResult.itemName]=d;result=$select.parserResult.modelMapper(scope,locals);return result===inputValue};if($select.selected&&checkFnSingle($select.selected))return $select.selected;for(var i=data.length-1;i>=0;i--)if(checkFnSingle(data[i]))return data[i]}return inputValue});scope.$watch("$select.selected",function(newValue){ngModel.$viewValue!==newValue&&ngModel.$setViewValue(newValue)});ngModel.$render=function(){$select.selected=ngModel.$viewValue};scope.$on("uis:select",function(event,item){$select.selected=item});scope.$on("uis:close",function(event,skipFocusser){$timeout(function(){$select.focusser.prop("disabled",false);skipFocusser||$select.focusser[0].focus()},0,false)});scope.$on("uis:activate",function(){focusser.prop("disabled",true)});var focusser=angular.element("<input ng-disabled='$select.disabled' class='ui-select-focusser ui-select-offscreen' type='text' id='{{ $select.focusserId }}' aria-label='{{ $select.focusserTitle }}' aria-haspopup='true' role='button' />");$compile(focusser)(scope);$select.focusser=focusser;$select.focusInput=focusser;element.parent().append(focusser);focusser.bind("focus",function(){scope.$evalAsync(function(){$select.focus=true})});focusser.bind("blur",function(){scope.$evalAsync(function(){$select.focus=false})});focusser.bind("keydown",function(e){if(e.which===KEY.BACKSPACE){e.preventDefault();e.stopPropagation();$select.select(void 0);scope.$apply();return}if(e.which===KEY.TAB||KEY.isControl(e)||KEY.isFunctionKey(e)||e.which===KEY.ESC)return;if(e.which==KEY.DOWN||e.which==KEY.UP||e.which==KEY.ENTER||e.which==KEY.SPACE){e.preventDefault();e.stopPropagation();$select.activate()}scope.$digest()});focusser.bind("keyup input",function(e){if(e.which===KEY.TAB||KEY.isControl(e)||KEY.isFunctionKey(e)||e.which===KEY.ESC||e.which==KEY.ENTER||e.which===KEY.BACKSPACE)return;$select.activate(focusser.val());focusser.val("");scope.$digest()})}}}]);uis.directive("uiSelectSort",["$timeout","uiSelectConfig","uiSelectMinErr",function($timeout,uiSelectConfig,uiSelectMinErr){return{require:["^^uiSelect","^ngModel"],link:function(scope,element,attrs,ctrls){if(null===scope[attrs.uiSelectSort])throw uiSelectMinErr("sort","Expected a list to sort");var $select=ctrls[0];var $ngModel=ctrls[1];var options=angular.extend({axis:"horizontal"},scope.$eval(attrs.uiSelectSortOptions));var axis=options.axis;var draggingClassName="dragging";var droppingClassName="dropping";var droppingBeforeClassName="dropping-before";var droppingAfterClassName="dropping-after";scope.$watch(function(){return $select.sortable},function(newValue){newValue?element.attr("draggable",true):element.removeAttr("draggable")});element.on("dragstart",function(event){element.addClass(draggingClassName);(event.dataTransfer||event.originalEvent.dataTransfer).setData("text",scope.$index.toString())});element.on("dragend",function(){removeClass(draggingClassName)});var move=function(from,to){this.splice(to,0,this.splice(from,1)[0])};var removeClass=function(className){angular.forEach($select.$element.querySelectorAll("."+className),function(el){angular.element(el).removeClass(className)})};var dragOverHandler=function(event){event.preventDefault();var offset="vertical"===axis?event.offsetY||event.layerY||(event.originalEvent?event.originalEvent.offsetY:0):event.offsetX||event.layerX||(event.originalEvent?event.originalEvent.offsetX:0);if(offset<this["vertical"===axis?"offsetHeight":"offsetWidth"]/2){removeClass(droppingAfterClassName);element.addClass(droppingBeforeClassName)}else{removeClass(droppingBeforeClassName);element.addClass(droppingAfterClassName)}};var dropTimeout;var dropHandler=function(event){event.preventDefault();var droppedItemIndex=parseInt((event.dataTransfer||event.originalEvent.dataTransfer).getData("text"),10);$timeout.cancel(dropTimeout);dropTimeout=$timeout(function(){_dropHandler(droppedItemIndex)},20)};var _dropHandler=function(droppedItemIndex){var theList=scope.$eval(attrs.uiSelectSort);var itemToMove=theList[droppedItemIndex];var newIndex=null;newIndex=element.hasClass(droppingBeforeClassName)?droppedItemIndex<scope.$index?scope.$index-1:scope.$index:droppedItemIndex<scope.$index?scope.$index:scope.$index+1;move.apply(theList,[droppedItemIndex,newIndex]);$ngModel.$setViewValue(Date.now());scope.$apply(function(){scope.$emit("uiSelectSort:change",{array:theList,item:itemToMove,from:droppedItemIndex,to:newIndex})});removeClass(droppingClassName);removeClass(droppingBeforeClassName);removeClass(droppingAfterClassName);element.off("drop",dropHandler)};element.on("dragenter",function(){if(element.hasClass(draggingClassName))return;element.addClass(droppingClassName);element.on("dragover",dragOverHandler);element.on("drop",dropHandler)});element.on("dragleave",function(event){if(event.target!=element)return;removeClass(droppingClassName);removeClass(droppingBeforeClassName);removeClass(droppingAfterClassName);element.off("dragover",dragOverHandler);element.off("drop",dropHandler)})}}}]);uis.factory("$$uisDebounce",["$timeout",function($timeout){return function(callback,debounceTime){var timeoutPromise;return function(){var self=this;var args=Array.prototype.slice.call(arguments);timeoutPromise&&$timeout.cancel(timeoutPromise);timeoutPromise=$timeout(function(){callback.apply(self,args)},debounceTime)}}}]);uis.directive("uisOpenClose",["$parse","$timeout",function($parse,$timeout){return{restrict:"A",require:"uiSelect",link:function(scope,element,attrs,$select){$select.onOpenCloseCallback=$parse(attrs.uisOpenClose);scope.$watch("$select.open",function(isOpen,previousState){isOpen!==previousState&&$timeout(function(){$select.onOpenCloseCallback(scope,{isOpen:isOpen})})})}}}]);uis.service("uisRepeatParser",["uiSelectMinErr","$parse",function(uiSelectMinErr,$parse){var self=this;self.parse=function(expression){var match;match=expression.match(/^\s*(?:([\s\S]+?)\s+as\s+)?(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+(\s*[\s\S]+?)?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!match)throw uiSelectMinErr("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",expression);var source=match[5],filters="";if(match[3]){source=match[5].replace(/(^\()|(\)$)/g,"");var filterMatch=match[5].match(/^\s*(?:[\s\S]+?)(?:[^\|]|\|\|)+([\s\S]*)\s*$/);if(filterMatch&&filterMatch[1].trim()){filters=filterMatch[1];source=source.replace(filters,"")}}return{itemName:match[4]||match[2],keyName:match[3],source:$parse(source),filters:filters,trackByExp:match[6],modelMapper:$parse(match[1]||match[4]||match[2]),repeatExpression:function(grouped){var expression=this.itemName+" in "+(grouped?"$group.items":"$select.items");this.trackByExp&&(expression+=" track by "+this.trackByExp);return expression}}};self.getGroupNgRepeatExpression=function(){return"$group in $select.groups track by $group.name"}}])})();angular.module("ui.select").run(["$templateCache",function($templateCache){$templateCache.put("bootstrap/choices.tpl.html",'<ul class="ui-select-choices ui-select-choices-content ui-select-dropdown dropdown-menu" role="listbox" ng-show="$select.open && $select.items.length > 0"><li class="ui-select-choices-group" id="ui-select-choices-{{ $select.generatedId }}"><div class="divider" ng-show="$select.isGrouped && $index > 0"></div><div ng-show="$select.isGrouped" class="ui-select-choices-group-label dropdown-header" ng-bind="$group.name"></div><div ng-attr-id="ui-select-choices-row-{{ $select.generatedId }}-{{$index}}" class="ui-select-choices-row" ng-class="{active: $select.isActive(this), disabled: $select.isDisabled(this)}" role="option"><span class="ui-select-choices-row-inner"></span></div></li></ul>');$templateCache.put("bootstrap/match-multiple.tpl.html",'<span class="ui-select-match"><span ng-repeat="$item in $select.selected track by $index"><span class="ui-select-match-item btn btn-default btn-xs" tabindex="-1" type="button" ng-disabled="$select.disabled" ng-click="$selectMultiple.activeMatchIndex = $index;" ng-class="{\'btn-primary\':$selectMultiple.activeMatchIndex === $index, \'select-locked\':$select.isLocked(this, $index)}" ui-select-sort="$select.selected"><span class="close ui-select-match-close" ng-hide="$select.disabled" ng-click="$selectMultiple.removeChoice($index)">&nbsp;&times;</span> <span uis-transclude-append=""></span></span></span></span>');$templateCache.put("bootstrap/match.tpl.html",'<div class="ui-select-match" ng-hide="$select.open && $select.searchEnabled" ng-disabled="$select.disabled" ng-class="{\'btn-default-focus\':$select.focus}"><span tabindex="-1" class="btn btn-default form-control ui-select-toggle" aria-label="{{ $select.baseTitle }} activate" ng-disabled="$select.disabled" ng-click="$select.activate()" style="outline: 0;"><span ng-show="$select.isEmpty()" class="ui-select-placeholder text-muted">{{$select.placeholder}}</span> <span ng-hide="$select.isEmpty()" class="ui-select-match-text pull-left" ng-class="{\'ui-select-allow-clear\': $select.allowClear && !$select.isEmpty()}" ng-transclude=""></span> <i class="caret pull-right" ng-click="$select.toggle($event)"></i> <a ng-show="$select.allowClear && !$select.isEmpty() && ($select.disabled !== true)" aria-label="{{ $select.baseTitle }} clear" style="margin-right: 10px" ng-click="$select.clear($event)" class="btn btn-xs btn-link pull-right"><i class="glyphicon glyphicon-remove" aria-hidden="true"></i></a></span></div>');$templateCache.put("bootstrap/no-choice.tpl.html",'<ul class="ui-select-no-choice dropdown-menu" ng-show="$select.items.length == 0"><li ng-transclude=""></li></ul>');$templateCache.put("bootstrap/select-multiple.tpl.html",'<div class="ui-select-container ui-select-multiple ui-select-bootstrap dropdown form-control" ng-class="{open: $select.open}"><div><div class="ui-select-match"></div><input type="search" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" class="ui-select-search input-xs" placeholder="{{$selectMultiple.getPlaceholder()}}" ng-disabled="$select.disabled" ng-click="$select.activate()" ng-model="$select.search" role="combobox" aria-label="{{ $select.baseTitle }}" ondrop="return false;"></div><div class="ui-select-choices"></div><div class="ui-select-no-choice"></div></div>');$templateCache.put("bootstrap/select.tpl.html",'<div class="ui-select-container ui-select-bootstrap dropdown" ng-class="{open: $select.open}"><div class="ui-select-match"></div><input type="search" autocomplete="off" tabindex="-1" aria-expanded="true" aria-label="{{ $select.baseTitle }}" aria-owns="ui-select-choices-{{ $select.generatedId }}" aria-activedescendant="ui-select-choices-row-{{ $select.generatedId }}-{{ $select.activeIndex }}" class="form-control ui-select-search" ng-class="{ \'ui-select-search-hidden\' : !$select.searchEnabled }" placeholder="{{$select.placeholder}}" ng-model="$select.search" ng-show="$select.open"><div class="ui-select-choices"></div><div class="ui-select-no-choice"></div></div>');$templateCache.put("select2/choices.tpl.html",'<ul tabindex="-1" class="ui-select-choices ui-select-choices-content select2-results"><li class="ui-select-choices-group" ng-class="{\'select2-result-with-children\': $select.choiceGrouped($group) }"><div ng-show="$select.choiceGrouped($group)" class="ui-select-choices-group-label select2-result-label" ng-bind="$group.name"></div><ul role="listbox" id="ui-select-choices-{{ $select.generatedId }}" ng-class="{\'select2-result-sub\': $select.choiceGrouped($group), \'select2-result-single\': !$select.choiceGrouped($group) }"><li role="option" ng-attr-id="ui-select-choices-row-{{ $select.generatedId }}-{{$index}}" class="ui-select-choices-row" ng-class="{\'select2-highlighted\': $select.isActive(this), \'select2-disabled\': $select.isDisabled(this)}"><div class="select2-result-label ui-select-choices-row-inner"></div></li></ul></li></ul>');$templateCache.put("select2/match-multiple.tpl.html",'<span class="ui-select-match"><li class="ui-select-match-item select2-search-choice" ng-repeat="$item in $select.selected track by $index" ng-class="{\'select2-search-choice-focus\':$selectMultiple.activeMatchIndex === $index, \'select2-locked\':$select.isLocked(this, $index)}" ui-select-sort="$select.selected"><span uis-transclude-append=""></span> <a href="javascript:;" class="ui-select-match-close select2-search-choice-close" ng-click="$selectMultiple.removeChoice($index)" tabindex="-1"></a></li></span>');$templateCache.put("select2/match.tpl.html",'<a class="select2-choice ui-select-match" ng-class="{\'select2-default\': $select.isEmpty()}" ng-click="$select.toggle($event)" aria-label="{{ $select.baseTitle }} select"><span ng-show="$select.isEmpty()" class="select2-chosen">{{$select.placeholder}}</span> <span ng-hide="$select.isEmpty()" class="select2-chosen" ng-transclude=""></span> <abbr ng-if="$select.allowClear && !$select.isEmpty()" class="select2-search-choice-close" ng-click="$select.clear($event)"></abbr> <span class="select2-arrow ui-select-toggle"><b></b></span></a>');$templateCache.put("select2/no-choice.tpl.html",'<div class="ui-select-no-choice dropdown" ng-show="$select.items.length == 0"><div class="dropdown-content"><div data-selectable="" ng-transclude=""></div></div></div>');$templateCache.put("select2/select-multiple.tpl.html",'<div class="ui-select-container ui-select-multiple select2 select2-container select2-container-multi" ng-class="{\'select2-container-active select2-dropdown-open open\': $select.open, \'select2-container-disabled\': $select.disabled}"><ul class="select2-choices"><span class="ui-select-match"></span><li class="select2-search-field"><input type="search" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="combobox" aria-expanded="true" aria-owns="ui-select-choices-{{ $select.generatedId }}" aria-label="{{ $select.baseTitle }}" aria-activedescendant="ui-select-choices-row-{{ $select.generatedId }}-{{ $select.activeIndex }}" class="select2-input ui-select-search" placeholder="{{$selectMultiple.getPlaceholder()}}" ng-disabled="$select.disabled" ng-hide="$select.disabled" ng-model="$select.search" ng-click="$select.activate()" style="width: 34px;" ondrop="return false;"></li></ul><div class="ui-select-dropdown select2-drop select2-with-searchbox select2-drop-active" ng-class="{\'select2-display-none\': !$select.open || $select.items.length === 0}"><div class="ui-select-choices"></div></div></div>');$templateCache.put("select2/select.tpl.html",'<div class="ui-select-container select2 select2-container" ng-class="{\'select2-container-active select2-dropdown-open open\': $select.open, \'select2-container-disabled\': $select.disabled, \'select2-container-active\': $select.focus, \'select2-allowclear\': $select.allowClear && !$select.isEmpty()}"><div class="ui-select-match"></div><div class="ui-select-dropdown select2-drop select2-with-searchbox select2-drop-active" ng-class="{\'select2-display-none\': !$select.open}"><div class="search-container" ng-class="{\'ui-select-search-hidden\':!$select.searchEnabled, \'select2-search\':$select.searchEnabled}"><input type="search" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="combobox" aria-expanded="true" aria-owns="ui-select-choices-{{ $select.generatedId }}" aria-label="{{ $select.baseTitle }}" aria-activedescendant="ui-select-choices-row-{{ $select.generatedId }}-{{ $select.activeIndex }}" class="ui-select-search select2-input" ng-model="$select.search"></div><div class="ui-select-choices"></div><div class="ui-select-no-choice"></div></div></div>');$templateCache.put("selectize/choices.tpl.html",'<div ng-show="$select.open" class="ui-select-choices ui-select-dropdown selectize-dropdown single"><div class="ui-select-choices-content selectize-dropdown-content"><div class="ui-select-choices-group optgroup" role="listbox"><div ng-show="$select.isGrouped" class="ui-select-choices-group-label optgroup-header" ng-bind="$group.name"></div><div role="option" class="ui-select-choices-row" ng-class="{active: $select.isActive(this), disabled: $select.isDisabled(this)}"><div class="option ui-select-choices-row-inner" data-selectable=""></div></div></div></div></div>');$templateCache.put("selectize/match.tpl.html",'<div ng-hide="$select.searchEnabled && ($select.open || $select.isEmpty())" class="ui-select-match"><span ng-show="!$select.searchEnabled && ($select.isEmpty() || $select.open)" class="ui-select-placeholder text-muted">{{$select.placeholder}}</span> <span ng-hide="$select.isEmpty() || $select.open" ng-transclude=""></span></div>');$templateCache.put("selectize/no-choice.tpl.html",'<div class="ui-select-no-choice selectize-dropdown" ng-show="$select.items.length == 0"><div class="selectize-dropdown-content"><div data-selectable="" ng-transclude=""></div></div></div>');$templateCache.put("selectize/select.tpl.html",'<div class="ui-select-container selectize-control single" ng-class="{\'open\': $select.open}"><div class="selectize-input" ng-class="{\'focus\': $select.open, \'disabled\': $select.disabled, \'selectize-focus\' : $select.focus}" ng-click="$select.open && !$select.searchEnabled ? $select.toggle($event) : $select.activate()"><div class="ui-select-match"></div><input type="search" autocomplete="off" tabindex="-1" class="ui-select-search ui-select-toggle" ng-class="{\'ui-select-search-hidden\':!$select.searchEnabled}" ng-click="$select.toggle($event)" placeholder="{{$select.placeholder}}" ng-model="$select.search" ng-hide="!$select.isEmpty() && !$select.open" ng-disabled="$select.disabled" aria-label="{{ $select.baseTitle }}"></div><div class="ui-select-choices"></div><div class="ui-select-no-choice"></div></div>')}])},7194:function(module,exports){},7195:function(module,exports,__webpack_require__){"use strict";var _lodash=__webpack_require__(1);var _lodash2=_interopRequireDefault(_lodash);var _chrome=__webpack_require__(9);var _chrome2=_interopRequireDefault(_chrome);var _routes=__webpack_require__(13);var _routes2=_interopRequireDefault(_routes);var _notify=__webpack_require__(11);var _edit_role=__webpack_require__(7196);var _edit_role2=_interopRequireDefault(_edit_role);__webpack_require__(7197);__webpack_require__(2239);__webpack_require__(7198);__webpack_require__(486);__webpack_require__(1263);__webpack_require__(7199);__webpack_require__(7200);var _index_patterns=__webpack_require__(1012);var _xpack_info=__webpack_require__(73);var _lib=__webpack_require__(7201);var _user_profile=__webpack_require__(996);var _check_license_error=__webpack_require__(2238);var _management_urls=__webpack_require__(453);var _components=__webpack_require__(7202);var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _reactDom=__webpack_require__(14);var _kibana_privilege=__webpack_require__(7225);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}_routes2.default.when(_management_urls.EDIT_ROLES_PATH+"/:name?",{template:_edit_role2.default,resolve:{role:function role($route,ShieldRole,kbnUrl,Promise,Notifier){var name=$route.current.params.name;var role=void 0;role=null!=name?ShieldRole.get({name:name}).$promise.catch(function(response){if(404!==response.status)return(0,_notify.fatalError)(response);var notifier=new Notifier;notifier.error('No "'+name+'" role found.');kbnUrl.redirect(_management_urls.ROLES_PATH);return Promise.halt()}):Promise.resolve(new ShieldRole({elasticsearch:{cluster:[],indices:[],run_as:[]},kibana:{global:[],space:{}},_unrecognized_applications:[]}));return role.then(function(res){return res.toJSON()})},users:function users(ShieldUser,kbnUrl,Promise,Private){return ShieldUser.query().$promise.then(function(users){return _lodash2.default.map(users,"username")}).catch((0,_check_license_error.checkLicenseError)(kbnUrl,Promise,Private))},indexPatterns:function indexPatterns(Private){var indexPatterns=Private(_index_patterns.IndexPatternsProvider);return indexPatterns.getTitles()},spaces:function spaces($http,chrome,spacesEnabled){if(spacesEnabled)return new _lib.SpacesManager($http,chrome).getSpaces();return[]}},controllerAs:"editRole",controller:function controller($injector,$scope,$http,enableSpaceAwarePrivileges){var $route=$injector.get("$route");var Private=$injector.get("Private");var role=$route.current.locals.role;var xpackInfo=Private(_xpack_info.XPackInfoProvider);var userProfile=Private(_user_profile.UserProfileProvider);var allowDocumentLevelSecurity=xpackInfo.get("features.security.allowRoleDocumentLevelSecurity");var allowFieldLevelSecurity=xpackInfo.get("features.security.allowRoleFieldLevelSecurity");var rbacApplication=_chrome2.default.getInjected("rbacApplication");if(0===role.elasticsearch.indices.length){var emptyOption={names:[],privileges:[]};allowFieldLevelSecurity&&(emptyOption.field_security={grant:["*"]});allowDocumentLevelSecurity&&(emptyOption.query="");role.elasticsearch.indices.push(emptyOption)}var _$route$current$local=$route.current.locals,users=_$route$current$local.users,indexPatterns=_$route$current$local.indexPatterns,spaces=_$route$current$local.spaces;$scope.$$postDigest(function(){var domNode=document.getElementById("editRoleReactRoot");(0,_reactDom.render)(_react2.default.createElement(_components.EditRolePage,{runAsUsers:users,role:role,kibanaAppPrivileges:_kibana_privilege.KibanaAppPrivileges,indexPatterns:indexPatterns,rbacEnabled:true,rbacApplication:rbacApplication,httpClient:$http,allowDocumentLevelSecurity:allowDocumentLevelSecurity,allowFieldLevelSecurity:allowFieldLevelSecurity,spaces:spaces,spacesEnabled:enableSpaceAwarePrivileges,userProfile:userProfile}),domNode);$scope.$on("$destroy",function(){(0,_reactDom.unmountComponentAtNode)(domNode)})})}})},7196:function(module,exports){module.exports='<kbn-management-app section="security" omit-breadcrumb-pages="[\'edit\']">\n  <div id="editRoleReactRoot" />\n</kbn-management-app>\n'},7197:function(module,exports){},7198:function(module,exports,__webpack_require__){"use strict";__webpack_require__(728);var _modules=__webpack_require__(3);var _module=_modules.uiModules.get("security",["ngResource"]);_module.service("ApplicationPrivileges",function($resource,chrome){var baseUrl=chrome.addBasePath("/api/security/v1/privileges");return $resource(baseUrl,null,{query:{isArray:false}})})},7199:function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(3);var _module=_modules.uiModules.get("security",[]);_module.constant("shieldPrivileges",{cluster:["all","monitor","manage","manage_security","manage_index_templates","manage_pipeline","manage_ingest_pipelines","transport_client","manage_ml","monitor_ml","manage_watcher","monitor_watcher","read_ccr","manage_ccr"],indices:["all","manage","monitor","read","index","create","delete","write","delete_index","create_index","view_index_metadata","read_cross_cluster","manage_follow_index"],applications:[]})},7200:function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(3);var _module=_modules.uiModules.get("security",[]);_module.service("shieldIndices",function($http,chrome){return{getFields:function getFields(query){return $http.get(chrome.addBasePath("/api/security/v1/fields/"+query)).then(function(response){return response.data})}}})},7201:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var spaces_manager_1=__webpack_require__(729);exports.SpacesManager=spaces_manager_1.SpacesManager},7202:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var edit_role_page_1=__webpack_require__(7203);exports.EditRolePage=edit_role_page_1.EditRolePage},7203:function(module,exports,__webpack_require__){"use strict";var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var eui_1=__webpack_require__(2);var lodash_1=__webpack_require__(1);var react_1=tslib_1.__importStar(__webpack_require__(0));var notify_1=__webpack_require__(11);var role_1=__webpack_require__(391);var objects_1=__webpack_require__(2240);var management_urls_1=__webpack_require__(453);var validate_role_1=__webpack_require__(7206);var delete_role_button_1=__webpack_require__(7207);var privileges_1=__webpack_require__(7208);var reserved_role_badge_1=__webpack_require__(7224);var EditRolePage=function(_react_1$Component){_inherits(EditRolePage,_react_1$Component);function EditRolePage(props){_classCallCheck(this,EditRolePage);var _this=_possibleConstructorReturn(this,(EditRolePage.__proto__||Object.getPrototypeOf(EditRolePage)).call(this,props));_this.getFormTitle=function(){var titleText=void 0;var props={tabIndex:0};if(role_1.isReservedRole(_this.props.role)){titleText="Viewing role";props["aria-describedby"]="reservedRoleDescription"}else titleText=_this.editingExistingRole()?"Edit role":"Create role";return react_1.default.createElement(eui_1.EuiTitle,{size:"l"},react_1.default.createElement("h1",Object.assign({},props),titleText," ",react_1.default.createElement(reserved_role_badge_1.ReservedRoleBadge,{role:_this.props.role})))};_this.getActionButton=function(){if(_this.editingExistingRole()&&!role_1.isReservedRole(_this.props.role))return react_1.default.createElement(eui_1.EuiFlexItem,{grow:false},react_1.default.createElement(delete_role_button_1.DeleteRoleButton,{canDelete:true,onDelete:_this.handleDeleteRole}));return null};_this.getRoleName=function(){return react_1.default.createElement(eui_1.EuiPanel,null,react_1.default.createElement(eui_1.EuiFormRow,Object.assign({label:"Role name",helpText:!role_1.isReservedRole(_this.props.role)&&_this.editingExistingRole()?"A role's name cannot be changed once it has been created.":void 0},_this.validator.validateRoleName(_this.state.role)),react_1.default.createElement(eui_1.EuiFieldText,{name:"name",value:_this.state.role.name||"",onChange:_this.onNameChange,"data-test-subj":"roleFormNameInput",readOnly:role_1.isReservedRole(_this.props.role)||_this.editingExistingRole()})))};_this.onNameChange=function(e){var rawValue=e.target.value;var name=rawValue.replace(/\s/g,"_");_this.setState({role:_extends({},_this.state.role,{name:name})})};_this.onRoleChange=function(role){_this.setState({role:role})};_this.getKibanaPrivileges=function(){return react_1.default.createElement("div",null,react_1.default.createElement(eui_1.EuiSpacer,null),react_1.default.createElement(privileges_1.KibanaPrivileges,{kibanaAppPrivileges:_this.props.kibanaAppPrivileges,spaces:_this.props.spaces,spacesEnabled:_this.props.spacesEnabled,userProfile:_this.props.userProfile,editable:!role_1.isReservedRole(_this.state.role),role:_this.state.role,onChange:_this.onRoleChange,validator:_this.validator}))};_this.getFormButtons=function(){if(role_1.isReservedRole(_this.props.role))return react_1.default.createElement(eui_1.EuiButton,{onClick:_this.backToRoleList},"Return to role list");var saveText=_this.editingExistingRole()?"Update role":"Create role";return react_1.default.createElement(eui_1.EuiFlexGroup,{responsive:false},react_1.default.createElement(eui_1.EuiFlexItem,{grow:false},react_1.default.createElement(eui_1.EuiButton,{"data-test-subj":"roleFormSaveButton",fill:true,onClick:_this.saveRole,disabled:role_1.isReservedRole(_this.props.role)},saveText)),react_1.default.createElement(eui_1.EuiFlexItem,{grow:false},react_1.default.createElement(eui_1.EuiButtonEmpty,{"data-test-subj":"roleFormCancelButton",onClick:_this.backToRoleList},"Cancel")),react_1.default.createElement(eui_1.EuiFlexItem,{grow:true}),_this.getActionButton())};_this.editingExistingRole=function(){return!!_this.props.role.name};_this.isPlaceholderPrivilege=function(indexPrivilege){return 0===indexPrivilege.names.length};_this.saveRole=function(){_this.validator.enableValidation();var result=_this.validator.validateForSave(_this.state.role);if(result.isInvalid)_this.setState({formError:result});else{_this.setState({formError:null});var httpClient=_this.props.httpClient;var role=_extends({},_this.state.role);role.elasticsearch.indices=role.elasticsearch.indices.filter(function(i){return!_this.isPlaceholderPrivilege(i)});role.elasticsearch.indices.forEach(function(index){return index.query||delete index.query});objects_1.saveRole(httpClient,role).then(function(){notify_1.toastNotifications.addSuccess("Saved role");_this.backToRoleList()}).catch(function(error){notify_1.toastNotifications.addDanger(lodash_1.get(error,"data.message"))})}};_this.handleDeleteRole=function(){var _this$props=_this.props,httpClient=_this$props.httpClient,role=_this$props.role;objects_1.deleteRole(httpClient,role.name).then(function(){notify_1.toastNotifications.addSuccess("Deleted role");_this.backToRoleList()}).catch(function(error){notify_1.toastNotifications.addDanger(lodash_1.get(error,"data.message"))})};_this.backToRoleList=function(){window.location.hash=management_urls_1.ROLES_PATH};_this.state={role:props.role,formError:null};_this.validator=new validate_role_1.RoleValidator({shouldValidate:false});return _this}_createClass(EditRolePage,[{key:"render",value:function render(){var description=this.props.spacesEnabled?"Set privileges on your Elasticsearch data and control access to your Kibana spaces.":"Set privileges on your Elasticsearch data and control access to Kibana.";return react_1.default.createElement(eui_1.EuiPage,{className:"editRolePage",restrictWidth:true},react_1.default.createElement(eui_1.EuiPageBody,null,react_1.default.createElement(eui_1.EuiForm,Object.assign({},this.state.formError),this.getFormTitle(),react_1.default.createElement(eui_1.EuiSpacer,null),react_1.default.createElement(eui_1.EuiText,{size:"s"},description),role_1.isReservedRole(this.props.role)&&react_1.default.createElement(react_1.Fragment,null,react_1.default.createElement(eui_1.EuiSpacer,{size:"s"}),react_1.default.createElement(eui_1.EuiText,{size:"s",color:"subdued"},react_1.default.createElement("p",{id:"reservedRoleDescription",tabIndex:1},"Reserved roles are built-in and cannot be removed or modified."))),react_1.default.createElement(eui_1.EuiSpacer,null),this.getRoleName(),this.getElasticsearchPrivileges(),this.getKibanaPrivileges(),react_1.default.createElement(eui_1.EuiSpacer,null),this.getFormButtons())))}},{key:"getElasticsearchPrivileges",value:function getElasticsearchPrivileges(){return react_1.default.createElement("div",null,react_1.default.createElement(eui_1.EuiSpacer,null),react_1.default.createElement(privileges_1.ElasticsearchPrivileges,{role:this.state.role,editable:!role_1.isReservedRole(this.state.role),httpClient:this.props.httpClient,onChange:this.onRoleChange,runAsUsers:this.props.runAsUsers,validator:this.validator,indexPatterns:this.props.indexPatterns,allowDocumentLevelSecurity:this.props.allowDocumentLevelSecurity,allowFieldLevelSecurity:this.props.allowFieldLevelSecurity}))}}]);return EditRolePage}(react_1.Component);exports.EditRolePage=EditRolePage},7204:function(module,exports,__webpack_require__){"use strict";var saveRole=(_ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee($http,role){var data;return regeneratorRuntime.wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:data=lodash_1.omit(role,"name","transient_metadata","_unrecognized_applications");_context.next=3;return $http.put(apiBase+"/"+role.name,data);case 3:return _context.abrupt("return",_context.sent);case 4:case"end":return _context.stop()}},_callee,this)})),function saveRole(_x,_x2){return _ref.apply(this,arguments)});var _ref;var deleteRole=(_ref2=_asyncToGenerator(regeneratorRuntime.mark(function _callee2($http,name){return regeneratorRuntime.wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.next=2;return $http.delete(apiBase+"/"+name);case 2:return _context2.abrupt("return",_context2.sent);case 3:case"end":return _context2.stop()}},_callee2,this)})),function deleteRole(_x3,_x4){return _ref2.apply(this,arguments)});var _ref2;function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var lodash_1=__webpack_require__(1);var chrome_1=tslib_1.__importDefault(__webpack_require__(9));var apiBase=chrome_1.default.addBasePath("/api/security/role");exports.saveRole=saveRole;exports.deleteRole=deleteRole},7205:function(module,exports,__webpack_require__){"use strict";var getFields=(_ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee($http,query){return regeneratorRuntime.wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return $http.get(apiBase+"/"+query).then(function(response){return response.data||[]});case 2:return _context.abrupt("return",_context.sent);case 3:case"end":return _context.stop()}},_callee,this)})),function getFields(_x,_x2){return _ref.apply(this,arguments)});var _ref;function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var chrome_1=tslib_1.__importDefault(__webpack_require__(9));var apiBase=chrome_1.default.addBasePath("/api/security/v1/fields");exports.getFields=getFields},7206:function(module,exports,__webpack_require__){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}return Array.from(arr)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:true});var RoleValidator=function(){function RoleValidator(){var options=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,RoleValidator);this.inProgressSpacePrivileges=[];this.shouldValidate=options.shouldValidate}_createClass(RoleValidator,[{key:"enableValidation",value:function enableValidation(){this.shouldValidate=true}},{key:"disableValidation",value:function disableValidation(){this.shouldValidate=false}},{key:"validateRoleName",value:function validateRoleName(role){if(!this.shouldValidate)return valid();if(!role.name)return invalid("Please provide a role name");if(role.name.length>1024)return invalid("Name must not exceed 1024 characters");if(!role.name.match(/^[a-zA-Z_][a-zA-Z0-9_@\-\$\.]*$/))return invalid("Name must begin with a letter or underscore and contain only letters, underscores, and numbers.");return valid()}},{key:"validateIndexPrivileges",value:function validateIndexPrivileges(role){var _this=this;if(!this.shouldValidate)return valid();if(!Array.isArray(role.elasticsearch.indices))throw new TypeError("Expected role.elasticsearch.indices to be an array");var areIndicesValid=null==role.elasticsearch.indices.map(function(indexPriv){return _this.validateIndexPrivilege(indexPriv)}).find(function(result){return result.isInvalid});if(areIndicesValid)return valid();return invalid()}},{key:"validateIndexPrivilege",value:function validateIndexPrivilege(indexPrivilege){if(!this.shouldValidate)return valid();if(indexPrivilege.names.length&&!indexPrivilege.privileges.length)return invalid("At least one privilege is required");return valid()}},{key:"validateSelectedSpaces",value:function validateSelectedSpaces(spaceIds,privilege){if(!this.shouldValidate)return valid();if(!privilege)return valid();if(Array.isArray(spaceIds)&&spaceIds.length>0)return valid();return invalid("At least one space is required")}},{key:"validateSelectedPrivilege",value:function validateSelectedPrivilege(spaceIds,privilege){if(!this.shouldValidate)return valid();if(!spaceIds||0===spaceIds.length)return valid();if(privilege)return valid();return invalid("Privilege is required")}},{key:"setInProgressSpacePrivileges",value:function setInProgressSpacePrivileges(inProgressSpacePrivileges){this.inProgressSpacePrivileges=[].concat(_toConsumableArray(inProgressSpacePrivileges))}},{key:"validateInProgressSpacePrivileges",value:function validateInProgressSpacePrivileges(role){var _this2=this;var global=role.kibana.global;var shouldValidate=this.shouldValidate&&!global.includes("all");if(!shouldValidate)return valid();var allInProgressValid=this.inProgressSpacePrivileges.every(function(_ref){var spaces=_ref.spaces,privilege=_ref.privilege;return!_this2.validateSelectedSpaces(spaces,privilege).isInvalid&&!_this2.validateSelectedPrivilege(spaces,privilege).isInvalid});if(allInProgressValid)return valid();return invalid()}},{key:"validateSpacePrivileges",value:function validateSpacePrivileges(role){if(!this.shouldValidate)return valid();var privileges=Object.values(role.kibana.space||{});var arePrivilegesValid=privileges.every(function(assignedPrivilege){return!!assignedPrivilege});var areInProgressPrivilegesValid=!this.validateInProgressSpacePrivileges(role).isInvalid;if(arePrivilegesValid&&areInProgressPrivilegesValid)return valid();return invalid()}},{key:"validateForSave",value:function validateForSave(role){var _validateRoleName=this.validateRoleName(role),isNameInvalid=_validateRoleName.isInvalid;var _validateIndexPrivile=this.validateIndexPrivileges(role),areIndicesInvalid=_validateIndexPrivile.isInvalid;var _validateSpacePrivile=this.validateSpacePrivileges(role),areSpacePrivilegesInvalid=_validateSpacePrivile.isInvalid;if(isNameInvalid||areIndicesInvalid||areSpacePrivilegesInvalid)return invalid();return valid()}}]);return RoleValidator}();exports.RoleValidator=RoleValidator;function invalid(error){return{isInvalid:true,error:error}}function valid(){return{isInvalid:false}}},7207:function(module,exports,__webpack_require__){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var eui_1=__webpack_require__(2);var react_1=tslib_1.__importStar(__webpack_require__(0));var DeleteRoleButton=function(_react_1$Component){_inherits(DeleteRoleButton,_react_1$Component);function DeleteRoleButton(){_classCallCheck(this,DeleteRoleButton);var _this=_possibleConstructorReturn(this,(DeleteRoleButton.__proto__||Object.getPrototypeOf(DeleteRoleButton)).apply(this,arguments));_this.state={showModal:false};_this.maybeShowModal=function(){if(!_this.state.showModal)return null;return react_1.default.createElement(eui_1.EuiOverlayMask,null,react_1.default.createElement(eui_1.EuiConfirmModal,{title:"Delete Role",onCancel:_this.closeModal,onConfirm:_this.onConfirmDelete,cancelButtonText:"No, don't delete",confirmButtonText:"Yes, delete role",buttonColor:"danger"},react_1.default.createElement("p",null,"Are you sure you want to delete this role?"),react_1.default.createElement("p",null,"This action cannot be undone!")))};_this.closeModal=function(){_this.setState({showModal:false})};_this.showModal=function(){_this.setState({showModal:true})};_this.onConfirmDelete=function(){_this.closeModal();_this.props.onDelete()};return _this}_createClass(DeleteRoleButton,[{key:"render",value:function render(){if(!this.props.canDelete)return null;return react_1.default.createElement(react_1.Fragment,null,react_1.default.createElement(eui_1.EuiButtonEmpty,{color:"danger",onClick:this.showModal},"Delete role"),this.maybeShowModal())}}]);return DeleteRoleButton}(react_1.Component);exports.DeleteRoleButton=DeleteRoleButton},7208:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var elasticsearch_privileges_1=__webpack_require__(7209);exports.ElasticsearchPrivileges=elasticsearch_privileges_1.ElasticsearchPrivileges;var kibana_privileges_1=__webpack_require__(7215);exports.KibanaPrivileges=kibana_privileges_1.KibanaPrivileges},7209:function(module,exports,__webpack_require__){"use strict";var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}return Array.from(arr)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var eui_1=__webpack_require__(2);var react_1=tslib_1.__importStar(__webpack_require__(0));var documentation_links_1=__webpack_require__(7210);var collapsible_panel_1=__webpack_require__(2241);var cluster_privileges_1=__webpack_require__(7212);var index_privileges_1=__webpack_require__(7213);var ElasticsearchPrivileges=function(_react_1$Component){_inherits(ElasticsearchPrivileges,_react_1$Component);function ElasticsearchPrivileges(){_classCallCheck(this,ElasticsearchPrivileges);var _this=_possibleConstructorReturn(this,(ElasticsearchPrivileges.__proto__||Object.getPrototypeOf(ElasticsearchPrivileges)).apply(this,arguments));_this.getForm=function(){var _this$props=_this.props,role=_this$props.role,httpClient=_this$props.httpClient,validator=_this$props.validator,onChange=_this$props.onChange,indexPatterns=_this$props.indexPatterns,allowDocumentLevelSecurity=_this$props.allowDocumentLevelSecurity,allowFieldLevelSecurity=_this$props.allowFieldLevelSecurity;var indexProps={role:role,httpClient:httpClient,validator:validator,indexPatterns:indexPatterns,allowDocumentLevelSecurity:allowDocumentLevelSecurity,allowFieldLevelSecurity:allowFieldLevelSecurity,onChange:onChange};return react_1.default.createElement(react_1.Fragment,null,react_1.default.createElement(eui_1.EuiDescribedFormGroup,{title:react_1.default.createElement("h3",null,"Cluster privileges"),description:react_1.default.createElement("p",null,"Manage the actions this role can perform against your cluster."," ",_this.learnMore(documentation_links_1.documentationLinks.esClusterPrivileges))},react_1.default.createElement(eui_1.EuiFormRow,{fullWidth:true,hasEmptyLabelSpace:true},react_1.default.createElement(cluster_privileges_1.ClusterPrivileges,{role:_this.props.role,onChange:_this.onClusterPrivilegesChange}))),react_1.default.createElement(eui_1.EuiSpacer,null),react_1.default.createElement(eui_1.EuiDescribedFormGroup,{title:react_1.default.createElement("h3",null,"Run As privileges"),description:react_1.default.createElement("p",null,"Allow requests to be submitted on the behalf of other users."," ",_this.learnMore(documentation_links_1.documentationLinks.esRunAsPrivileges))},react_1.default.createElement(eui_1.EuiFormRow,{hasEmptyLabelSpace:true},react_1.default.createElement(eui_1.EuiComboBox,{placeholder:_this.props.editable?"Add a user...":void 0,options:_this.props.runAsUsers.map(function(username){return{id:username,label:username,isGroupLabelOption:false}}),selectedOptions:_this.props.role.elasticsearch.run_as.map(function(u){return{label:u}}),onChange:_this.onRunAsUserChange,isDisabled:!_this.props.editable}))),react_1.default.createElement(eui_1.EuiSpacer,null),react_1.default.createElement(eui_1.EuiTitle,{size:"xs"},react_1.default.createElement("h3",null,"Index privileges")),react_1.default.createElement(eui_1.EuiSpacer,{size:"s"}),react_1.default.createElement(eui_1.EuiText,{size:"s",color:"subdued"},react_1.default.createElement("p",null,"Control access to the data in your cluster."," ",_this.learnMore(documentation_links_1.documentationLinks.esIndicesPrivileges))),react_1.default.createElement(index_privileges_1.IndexPrivileges,Object.assign({},indexProps)),react_1.default.createElement(eui_1.EuiHorizontalRule,null),_this.props.editable&&react_1.default.createElement(eui_1.EuiButton,{size:"s",iconType:"plusInCircle",onClick:_this.addIndexPrivilege},"Add index privilege"))};_this.learnMore=function(href){return react_1.default.createElement(eui_1.EuiLink,{className:"editRole__learnMore",href:href,target:"_blank"},"Learn more")};_this.addIndexPrivilege=function(){var role=_this.props.role;var newIndices=[].concat(_toConsumableArray(role.elasticsearch.indices),[{names:[],privileges:[],field_security:{grant:["*"]}}]);_this.props.onChange(_extends({},_this.props.role,{elasticsearch:_extends({},_this.props.role.elasticsearch,{indices:newIndices})}))};_this.onClusterPrivilegesChange=function(cluster){var role=_extends({},_this.props.role,{elasticsearch:_extends({},_this.props.role.elasticsearch,{cluster:cluster})});_this.props.onChange(role)};_this.onRunAsUserChange=function(users){var role=_extends({},_this.props.role,{elasticsearch:_extends({},_this.props.role.elasticsearch,{run_as:users.map(function(u){return u.label})})});_this.props.onChange(role)};return _this}_createClass(ElasticsearchPrivileges,[{key:"render",value:function render(){return react_1.default.createElement(collapsible_panel_1.CollapsiblePanel,{iconType:"logoElasticsearch",title:"Elasticsearch"},this.getForm())}}]);return ElasticsearchPrivileges}(react_1.Component);exports.ElasticsearchPrivileges=ElasticsearchPrivileges},7210:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.documentationLinks=void 0;var _documentation_links=__webpack_require__(242);exports.documentationLinks={dashboardViewMode:_documentation_links.ELASTIC_WEBSITE_URL+"guide/en/kibana/"+_documentation_links.DOC_LINK_VERSION+"/xpack-view-modes.html",esClusterPrivileges:_documentation_links.ELASTIC_WEBSITE_URL+"guide/en/x-pack/"+_documentation_links.DOC_LINK_VERSION+"/security-privileges.html#security-privileges",esIndicesPrivileges:_documentation_links.ELASTIC_WEBSITE_URL+"guide/en/x-pack/"+_documentation_links.DOC_LINK_VERSION+"/security-privileges.html#privileges-list-indices",esRunAsPrivileges:_documentation_links.ELASTIC_WEBSITE_URL+"guide/en/x-pack/"+_documentation_links.DOC_LINK_VERSION+"/security-privileges.html#_run_as_privilege"}},7211:function(module,exports){},7212:function(module,exports,__webpack_require__){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var eui_1=__webpack_require__(2);var react_1=tslib_1.__importStar(__webpack_require__(0));var role_1=__webpack_require__(391);var role_privileges_1=__webpack_require__(2242);var ClusterPrivileges=function(_react_1$Component){_inherits(ClusterPrivileges,_react_1$Component);function ClusterPrivileges(){_classCallCheck(this,ClusterPrivileges);var _this=_possibleConstructorReturn(this,(ClusterPrivileges.__proto__||Object.getPrototypeOf(ClusterPrivileges)).apply(this,arguments));_this.buildComboBox=function(items){var role=_this.props.role;var options=items.map(function(i){return{label:i,isGroupLabelOption:false}});var selectedOptions=(role.elasticsearch.cluster||[]).map(function(k){return{label:k}});return react_1.default.createElement(eui_1.EuiFlexItem,{key:"clusterPrivs"},react_1.default.createElement(eui_1.EuiComboBox,{options:options,selectedOptions:selectedOptions,onChange:_this.onClusterPrivilegesChange,isDisabled:role_1.isReservedRole(role)}))};_this.onClusterPrivilegesChange=function(selectedPrivileges){_this.props.onChange(selectedPrivileges.map(function(priv){return priv.label}))};return _this}_createClass(ClusterPrivileges,[{key:"render",value:function render(){var clusterPrivileges=role_privileges_1.getClusterPrivileges();return react_1.default.createElement(eui_1.EuiFlexGroup,null,this.buildComboBox(clusterPrivileges))}}]);return ClusterPrivileges}(react_1.Component);exports.ClusterPrivileges=ClusterPrivileges},7213:function(module,exports,__webpack_require__){"use strict";var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();function _defineProperty(obj,key,value){key in obj?Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true}):obj[key]=value;return obj}function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}return Array.from(arr)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var lodash_1=tslib_1.__importDefault(__webpack_require__(1));var react_1=tslib_1.__importStar(__webpack_require__(0));var role_1=__webpack_require__(391);var objects_1=__webpack_require__(2240);var index_privilege_form_1=__webpack_require__(7214);var IndexPrivileges=function(_react_1$Component){_inherits(IndexPrivileges,_react_1$Component);function IndexPrivileges(props){var _this2=this;_classCallCheck(this,IndexPrivileges);var _this=_possibleConstructorReturn(this,(IndexPrivileges.__proto__||Object.getPrototypeOf(IndexPrivileges)).call(this,props));_this.addIndexPrivilege=function(){var role=_this.props.role;var newIndices=[].concat(_toConsumableArray(role.elasticsearch.indices),[{names:[],privileges:[],field_security:{grant:["*"]}}]);_this.props.onChange(_extends({},_this.props.role,{elasticsearch:_extends({},_this.props.role.elasticsearch,{indices:newIndices})}))};_this.onIndexPrivilegeChange=function(privilegeIndex){return function(updatedPrivilege){var role=_this.props.role;var indices=role.elasticsearch.indices;var newIndices=[].concat(_toConsumableArray(indices));newIndices[privilegeIndex]=updatedPrivilege;_this.props.onChange(_extends({},_this.props.role,{elasticsearch:_extends({},_this.props.role.elasticsearch,{indices:newIndices})}));_this.loadAvailableFields(newIndices)}};_this.onIndexPrivilegeDelete=function(privilegeIndex){return function(){var role=_this.props.role;var newIndices=[].concat(_toConsumableArray(role.elasticsearch.indices));newIndices.splice(privilegeIndex,1);_this.props.onChange(_extends({},_this.props.role,{elasticsearch:_extends({},_this.props.role.elasticsearch,{indices:newIndices})}))}};_this.isPlaceholderPrivilege=function(indexPrivilege){return 0===indexPrivilege.names.length};_this.loadFieldsForPattern=(_ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee(pattern){return regeneratorRuntime.wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:if(pattern){_context.next=2;break}return _context.abrupt("return",_defineProperty({},pattern,[]));case 2:_context.prev=2;_context.t0=_defineProperty;_context.t1={};_context.t2=pattern;_context.next=8;return objects_1.getFields(_this.props.httpClient,pattern);case 8:_context.t3=_context.sent;return _context.abrupt("return",(0,_context.t0)(_context.t1,_context.t2,_context.t3));case 12:_context.prev=12;_context.t4=_context["catch"](2);return _context.abrupt("return",_defineProperty({},pattern,[]));case 15:case"end":return _context.stop()}},_callee,_this2,[[2,12]])})),function(_x){return _ref.apply(this,arguments)});var _ref;_this.state={availableFields:{}};return _this}_createClass(IndexPrivileges,[{key:"componentDidMount",value:function componentDidMount(){this.loadAvailableFields(this.props.role.elasticsearch.indices)}},{key:"render",value:function render(){var _this3=this;var _props$role$elasticse=this.props.role.elasticsearch.indices,indices=void 0===_props$role$elasticse?[]:_props$role$elasticse;var _props=this.props,indexPatterns=_props.indexPatterns,allowDocumentLevelSecurity=_props.allowDocumentLevelSecurity,allowFieldLevelSecurity=_props.allowFieldLevelSecurity;var props={indexPatterns:indexPatterns,allowDocumentLevelSecurity:allowDocumentLevelSecurity||!role_1.isRoleEnabled(this.props.role),allowFieldLevelSecurity:allowFieldLevelSecurity||!role_1.isRoleEnabled(this.props.role),isReservedRole:role_1.isReservedRole(this.props.role)};var forms=indices.map(function(indexPrivilege,idx){return react_1.default.createElement(index_privilege_form_1.IndexPrivilegeForm,Object.assign({key:idx},props,{formIndex:idx,validator:_this3.props.validator,allowDelete:!props.isReservedRole,indexPrivilege:indexPrivilege,availableFields:_this3.state.availableFields[indexPrivilege.names.join(",")],onChange:_this3.onIndexPrivilegeChange(idx),onDelete:_this3.onIndexPrivilegeDelete(idx)}))});return forms}},{key:"loadAvailableFields",value:function loadAvailableFields(privileges){var _this4=this;if(role_1.isReservedRole(this.props.role))return;var patterns=privileges.map(function(index){return index.names.join(",")});var cachedPatterns=Object.keys(this.state.availableFields);var patternsToFetch=lodash_1.default.difference(patterns,cachedPatterns);var fetchRequests=patternsToFetch.map(this.loadFieldsForPattern);Promise.all(fetchRequests).then(function(response){_this4.setState({availableFields:_extends({},_this4.state.availableFields,response.reduce(function(acc,o){return _extends({},acc,o)},{}))})})}}]);return IndexPrivileges}(react_1.Component);exports.IndexPrivileges=IndexPrivileges},7214:function(module,exports,__webpack_require__){"use strict";var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var eui_1=__webpack_require__(2);var react_1=tslib_1.__importStar(__webpack_require__(0));var role_privileges_1=__webpack_require__(2242);var fromOption=function fromOption(option){return option.label};var toOption=function toOption(value){return{label:value,isGroupLabelOption:false}};var IndexPrivilegeForm=function(_react_1$Component){_inherits(IndexPrivilegeForm,_react_1$Component);function IndexPrivilegeForm(props){_classCallCheck(this,IndexPrivilegeForm);var _this=_possibleConstructorReturn(this,(IndexPrivilegeForm.__proto__||Object.getPrototypeOf(IndexPrivilegeForm)).call(this,props));_this.getPrivilegeForm=function(){return react_1.default.createElement(react_1.Fragment,null,react_1.default.createElement(eui_1.EuiFlexGroup,null,react_1.default.createElement(eui_1.EuiFlexItem,null,react_1.default.createElement(eui_1.EuiFormRow,Object.assign({label:"Indices",fullWidth:true},_this.props.validator.validateIndexPrivilege(_this.props.indexPrivilege)),react_1.default.createElement(eui_1.EuiComboBox,{"data-test-subj":"indicesInput"+_this.props.formIndex,options:_this.props.indexPatterns.map(toOption),selectedOptions:_this.props.indexPrivilege.names.map(toOption),onCreateOption:_this.onCreateIndexPatternOption,onChange:_this.onIndexPatternsChange,isDisabled:_this.props.isReservedRole}))),react_1.default.createElement(eui_1.EuiFlexItem,null,react_1.default.createElement(eui_1.EuiFormRow,{label:"Privileges",fullWidth:true},react_1.default.createElement(eui_1.EuiComboBox,{"data-test-subj":"privilegesInput"+_this.props.formIndex,options:role_privileges_1.getIndexPrivileges().map(toOption),selectedOptions:_this.props.indexPrivilege.privileges.map(toOption),onChange:_this.onPrivilegeChange,isDisabled:_this.props.isReservedRole}))),_this.getGrantedFieldsControl()),react_1.default.createElement(eui_1.EuiSpacer,null),_this.getGrantedDocumentsControl())};_this.getGrantedFieldsControl=function(){var _this$props=_this.props,allowFieldLevelSecurity=_this$props.allowFieldLevelSecurity,availableFields=_this$props.availableFields,indexPrivilege=_this$props.indexPrivilege,isReservedRole=_this$props.isReservedRole;if(!allowFieldLevelSecurity)return null;var _ref=indexPrivilege.field_security||{},_ref$grant=_ref.grant,grant=void 0===_ref$grant?[]:_ref$grant;if(allowFieldLevelSecurity)return react_1.default.createElement(eui_1.EuiFlexItem,null,react_1.default.createElement(eui_1.EuiFormRow,{label:"Granted fields (optional)",fullWidth:true,className:"indexPrivilegeForm__grantedFieldsRow",helpText:isReservedRole||0!==grant.length?void 0:"If no fields are granted, then users assigned to this role will not be able to see any data for this index."},react_1.default.createElement(react_1.Fragment,null,react_1.default.createElement(eui_1.EuiComboBox,{"data-test-subj":"fieldInput"+_this.props.formIndex,options:availableFields?availableFields.map(toOption):[],selectedOptions:grant.map(toOption),onCreateOption:_this.onCreateGrantedField,onChange:_this.onGrantedFieldsChange,isDisabled:_this.props.isReservedRole}))));return null};_this.getGrantedDocumentsControl=function(){var _this$props2=_this.props,allowDocumentLevelSecurity=_this$props2.allowDocumentLevelSecurity,indexPrivilege=_this$props2.indexPrivilege;if(!allowDocumentLevelSecurity)return null;return react_1.default.createElement(eui_1.EuiFlexGroup,{direction:"column"},!_this.props.isReservedRole&&react_1.default.createElement(eui_1.EuiFlexItem,null,react_1.default.createElement(eui_1.EuiSwitch,{"data-test-subj":"restrictDocumentsQuery"+_this.props.formIndex,label:"Grant read privileges to specific documents",compressed:true,value:_this.state.queryExpanded,onChange:_this.toggleDocumentQuery})),_this.state.queryExpanded&&react_1.default.createElement(eui_1.EuiFlexItem,null,react_1.default.createElement(eui_1.EuiFormRow,{label:"Granted documents query",fullWidth:true},react_1.default.createElement(eui_1.EuiTextArea,{"data-test-subj":"queryInput"+_this.props.formIndex,style:{resize:"none"},fullWidth:true,value:indexPrivilege.query,onChange:_this.onQueryChange,readOnly:_this.props.isReservedRole}))))};_this.toggleDocumentQuery=function(){var willToggleOff=_this.state.queryExpanded;var willToggleOn=!willToggleOff;_this.setState({queryExpanded:!_this.state.queryExpanded,documentQuery:willToggleOff?_this.props.indexPrivilege.query:_this.state.documentQuery});willToggleOff&&_this.props.onChange(_extends({},_this.props.indexPrivilege,{query:""}));willToggleOn&&!_this.props.indexPrivilege.query&&_this.state.documentQuery&&_this.props.onChange(_extends({},_this.props.indexPrivilege,{query:_this.state.documentQuery}))};_this.onCreateIndexPatternOption=function(option){var newIndexPatterns=_this.props.indexPrivilege.names.concat([option]);_this.props.onChange(_extends({},_this.props.indexPrivilege,{names:newIndexPatterns}))};_this.onIndexPatternsChange=function(newPatterns){_this.props.onChange(_extends({},_this.props.indexPrivilege,{names:newPatterns.map(fromOption)}))};_this.onPrivilegeChange=function(newPrivileges){_this.props.onChange(_extends({},_this.props.indexPrivilege,{privileges:newPrivileges.map(fromOption)}))};_this.onQueryChange=function(e){_this.props.onChange(_extends({},_this.props.indexPrivilege,{query:e.target.value}))};_this.onCreateGrantedField=function(grant){if(!_this.props.indexPrivilege.field_security||!_this.props.indexPrivilege.field_security.grant)return;var newGrants=_this.props.indexPrivilege.field_security.grant.concat([grant]);_this.props.onChange(_extends({},_this.props.indexPrivilege,{field_security:_extends({},_this.props.indexPrivilege.field_security,{grant:newGrants})}))};_this.onGrantedFieldsChange=function(grantedFields){_this.props.onChange(_extends({},_this.props.indexPrivilege,{field_security:_extends({},_this.props.indexPrivilege.field_security,{grant:grantedFields.map(fromOption)})}))};_this.state={queryExpanded:!!props.indexPrivilege.query,documentQuery:props.indexPrivilege.query};return _this}_createClass(IndexPrivilegeForm,[{key:"render",value:function render(){return react_1.default.createElement(react_1.Fragment,null,react_1.default.createElement(eui_1.EuiHorizontalRule,null),react_1.default.createElement(eui_1.EuiFlexGroup,{className:"index-privilege-form"},react_1.default.createElement(eui_1.EuiFlexItem,null,this.getPrivilegeForm()),this.props.allowDelete&&react_1.default.createElement(eui_1.EuiFlexItem,{grow:false},react_1.default.createElement(eui_1.EuiFormRow,{hasEmptyLabelSpace:true},react_1.default.createElement(eui_1.EuiButtonIcon,{"aria-label":"Delete index privilege",color:"danger",onClick:this.props.onDelete,iconType:"trash"})))))}}]);return IndexPrivilegeForm}(react_1.Component);exports.IndexPrivilegeForm=IndexPrivilegeForm},7215:function(module,exports,__webpack_require__){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var react_1=tslib_1.__importStar(__webpack_require__(0));var collapsible_panel_1=__webpack_require__(2241);var simple_privilege_form_1=__webpack_require__(7216);var space_aware_privilege_form_1=__webpack_require__(7217);var KibanaPrivileges=function(_react_1$Component){_inherits(KibanaPrivileges,_react_1$Component);function KibanaPrivileges(){_classCallCheck(this,KibanaPrivileges);var _this=_possibleConstructorReturn(this,(KibanaPrivileges.__proto__||Object.getPrototypeOf(KibanaPrivileges)).apply(this,arguments));_this.getForm=function(){var _this$props=_this.props,kibanaAppPrivileges=_this$props.kibanaAppPrivileges,role=_this$props.role,spacesEnabled=_this$props.spacesEnabled,_this$props$spaces=_this$props.spaces,spaces=void 0===_this$props$spaces?[]:_this$props$spaces,userProfile=_this$props.userProfile,onChange=_this$props.onChange,editable=_this$props.editable,validator=_this$props.validator;return spacesEnabled?react_1.default.createElement(space_aware_privilege_form_1.SpaceAwarePrivilegeForm,{kibanaAppPrivileges:kibanaAppPrivileges,role:role,spaces:spaces,userProfile:userProfile,onChange:onChange,editable:editable,validator:validator}):react_1.default.createElement(simple_privilege_form_1.SimplePrivilegeForm,{kibanaAppPrivileges:kibanaAppPrivileges,role:role,onChange:onChange,editable:editable})};return _this}_createClass(KibanaPrivileges,[{key:"render",value:function render(){return react_1.default.createElement(collapsible_panel_1.CollapsiblePanel,{iconType:"logoKibana",title:"Kibana"},this.getForm())}}]);return KibanaPrivileges}(react_1.Component);exports.KibanaPrivileges=KibanaPrivileges},7216:function(module,exports,__webpack_require__){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var eui_1=__webpack_require__(2);var react_1=tslib_1.__importStar(__webpack_require__(0));var role_1=__webpack_require__(391);var constants_1=__webpack_require__(546);var copy_role_1=__webpack_require__(2243);var privilege_selector_1=__webpack_require__(850);var SimplePrivilegeForm=function(_react_1$Component){_inherits(SimplePrivilegeForm,_react_1$Component);function SimplePrivilegeForm(){_classCallCheck(this,SimplePrivilegeForm);var _this=_possibleConstructorReturn(this,(SimplePrivilegeForm.__proto__||Object.getPrototypeOf(SimplePrivilegeForm)).apply(this,arguments));_this.onKibanaPrivilegeChange=function(privilege){var role=copy_role_1.copyRole(_this.props.role);role.kibana.global=[];privilege!==constants_1.NO_PRIVILEGE_VALUE&&(role.kibana.global=[privilege]);_this.props.onChange(role)};return _this}_createClass(SimplePrivilegeForm,[{key:"render",value:function render(){var _props=this.props,kibanaAppPrivileges=_props.kibanaAppPrivileges,role=_props.role;var assignedPrivileges=role.kibana;var kibanaPrivilege=assignedPrivileges.global.length>0?assignedPrivileges.global[0]:constants_1.NO_PRIVILEGE_VALUE;var description=react_1.default.createElement("p",null,"Specifies the Kibana privilege for this role.");return react_1.default.createElement(react_1.Fragment,null,react_1.default.createElement(eui_1.EuiDescribedFormGroup,{title:react_1.default.createElement("h3",null,"Kibana privileges"),description:description},react_1.default.createElement(eui_1.EuiFormRow,{hasEmptyLabelSpace:true},react_1.default.createElement(privilege_selector_1.PrivilegeSelector,{"data-test-subj":"kibanaPrivilege",availablePrivileges:kibanaAppPrivileges,value:kibanaPrivilege,disabled:role_1.isReservedRole(role),allowNone:true,onChange:this.onKibanaPrivilegeChange}))))}}]);return SimplePrivilegeForm}(react_1.Component);exports.SimplePrivilegeForm=SimplePrivilegeForm},7217:function(module,exports,__webpack_require__){"use strict";var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}return Array.from(arr)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var eui_1=__webpack_require__(2);var react_1=tslib_1.__importStar(__webpack_require__(0));var role_1=__webpack_require__(391);var constants_1=__webpack_require__(546);var copy_role_1=__webpack_require__(2243);var get_available_privileges_1=__webpack_require__(7218);var impacted_spaces_flyout_1=__webpack_require__(7219);var privilege_callout_warning_1=__webpack_require__(7221);var privilege_selector_1=__webpack_require__(850);var privilege_space_form_1=__webpack_require__(7222);var privilege_space_table_1=__webpack_require__(2244);var SpaceAwarePrivilegeForm=function(_react_1$Component){_inherits(SpaceAwarePrivilegeForm,_react_1$Component);function SpaceAwarePrivilegeForm(props){_classCallCheck(this,SpaceAwarePrivilegeForm);var _this=_possibleConstructorReturn(this,(SpaceAwarePrivilegeForm.__proto__||Object.getPrototypeOf(SpaceAwarePrivilegeForm)).call(this,props));_this.renderSpacePrivileges=function(basePrivilege,availablePrivileges){var _this$props=_this.props,role=_this$props.role,spaces=_this$props.spaces;var spacePrivileges=_this.state.spacePrivileges;var availableSpaces=_this.getAvailableSpaces();var canAssignSpacePrivileges="all"!==basePrivilege;var hasAssignedSpacePrivileges=Object.keys(_this.state.spacePrivileges).length>0;var showAddPrivilegeButton=canAssignSpacePrivileges&&_this.props.editable&&availableSpaces.length>0;return react_1.default.createElement(react_1.Fragment,null,react_1.default.createElement(eui_1.EuiTitle,{size:"xs"},react_1.default.createElement("h3",null,"Higher privileges for individual spaces")),react_1.default.createElement(eui_1.EuiSpacer,{size:"s"}),react_1.default.createElement(eui_1.EuiText,{grow:false,size:"s",color:"subdued"},react_1.default.createElement("p",null,"Grant more privileges on a per space basis. For example, if the privileges are"," ",react_1.default.createElement("strong",null,"read")," for all spaces, you can set the privileges to ",react_1.default.createElement("strong",null,"all")," ","for an individual space.")),react_1.default.createElement(eui_1.EuiSpacer,{size:"s"}),(basePrivilege!==constants_1.NO_PRIVILEGE_VALUE||role_1.isReservedRole(_this.props.role))&&react_1.default.createElement(privilege_callout_warning_1.PrivilegeCalloutWarning,{basePrivilege:basePrivilege,isReservedRole:role_1.isReservedRole(_this.props.role)}),"read"===basePrivilege&&_this.props.editable&&react_1.default.createElement(eui_1.EuiSpacer,null),canAssignSpacePrivileges&&react_1.default.createElement(react_1.Fragment,null,react_1.default.createElement(privilege_space_table_1.PrivilegeSpaceTable,{role:role,spaces:spaces,availablePrivileges:availablePrivileges,spacePrivileges:spacePrivileges,onChange:_this.onExistingSpacePrivilegesChange}),hasAssignedSpacePrivileges&&react_1.default.createElement(eui_1.EuiSpacer,null),_this.getSpaceForms(basePrivilege)),react_1.default.createElement(eui_1.EuiFlexGroup,{alignItems:"baseline"},showAddPrivilegeButton&&react_1.default.createElement(eui_1.EuiFlexItem,{grow:false},react_1.default.createElement(eui_1.EuiButton,{"data-test-subj":"addSpacePrivilegeButton",size:"s",iconType:"plusInCircle",onClick:_this.addSpacePrivilege},"Add space privilege")),react_1.default.createElement(eui_1.EuiFlexItem,null,react_1.default.createElement(impacted_spaces_flyout_1.ImpactedSpacesFlyout,{role:role,spaces:spaces,userProfile:_this.props.userProfile}))))};_this.getSpaceForms=function(basePrivilege){if(!_this.props.editable)return null;return _this.state.privilegeForms.map(function(form,index){return _this.getSpaceForm(form,index,basePrivilege)})};_this.addSpacePrivilege=function(){_this.setState({privilegeForms:[].concat(_toConsumableArray(_this.state.privilegeForms),[{spaces:[],privilege:null}])})};_this.getAvailableSpaces=function(omitIndex){var spacePrivileges=_this.state.spacePrivileges;return _this.props.spaces.filter(function(space){var alreadyAssigned=Object.keys(spacePrivileges).indexOf(space.id)>=0;if(alreadyAssigned)return false;var otherForms=[].concat(_toConsumableArray(_this.state.privilegeForms));"number"===typeof omitIndex&&otherForms.splice(omitIndex,1);var inAnotherForm=otherForms.some(function(_ref){var spaces=_ref.spaces;return spaces.indexOf(space.id)>=0});return!inAnotherForm})};_this.getSpaceForm=function(form,index,basePrivilege){var selectedSpaceIds=form.spaces,privilege=form.privilege;var availableSpaces=_this.getAvailableSpaces(index);return react_1.default.createElement(react_1.Fragment,{key:index},react_1.default.createElement(privilege_space_form_1.PrivilegeSpaceForm,{key:index,availableSpaces:availableSpaces,selectedSpaceIds:selectedSpaceIds,availablePrivileges:get_available_privileges_1.getAvailablePrivileges(basePrivilege),selectedPrivilege:privilege,onChange:_this.onPrivilegeSpacePermissionChange(index),onDelete:_this.onPrivilegeSpacePermissionDelete(index),validator:_this.props.validator}),react_1.default.createElement(eui_1.EuiSpacer,null))};_this.onPrivilegeSpacePermissionChange=function(index){return function(form){var existingPrivilegeForm=_extends({},_this.state.privilegeForms[index]);var updatedPrivileges=[].concat(_toConsumableArray(_this.state.privilegeForms));updatedPrivileges[index]={spaces:form.spaces,privilege:form.privilege};_this.setState({privilegeForms:updatedPrivileges});var role=copy_role_1.copyRole(_this.props.role);existingPrivilegeForm.spaces.forEach(function(spaceId){role.kibana.space[spaceId]=[]});if(form.spaces.length){var privilege=form.privilege;privilege&&form.spaces.forEach(function(spaceId){role.kibana.space[spaceId]=[privilege]})}_this.props.validator.setInProgressSpacePrivileges(updatedPrivileges);_this.props.onChange(role)}};_this.onPrivilegeSpacePermissionDelete=function(index){return function(){var updatedPrivileges=[].concat(_toConsumableArray(_this.state.privilegeForms));var removedPrivilege=updatedPrivileges.splice(index,1)[0];_this.setState({privilegeForms:updatedPrivileges});var role=copy_role_1.copyRole(_this.props.role);removedPrivilege.spaces.forEach(function(spaceId){delete role.kibana.space[spaceId]});_this.props.validator.setInProgressSpacePrivileges(updatedPrivileges);_this.props.onChange(role)}};_this.onExistingSpacePrivilegesChange=function(assignedPrivileges){var role=copy_role_1.copyRole(_this.props.role);role.kibana.space=_extends({},assignedPrivileges);_this.state.privilegeForms.forEach(function(inProgressForm){var privilege=inProgressForm.privilege;privilege&&inProgressForm.spaces.forEach(function(spaceId){role.kibana.space[spaceId]=[privilege]})});_this.setState({spacePrivileges:assignedPrivileges});_this.props.onChange(role)};_this.onKibanaBasePrivilegeChange=function(privilege){var role=copy_role_1.copyRole(_this.props.role);role.kibana.global=[];privilege!==constants_1.NO_PRIVILEGE_VALUE&&(role.kibana.global=[privilege]);_this.props.onChange(role)};var role=props.role;var assignedPrivileges=role.kibana;var spacePrivileges=_extends({},assignedPrivileges.space);_this.state={spacePrivileges:spacePrivileges,privilegeForms:[]};return _this}_createClass(SpaceAwarePrivilegeForm,[{key:"render",value:function render(){var _props=this.props,kibanaAppPrivileges=_props.kibanaAppPrivileges,role=_props.role,userProfile=_props.userProfile;if(!userProfile.hasCapability("manageSpaces"))return react_1.default.createElement(eui_1.EuiCallOut,{title:react_1.default.createElement("p",null,"Insufficient Privileges"),iconType:"alert",color:"danger"},react_1.default.createElement("p",null,"You are not authorized to view all available spaces."),react_1.default.createElement("p",null,"Please ensure your account has all privileges granted by the"," ",react_1.default.createElement("strong",null,"kibana_user")," role, and try again."));var assignedPrivileges=role.kibana;var basePrivilege=assignedPrivileges.global.length>0?assignedPrivileges.global[0]:constants_1.NO_PRIVILEGE_VALUE;var description=react_1.default.createElement("p",null,"Specify the minimum actions users can perform in your spaces.");var helptext=void 0;basePrivilege===constants_1.NO_PRIVILEGE_VALUE?helptext="No access to spaces":"all"===basePrivilege?helptext="View, edit, and share objects and apps within all spaces":"read"===basePrivilege&&(helptext="View objects and apps within all spaces");return react_1.default.createElement(react_1.Fragment,null,react_1.default.createElement(eui_1.EuiDescribedFormGroup,{title:react_1.default.createElement("h3",null,"Minimum privileges for all spaces"),description:description},react_1.default.createElement(eui_1.EuiFormRow,{hasEmptyLabelSpace:true,helpText:helptext},react_1.default.createElement(privilege_selector_1.PrivilegeSelector,{"data-test-subj":"kibanaMinimumPrivilege",availablePrivileges:kibanaAppPrivileges,value:basePrivilege,disabled:role_1.isReservedRole(role),allowNone:true,onChange:this.onKibanaBasePrivilegeChange}))),react_1.default.createElement(eui_1.EuiSpacer,null),this.renderSpacePrivileges(basePrivilege,kibanaAppPrivileges))}}]);return SpaceAwarePrivilegeForm}(react_1.Component);exports.SpaceAwarePrivilegeForm=SpaceAwarePrivilegeForm},7218:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var constants_1=__webpack_require__(546);function getAvailablePrivileges(minimumPrivilege){switch(minimumPrivilege){case constants_1.NO_PRIVILEGE_VALUE:case"read":return["read","all"];case"all":return["all"];default:throw new Error("Unexpected minimumPrivilege value: "+minimumPrivilege)}}exports.getAvailablePrivileges=getAvailablePrivileges},7219:function(module,exports,__webpack_require__){"use strict";var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();function _defineProperty(obj,key,value){key in obj?Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true}):obj[key]=value;return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var eui_1=__webpack_require__(2);var react_1=tslib_1.__importStar(__webpack_require__(0));var privilege_space_table_1=__webpack_require__(2244);var components_1=__webpack_require__(329);var constants_1=__webpack_require__(546);__webpack_require__(7220);var ImpactedSpacesFlyout=function(_react_1$Component){_inherits(ImpactedSpacesFlyout,_react_1$Component);function ImpactedSpacesFlyout(props){_classCallCheck(this,ImpactedSpacesFlyout);var _this=_possibleConstructorReturn(this,(ImpactedSpacesFlyout.__proto__||Object.getPrototypeOf(ImpactedSpacesFlyout)).call(this,props));_this.toggleShowImpactedSpaces=function(){_this.setState({showImpactedSpaces:!_this.state.showImpactedSpaces})};_this.getFlyout=function(){if(!_this.state.showImpactedSpaces)return null;var _this$props=_this.props,role=_this$props.role,spaces=_this$props.spaces;var assignedPrivileges=role.kibana;var basePrivilege=assignedPrivileges.global.length?assignedPrivileges.global[0]:constants_1.NO_PRIVILEGE_VALUE;var allSpacePrivileges=spaces.reduce(function(acc,space){var spacePrivilege=assignedPrivileges.space[space.id]?assignedPrivileges.space[space.id][0]:basePrivilege;var actualPrivilege=_this.getHighestPrivilege(spacePrivilege,basePrivilege);return _extends({},acc,_defineProperty({},space.id,[actualPrivilege]))},_extends({},role.kibana.space));return react_1.default.createElement(eui_1.EuiFlyout,{onClose:_this.toggleShowImpactedSpaces,"aria-labelledby":"showImpactedSpacesTitle",size:"s"},react_1.default.createElement(eui_1.EuiFlyoutHeader,{hasBorder:true},react_1.default.createElement(eui_1.EuiTitle,{size:"m"},react_1.default.createElement("h1",{id:"showImpactedSpacesTitle"},"Summary of space privileges"))),react_1.default.createElement(eui_1.EuiFlyoutBody,null,react_1.default.createElement(privilege_space_table_1.PrivilegeSpaceTable,{readonly:true,role:role,spaces:spaces,spacePrivileges:allSpacePrivileges})),react_1.default.createElement(eui_1.EuiFlyoutFooter,{className:"showImpactedSpaces--flyout--footer"},react_1.default.createElement(components_1.ManageSpacesButton,{userProfile:_this.props.userProfile})))};_this.state={showImpactedSpaces:false};return _this}_createClass(ImpactedSpacesFlyout,[{key:"render",value:function render(){var flyout=this.getFlyout();return react_1.default.createElement(react_1.Fragment,null,react_1.default.createElement("div",{className:"showImpactedSpaces"},react_1.default.createElement(eui_1.EuiLink,{onClick:this.toggleShowImpactedSpaces},"View summary of spaces privileges")),flyout)}},{key:"getHighestPrivilege",value:function getHighestPrivilege(){for(var _len=arguments.length,privileges=Array(_len),_key=0;_key<_len;_key++)privileges[_key]=arguments[_key];if(privileges.indexOf("all")>=0)return"all";if(privileges.indexOf("read")>=0)return"read";return"none"}}]);return ImpactedSpacesFlyout}(react_1.Component);exports.ImpactedSpacesFlyout=ImpactedSpacesFlyout},7220:function(module,exports){},7221:function(module,exports,__webpack_require__){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var eui_1=__webpack_require__(2);var react_1=tslib_1.__importStar(__webpack_require__(0));var constants_1=__webpack_require__(546);var PrivilegeCalloutWarning=function(_react_1$Component){_inherits(PrivilegeCalloutWarning,_react_1$Component);function PrivilegeCalloutWarning(){_classCallCheck(this,PrivilegeCalloutWarning);var _this=_possibleConstructorReturn(this,(PrivilegeCalloutWarning.__proto__||Object.getPrototypeOf(PrivilegeCalloutWarning)).apply(this,arguments));_this.state={showImpactedSpaces:false};return _this}_createClass(PrivilegeCalloutWarning,[{key:"render",value:function render(){var _props=this.props,basePrivilege=_props.basePrivilege,isReservedRole=_props.isReservedRole;var callout=null;"all"===basePrivilege&&(callout=isReservedRole?react_1.default.createElement(eui_1.EuiCallOut,{color:"warning",iconType:"iInCircle",title:"Cannot customize a reserved role's space privileges"},react_1.default.createElement("p",null,"This role always grants full access to all spaces. To customize privileges for individual spaces, you must create a new role.")):react_1.default.createElement(eui_1.EuiCallOut,{color:"warning",iconType:"iInCircle",title:"Minimum privilege is too high to customize individual spaces"},react_1.default.createElement("p",null,"Setting the minimum privilege to ",react_1.default.createElement("strong",null,"all")," grants full access to all spaces. To customize privileges for individual spaces, the minimum privilege must be either ",react_1.default.createElement("strong",null,"read")," or ",react_1.default.createElement("strong",null,"none"),".")));"read"===basePrivilege&&(callout=isReservedRole?react_1.default.createElement(eui_1.EuiCallOut,{color:"warning",iconType:"iInCircle",title:"Cannot customize a reserved role's space privileges"},react_1.default.createElement("p",null,"This role always grants read access to all spaces. To customize privileges for individual spaces, you must create a new role.")):react_1.default.createElement(eui_1.EuiCallOut,{color:"primary",iconType:"iInCircle",title:react_1.default.createElement("span",null,"The minimal possible privilege is ",react_1.default.createElement("strong",null,"read"),".")}));basePrivilege===constants_1.NO_PRIVILEGE_VALUE&&isReservedRole&&(callout=react_1.default.createElement(eui_1.EuiCallOut,{color:"warning",iconType:"iInCircle",title:"Cannot customize a reserved role's space privileges"},react_1.default.createElement("p",null,"This role never grants access to any spaces within Kibana. To customize privileges for individual spaces, you must create a new role.")));return callout}}]);return PrivilegeCalloutWarning}(react_1.Component);exports.PrivilegeCalloutWarning=PrivilegeCalloutWarning},7222:function(module,exports,__webpack_require__){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var eui_1=__webpack_require__(2);var react_1=tslib_1.__importStar(__webpack_require__(0));var privilege_selector_1=__webpack_require__(850);var space_selector_1=__webpack_require__(7223);var PrivilegeSpaceForm=function(_react_1$Component){_inherits(PrivilegeSpaceForm,_react_1$Component);function PrivilegeSpaceForm(){_classCallCheck(this,PrivilegeSpaceForm);var _this=_possibleConstructorReturn(this,(PrivilegeSpaceForm.__proto__||Object.getPrototypeOf(PrivilegeSpaceForm)).apply(this,arguments));_this.onSelectedSpacesChange=function(selectedSpaceIds){_this.props.onChange({spaces:selectedSpaceIds,privilege:_this.props.selectedPrivilege})};_this.onPrivilegeChange=function(privilege){_this.props.onChange({spaces:_this.props.selectedSpaceIds,privilege:privilege})};return _this}_createClass(PrivilegeSpaceForm,[{key:"render",value:function render(){var _props=this.props,availableSpaces=_props.availableSpaces,selectedSpaceIds=_props.selectedSpaceIds,availablePrivileges=_props.availablePrivileges,selectedPrivilege=_props.selectedPrivilege,validator=_props.validator;return react_1.default.createElement(eui_1.EuiFlexGroup,{responsive:false},react_1.default.createElement(eui_1.EuiFlexItem,null,react_1.default.createElement(eui_1.EuiFormRow,Object.assign({label:"Spaces"},validator.validateSelectedSpaces(selectedSpaceIds,selectedPrivilege)),react_1.default.createElement(space_selector_1.SpaceSelector,{spaces:availableSpaces,selectedSpaceIds:selectedSpaceIds,onChange:this.onSelectedSpacesChange}))),react_1.default.createElement(eui_1.EuiFlexItem,null,react_1.default.createElement(eui_1.EuiFormRow,Object.assign({label:"Privilege"},validator.validateSelectedPrivilege(selectedSpaceIds,selectedPrivilege)),react_1.default.createElement(privilege_selector_1.PrivilegeSelector,{"data-test-subj":"space-form-priv-selector",availablePrivileges:availablePrivileges,value:selectedPrivilege,onChange:this.onPrivilegeChange}))),react_1.default.createElement(eui_1.EuiFlexItem,{grow:false},react_1.default.createElement(eui_1.EuiFormRow,{hasEmptyLabelSpace:true},react_1.default.createElement(eui_1.EuiButtonIcon,{"aria-label":"Delete space privilege",color:"danger",onClick:this.props.onDelete,iconType:"trash"}))))}}]);return PrivilegeSpaceForm}(react_1.Component);exports.PrivilegeSpaceForm=PrivilegeSpaceForm},7223:function(module,exports,__webpack_require__){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var eui_1=__webpack_require__(2);var react_1=tslib_1.__importStar(__webpack_require__(0));var space_attributes_1=__webpack_require__(994);var spaceToOption=function spaceToOption(space){if(!space)return{label:"",isGroupLabelOption:false};return{id:space.id,label:space.name,color:space_attributes_1.getSpaceColor(space),isGroupLabelOption:false}};var spaceIdToOption=function spaceIdToOption(spaces){return function(s){return spaceToOption(spaces.find(function(space){return space.id===s}))}};var SpaceSelector=function(_react_1$Component){_inherits(SpaceSelector,_react_1$Component);function SpaceSelector(){_classCallCheck(this,SpaceSelector);var _this=_possibleConstructorReturn(this,(SpaceSelector.__proto__||Object.getPrototypeOf(SpaceSelector)).apply(this,arguments));_this.onChange=function(selectedSpaces){_this.props.onChange(selectedSpaces.map(function(s){return s.id}))};return _this}_createClass(SpaceSelector,[{key:"render",value:function render(){var renderOption=function renderOption(option,searchValue,contentClassName){var color=option.color,label=option.label;return react_1.default.createElement(eui_1.EuiHealth,{color:color},react_1.default.createElement("span",{className:contentClassName},react_1.default.createElement(eui_1.EuiHighlight,{search:searchValue},label)))};return react_1.default.createElement(eui_1.EuiComboBox,{options:this.props.spaces.map(spaceToOption),renderOption:renderOption,selectedOptions:this.props.selectedSpaceIds.map(spaceIdToOption(this.props.spaces)),isDisabled:this.props.disabled,onChange:this.onChange})}}]);return SpaceSelector}(react_1.Component);exports.SpaceSelector=SpaceSelector},7224:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var react_1=tslib_1.__importDefault(__webpack_require__(0));var eui_1=__webpack_require__(2);var role_1=__webpack_require__(391);exports.ReservedRoleBadge=function(props){var role=props.role;if(role_1.isReservedRole(role))return react_1.default.createElement(eui_1.EuiToolTip,{content:"Reserved roles are built-in and cannot be removed or modified."},react_1.default.createElement(eui_1.EuiIcon,{style:{verticalAlign:"super"},type:"lock"}));return null}},7225:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.KibanaAppPrivileges=["read","all"]},7226:function(module,exports){},7227:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);__webpack_require__(7228);var react_1=tslib_1.__importDefault(__webpack_require__(0));var management_1=__webpack_require__(84);var routes_1=tslib_1.__importDefault(__webpack_require__(13));var advanced_settings_subtitle_1=__webpack_require__(7240);var advanced_settings_title_1=__webpack_require__(7242);var MANAGE_SPACES_KEY="manage_spaces";routes_1.default.defaults(/\/management/,{resolve:{spacesManagementSection:function spacesManagementSection(activeSpace){function getKibanaSection(){return management_1.management.getSection("kibana")}function deregisterSpaces(){getKibanaSection().deregister(MANAGE_SPACES_KEY)}function ensureSpagesRegistered(){var kibanaSection=getKibanaSection();kibanaSection.hasItem(MANAGE_SPACES_KEY)||kibanaSection.register(MANAGE_SPACES_KEY,{name:"spacesManagementLink",order:10,display:"Spaces",url:"#/management/spaces/list"});var PageTitle=function PageTitle(){return react_1.default.createElement(advanced_settings_title_1.AdvancedSettingsTitle,{space:activeSpace.space})};management_1.registerSettingsComponent(management_1.PAGE_TITLE_COMPONENT,PageTitle,true);var SubTitle=function SubTitle(){return react_1.default.createElement(advanced_settings_subtitle_1.AdvancedSettingsSubtitle,{space:activeSpace.space})};management_1.registerSettingsComponent(management_1.PAGE_SUBTITLE_COMPONENT,SubTitle,true)}deregisterSpaces();ensureSpagesRegistered()}}})},7228:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var template_html_1=tslib_1.__importDefault(__webpack_require__(7229));var user_profile_1=__webpack_require__(996);__webpack_require__(366);var react_1=tslib_1.__importDefault(__webpack_require__(0));var react_dom_1=__webpack_require__(14);var routes_1=tslib_1.__importDefault(__webpack_require__(13));var spaces_manager_1=__webpack_require__(729);var edit_space_1=__webpack_require__(7230);var spaces_grid_1=__webpack_require__(7238);var reactRootNodeId="manageSpacesReactRoot";routes_1.default.when("/management/spaces/list",{template:template_html_1.default,controller:function controller($scope,$http,chrome,Private,spacesNavState,spaceSelectorURL){var userProfile=Private(user_profile_1.UserProfileProvider);$scope.$$postDigest(function(){var domNode=document.getElementById(reactRootNodeId);var spacesManager=new spaces_manager_1.SpacesManager($http,chrome,spaceSelectorURL);react_dom_1.render(react_1.default.createElement(spaces_grid_1.SpacesGridPage,{spacesManager:spacesManager,spacesNavState:spacesNavState,userProfile:userProfile}),domNode);$scope.$on("$destroy",function(){domNode&&react_dom_1.unmountComponentAtNode(domNode)})})}});routes_1.default.when("/management/spaces/create",{template:template_html_1.default,controller:function controller($scope,$http,chrome,Private,spacesNavState,spaceSelectorURL){var userProfile=Private(user_profile_1.UserProfileProvider);$scope.$$postDigest(function(){var domNode=document.getElementById(reactRootNodeId);var spacesManager=new spaces_manager_1.SpacesManager($http,chrome,spaceSelectorURL);react_dom_1.render(react_1.default.createElement(edit_space_1.ManageSpacePage,{spacesManager:spacesManager,spacesNavState:spacesNavState,userProfile:userProfile}),domNode);$scope.$on("$destroy",function(){domNode&&react_dom_1.unmountComponentAtNode(domNode)})})}});routes_1.default.when("/management/spaces/edit",{redirectTo:"/management/spaces/list"});routes_1.default.when("/management/spaces/edit/:spaceId",{template:template_html_1.default,controller:function controller($scope,$http,$route,chrome,Private,spacesNavState,spaceSelectorURL){var userProfile=Private(user_profile_1.UserProfileProvider);$scope.$$postDigest(function(){var domNode=document.getElementById(reactRootNodeId);var spaceId=$route.current.params.spaceId;var spacesManager=new spaces_manager_1.SpacesManager($http,chrome,spaceSelectorURL);react_dom_1.render(react_1.default.createElement(edit_space_1.ManageSpacePage,{spaceId:spaceId,spacesManager:spacesManager,spacesNavState:spacesNavState,userProfile:userProfile}),domNode);$scope.$on("$destroy",function(){domNode&&react_dom_1.unmountComponentAtNode(domNode)})})}})},7229:function(module,exports){module.exports='<kbn-management-app section="kibana" omit-breadcrumb-pages="[\'edit\']">\n  <div id="manageSpacesReactRoot" />\n</kbn-management-app>\n'},7230:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var manage_space_page_1=__webpack_require__(7231);exports.ManageSpacePage=manage_space_page_1.ManageSpacePage},7231:function(module,exports,__webpack_require__){"use strict";var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var eui_1=__webpack_require__(2);var react_1=tslib_1.__importStar(__webpack_require__(0));var notify_1=__webpack_require__(11);var common_1=__webpack_require__(730);var components_1=__webpack_require__(329);var secure_space_message_1=__webpack_require__(2245);var unauthorized_prompt_1=__webpack_require__(2246);var lib_1=__webpack_require__(7233);var validate_space_1=__webpack_require__(2248);var customize_space_avatar_1=__webpack_require__(7234);var delete_spaces_button_1=__webpack_require__(7235);var reserved_space_badge_1=__webpack_require__(7236);var space_identifier_1=__webpack_require__(7237);var ManageSpacePage=function(_react_1$Component){_inherits(ManageSpacePage,_react_1$Component);function ManageSpacePage(props){_classCallCheck(this,ManageSpacePage);var _this=_possibleConstructorReturn(this,(ManageSpacePage.__proto__||Object.getPrototypeOf(ManageSpacePage)).call(this,props));_this.getLoadingIndicator=function(){return react_1.default.createElement("div",null,react_1.default.createElement(eui_1.EuiLoadingSpinner,{size:"xl"})," ",react_1.default.createElement(eui_1.EuiTitle,null,react_1.default.createElement("h1",null,"Loading...")))};_this.getForm=function(){var userProfile=_this.props.userProfile;if(!userProfile.hasCapability("manageSpaces"))return react_1.default.createElement(unauthorized_prompt_1.UnauthorizedPrompt,null);var _this$state$space=_this.state.space,_this$state$space$nam=_this$state$space.name,name=void 0===_this$state$space$nam?"":_this$state$space$nam,_this$state$space$des=_this$state$space.description,description=void 0===_this$state$space$des?"":_this$state$space$des;return react_1.default.createElement(eui_1.EuiForm,null,_this.getFormHeading(),react_1.default.createElement(eui_1.EuiSpacer,null),react_1.default.createElement(eui_1.EuiFormRow,Object.assign({label:"Name"},_this.validator.validateSpaceName(_this.state.space),{fullWidth:true}),react_1.default.createElement(eui_1.EuiFieldText,{name:"name",placeholder:"Awesome space",value:name,onChange:_this.onNameChange,fullWidth:true})),name&&react_1.default.createElement(react_1.Fragment,null,react_1.default.createElement(eui_1.EuiFlexGroup,{responsive:false},react_1.default.createElement(eui_1.EuiFlexItem,{grow:false},react_1.default.createElement(eui_1.EuiFormRow,{label:"Avatar"},react_1.default.createElement(components_1.SpaceAvatar,{space:_this.state.space,size:"l"}))),react_1.default.createElement(customize_space_avatar_1.CustomizeSpaceAvatar,{space:_this.state.space,onChange:_this.onAvatarChange})),react_1.default.createElement(eui_1.EuiSpacer,null)),_this.state.space&&common_1.isReservedSpace(_this.state.space)?null:react_1.default.createElement(react_1.Fragment,null,react_1.default.createElement(space_identifier_1.SpaceIdentifier,{space:_this.state.space,editable:!_this.editingExistingSpace(),onChange:_this.onSpaceIdentifierChange,validator:_this.validator})),react_1.default.createElement(eui_1.EuiFormRow,Object.assign({label:"Description (optional)"},_this.validator.validateSpaceDescription(_this.state.space),{fullWidth:true}),react_1.default.createElement(eui_1.EuiFieldText,{name:"description",placeholder:"This is where the magic happens",value:description,onChange:_this.onDescriptionChange,fullWidth:true})),react_1.default.createElement(eui_1.EuiHorizontalRule,null),_this.getFormButtons())};_this.getFormHeading=function(){return react_1.default.createElement(eui_1.EuiTitle,{size:"l"},react_1.default.createElement("h1",null,_this.getTitle()," ",react_1.default.createElement(reserved_space_badge_1.ReservedSpaceBadge,{space:_this.state.space})))};_this.getTitle=function(){if(_this.editingExistingSpace())return"Edit space";return"Create space"};_this.maybeGetSecureSpacesMessage=function(){if(_this.editingExistingSpace())return react_1.default.createElement(secure_space_message_1.SecureSpaceMessage,{userProfile:_this.props.userProfile});return null};_this.getFormButtons=function(){var saveText=_this.editingExistingSpace()?"Update space":"Create space";return react_1.default.createElement(eui_1.EuiFlexGroup,{responsive:false},react_1.default.createElement(eui_1.EuiFlexItem,{grow:false},react_1.default.createElement(eui_1.EuiButton,{fill:true,onClick:_this.saveSpace,"data-test-subj":"save-space-button"},saveText)),react_1.default.createElement(eui_1.EuiFlexItem,{grow:false},react_1.default.createElement(eui_1.EuiButtonEmpty,{onClick:_this.backToSpacesList,"data-test-subj":"cancel-space-button"},"Cancel")),react_1.default.createElement(eui_1.EuiFlexItem,{grow:true}),_this.getActionButton())};_this.getActionButton=function(){if(_this.state.space&&_this.editingExistingSpace()&&!common_1.isReservedSpace(_this.state.space))return react_1.default.createElement(eui_1.EuiFlexItem,{grow:false},react_1.default.createElement(delete_spaces_button_1.DeleteSpacesButton,{"data-test-subj":"delete-space-button",space:_this.state.space,spacesManager:_this.props.spacesManager,spacesNavState:_this.props.spacesNavState,onDelete:_this.backToSpacesList}));return null};_this.onNameChange=function(e){if(!_this.state.space)return;var canUpdateId=!_this.editingExistingSpace();var id=_this.state.space.id;canUpdateId&&(id=lib_1.toSpaceIdentifier(e.target.value));_this.setState({space:_extends({},_this.state.space,{name:e.target.value,id:id})})};_this.onDescriptionChange=function(e){_this.setState({space:_extends({},_this.state.space,{description:e.target.value})})};_this.onSpaceIdentifierChange=function(e){_this.setState({space:_extends({},_this.state.space,{id:lib_1.toSpaceIdentifier(e.target.value)})})};_this.onAvatarChange=function(space){_this.setState({space:space})};_this.saveSpace=function(){_this.validator.enableValidation();var result=_this.validator.validateForSave(_this.state.space);if(result.isInvalid){_this.setState({formError:result});return}_this.performSave()};_this.performSave=function(){if(!_this.state.space)return;var name=_this.state.space.name||"";var _this$state$space2=_this.state.space,_this$state$space2$id=_this$state$space2.id,id=void 0===_this$state$space2$id?lib_1.toSpaceIdentifier(name):_this$state$space2$id,description=_this$state$space2.description,initials=_this$state$space2.initials,color=_this$state$space2.color;var params={name:name,id:id,description:description,initials:initials,color:color};var action=void 0;action=_this.editingExistingSpace()?_this.props.spacesManager.updateSpace(params):_this.props.spacesManager.createSpace(params);action.then(function(){_this.props.spacesNavState.refreshSpacesList();notify_1.toastNotifications.addSuccess("'"+name+"' was saved");window.location.hash="#/management/spaces/list"}).catch(function(error){var _ref=error.data||{},_ref$message=_ref.message,message=void 0===_ref$message?"":_ref$message;notify_1.toastNotifications.addDanger("Error saving space: "+message)})};_this.backToSpacesList=function(){window.location.hash="#/management/spaces/list"};_this.editingExistingSpace=function(){return!!_this.props.spaceId};_this.validator=new validate_space_1.SpaceValidator({shouldValidate:false});_this.state={isLoading:true,space:{}};return _this}_createClass(ManageSpacePage,[{key:"componentDidMount",value:function componentDidMount(){var _this2=this;var _props=this.props,spaceId=_props.spaceId,spacesManager=_props.spacesManager;spaceId?spacesManager.getSpace(spaceId).then(function(result){result.data&&_this2.setState({space:result.data,isLoading:false})}).catch(function(error){var _ref2=error.data||{},_ref2$message=_ref2.message,message=void 0===_ref2$message?"":_ref2$message;notify_1.toastNotifications.addDanger("Error loading space: "+message);_this2.backToSpacesList()}):this.setState({isLoading:false})}},{key:"render",value:function render(){var content=this.state.isLoading?this.getLoadingIndicator():this.getForm();return react_1.default.createElement(eui_1.EuiPage,{className:"spcManagePage"},react_1.default.createElement(eui_1.EuiPageBody,null,react_1.default.createElement(eui_1.EuiPageContent,{className:"spcManagePage__content"},react_1.default.createElement(eui_1.EuiPageContentBody,null,content)),this.maybeGetSecureSpacesMessage()))}}]);return ManageSpacePage}(react_1.Component);exports.ManageSpacePage=ManageSpacePage},7232:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var eui_1=__webpack_require__(2);var react_1=tslib_1.__importStar(__webpack_require__(0));exports.SecureSpaceMessage=function(props){if(props.userProfile.hasCapability("manageSecurity"))return react_1.default.createElement(react_1.Fragment,null,react_1.default.createElement(eui_1.EuiSpacer,null),react_1.default.createElement(eui_1.EuiText,{className:"eui-textCenter"},react_1.default.createElement("p",null,"Want to assign a role to a space? Go to Management and select"," ",react_1.default.createElement(eui_1.EuiLink,{href:"#/management/security/roles"},"Roles"),".")));return null}},7233:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var space_identifier_utils_1=__webpack_require__(2247);exports.toSpaceIdentifier=space_identifier_utils_1.toSpaceIdentifier;exports.isValidSpaceIdentifier=space_identifier_utils_1.isValidSpaceIdentifier;var validate_space_1=__webpack_require__(2248);exports.SpaceValidator=validate_space_1.SpaceValidator},7234:function(module,exports,__webpack_require__){"use strict";var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var eui_1=__webpack_require__(2);var react_1=tslib_1.__importStar(__webpack_require__(0));var constants_1=__webpack_require__(585);var space_attributes_1=__webpack_require__(994);var CustomizeSpaceAvatar=function(_react_1$Component){_inherits(CustomizeSpaceAvatar,_react_1$Component);function CustomizeSpaceAvatar(props){_classCallCheck(this,CustomizeSpaceAvatar);var _this=_possibleConstructorReturn(this,(CustomizeSpaceAvatar.__proto__||Object.getPrototypeOf(CustomizeSpaceAvatar)).call(this,props));_this.initialsRef=null;_this.getCustomizeFields=function(){var space=_this.props.space;var _this$state=_this.state,initialsHasFocus=_this$state.initialsHasFocus,pendingInitials=_this$state.pendingInitials;return react_1.default.createElement(react_1.Fragment,null,react_1.default.createElement(eui_1.EuiFlexItem,{grow:false},react_1.default.createElement(eui_1.EuiFormRow,{label:"Initials (2 max)"},react_1.default.createElement(eui_1.EuiFieldText,{inputRef:_this.initialsInputRef,name:"spaceInitials",value:initialsHasFocus?pendingInitials||"":space_attributes_1.getSpaceInitials(space),onChange:_this.onInitialsChange}))),react_1.default.createElement(eui_1.EuiFlexItem,{grow:true},react_1.default.createElement(eui_1.EuiFormRow,{label:"Color"},react_1.default.createElement(eui_1.EuiColorPicker,{color:space_attributes_1.getSpaceColor(space),onChange:_this.onColorChange}))))};_this.initialsInputRef=function(ref){if(ref){_this.initialsRef=ref;_this.initialsRef.addEventListener("focus",_this.onInitialsFocus);_this.initialsRef.addEventListener("blur",_this.onInitialsBlur)}else if(_this.initialsRef){_this.initialsRef.removeEventListener("focus",_this.onInitialsFocus);_this.initialsRef.removeEventListener("blur",_this.onInitialsBlur);_this.initialsRef=null}};_this.onInitialsFocus=function(){_this.setState({initialsHasFocus:true,pendingInitials:space_attributes_1.getSpaceInitials(_this.props.space)})};_this.onInitialsBlur=function(){_this.setState({initialsHasFocus:false,pendingInitials:null})};_this.getCustomizeLink=function(){return react_1.default.createElement(eui_1.EuiFlexItem,{grow:false},react_1.default.createElement(eui_1.EuiFormRow,{hasEmptyLabelSpace:true},react_1.default.createElement(eui_1.EuiLink,{name:"customize_space_link",onClick:_this.showFields},"Customize")))};_this.showFields=function(){_this.setState({expanded:true})};_this.onInitialsChange=function(e){var initials=(e.target.value||"").substring(0,constants_1.MAX_SPACE_INITIALS);_this.setState({pendingInitials:initials});_this.props.onChange(_extends({},_this.props.space,{initials:initials}))};_this.onColorChange=function(color){_this.props.onChange(_extends({},_this.props.space,{color:color}))};_this.state={expanded:false,initialsHasFocus:false};return _this}_createClass(CustomizeSpaceAvatar,[{key:"render",value:function render(){return this.state.expanded?this.getCustomizeFields():this.getCustomizeLink()}}]);return CustomizeSpaceAvatar}(react_1.Component);exports.CustomizeSpaceAvatar=CustomizeSpaceAvatar},7235:function(module,exports,__webpack_require__){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var eui_1=__webpack_require__(2);var react_1=tslib_1.__importStar(__webpack_require__(0));var notify_1=__webpack_require__(11);var confirm_delete_modal_1=__webpack_require__(2249);var DeleteSpacesButton=function(_react_1$Component){_inherits(DeleteSpacesButton,_react_1$Component);function DeleteSpacesButton(){var _this2=this;_classCallCheck(this,DeleteSpacesButton);var _this=_possibleConstructorReturn(this,(DeleteSpacesButton.__proto__||Object.getPrototypeOf(DeleteSpacesButton)).apply(this,arguments));_this.state={showConfirmDeleteModal:false,showConfirmRedirectModal:false};_this.onDeleteClick=function(){_this.setState({showConfirmDeleteModal:true})};_this.getConfirmDeleteModal=function(){if(!_this.state.showConfirmDeleteModal)return null;var _this$props=_this.props,spacesNavState=_this$props.spacesNavState,spacesManager=_this$props.spacesManager;return react_1.default.createElement(confirm_delete_modal_1.ConfirmDeleteModal,{space:_this.props.space,spacesNavState:spacesNavState,spacesManager:spacesManager,onCancel:function onCancel(){_this.setState({showConfirmDeleteModal:false})},onConfirm:_this.deleteSpaces})};_this.deleteSpaces=_asyncToGenerator(regeneratorRuntime.mark(function _callee(){var _this$props2,spacesManager,space,spacesNavState,_ref2,_ref2$message,errorMessage,message;return regeneratorRuntime.wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_this$props2=_this.props,spacesManager=_this$props2.spacesManager,space=_this$props2.space,spacesNavState=_this$props2.spacesNavState;_context.prev=1;_context.next=4;return spacesManager.deleteSpace(space);case 4:_context.next=10;break;case 6:_context.prev=6;_context.t0=_context["catch"](1);_ref2=_context.t0.data||{},_ref2$message=_ref2.message,errorMessage=void 0===_ref2$message?"":_ref2$message;notify_1.toastNotifications.addDanger("Error deleting space: "+errorMessage);case 10:_this.setState({showConfirmDeleteModal:false});message='Deleted "'+space.name+'" space.';notify_1.toastNotifications.addSuccess(message);_this.props.onDelete&&_this.props.onDelete();spacesNavState.refreshSpacesList();case 15:case"end":return _context.stop()}},_callee,_this2,[[1,6]])}));return _this}_createClass(DeleteSpacesButton,[{key:"render",value:function render(){var buttonText="Delete space";var ButtonComponent=eui_1.EuiButton;var extraProps={};if("icon"===this.props.style){ButtonComponent=eui_1.EuiButtonIcon;extraProps.iconType="trash"}return react_1.default.createElement(react_1.Fragment,null,react_1.default.createElement(ButtonComponent,Object.assign({color:"danger",onClick:this.onDeleteClick,"aria-label":"Delete this space"},extraProps),buttonText),this.getConfirmDeleteModal())}}]);return DeleteSpacesButton}(react_1.Component);exports.DeleteSpacesButton=DeleteSpacesButton},7236:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var react_1=tslib_1.__importDefault(__webpack_require__(0));var eui_1=__webpack_require__(2);var common_1=__webpack_require__(730);exports.ReservedSpaceBadge=function(props){var space=props.space;if(space&&common_1.isReservedSpace(space))return react_1.default.createElement(eui_1.EuiToolTip,{content:"Reserved spaces are built-in and can only be partially modified."},react_1.default.createElement(eui_1.EuiIcon,{style:{verticalAlign:"super"},type:"lock"}));return null}},7237:function(module,exports,__webpack_require__){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var eui_1=__webpack_require__(2);var react_1=tslib_1.__importStar(__webpack_require__(0));var SpaceIdentifier=function(_react_1$Component){_inherits(SpaceIdentifier,_react_1$Component);function SpaceIdentifier(props){_classCallCheck(this,SpaceIdentifier);var _this=_possibleConstructorReturn(this,(SpaceIdentifier.__proto__||Object.getPrototypeOf(SpaceIdentifier)).call(this,props));_this.textFieldRef=null;_this.getLabel=function(){if(!_this.props.editable)return react_1.default.createElement("p",null,"URL identifier");var editLinkText=_this.state.editing?"[stop editing]":"[edit]";return react_1.default.createElement("p",null,"URL identifier ",react_1.default.createElement(eui_1.EuiLink,{onClick:_this.onEditClick},editLinkText))};_this.getHelpText=function(){return react_1.default.createElement("p",null,"If the identifier is ",react_1.default.createElement("strong",null,"engineering"),", the Kibana URL is ",react_1.default.createElement("br",null)," https://my-kibana.example",react_1.default.createElement("strong",null,"/s/engineering/"),"app/kibana.")};_this.onEditClick=function(){_this.setState({editing:!_this.state.editing},function(){_this.textFieldRef&&_this.state.editing&&_this.textFieldRef.focus()})};_this.onChange=function(e){if(!_this.state.editing)return;_this.props.onChange(e)};_this.state={editing:false};return _this}_createClass(SpaceIdentifier,[{key:"render",value:function render(){var _this2=this;var _props$space$id=this.props.space.id,id=void 0===_props$space$id?"":_props$space$id;return react_1.default.createElement(react_1.Fragment,null,react_1.default.createElement(eui_1.EuiFormRow,Object.assign({label:this.getLabel(),helpText:this.getHelpText()},this.props.validator.validateURLIdentifier(this.props.space),{fullWidth:true}),react_1.default.createElement(eui_1.EuiFieldText,{readOnly:!this.state.editing,placeholder:this.state.editing||!this.props.editable?void 0:"The URL identifier is generated from the space name.",value:id,onChange:this.onChange,inputRef:function inputRef(ref){return _this2.textFieldRef=ref},fullWidth:true})))}}]);return SpaceIdentifier}(react_1.Component);exports.SpaceIdentifier=SpaceIdentifier},7238:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var spaces_grid_page_1=__webpack_require__(7239);exports.SpacesGridPage=spaces_grid_page_1.SpacesGridPage},7239:function(module,exports,__webpack_require__){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var react_1=tslib_1.__importStar(__webpack_require__(0));var eui_1=__webpack_require__(2);var notify_1=__webpack_require__(11);var common_1=__webpack_require__(730);var components_1=__webpack_require__(329);var confirm_delete_modal_1=__webpack_require__(2249);var secure_space_message_1=__webpack_require__(2245);var unauthorized_prompt_1=__webpack_require__(2246);var SpacesGridPage=function(_react_1$Component){_inherits(SpacesGridPage,_react_1$Component);function SpacesGridPage(props){var _this2=this;_classCallCheck(this,SpacesGridPage);var _this=_possibleConstructorReturn(this,(SpacesGridPage.__proto__||Object.getPrototypeOf(SpacesGridPage)).call(this,props));_this.getConfirmDeleteModal=function(){if(!_this.state.showConfirmDeleteModal||!_this.state.selectedSpace)return null;var _this$props=_this.props,spacesNavState=_this$props.spacesNavState,spacesManager=_this$props.spacesManager;return react_1.default.createElement(confirm_delete_modal_1.ConfirmDeleteModal,{space:_this.state.selectedSpace,spacesNavState:spacesNavState,spacesManager:spacesManager,onCancel:function onCancel(){_this.setState({showConfirmDeleteModal:false})},onConfirm:_this.deleteSpace})};_this.deleteSpace=_asyncToGenerator(regeneratorRuntime.mark(function _callee(){var _this$props2,spacesManager,spacesNavState,space,_ref2,_ref2$message,errorMessage,message;return regeneratorRuntime.wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_this$props2=_this.props,spacesManager=_this$props2.spacesManager,spacesNavState=_this$props2.spacesNavState;space=_this.state.selectedSpace;if(space){_context.next=4;break}return _context.abrupt("return");case 4:_context.prev=4;_context.next=7;return spacesManager.deleteSpace(space);case 7:_context.next=13;break;case 9:_context.prev=9;_context.t0=_context["catch"](4);_ref2=_context.t0.data||{},_ref2$message=_ref2.message,errorMessage=void 0===_ref2$message?"":_ref2$message;notify_1.toastNotifications.addDanger("Error deleting space: "+errorMessage);case 13:_this.setState({showConfirmDeleteModal:false});_this.loadGrid();message='Deleted "'+space.name+'" space.';notify_1.toastNotifications.addSuccess(message);spacesNavState.refreshSpacesList();case 18:case"end":return _context.stop()}},_callee,_this2,[[4,9]])}));_this.loadGrid=function(){var spacesManager=_this.props.spacesManager;_this.setState({loading:true,spaces:[]});var setSpaces=function setSpaces(spaces){_this.setState({loading:false,spaces:spaces})};spacesManager.getSpaces().then(function(spaces){setSpaces(spaces)}).catch(function(error){_this.setState({loading:false,error:error})})};_this.onEditSpaceClick=function(space){window.location.hash="#/management/spaces/edit/"+encodeURIComponent(space.id)};_this.onDeleteSpaceClick=function(space){_this.setState({selectedSpace:space,showConfirmDeleteModal:true})};_this.state={spaces:[],loading:true,showConfirmDeleteModal:false,selectedSpace:null,error:null};return _this}_createClass(SpacesGridPage,[{key:"componentDidMount",value:function componentDidMount(){this.loadGrid()}},{key:"render",value:function render(){return react_1.default.createElement(eui_1.EuiPage,{restrictWidth:true,className:"spcGridPage"},react_1.default.createElement(eui_1.EuiPageBody,null,react_1.default.createElement(eui_1.EuiPageContent,{horizontalPosition:"center"},this.getPageContent()),react_1.default.createElement(secure_space_message_1.SecureSpaceMessage,{userProfile:this.props.userProfile})),this.getConfirmDeleteModal())}},{key:"getPageContent",value:function getPageContent(){if(!this.props.userProfile.hasCapability("manageSpaces"))return react_1.default.createElement(unauthorized_prompt_1.UnauthorizedPrompt,null);return react_1.default.createElement(react_1.Fragment,null,react_1.default.createElement(eui_1.EuiFlexGroup,{justifyContent:"spaceBetween"},react_1.default.createElement(eui_1.EuiFlexItem,{grow:false},react_1.default.createElement(eui_1.EuiText,null,react_1.default.createElement("h1",null,"Spaces"))),react_1.default.createElement(eui_1.EuiFlexItem,{grow:false},this.getPrimaryActionButton())),react_1.default.createElement(eui_1.EuiSpacer,{size:"xl"}),react_1.default.createElement(eui_1.EuiInMemoryTable,{itemId:"id",items:this.state.spaces,columns:this.getColumnConfig(),hasActions:true,pagination:true,search:{box:{placeholder:"Search"}},loading:this.state.loading,message:this.state.loading?"loading...":void 0}))}},{key:"getPrimaryActionButton",value:function getPrimaryActionButton(){return react_1.default.createElement(eui_1.EuiButton,{fill:true,onClick:function onClick(){window.location.hash="#/management/spaces/create"}},"Create space")}},{key:"getColumnConfig",value:function getColumnConfig(){var _this3=this;return[{field:"name",name:"",width:"50px",sortable:true,render:function render(value,record){return react_1.default.createElement(eui_1.EuiLink,{onClick:function onClick(){_this3.onEditSpaceClick(record)}},react_1.default.createElement(components_1.SpaceAvatar,{space:record,size:"s"}))}},{field:"name",name:"Space",sortable:true,render:function render(value,record){return react_1.default.createElement(eui_1.EuiLink,{onClick:function onClick(){_this3.onEditSpaceClick(record)}},value)}},{field:"id",name:"Identifier",sortable:true},{field:"description",name:"Description",sortable:true},{name:"Actions",actions:[{name:"Edit",description:"Edit this space.",onClick:this.onEditSpaceClick,type:"icon",icon:"pencil",color:"primary"},{available:function available(record){return!common_1.isReservedSpace(record)},name:"Delete",description:"Delete this space.",onClick:this.onDeleteSpaceClick,type:"icon",icon:"trash",color:"danger"}]}]}}]);return SpacesGridPage}(react_1.Component);exports.SpacesGridPage=SpacesGridPage},7240:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var advanced_settings_subtitle_1=__webpack_require__(7241);exports.AdvancedSettingsSubtitle=advanced_settings_subtitle_1.AdvancedSettingsSubtitle},7241:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var eui_1=__webpack_require__(2);var react_1=tslib_1.__importStar(__webpack_require__(0));exports.AdvancedSettingsSubtitle=function(props){return react_1.default.createElement(react_1.Fragment,null,react_1.default.createElement(eui_1.EuiSpacer,{size:"m"}),react_1.default.createElement(eui_1.EuiCallOut,{color:"primary",iconType:"spacesApp",title:react_1.default.createElement("p",null,"The settings on this page apply to the ",react_1.default.createElement("strong",null,props.space.name)," space, unless otherwise specified.")}))}},7242:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var advanced_settings_title_1=__webpack_require__(7243);exports.AdvancedSettingsTitle=advanced_settings_title_1.AdvancedSettingsTitle},7243:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var eui_1=__webpack_require__(2);var react_1=tslib_1.__importDefault(__webpack_require__(0));var components_1=__webpack_require__(329);exports.AdvancedSettingsTitle=function(props){return react_1.default.createElement(eui_1.EuiFlexGroup,{gutterSize:"s",responsive:false,alignItems:"center"},react_1.default.createElement(eui_1.EuiFlexItem,{grow:false},react_1.default.createElement(components_1.SpaceAvatar,{space:props.space})),react_1.default.createElement(eui_1.EuiFlexItem,{style:{marginLeft:"10px"}},react_1.default.createElement(eui_1.EuiText,null,react_1.default.createElement("h1",{"data-test-subj":"managementSettingsTitle"},"Settings"))))}},7244:function(module,exports,__webpack_require__){"use strict";__webpack_require__(7245);__webpack_require__(7246)},7245:function(module,exports,__webpack_require__){"use strict"},7246:function(module,exports,__webpack_require__){"use strict";var _routes=__webpack_require__(13);var _routes2=_interopRequireDefault(_routes);var _testbed_route=__webpack_require__(7247);var _testbed_route2=_interopRequireDefault(_testbed_route);__webpack_require__(7248);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}_routes2.default.when("/management/elasticsearch/watches/testbed/:data?",{template:_testbed_route2.default,resolve:{data:function data($route){return $route.current.params.data}},controllerAs:"testbedRoute",controller:function TestbedRouteController($injector){_classCallCheck(this,TestbedRouteController);var $route=$injector.get("$route");this.data=$route.current.locals.data}})},7247:function(module,exports){module.exports='<testbed data="testbedRoute.data"></testbed>\n'},7248:function(module,exports,__webpack_require__){"use strict";__webpack_require__(7249)},7249:function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(3);var _testbed=__webpack_require__(7250);var _testbed2=_interopRequireDefault(_testbed);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var app=_modules.uiModules.get("xpack/watcher");app.directive("testbed",function(){return{restrict:"E",template:_testbed2.default,scope:{},bindToController:true,controllerAs:"testbed",controller:function TestbedController(){_classCallCheck(this,TestbedController)}}})},7250:function(module,exports){module.exports='<div class="kuiViewContent">\n  <div class="kuiViewContentItem">\n\n    \x3c!-- All markup within the CONTENT section below can be deleted and replaced with whatever markup you need to   demonstrate your functionality. Nothing need be preserved. --\x3e\n    \x3c!-- CONTENT START --\x3e\n\n    \x3c!-- CONTENT END --\x3e\n\n  </div>\n</div>\n'},7251:function(module,exports,__webpack_require__){"use strict";__webpack_require__(7252)},7252:function(module,exports,__webpack_require__){"use strict";var _routes=__webpack_require__(13);var _routes2=_interopRequireDefault(_routes);__webpack_require__(240);var _notify=__webpack_require__(11);var _watch_detail_route=__webpack_require__(7253);var _watch_detail_route2=_interopRequireDefault(_watch_detail_route);__webpack_require__(647);__webpack_require__(7297);var _constants=__webpack_require__(45);var _update_management_sections=__webpack_require__(1269);__webpack_require__(392);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}_routes2.default.when("/management/elasticsearch/watcher/watches/watch/:id",{redirectTo:"/management/elasticsearch/watcher/watches/watch/:id/status"});_routes2.default.when("/management/elasticsearch/watcher/watches/watch/:id/status",{template:_watch_detail_route2.default,resolve:{watchTabs:function watchTabs($injector){var $route=$injector.get("$route");var watchId=$route.current.params.id;(0,_update_management_sections.updateWatchSections)(watchId)},initialHistoryRange:function initialHistoryRange(){return _constants.WATCH_HISTORY.INITIAL_RANGE},watch:function watch($injector){var $route=$injector.get("$route");var watchService=$injector.get("xpackWatcherWatchService");var kbnUrl=$injector.get("kbnUrl");var watchId=$route.current.params.id;return watchService.loadWatch(watchId).catch(function(err){403!==err.status&&_notify.toastNotifications.addDanger(err.data.message);kbnUrl.redirect("/management/elasticsearch/watcher/watches");return Promise.reject()})},watchHistoryItems:function watchHistoryItems($injector){var $route=$injector.get("$route");var watchService=$injector.get("xpackWatcherWatchService");var kbnUrl=$injector.get("kbnUrl");var watchId=$route.current.params.id;return watchService.loadWatchHistory(watchId,_constants.WATCH_HISTORY.INITIAL_RANGE).catch(function(err){403!==err.status&&_notify.toastNotifications.addDanger(err.data.message);kbnUrl.redirect("/management/elasticsearch/watcher/watches");return Promise.reject()})},checkLicense:function checkLicense($injector){var licenseService=$injector.get("xpackWatcherLicenseService");return licenseService.checkValidity()}},controllerAs:"watchDetailRoute",controller:function WatchDetailRouteController($injector){_classCallCheck(this,WatchDetailRouteController);var $route=$injector.get("$route");this.initialHistoryRange=$route.current.locals.initialHistoryRange;this.watch=$route.current.locals.watch;this.watchHistoryItems=$route.current.locals.watchHistoryItems}})},7253:function(module,exports){module.exports='<watch-detail\n  xpack-watch="watchDetailRoute.watch"\n  initial-history-range="watchDetailRoute.initialHistoryRange"\n  watch-history-items="watchDetailRoute.watchHistoryItems"\n></watch-detail>\n'},7254:function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(3);var _watch_service=__webpack_require__(7255);_modules.uiModules.get("xpack/watcher").factory("xpackWatcherWatchService",function($injector){var $http=$injector.get("$http");return new _watch_service.WatchService($http)})},7255:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.WatchService=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _chrome=__webpack_require__(9);var _chrome2=_interopRequireDefault(_chrome);var _lodash=__webpack_require__(1);var _constants=__webpack_require__(45);var _execute_details=__webpack_require__(2251);var _watch=__webpack_require__(2252);var _watch_status=__webpack_require__(1265);var _watch_history_item=__webpack_require__(2255);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}exports.WatchService=function(){function WatchService($http){_classCallCheck(this,WatchService);this.$http=$http;this.basePath=_chrome2.default.addBasePath(_constants.ROUTES.API_ROOT)}_createClass(WatchService,[{key:"newWatch",value:function newWatch(){var watchType=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_constants.WATCH_TYPES.JSON;var WatchType=_watch.Watch.getWatchTypes()[watchType];return new WatchType}},{key:"loadWatch",value:function loadWatch(id){return this.$http.get(this.basePath+"/watch/"+id).then(function(response){return _watch.Watch.fromUpstreamJson(response.data.watch)})}},{key:"loadWatchHistory",value:function loadWatchHistory(watchId,startTime){var url=this.basePath+"/watch/"+watchId+"/history";startTime&&(url+="?startTime="+startTime);return this.$http.get(url).then(function(response){return response.data.watchHistoryItems}).then(function(watchHistoryItems){return watchHistoryItems.map(_watch_history_item.WatchHistoryItem.fromUpstreamJson)})}},{key:"saveWatch",value:function saveWatch(watchModel){var url=this.basePath+"/watch/"+watchModel.id;return this.$http.put(url,watchModel.upstreamJson).catch(function(e){throw e.data.message})}},{key:"deleteWatch",value:function deleteWatch(id){return this.$http.delete(this.basePath+"/watch/"+id).catch(function(e){throw e.data.message})}},{key:"deactivateWatch",value:function deactivateWatch(id){var url=this.basePath+"/watch/"+id+"/deactivate";return this.$http.put(url).then(function(response){return _watch_status.WatchStatus.fromUpstreamJson(response.data.watchStatus)}).catch(function(e){throw e.data.message})}},{key:"activateWatch",value:function activateWatch(id){var url=this.basePath+"/watch/"+id+"/activate";return this.$http.put(url).then(function(response){return _watch_status.WatchStatus.fromUpstreamJson(response.data.watchStatus)}).catch(function(e){throw e.data.message})}},{key:"acknowledgeWatchAction",value:function acknowledgeWatchAction(watchId,actionId){var url=this.basePath+"/watch/"+watchId+"/action/"+actionId+"/acknowledge";return this.$http.put(url).then(function(response){return _watch_status.WatchStatus.fromUpstreamJson(response.data.watchStatus)}).catch(function(e){throw e.data.message})}},{key:"executeWatch",value:function executeWatch(executeDetailsModel,watchModel){return this.$http.put(this.basePath+"/watch/execute",{executeDetails:executeDetailsModel.upstreamJson,watch:watchModel.upstreamJson}).then(function(response){return _watch_history_item.WatchHistoryItem.fromUpstreamJson(response.data.watchHistoryItem)}).catch(function(e){throw e.data.message})}},{key:"simulateWatchAction",value:function simulateWatchAction(watchModel,actionModel){var actionModes=(0,_lodash.reduce)(watchModel.actions,function(acc,action){acc[action.id]=action===actionModel?_constants.ACTION_MODES.FORCE_EXECUTE:_constants.ACTION_MODES.SKIP;return acc},{});var executeDetails=new _execute_details.ExecuteDetails({triggeredTime:"now",scheduledTime:"now",ignoreCondition:true,actionModes:actionModes,recordExecution:false});return this.executeWatch(executeDetails,watchModel)}},{key:"visualizeWatch",value:function visualizeWatch(watchModel,visualizeOptions){return this.$http.post(this.basePath+"/watch/visualize",{watch:watchModel.upstreamJson,options:visualizeOptions.upstreamJson}).then(function(response){return response.data}).catch(function(e){throw e.data.message})}}]);return WatchService}()},7256:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ACTION_MODES={SIMULATE:"simulate",FORCE_SIMULATE:"force_simulate",EXECUTE:"execute",FORCE_EXECUTE:"force_execute",SKIP:"skip"}},7257:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ACTION_STATES=void 0;var _i18n=__webpack_require__(18);exports.ACTION_STATES={OK:_i18n.i18n.translate("xpack.watcher.constants.actionStates.okStateText",{defaultMessage:"OK"}),ACKNOWLEDGED:_i18n.i18n.translate("xpack.watcher.constants.actionStates.acknowledgedStateText",{defaultMessage:"Acked"}),THROTTLED:_i18n.i18n.translate("xpack.watcher.constants.actionStates.throttledStateText",{defaultMessage:"Throttled"}),FIRING:_i18n.i18n.translate("xpack.watcher.constants.actionStates.firingStateText",{defaultMessage:"Firing"}),ERROR:_i18n.i18n.translate("xpack.watcher.constants.actionStates.errorStateText",{defaultMessage:"Error"})}},7258:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ACTION_TYPES={EMAIL:"email",WEBHOOK:"webhook",INDEX:"index",LOGGING:"logging",HIPCHAT:"hipchat",SLACK:"slack",JIRA:"jira",PAGERDUTY:"pagerduty",UNKNOWN:"unknown/invalid"}},7259:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.AGG_TYPES={COUNT:"count",AVERAGE:"avg",SUM:"sum",MIN:"min",MAX:"max"}},7260:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.COMPARATORS={GREATER_THAN:">",LESS_THAN:"<"}},7261:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ES_SCROLL_SETTINGS={KEEPALIVE:"30s",PAGE_SIZE:100}},7262:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.INDEX_NAMES={WATCHES:".watches",WATCHER_HISTORY:".watcher-history-*"}},7263:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.LISTS={NEW_ITEMS_HIGHLIGHT_DURATION:1e3}},7264:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.PAGINATION={PAGE_SIZE:20}},7265:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.PLUGIN={ID:"watcher"}},7266:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var SIXTY_SECONDS=6e4;exports.REFRESH_INTERVALS={WATCH_LIST:SIXTY_SECONDS,WATCH_HISTORY:SIXTY_SECONDS,WATCH_VISUALIZATION:SIXTY_SECONDS}},7267:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ROUTES={API_ROOT:"/api/watcher"}},7268:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.SORT_ORDERS={ASCENDING:"asc",DESCENDING:"desc"}},7269:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.WATCH_STATE_COMMENTS=void 0;var _i18n=__webpack_require__(18);exports.WATCH_STATE_COMMENTS={OK:"",PARTIALLY_THROTTLED:_i18n.i18n.translate("xpack.watcher.constants.watchStateComments.partiallyThrottledStateCommentText",{defaultMessage:"Partially Throttled"}),THROTTLED:_i18n.i18n.translate("xpack.watcher.constants.watchStateComments.throttledStateCommentText",{defaultMessage:"Throttled"}),PARTIALLY_ACKNOWLEDGED:_i18n.i18n.translate("xpack.watcher.constants.watchStateComments.partiallyAcknowledgedStateCommentText",{defaultMessage:"Partially Acked"}),ACKNOWLEDGED:_i18n.i18n.translate("xpack.watcher.constants.watchStateComments.acknowledgedStateCommentText",{defaultMessage:"Acked"}),FAILING:_i18n.i18n.translate("xpack.watcher.constants.watchStateComments.executionFailingStateCommentText",{defaultMessage:"Execution Failing"})}},7270:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.WATCH_HISTORY={INITIAL_RANGE:"now-1h"}},7271:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.WATCH_STATES=void 0;var _i18n=__webpack_require__(18);exports.WATCH_STATES={DISABLED:_i18n.i18n.translate("xpack.watcher.constants.watchStates.disabledStateText",{defaultMessage:"Disabled"}),OK:_i18n.i18n.translate("xpack.watcher.constants.watchStates.okStateText",{defaultMessage:"OK"}),FIRING:_i18n.i18n.translate("xpack.watcher.constants.watchStates.firingStateText",{defaultMessage:"Firing"}),ERROR:_i18n.i18n.translate("xpack.watcher.constants.watchStates.errorStateText",{defaultMessage:"Error!"})}},7272:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.WATCH_TYPES={JSON:"json",THRESHOLD:"threshold",MONITORING:"monitoring"}},7273:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}exports.ExecuteDetails=function(){function ExecuteDetails(){var props=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,ExecuteDetails);this.triggeredTime=props.triggeredTime;this.scheduledTime=props.scheduledTime;this.ignoreCondition=props.ignoreCondition;this.alternativeInput=props.alternativeInput;this.actionModes=props.actionModes;this.recordExecution=props.recordExecution}_createClass(ExecuteDetails,[{key:"upstreamJson",get:function get(){var triggerData={triggeredTime:this.triggeredTime,scheduledTime:this.scheduledTime};return{triggerData:triggerData,ignoreCondition:this.ignoreCondition,alternativeInput:this.alternativeInput,actionModes:this.actionModes,recordExecution:this.recordExecution}}}]);return ExecuteDetails}()},7274:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Watch=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _lodash=__webpack_require__(1);var _constants=__webpack_require__(45);var _json_watch=__webpack_require__(7275);var _threshold_watch=__webpack_require__(7292);var _monitoring_watch=__webpack_require__(7295);function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var WatchTypes={};(0,_lodash.set)(WatchTypes,_constants.WATCH_TYPES.JSON,_json_watch.JsonWatch);(0,_lodash.set)(WatchTypes,_constants.WATCH_TYPES.THRESHOLD,_threshold_watch.ThresholdWatch);(0,_lodash.set)(WatchTypes,_constants.WATCH_TYPES.MONITORING,_monitoring_watch.MonitoringWatch);var Watch=exports.Watch=function(){function Watch(){_classCallCheck(this,Watch)}_createClass(Watch,null,[{key:"fromUpstreamJson",value:function fromUpstreamJson(upstreamWatch){var type=(0,_lodash.get)(upstreamWatch,"type");var WatchType=WatchTypes[type];Object.assign(upstreamWatch,{isNew:false});return WatchType.fromUpstreamJson(upstreamWatch)}}]);return Watch}();Watch.getWatchTypes=function(){return WatchTypes}},7275:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.JsonWatch=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _get=function get(object,property,receiver){null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0===desc){var parent=Object.getPrototypeOf(object);return null===parent?void 0:get(parent,property,receiver)}if("value"in desc)return desc.value;var getter=desc.get;if(void 0===getter)return;return getter.call(receiver)};var _lodash=__webpack_require__(1);var _base_watch=__webpack_require__(1264);var _constants=__webpack_require__(45);var _default_watch=__webpack_require__(7291);var _default_watch2=_interopRequireDefault(_default_watch);var _i18n=__webpack_require__(18);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var JsonWatch=exports.JsonWatch=function(_BaseWatch){_inherits(JsonWatch,_BaseWatch);function JsonWatch(){var props=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,JsonWatch);props.type=_constants.WATCH_TYPES.JSON;var _this=_possibleConstructorReturn(this,(JsonWatch.__proto__||Object.getPrototypeOf(JsonWatch)).call(this,props));_this.watch=(0,_lodash.get)(props,"watch",_default_watch2.default);return _this}_createClass(JsonWatch,[{key:"upstreamJson",get:function get(){var result=_get(JsonWatch.prototype.__proto__||Object.getPrototypeOf(JsonWatch.prototype),"upstreamJson",this);Object.assign(result,{watch:this.watch});return result}}],[{key:"fromUpstreamJson",value:function fromUpstreamJson(upstreamWatch){return new JsonWatch(upstreamWatch)}}]);return JsonWatch}(_base_watch.BaseWatch);JsonWatch.defaultWatchJson=_default_watch2.default;JsonWatch.typeName=_i18n.i18n.translate("xpack.watcher.models.jsonWatch.typeName",{defaultMessage:"Advanced Watch"});JsonWatch.iconClass="";JsonWatch.selectMessage=_i18n.i18n.translate("xpack.watcher.models.jsonWatch.selectMessageText",{defaultMessage:"Set up a custom watch in raw JSON."});JsonWatch.isCreatable=true;JsonWatch.selectSortOrder=100},7276:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _get_search_value=__webpack_require__(7277);Object.defineProperty(exports,"getSearchValue",{enumerable:true,get:function get(){return _get_search_value.getSearchValue}})},7277:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getSearchValue=getSearchValue;var _lodash=__webpack_require__(1);function getSearchValue(obj,fields){return(0,_lodash.values)((0,_lodash.pick)(obj,fields)).join("\n")}},7278:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Action=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _lodash=__webpack_require__(1);var _constants=__webpack_require__(45);var _email_action=__webpack_require__(7279);var _logging_action=__webpack_require__(7280);var _slack_action=__webpack_require__(7281);var _unknown_action=__webpack_require__(7282);function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var ActionTypes={};(0,_lodash.set)(ActionTypes,_constants.ACTION_TYPES.EMAIL,_email_action.EmailAction);(0,_lodash.set)(ActionTypes,_constants.ACTION_TYPES.LOGGING,_logging_action.LoggingAction);(0,_lodash.set)(ActionTypes,_constants.ACTION_TYPES.SLACK,_slack_action.SlackAction);var Action=exports.Action=function(){function Action(){_classCallCheck(this,Action)}_createClass(Action,null,[{key:"fromUpstreamJson",value:function fromUpstreamJson(upstreamAction){var type=(0,_lodash.get)(upstreamAction,"type");var ActionType=ActionTypes[type]||_unknown_action.UnknownAction;return ActionType.fromUpstreamJson(upstreamAction)}}]);return Action}();Action.getActionTypes=function(){return ActionTypes}},7279:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.EmailAction=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _get=function get(object,property,receiver){null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0===desc){var parent=Object.getPrototypeOf(object);return null===parent?void 0:get(parent,property,receiver)}if("value"in desc)return desc.value;var getter=desc.get;if(void 0===getter)return;return getter.call(receiver)};var _lodash=__webpack_require__(1);var _base_action=__webpack_require__(851);var _i18n=__webpack_require__(18);function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var EmailAction=exports.EmailAction=function(_BaseAction){_inherits(EmailAction,_BaseAction);function EmailAction(){var props=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,EmailAction);var _this=_possibleConstructorReturn(this,(EmailAction.__proto__||Object.getPrototypeOf(EmailAction)).call(this,props));var toArray=(0,_lodash.get)(props,"to",[]);_this.to=(0,_lodash.isArray)(toArray)?toArray:[toArray];_this.subject=(0,_lodash.get)(props,"subject","");_this.body=(0,_lodash.get)(props,"body","");return _this}_createClass(EmailAction,[{key:"upstreamJson",get:function get(){var result=_get(EmailAction.prototype.__proto__||Object.getPrototypeOf(EmailAction.prototype),"upstreamJson",this);Object.assign(result,{to:this.to,subject:this.subject,body:this.body});return result}},{key:"description",get:function get(){var toList=this.to.join(", ");var subject=this.subject||"";return _i18n.i18n.translate("xpack.watcher.models.emailAction.description",{defaultMessage:'"{subject}" will be sent to {toList}',values:{subject:subject,toList:toList}})}},{key:"simulateMessage",get:function get(){var toList=this.to.join(", ");return _i18n.i18n.translate("xpack.watcher.models.emailAction.simulateMessage",{defaultMessage:"Sample e-mail sent to {toList}",values:{toList:toList}})}},{key:"simulateFailMessage",get:function get(){var toList=this.to.join(", ");return _i18n.i18n.translate("xpack.watcher.models.emailAction.simulateFailMessage",{defaultMessage:"Failed to send e-mail to {toList}.",values:{toList:toList}})}}],[{key:"fromUpstreamJson",value:function fromUpstreamJson(upstreamAction){return new EmailAction(upstreamAction)}}]);return EmailAction}(_base_action.BaseAction);EmailAction.typeName=_i18n.i18n.translate("xpack.watcher.models.emailAction.typeName",{defaultMessage:"E-mail"});EmailAction.iconClass="kuiIcon fa-envelope-o";EmailAction.template="<watch-email-action></watch-email-action>";EmailAction.selectMessage=_i18n.i18n.translate("xpack.watcher.models.emailAction.selectMessageText",{defaultMessage:"Send out an e-mail from your server."});EmailAction.simulatePrompt=_i18n.i18n.translate("xpack.watcher.models.emailAction.simulateButtonLabel",{defaultMessage:"Test fire an e-mail now"})},7280:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.LoggingAction=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _get=function get(object,property,receiver){null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0===desc){var parent=Object.getPrototypeOf(object);return null===parent?void 0:get(parent,property,receiver)}if("value"in desc)return desc.value;var getter=desc.get;if(void 0===getter)return;return getter.call(receiver)};var _lodash=__webpack_require__(1);var _base_action=__webpack_require__(851);var _i18n=__webpack_require__(18);function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var LoggingAction=exports.LoggingAction=function(_BaseAction){_inherits(LoggingAction,_BaseAction);function LoggingAction(){var props=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,LoggingAction);var _this=_possibleConstructorReturn(this,(LoggingAction.__proto__||Object.getPrototypeOf(LoggingAction)).call(this,props));_this.text=(0,_lodash.get)(props,"text","");return _this}_createClass(LoggingAction,[{key:"upstreamJson",get:function get(){var result=_get(LoggingAction.prototype.__proto__||Object.getPrototypeOf(LoggingAction.prototype),"upstreamJson",this);Object.assign(result,{text:this.text});return result}},{key:"description",get:function get(){var text=this.text||"";return _i18n.i18n.translate("xpack.watcher.models.loggingAction.description",{defaultMessage:"Log message '{text}'",values:{text:text}})}},{key:"simulateMessage",get:function get(){return _i18n.i18n.translate("xpack.watcher.models.loggingAction.simulateMessage",{defaultMessage:"Sample message logged"})}},{key:"simulateFailMessage",get:function get(){return _i18n.i18n.translate("xpack.watcher.models.loggingAction.simulateFailMessage",{defaultMessage:"Failed to log sample message."})}}],[{key:"fromUpstreamJson",value:function fromUpstreamJson(upstreamAction){return new LoggingAction(upstreamAction)}}]);return LoggingAction}(_base_action.BaseAction);LoggingAction.typeName=_i18n.i18n.translate("xpack.watcher.models.loggingAction.typeName",{defaultMessage:"Logging"});LoggingAction.iconClass="kuiIcon fa-file-text-o";LoggingAction.selectMessage=_i18n.i18n.translate("xpack.watcher.models.loggingAction.selectMessageText",{defaultMessage:"Add a new item to the logs."});LoggingAction.template="<watch-logging-action></watch-logging-action>";LoggingAction.simulatePrompt=_i18n.i18n.translate("xpack.watcher.models.loggingAction.simulateButtonLabel",{defaultMessage:"Log a sample message now"})},7281:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.SlackAction=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _get=function get(object,property,receiver){null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0===desc){var parent=Object.getPrototypeOf(object);return null===parent?void 0:get(parent,property,receiver)}if("value"in desc)return desc.value;var getter=desc.get;if(void 0===getter)return;return getter.call(receiver)};var _lodash=__webpack_require__(1);var _base_action=__webpack_require__(851);var _i18n=__webpack_require__(18);function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var SlackAction=exports.SlackAction=function(_BaseAction){_inherits(SlackAction,_BaseAction);function SlackAction(){var props=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,SlackAction);var _this=_possibleConstructorReturn(this,(SlackAction.__proto__||Object.getPrototypeOf(SlackAction)).call(this,props));var toArray=(0,_lodash.get)(props,"to",[]);_this.to=(0,_lodash.isArray)(toArray)?toArray:[toArray];_this.text=props.text;return _this}_createClass(SlackAction,[{key:"upstreamJson",get:function get(){var result=_get(SlackAction.prototype.__proto__||Object.getPrototypeOf(SlackAction.prototype),"upstreamJson",this);Object.assign(result,{to:this.to,text:this.text});return result}},{key:"description",get:function get(){var toList=this.to.join(", ");return _i18n.i18n.translate("xpack.watcher.models.slackAction.description",{defaultMessage:"Slack message will be sent to {toList}",values:{toList:toList}})}},{key:"simulateMessage",get:function get(){var toList=this.to.join(", ");return _i18n.i18n.translate("xpack.watcher.models.slackAction.simulateMessage",{defaultMessage:"Sample Slack message sent to {toList}.",values:{toList:toList}})}},{key:"simulateFailMessage",get:function get(){var toList=this.to.join(", ");return _i18n.i18n.translate("xpack.watcher.models.slackAction.simulateFailMessage",{defaultMessage:"Failed to send sample Slack message to {toList}.",values:{toList:toList}})}}],[{key:"fromUpstreamJson",value:function fromUpstreamJson(upstreamAction){return new SlackAction(upstreamAction)}}]);return SlackAction}(_base_action.BaseAction);SlackAction.typeName=_i18n.i18n.translate("xpack.watcher.models.slackAction.TypeName",{defaultMessage:"Slack"});SlackAction.iconClass="kuiIcon fa-slack";SlackAction.template="<watch-slack-action></watch-slack-action>";SlackAction.selectMessage=_i18n.i18n.translate("xpack.watcher.models.slackAction.selectMessageText",{defaultMessage:"Send a message to a slack user or channel."});SlackAction.simulatePrompt=_i18n.i18n.translate("xpack.watcher.models.slackAction.simulateButtonLabel",{defaultMessage:"Send a sample message now"})},7282:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.UnknownAction=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _get=function get(object,property,receiver){null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0===desc){var parent=Object.getPrototypeOf(object);return null===parent?void 0:get(parent,property,receiver)}if("value"in desc)return desc.value;var getter=desc.get;if(void 0===getter)return;return getter.call(receiver)};var _lodash=__webpack_require__(1);var _base_action=__webpack_require__(851);function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}exports.UnknownAction=function(_BaseAction){_inherits(UnknownAction,_BaseAction);function UnknownAction(){var props=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,UnknownAction);var _this=_possibleConstructorReturn(this,(UnknownAction.__proto__||Object.getPrototypeOf(UnknownAction)).call(this,props));_this.actionJson=(0,_lodash.get)(props,"actionJson");return _this}_createClass(UnknownAction,[{key:"upstreamJson",get:function get(){var result=_get(UnknownAction.prototype.__proto__||Object.getPrototypeOf(UnknownAction.prototype),"upstreamJson",this);Object.assign(result,{actionJson:this.actionJson});return result}}],[{key:"fromUpstreamJson",value:function fromUpstreamJson(upstreamAction){return new UnknownAction(upstreamAction)}}]);return UnknownAction}(_base_action.BaseAction)},7283:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.WatchStatus=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _lodash=__webpack_require__(1);var _get_moment=__webpack_require__(1266);var _action_status=__webpack_require__(7285);function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}exports.WatchStatus=function(){function WatchStatus(){var props=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,WatchStatus);this.id=(0,_lodash.get)(props,"id");this.state=(0,_lodash.get)(props,"state");this.comment=(0,_lodash.get)(props,"comment");this.isActive=(0,_lodash.get)(props,"isActive");this.lastFired=(0,_get_moment.getMoment)((0,_lodash.get)(props,"lastFired"));this.lastChecked=(0,_get_moment.getMoment)((0,_lodash.get)(props,"lastChecked"));this.lastMetCondition=(0,_get_moment.getMoment)(this.lastMetCondition);this.lastFired&&(this.lastFiredHumanized=this.lastFired.fromNow());this.lastChecked&&(this.lastCheckedHumanized=this.lastChecked.fromNow());var actionStatuses=(0,_lodash.get)(props,"actionStatuses",[]);this.actionStatuses=actionStatuses.map(function(actionStatus){return _action_status.ActionStatus.fromUpstreamJson(actionStatus)})}_createClass(WatchStatus,null,[{key:"fromUpstreamJson",value:function fromUpstreamJson(upstreamWatchStatus){return new WatchStatus(upstreamWatchStatus)}}]);return WatchStatus}()},7284:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getMoment=getMoment;var _moment=__webpack_require__(12);var _moment2=_interopRequireDefault(_moment);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function getMoment(date){if(!date)return null;return(0,_moment2.default)(date)}},7285:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _action_status=__webpack_require__(7286);Object.defineProperty(exports,"ActionStatus",{enumerable:true,get:function get(){return _action_status.ActionStatus}})},7286:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ActionStatus=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _lodash=__webpack_require__(1);var _get_moment=__webpack_require__(1266);function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}exports.ActionStatus=function(){function ActionStatus(){var props=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,ActionStatus);this.id=(0,_lodash.get)(props,"id");this.state=(0,_lodash.get)(props,"state");this.isAckable=(0,_lodash.get)(props,"isAckable");this.lastAcknowledged=(0,_get_moment.getMoment)((0,_lodash.get)(props,"lastAcknowledged"));this.lastThrottled=(0,_get_moment.getMoment)((0,_lodash.get)(props,"lastThrottled"));this.lastExecution=(0,_get_moment.getMoment)((0,_lodash.get)(props,"lastExecution"));this.lastExecutionSuccessful=(0,_lodash.get)(props,"lastExecutionSuccessful");this.lastExecutionReason=(0,_lodash.get)(props,"lastExecutionReason");this.lastSuccessfulExecution=(0,_get_moment.getMoment)((0,_lodash.get)(props,"lastSuccessfulExecution"));this.lastAcknowledged&&(this.lastAcknowledgedHumanized=this.lastAcknowledged.fromNow());this.lastExecution&&(this.lastExecutionHumanized=this.lastExecution.fromNow());this.lastThrottled&&(this.lastThrottledHumanized=this.lastThrottled.fromNow())}_createClass(ActionStatus,null,[{key:"fromUpstreamJson",value:function fromUpstreamJson(upstreamActionStatus){return new ActionStatus(upstreamActionStatus)}}]);return ActionStatus}()},7287:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _create_action_id=__webpack_require__(7288);Object.defineProperty(exports,"createActionId",{enumerable:true,get:function get(){return _create_action_id.createActionId}})},7288:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.createActionId=createActionId;function createActionId(actions,type){var existingIds=actions.map(function(action){return action.id});var nextValidIncrement=1;var nextValidId=void 0;while(void 0===nextValidId){var proposedId=type+"_"+nextValidIncrement;existingIds.includes(proposedId)?nextValidIncrement++:nextValidId=proposedId}return nextValidId}},7289:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _check_action_id_collision=__webpack_require__(7290);Object.defineProperty(exports,"checkActionIdCollision",{enumerable:true,get:function get(){return _check_action_id_collision.checkActionIdCollision}})},7290:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.checkActionIdCollision=checkActionIdCollision;var _lodash=__webpack_require__(1);function checkActionIdCollision(actions,action){var collision=(0,_lodash.find)(actions,{id:action.id});return Boolean(collision)}},7291:function(module,exports){module.exports={trigger:{schedule:{interval:"30m"}},input:{search:{request:{body:{size:0,query:{match_all:{}}},indices:["*"]}}},condition:{compare:{"ctx.payload.hits.total":{gte:10}}},actions:{"my-logging-action":{logging:{text:"There are {{ctx.payload.hits.total}} documents in your index. Threshold is 10."}}}}},7292:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ThresholdWatch=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _get=function get(object,property,receiver){null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0===desc){var parent=Object.getPrototypeOf(object);return null===parent?void 0:get(parent,property,receiver)}if("value"in desc)return desc.value;var getter=desc.get;if(void 0===getter)return;return getter.call(receiver)};var _base_watch=__webpack_require__(1264);var _uuid=__webpack_require__(94);var _uuid2=_interopRequireDefault(_uuid);var _constants=__webpack_require__(45);var _get_time_units_label=__webpack_require__(2254);var _i18n=__webpack_require__(18);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var DEFAULT_VALUES={AGG_TYPE:"count",TERM_SIZE:5,THRESHOLD_COMPARATOR:_constants.COMPARATORS.GREATER_THAN,TIME_WINDOW_SIZE:5,TIME_WINDOW_UNIT:"m",TRIGGER_INTERVAL_SIZE:1,TRIGGER_INTERVAL_UNIT:"m",THRESHOLD:1e3};var ThresholdWatch=exports.ThresholdWatch=function(_BaseWatch){_inherits(ThresholdWatch,_BaseWatch);function ThresholdWatch(){var props=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,ThresholdWatch);props.id=props.id||_uuid2.default.v4();props.type=_constants.WATCH_TYPES.THRESHOLD;var _this=_possibleConstructorReturn(this,(ThresholdWatch.__proto__||Object.getPrototypeOf(ThresholdWatch)).call(this,props));_this.index=props.index;_this.timeField=props.timeField;_this.triggerIntervalSize=props.triggerIntervalSize||DEFAULT_VALUES.TRIGGER_INTERVAL_SIZE;_this.triggerIntervalUnit=props.triggerIntervalUnit||DEFAULT_VALUES.TRIGGER_INTERVAL_UNIT;_this.aggType=props.aggType||DEFAULT_VALUES.AGG_TYPE;_this.aggField=props.aggField;_this.termSize=props.termSize||DEFAULT_VALUES.TERM_SIZE;_this.termField=props.termField;_this.thresholdComparator=props.thresholdComparator||DEFAULT_VALUES.THRESHOLD_COMPARATOR;_this.timeWindowSize=props.timeWindowSize||DEFAULT_VALUES.TIME_WINDOW_SIZE;_this.timeWindowUnit=props.timeWindowUnit||DEFAULT_VALUES.TIME_WINDOW_UNIT;_this.threshold=props.threshold||DEFAULT_VALUES.THRESHOLD;return _this}_createClass(ThresholdWatch,[{key:"hasTermsAgg",get:function get(){return Boolean(this.termField)}},{key:"termOrder",get:function get(){return this.thresholdComparator===_constants.COMPARATORS.GREATER_THAN?_constants.SORT_ORDERS.DESCENDING:_constants.SORT_ORDERS.ASCENDING}},{key:"titleDescription",get:function get(){var staticPart=_i18n.i18n.translate("xpack.watcher.models.thresholdWatch.sendAlertOnSpecificConditionTitleDescription",{defaultMessage:"Send an alert when a specific condition is met."});if(isNaN(this.triggerIntervalSize))return staticPart;var timeUnitLabel=(0,_get_time_units_label.getTimeUnitsLabel)(this.triggerIntervalUnit,this.triggerIntervalSize);var dynamicPartText=_i18n.i18n.translate("xpack.watcher.models.thresholdWatch.thresholdWatchIntervalTitleDescription",{defaultMessage:"This will run every {triggerIntervalSize} {timeUnitLabel}.",values:{triggerIntervalSize:this.triggerIntervalSize,timeUnitLabel:timeUnitLabel}});return staticPart+" "+dynamicPartText}},{key:"upstreamJson",get:function get(){var result=_get(ThresholdWatch.prototype.__proto__||Object.getPrototypeOf(ThresholdWatch.prototype),"upstreamJson",this);Object.assign(result,{index:this.index,timeField:this.timeField,triggerIntervalSize:this.triggerIntervalSize,triggerIntervalUnit:this.triggerIntervalUnit,aggType:this.aggType,aggField:this.aggField,termSize:this.termSize,termField:this.termField,thresholdComparator:this.thresholdComparator,timeWindowSize:this.timeWindowSize,timeWindowUnit:this.timeWindowUnit,threshold:this.threshold});return result}},{key:"DEFAULT_VALUES",get:function get(){return DEFAULT_VALUES}}],[{key:"fromUpstreamJson",value:function fromUpstreamJson(upstreamWatch){return new ThresholdWatch(upstreamWatch)}}]);return ThresholdWatch}(_base_watch.BaseWatch);ThresholdWatch.typeName=_i18n.i18n.translate("xpack.watcher.models.thresholdWatch.typeName",{defaultMessage:"Threshold Alert"});ThresholdWatch.iconClass="";ThresholdWatch.selectMessage=_i18n.i18n.translate("xpack.watcher.models.thresholdWatch.selectMessageText",{defaultMessage:"Send an alert on a specific condition"});ThresholdWatch.isCreatable=true;ThresholdWatch.selectSortOrder=1},7293:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getTimeUnitsLabel=void 0;var _constants=__webpack_require__(1267);exports.getTimeUnitsLabel=function getTimeUnitsLabel(unit,size){var timeUnit=_constants.TIME_UNITS[unit];return 1===size?timeUnit.labelSingular:timeUnit.labelPlural}},7294:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.TIME_UNITS=void 0;var _TIME_UNITS;var _time_units=__webpack_require__(2250);var _i18n=__webpack_require__(18);function _defineProperty(obj,key,value){key in obj?Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true}):obj[key]=value;return obj}exports.TIME_UNITS=(_TIME_UNITS={},_defineProperty(_TIME_UNITS,_time_units.TIME_UNITS.SECOND,{labelPlural:_i18n.i18n.translate("xpack.watcher.timeUnits.secondPluralLabel",{defaultMessage:"seconds"}),labelSingular:_i18n.i18n.translate("xpack.watcher.timeUnits.secondSingularLabel",{defaultMessage:"second"})}),_defineProperty(_TIME_UNITS,_time_units.TIME_UNITS.MINUTE,{labelPlural:_i18n.i18n.translate("xpack.watcher.timeUnits.minutePluralLabel",{defaultMessage:"minutes"}),labelSingular:_i18n.i18n.translate("xpack.watcher.timeUnits.minuteSingularLabel",{defaultMessage:"minute"})}),_defineProperty(_TIME_UNITS,_time_units.TIME_UNITS.HOUR,{labelPlural:_i18n.i18n.translate("xpack.watcher.timeUnits.hourPluralLabel",{defaultMessage:"hours"}),labelSingular:_i18n.i18n.translate("xpack.watcher.timeUnits.hourSingularLabel",{defaultMessage:"hour"})}),_defineProperty(_TIME_UNITS,_time_units.TIME_UNITS.DAY,{labelPlural:_i18n.i18n.translate("xpack.watcher.timeUnits.dayPluralLabel",{defaultMessage:"days"}),labelSingular:_i18n.i18n.translate("xpack.watcher.timeUnits.daySingularLabel",{defaultMessage:"day"})}),_TIME_UNITS)},7295:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.MonitoringWatch=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _get=function get(object,property,receiver){null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0===desc){var parent=Object.getPrototypeOf(object);return null===parent?void 0:get(parent,property,receiver)}if("value"in desc)return desc.value;var getter=desc.get;if(void 0===getter)return;return getter.call(receiver)};var _base_watch=__webpack_require__(1264);var _constants=__webpack_require__(45);function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var MonitoringWatch=exports.MonitoringWatch=function(_BaseWatch){_inherits(MonitoringWatch,_BaseWatch);function MonitoringWatch(){var props=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,MonitoringWatch);props.type=_constants.WATCH_TYPES.MONITORING;return _possibleConstructorReturn(this,(MonitoringWatch.__proto__||Object.getPrototypeOf(MonitoringWatch)).call(this,props))}_createClass(MonitoringWatch,[{key:"upstreamJson",get:function get(){var result=_get(MonitoringWatch.prototype.__proto__||Object.getPrototypeOf(MonitoringWatch.prototype),"upstreamJson",this);Object.assign(result,{watch:this.watch});return result}}],[{key:"fromUpstreamJson",value:function fromUpstreamJson(upstreamWatch){return new MonitoringWatch(upstreamWatch)}}]);return MonitoringWatch}(_base_watch.BaseWatch);MonitoringWatch.isCreatable=false},7296:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.WatchHistoryItem=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();__webpack_require__(767);var _lodash=__webpack_require__(1);var _get_moment=__webpack_require__(1266);var _watch_status=__webpack_require__(1265);function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}exports.WatchHistoryItem=function(){function WatchHistoryItem(){var props=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,WatchHistoryItem);this.id=props.id;this.watchId=props.watchId;this.details=props.details;this.startTime=(0,_get_moment.getMoment)(props.startTime);this.watchStatus=_watch_status.WatchStatus.fromUpstreamJson((0,_lodash.get)(props,"watchStatus"))}_createClass(WatchHistoryItem,null,[{key:"fromUpstreamJson",value:function fromUpstreamJson(upstreamHistory){return new WatchHistoryItem(upstreamHistory)}}]);return WatchHistoryItem}()},7297:function(module,exports,__webpack_require__){"use strict";__webpack_require__(7298)},7298:function(module,exports,__webpack_require__){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _modules=__webpack_require__(3);var _compat=__webpack_require__(107);var _momentTimezone=__webpack_require__(256);var _momentTimezone2=_interopRequireDefault(_momentTimezone);var _notify=__webpack_require__(11);__webpack_require__(582);__webpack_require__(240);__webpack_require__(1268);__webpack_require__(2256);__webpack_require__(647);__webpack_require__(392);var _watch_detail=__webpack_require__(7305);var _watch_detail2=_interopRequireDefault(_watch_detail);__webpack_require__(7306);__webpack_require__(7317);var _constants=__webpack_require__(45);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var app=_modules.uiModules.get("xpack/watcher");app.directive("watchDetail",function($injector,i18n){var watchService=$injector.get("xpackWatcherWatchService");var licenseService=$injector.get("xpackWatcherLicenseService");var config=$injector.get("config");var kbnUrl=$injector.get("kbnUrl");var confirmModal=$injector.get("confirmModal");var $interval=$injector.get("$interval");var $filter=$injector.get("$filter");var orderBy=$filter("orderBy");_momentTimezone2.default.tz.setDefault(config.get("dateFormat:tz"));return{restrict:"E",template:_watch_detail2.default,scope:{watch:"=xpackWatch",initialHistoryRange:"=",watchHistoryItems:"="},bindToController:true,controllerAs:"watchDetail",controller:function(_InitAfterBindingsWor){_inherits(WatchDetailController,_InitAfterBindingsWor);function WatchDetailController(){var _ref;var _temp,_this,_ret;_classCallCheck(this,WatchDetailController);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _ret=(_temp=(_this=_possibleConstructorReturn(this,(_ref=WatchDetailController.__proto__||Object.getPrototypeOf(WatchDetailController)).call.apply(_ref,[this].concat(args))),_this),_this.loadWatchHistory=function(){return watchService.loadWatchHistory(_this.watch.id,_this.historyRange).then(function(watchHistoryItems){_this.isHistoryLoading=false;_this.watchHistoryItems=watchHistoryItems}).catch(function(err){return licenseService.checkValidity().then(function(){return _notify.toastNotifications.addDanger(err)})})},_this.onHistoryRangeChange=function(range){_this.historyRange=range;_this.isHistoryLoading=true;return _this.loadWatchHistory()},_this.onActionSortChange=function(field,reverse){_this.actionStatusTableSortField=field;_this.actionStatusTableSortReverse=reverse},_this.applySortToActionStatusTable=function(){_this.sortedActionStatuses=orderBy(_this.watch.watchStatus.actionStatuses,_this.actionStatusTableSortField,_this.actionStatusTableSortReverse)},_this.onActionAcknowledge=function(actionStatus){return watchService.acknowledgeWatchAction(_this.watch.id,actionStatus.id).then(function(watchStatus){_this.watch.updateWatchStatus(watchStatus);_this.applySortToActionStatusTable()}).catch(function(err){return licenseService.checkValidity().then(function(){return _notify.toastNotifications.addDanger(err)})})},_this.onWatchDeactivate=function(){return watchService.deactivateWatch(_this.watch.id).then(function(watchStatus){_this.watch.updateWatchStatus(watchStatus)}).catch(function(err){return licenseService.checkValidity().then(function(){return _notify.toastNotifications.addDanger(err)})})},_this.onWatchActivate=function(){return watchService.activateWatch(_this.watch.id).then(function(watchStatus){_this.watch.updateWatchStatus(watchStatus)}).catch(function(err){return licenseService.checkValidity().then(function(){return _notify.toastNotifications.addDanger(err)})})},_this.onWatchDelete=function(){var confirmModalOptions={confirmButtonText:i18n("xpack.watcher.sections.watchDetail.deleteConfirmModal.deleteWatchButtonLabel",{defaultMessage:"Delete Watch"}),onConfirm:_this.deleteWatch};return confirmModal(i18n("xpack.watcher.sections.watchDetail.deleteConfirmModal.description",{defaultMessage:"This will permanently delete the watch. Are you sure?"}),confirmModalOptions)},_this.deleteWatch=function(){return watchService.deleteWatch(_this.watch.id).then(function(){_notify.toastNotifications.addSuccess(i18n("xpack.watcher.sections.watchDetail.deleteWatchSuccessNotificationText",{defaultMessage:"Deleted {watchName}",values:{watchName:_this.watch.displayName}}));_this.close()}).catch(function(err){return licenseService.checkValidity().then(function(){return _notify.toastNotifications.addDanger(err)})})},_this.close=function(){kbnUrl.change("/management/elasticsearch/watcher/watches",{})},_temp),_possibleConstructorReturn(_this,_ret)}_createClass(WatchDetailController,[{key:"initAfterBindings",value:function initAfterBindings($scope){var _this2=this;this.isHistoryLoading=false;this.historyRange=this.initialHistoryRange;this.actionStatusTableSortField="id";this.actionStatusTableSortReverse=false;this.omitBreadcrumbPages=["watch",this.watch.id];this.breadcrumb=this.watch.displayName;var refreshInterval=$interval(function(){return _this2.loadWatchHistory()},_constants.REFRESH_INTERVALS.WATCH_HISTORY);$scope.$on("$destroy",function(){return $interval.cancel(refreshInterval)});$scope.$watchMulti(["watchDetail.actionStatusTableSortField","watchDetail.actionStatusTableSortReverse"],this.applySortToActionStatusTable)}},{key:"hasActionStatusTableActions",get:function get(){return this.sortedActionStatuses.length>0}}]);return WatchDetailController}(_compat.InitAfterBindingsWorkaround)}})},7299:function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(3);var _table_info=__webpack_require__(7300);var _table_info2=_interopRequireDefault(_table_info);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var app=_modules.uiModules.get("kibana");app.directive("tableInfo",function(){return{restrict:"E",replace:true,template:_table_info2.default,transclude:true,controllerAs:"tableInfo",bindToController:true,controller:function TableInfoController(){_classCallCheck(this,TableInfoController)}}})},7300:function(module,exports){module.exports='<div class="kuiPanel kuiPanel--centered kuiPanel--withToolBar">\n  <div\n    class="kuiTableInfo"\n    ng-transclude\n  ></div>\n</div>\n'},7301:function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(3);var _tool_bar_selected_count=__webpack_require__(7302);var _tool_bar_selected_count2=_interopRequireDefault(_tool_bar_selected_count);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var app=_modules.uiModules.get("xpack/watcher");app.directive("toolBarSelectedCount",function(){return{restrict:"E",replace:true,template:_tool_bar_selected_count2.default,scope:{count:"=",singularName:"@",pluralName:"@"},controllerAs:"toolBarSelectedCount",bindToController:true,controller:function ToolBarSelectedCountController(){_classCallCheck(this,ToolBarSelectedCountController)}}})},7302:function(module,exports){module.exports="<div class=\"kuiToolBarText\">\n    {{ toolBarSelectedCount.count }} {{ toolBarSelectedCount.count === 1 ? toolBarSelectedCount.singularName : toolBarSelectedCount.pluralName}}\n    {{ 'xpack.watcher.toolBarSelectedCountText' | i18n: { defaultMessage: 'selected' } }}\n</div>\n"},7303:function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(3);var _xpack_info=__webpack_require__(73);__webpack_require__(240);var _license_service=__webpack_require__(7304);_modules.uiModules.get("xpack/watcher").factory("xpackWatcherLicenseService",function($injector){var $http=$injector.get("$http");var Private=$injector.get("Private");var xpackInfoService=Private(_xpack_info.XPackInfoProvider);var kbnUrlService=$injector.get("kbnUrl");var $timeout=$injector.get("$timeout");return new _license_service.LicenseService(xpackInfoService,kbnUrlService,$timeout,$http)})},7304:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.LicenseService=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _notify=__webpack_require__(11);var _markdown=__webpack_require__(581);var _chrome=__webpack_require__(9);var _chrome2=_interopRequireDefault(_chrome);var _constants=__webpack_require__(45);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}exports.LicenseService=function(){function LicenseService(xpackInfoService,kbnUrlService,$timeout,$http){_classCallCheck(this,LicenseService);this.$http=$http;this.xpackInfoService=xpackInfoService;this.kbnUrlService=kbnUrlService;this.$timeout=$timeout;this.basePath=_chrome2.default.addBasePath(_constants.ROUTES.API_ROOT)}_createClass(LicenseService,[{key:"notifyAndRedirect",value:function notifyAndRedirect(){_notify.toastNotifications.addDanger({title:_react2.default.createElement(_markdown.MarkdownSimple,null,this.xpackInfoService.get("features."+_constants.PLUGIN.ID+".message"))});this.kbnUrlService.redirect("/management")}},{key:"checkValidity",value:function checkValidity(){var _this=this;return new Promise(function(resolve,reject){_this.$timeout(function(){if(_this.isAvailable)return resolve();_this.notifyAndRedirect();return reject()},10)})}},{key:"refreshLicense",value:function refreshLicense(){return this.$http.get(this.basePath+"/license/refresh").then(function(response){return response.data.success})}},{key:"showLinks",get:function get(){return Boolean(this.xpackInfoService.get("features."+_constants.PLUGIN.ID+".showLinks"))}},{key:"enableLinks",get:function get(){return Boolean(this.xpackInfoService.get("features."+_constants.PLUGIN.ID+".enableLinks"))}},{key:"isAvailable",get:function get(){return Boolean(this.xpackInfoService.get("features."+_constants.PLUGIN.ID+".isAvailable"))}},{key:"message",get:function get(){return this.xpackInfoService.get("features."+_constants.PLUGIN.ID+".message")}}]);return LicenseService}()},7305:function(module,exports){module.exports='<kbn-management-app\n  section="elasticsearch/watcher/watch"\n  omit-breadcrumb-pages="{{ watchDetail.omitBreadcrumbPages }}"\n  page-title="watchDetail.breadcrumb"\n>\n  <div class="kuiViewContent kuiViewContent--constrainedWidth">\n    \x3c!-- Header and buttons --\x3e\n    <div class="kuiViewContentItem kuiVerticalRhythm">\n      <div class="kuiBar">\n\n        \x3c!-- Watch Details --\x3e\n        <div class="kuiBarSection">\n          <h1\n            class="kuiTitle"\n            i18n-id="xpack.watcher.sections.watchDetail.currentStatusTitle"\n            i18n-default-message="Current Status"\n          ></h1>\n        </div>\n\n        <div class="kuiBarSection">\n          <div class="kuiButtonGroup">\n            <button\n              ng-if="watchDetail.watch.watchStatus.isActive"\n              ng-click="watchDetail.onWatchDeactivate()"\n              class="kuiButton kuiButton--basic"\n              data-test-subj="btnDeactivateWatch"\n              i18n-id="xpack.watcher.sections.watchDetail.deactivateButtonLabel"\n              i18n-default-message="Deactivate"\n            ></button>\n            <button\n              ng-if="!watchDetail.watch.watchStatus.isActive"\n              ng-click="watchDetail.onWatchActivate()"\n              class="kuiButton kuiButton--basic"\n              data-test-subj="btnActivateWatch"\n              i18n-id="xpack.watcher.sections.watchDetail.activateButtonLabel"\n              i18n-default-message="Activate"\n            ></button>\n            <button\n              ng-click="watchDetail.onWatchDelete()"\n              class="kuiButton kuiButton--danger"\n              data-test-subj="btnDeleteWatch"\n              i18n-id="xpack.watcher.sections.watchDetail.deleteButtonLabel"\n              i18n-default-message="Delete"\n            ></button>\n          </div>\n        </div>\n      </div>\n    </div>\n    \x3c!-- End Watch Details --\x3e\n\n    \x3c!-- Watch action status --\x3e\n    <div class="kuiViewContentItem kuiVerticalRhythm">\n      \x3c!-- Action status table --\x3e\n      <action-status-table\n        action-statuses="watchDetail.sortedActionStatuses"\n        on-action-acknowledge="watchDetail.onActionAcknowledge"\n        sort-field="watchDetail.actionStatusTableSortField"\n        sort-reverse="watchDetail.actionStatusTableSortReverse"\n        on-sort-change="watchDetail.onActionSortChange"\n      ></action-status-table>\n      <table-info ng-show="!watchDetail.hasActionStatusTableActions">\n        {{ \'xpack.watcher.sections.watchDetail.noActionsFoundText\' | i18n: { defaultMessage: \'No actions found.\' } }}\n      </table-info>\n    </div>\n\n    \x3c!-- Watch History --\x3e\n    <div class="kuiViewContentItem kuiVerticalRhythm">\n      <h1\n        class="kuiTitle"\n        i18n-id="xpack.watcher.sections.watchDetail.watchHistoryTitle"\n        i18n-default-message="Watch History"\n      ></h1>\n    </div>\n\n    <div class="kuiViewContentItem kuiVerticalRhythm">\n      <watch-history\n        xpack-watch="watchDetail.watch"\n        history-items="watchDetail.watchHistoryItems"\n        initial-range="watchDetail.historyRange"\n        on-range-change="watchDetail.onHistoryRangeChange"\n        is-loading="watchDetail.isHistoryLoading"\n      ></watch-history>\n    </div>\n    \x3c!-- End Watch History --\x3e\n\n  </div>\n</kbn-management-app>\n'},7306:function(module,exports,__webpack_require__){"use strict";__webpack_require__(7307)},7307:function(module,exports,__webpack_require__){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();__webpack_require__(498);var _modules=__webpack_require__(3);__webpack_require__(607);__webpack_require__(505);__webpack_require__(1268);var _compat=__webpack_require__(107);var _constants=__webpack_require__(45);var _watch_history=__webpack_require__(7308);var _watch_history2=_interopRequireDefault(_watch_history);__webpack_require__(7309);__webpack_require__(7314);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var app=_modules.uiModules.get("xpack/watcher");app.directive("watchHistory",function($injector){var pagerFactory=$injector.get("pagerFactory");var $filter=$injector.get("$filter");var orderBy=$filter("orderBy");var limitTo=$filter("limitTo");return{restrict:"E",replace:true,template:_watch_history2.default,scope:{watch:"=xpackWatch",historyItems:"=",initialRange:"=",onRangeChange:"=",isLoading:"="},bindToController:true,controllerAs:"watchHistory",controller:function(_InitAfterBindingsWor){_inherits(WatchHistoryController,_InitAfterBindingsWor);function WatchHistoryController(){var _ref;var _temp,_this,_ret;_classCallCheck(this,WatchHistoryController);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _ret=(_temp=(_this=_possibleConstructorReturn(this,(_ref=WatchHistoryController.__proto__||Object.getPrototypeOf(WatchHistoryController)).call.apply(_ref,[this].concat(args))),_this),_this.onPageNext=function(){_this.pager.nextPage()},_this.onPagePrevious=function(){_this.pager.previousPage()},_this.onSortChange=function(field,reverse){_this.sortField=field;_this.sortReverse=reverse},_this.applyFilters=function(){var orderedHistoryItems=orderBy(_this.historyItems,_this.sortField,_this.sortReverse);_this.pageOfHistoryItems=limitTo(orderedHistoryItems,_this.pager.pageSize,_this.pager.startIndex);_this.pager.setTotalItems(orderedHistoryItems.length)},_temp),_possibleConstructorReturn(_this,_ret)}_createClass(WatchHistoryController,[{key:"initAfterBindings",value:function initAfterBindings($scope){this.isLoading=false;this.sortField="startTime";this.sortReverse=true;this.pageOfHistoryItems=[];this.historyRange=this.initialRange;this.pager=pagerFactory.create(this.historyItems.length,_constants.PAGINATION.PAGE_SIZE,1);$scope.$watchMulti(["watchHistory.historyItems","watchHistory.sortField","watchHistory.sortReverse","watchHistory.pager.currentPage"],this.applyFilters)}},{key:"hasPageOfHistoryItems",get:function get(){return this.pageOfHistoryItems.length>0}}]);return WatchHistoryController}(_compat.InitAfterBindingsWorkaround)}})},7308:function(module,exports){module.exports='<div class="kuiControlledTable">\n  \x3c!-- Toolbar with filters and pagination --\x3e\n  <div class="kuiToolBar">\n    <div class="kuiToolBarSearch">\n      \x3c!-- History range filter --\x3e\n      <watch-history-range-filter\n        history-range="watchHistory.historyRange"\n        on-range-change="watchHistory.onRangeChange"\n      ></watch-history-range-filter>\n    </div>\n\n    \x3c!-- Pagination --\x3e\n    <div class="kuiToolBarSection">\n      <tool-bar-pager-text\n        start-item="watchHistory.pager.startItem"\n        end-item="watchHistory.pager.endItem"\n        total-items="watchHistory.pager.totalItems"\n      ></tool-bar-pager-text>\n      <tool-bar-pager-buttons\n        has-previous-page="watchHistory.pager.hasPreviousPage"\n        has-next-page="watchHistory.pager.hasNextPage"\n        on-page-next="watchHistory.onPageNext"\n        on-page-previous="watchHistory.onPagePrevious"\n      ></tool-bar-pager-buttons>\n    </div>\n  </div>\n\n  \x3c!-- Watch history table --\x3e\n  <table-info ng-show="watchHistory.isLoading">\n    {{ \'xpack.watcher.sections.watchDetail.watchHistory.watchHistoryLoadingText\' | i18n: { defaultMessage: \'Loading watch history\' } }}&hellip;\n  </table-info>\n  <table-info ng-show="!watchHistory.isLoading && !watchHistory.hasPageOfHistoryItems">\n    {{ \'xpack.watcher.sections.watchDetail.watchHistory.watchHistoryNotFoundText\' | i18n: { defaultMessage: \'No watch history found.\' } }}\n  </table-info>\n  <watch-history-table\n    xpack-watch="watchHistory.watch"\n    history-items="watchHistory.pageOfHistoryItems"\n    ng-show="!watchHistory.isLoading && watchHistory.hasPageOfHistoryItems"\n    sort-field="watchHistory.sortField"\n    sort-reverse="watchHistory.sortReverse"\n    on-sort-change="watchHistory.onSortChange"\n  ></watch-history-table>\n\n  \x3c!-- Footer --\x3e\n  <div class="kuiToolBarFooter">\n    <div class="kuiToolBarFooterSection">\n      <tool-bar-pager-text\n        start-item="watchHistory.pager.startItem"\n        end-item="watchHistory.pager.endItem"\n        total-items="watchHistory.pager.totalItems"\n      ></tool-bar-pager-text>\n      <tool-bar-pager-buttons\n        has-previous-page="watchHistory.pager.hasPreviousPage"\n        has-next-page="watchHistory.pager.hasNextPage"\n        on-page-next="watchHistory.onPageNext"\n        on-page-previous="watchHistory.onPagePrevious"\n      ></tool-bar-pager-buttons>\n    </div>\n  </div>\n</div>\n'},7309:function(module,exports,__webpack_require__){"use strict";__webpack_require__(7310)},7310:function(module,exports,__webpack_require__){"use strict";__webpack_require__(498);var _modules=__webpack_require__(3);var _watch_history_table=__webpack_require__(7311);var _watch_history_table2=_interopRequireDefault(_watch_history_table);__webpack_require__(852);var _lodash=__webpack_require__(1);var _constants=__webpack_require__(45);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var app=_modules.uiModules.get("xpack/watcher");app.directive("watchHistoryTable",function($injector){var $timeout=$injector.get("$timeout");return{restrict:"E",replace:true,template:_watch_history_table2.default,scope:{watch:"=xpackWatch",historyItems:"=",sortField:"=",sortReverse:"=",onSortChange:"="},bindToController:true,controllerAs:"watchHistoryTable",controller:function WatchHistoryTableController($scope){var _this=this;_classCallCheck(this,WatchHistoryTableController);$scope.$watch("watchHistoryTable.historyItems",function(historyItems){var previousItems=_this.items;var isInitialLoad=(0,_lodash.isEmpty)(previousItems);_this.items=historyItems.map(function(historyItem){var matchedItem=(0,_lodash.find)(previousItems,function(previousItem){return previousItem.historyItem.id===historyItem.id});var isNew=!isInitialLoad&&Boolean(!matchedItem);return{historyItem:historyItem,isNew:isNew}});$timeout(function(){_this.items.forEach(function(item){item.isNew=false})},_constants.LISTS.NEW_ITEMS_HIGHLIGHT_DURATION)})}}})},7311:function(module,exports){module.exports='<table class="kuiTable">\n  <thead>\n    <tr>\n      <th scope="col" class="kuiTableHeaderCell">\n        <sortable-column\n          field="startTime"\n          on-sort-change="watchHistoryTable.onSortChange"\n          sort-field="watchHistoryTable.sortField"\n          sort-reverse="watchHistoryTable.sortReverse"\n        >\n          {{ \'xpack.watcher.sections.watchDetail.watchHistoryTable.triggerTimeColumnLabel\' | i18n: { defaultMessage: \'Trigger Time\' } }}\n        </sortable-column>\n      </th>\n      <th scope="col" class="kuiTableHeaderCell">\n        <sortable-column\n          field="watchStatus.state"\n          on-sort-change="watchHistoryTable.onSortChange"\n          sort-field="watchHistoryTable.sortField"\n          sort-reverse="watchHistoryTable.sortReverse"\n        >\n          {{ \'xpack.watcher.sections.watchDetail.watchHistoryTable.stateColumnLabel\' | i18n: { defaultMessage: \'State\' } }}\n        </sortable-column>\n      </th>\n      <th scope="col" class="kuiTableHeaderCell">\n        <sortable-column\n          field="watchStatus.comment"\n          on-sort-change="watchHistoryTable.onSortChange"\n          sort-field="watchHistoryTable.sortField"\n          sort-reverse="watchHistoryTable.sortReverse"\n        >\n          {{ \'xpack.watcher.sections.watchDetail.watchHistoryTable.commentColumnLabel\' | i18n: { defaultMessage: \'Comment\' } }}\n        </sortable-column>\n      </th>\n    </tr>\n  </thead>\n\n  <tbody>\n    <tr\n      ng-repeat="item in watchHistoryTable.items"\n      class="kuiTableRow"\n      ng-class="{ \'kuiTableRow-isNew\': item.isNew }"\n    >\n      <td class="kuiTableRowCell">\n        <div class="kuiTableRowCell__liner">\n          <a\n            title="View"\n            ng-href="#/management/elasticsearch/watcher/watches/watch/{{watchHistoryTable.watch.id}}/history-item/{{item.historyItem.id}}"\n            data-test-subj="lnkWatchHistoryItem"\n          >\n            {{ item.historyItem.startTime | moment }}\n          </a>\n        </div>\n      </td>\n      <td class="kuiTableRowCell">\n        <div class="kuiTableRowCell__liner">\n          <span title={{item.historyItem.watchStatus.state}}>\n            <watch-state-icon watch-status="item.historyItem.watchStatus"></watch-state-icon>\n            {{ item.historyItem.watchStatus.state }}\n          </span>\n        </div>\n      </td>\n      <td class="kuiTableRowCell">\n        <div class="kuiTableRowCell__liner">\n          <span title="{{item.historyItem.watchStatus.comment}}">\n            {{item.historyItem.watchStatus.comment}}\n          </span>\n        </div>\n      </td>\n    </tr>\n  </tbody>\n</table>\n'},7312:function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(3);var _watch_state_icon=__webpack_require__(7313);var _watch_state_icon2=_interopRequireDefault(_watch_state_icon);var _constants=__webpack_require__(45);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var app=_modules.uiModules.get("xpack/watcher");app.directive("watchStateIcon",function(){return{restrict:"E",replace:true,template:_watch_state_icon2.default,scope:{watchStatus:"="},bindToController:true,controllerAs:"watchStateIcon",controller:function WatchStateIconController(){_classCallCheck(this,WatchStateIconController);this.WATCH_STATES=_constants.WATCH_STATES}}})},7313:function(module,exports){module.exports='<div class="kuiIcon">\n  <div\n    class="kuiIcon kuiIcon--success fa-ban"\n    ng-if="watchStateIcon.watchStatus.state === watchStateIcon.WATCH_STATES.DISABLED"\n  ></div>\n  <div\n    class="kuiIcon kuiIcon--success fa-check"\n    ng-if="watchStateIcon.watchStatus.state === watchStateIcon.WATCH_STATES.OK"\n  ></div>\n  <div\n    class="kuiIcon kuiIcon--warning fa-bullhorn"\n    ng-if="watchStateIcon.watchStatus.state === watchStateIcon.WATCH_STATES.FIRING"\n  ></div>\n  <div\n    class="kuiIcon kuiIcon--error fa-exclamation-triangle"\n    ng-if="watchStateIcon.watchStatus.state === watchStateIcon.WATCH_STATES.ERROR"\n  ></div>\n</div>\n'},7314:function(module,exports,__webpack_require__){"use strict";__webpack_require__(7315)},7315:function(module,exports,__webpack_require__){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _modules=__webpack_require__(3);var _compat=__webpack_require__(107);var _watch_history_range_filter=__webpack_require__(7316);var _watch_history_range_filter2=_interopRequireDefault(_watch_history_range_filter);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var app=_modules.uiModules.get("xpack/watcher");app.directive("watchHistoryRangeFilter",function(){return{restrict:"E",replace:true,template:_watch_history_range_filter2.default,scope:{historyRange:"=",onRangeChange:"="},controllerAs:"watchHistoryRangeFilter",bindToController:true,controller:function(_InitAfterBindingsWor){_inherits(WatchHistoryRangeFilterController,_InitAfterBindingsWor);function WatchHistoryRangeFilterController(){_classCallCheck(this,WatchHistoryRangeFilterController);return _possibleConstructorReturn(this,(WatchHistoryRangeFilterController.__proto__||Object.getPrototypeOf(WatchHistoryRangeFilterController)).apply(this,arguments))}_createClass(WatchHistoryRangeFilterController,[{key:"initAfterBindings",value:function initAfterBindings(){this.range=this.historyRange}}]);return WatchHistoryRangeFilterController}(_compat.InitAfterBindingsWorkaround)}})},7316:function(module,exports){module.exports='<select\n  ng-model="watchHistoryRangeFilter.range"\n  ng-change="watchHistoryRangeFilter.onRangeChange(watchHistoryRangeFilter.range)"\n  class="kuiSelect"\n>\n  <option\n    value="now-1h"\n    i18n-id="xpack.watcher.sections.watchDetail.watchHistoryRangeFilter.last1HourLabel"\n    i18n-default-message="Last 1 hour"\n  ></option>\n  <option\n    value="now-24h"\n    i18n-id="xpack.watcher.sections.watchDetail.watchHistoryRangeFilter.last24HoursLabel"\n    i18n-default-message="Last 24 hours"\n  ></option>\n  <option\n    value="now-7d"\n    i18n-id="xpack.watcher.sections.watchDetail.watchHistoryRangeFilter.last7DaysLabel"\n    i18n-default-message="Last 7 days"\n  ></option>\n  <option\n    value="now-30d"\n    i18n-id="xpack.watcher.sections.watchDetail.watchHistoryRangeFilter.last30DaysLabel"\n    i18n-default-message="Last 30 days"\n  ></option>\n  <option\n    value="now-6M"\n    i18n-id="xpack.watcher.sections.watchDetail.watchHistoryRangeFilter.last6MonthsLabel"\n    i18n-default-message="Last 6 months"\n  ></option>\n  <option\n    value="now-1y"\n    i18n-id="xpack.watcher.sections.watchDetail.watchHistoryRangeFilter.last1YearLabel"\n    i18n-default-message="Last 1 year"\n  ></option>\n  <option\n    value="all"\n    i18n-id="xpack.watcher.sections.watchDetail.watchHistoryRangeFilter.allLabel"\n    i18n-default-message="All"\n  ></option>\n</select>\n'},7317:function(module,exports,__webpack_require__){"use strict";__webpack_require__(7318)},7318:function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(3);var _action_status_table=__webpack_require__(7319);var _action_status_table2=_interopRequireDefault(_action_status_table);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var app=_modules.uiModules.get("xpack/watcher");app.directive("actionStatusTable",function(){return{restrict:"E",replace:true,template:_action_status_table2.default,scope:{actionStatuses:"=",sortField:"=",sortReverse:"=",onSortChange:"=",onActionAcknowledge:"="},bindToController:true,controllerAs:"actionStatusTable",controller:function ActionStatusTableController(){_classCallCheck(this,ActionStatusTableController)}}})},7319:function(module,exports){module.exports='<table class="kuiTable">\n  <thead>\n    <tr>\n      <th scope="col" class="kuiTableHeaderCell">\n        <sortable-column\n          field="id"\n          on-sort-change="actionStatusTable.onSortChange"\n          sort-field="actionStatusTable.sortField"\n          sort-reverse="actionStatusTable.sortReverse"\n        >\n          {{ \'xpack.watcher.sections.watchDetail.actionStatusTable.actionColumnLabel\' | i18n: { defaultMessage: \'Action\' } }}\n        </sortable-column>\n      </th>\n      <th scope="col" class="kuiTableHeaderCell">\n        <sortable-column\n          field="state"\n          on-sort-change="actionStatusTable.onSortChange"\n          sort-field="actionStatusTable.sortField"\n          sort-reverse="actionStatusTable.sortReverse"\n        >\n          {{ \'xpack.watcher.sections.watchDetail.actionStatusTable.stateColumnLabel\' | i18n: { defaultMessage: \'State\' } }}\n        </sortable-column>\n      </th>\n      <th scope="col" class="kuiTableHeaderCell">\n      </th>\n    </tr>\n  </thead>\n\n  <tbody>\n    <tr ng-repeat="actionStatus in actionStatusTable.actionStatuses">\n      <td class="kuiTableRowCell">\n        <div class="kuiTableRowCell__liner">\n          {{ actionStatus.id }}\n        </div>\n      </td>\n      <td class="kuiTableRowCell">\n        <div class="kuiTableRowCell__liner">\n          <action-state-icon action-status="actionStatus"></action-state-icon>\n          {{ actionStatus.state }}\n        </div>\n      </td>\n      <td class="kuiTableRowCell">\n        <div class="kuiTableRowCell__liner">\n          <div class="kuiMenuButtonGroup kuiMenuButtonGroup--alignRight">\n            <button\n              class="kuiMenuButton kuiMenuButton--basic kuiMenuButton--iconText"\n              ng-click="actionStatusTable.onActionAcknowledge(actionStatus)"\n              title="{{ \'xpack.watcher.sections.watchDetail.actionStatusTable.acknowledgeButtonTitle\' | i18n: { defaultMessage: \'Acknowledge\' } }}"\n              ng-if="actionStatus.isAckable"\n              data-test-subj="btnActionAcknowledge-{{ actionStatus.id }}"\n            >\n              <span class="kuiMenuButton__icon kuiIcon fa-thumbs-up"></span>\n              <span\n                i18n-id="xpack.watcher.sections.watchDetail.actionStatusTable.acknowledgeButtonLabel"\n                i18n-default-message="Acknowledge"\n              ></span>\n            </button>\n          </div>\n        </div>\n      </td>\n    </tr>\n  </tbody>\n</table>\n'},7320:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.updateWatchSections=updateWatchSections;var _management=__webpack_require__(84);function updateWatchSections(watchId){var statusSection=_management.management.getSection("elasticsearch/watcher/watch/status");var editSection=_management.management.getSection("elasticsearch/watcher/watch/edit");var newSection=_management.management.getSection("elasticsearch/watcher/watch/new");var historySection=_management.management.getSection("elasticsearch/watcher/watch/history-item");newSection.hide();statusSection.hide();editSection.hide();historySection.hide();if(watchId){statusSection.url="#/management/elasticsearch/watcher/watches/watch/"+watchId+"/status";editSection.url="#/management/elasticsearch/watcher/watches/watch/"+watchId+"/edit";statusSection.show();editSection.show()}else newSection.show()}},7321:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.updateHistorySection=updateHistorySection;var _management=__webpack_require__(84);function updateHistorySection(display){var statusSection=_management.management.getSection("elasticsearch/watcher/watch/status");var editSection=_management.management.getSection("elasticsearch/watcher/watch/edit");var newSection=_management.management.getSection("elasticsearch/watcher/watch/new");var historySection=_management.management.getSection("elasticsearch/watcher/watch/history-item");newSection.hide();statusSection.hide();editSection.hide();historySection.show();historySection.display=display}},7322:function(module,exports,__webpack_require__){"use strict";__webpack_require__(7323)},7323:function(module,exports,__webpack_require__){"use strict";var _routes=__webpack_require__(13);var _routes2=_interopRequireDefault(_routes);__webpack_require__(240);var _notify=__webpack_require__(11);var _watch_edit_route=__webpack_require__(7324);var _watch_edit_route2=_interopRequireDefault(_watch_edit_route);__webpack_require__(647);__webpack_require__(7325);__webpack_require__(7376);var _constants=__webpack_require__(45);var _update_management_sections=__webpack_require__(1269);__webpack_require__(392);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}_routes2.default.when("/management/elasticsearch/watcher/watches/watch/:id/edit").when("/management/elasticsearch/watcher/watches/new-watch/:watchType").defaults(/management\/elasticsearch\/watcher\/watches\/(new-watch\/:watchType|watch\/:id\/edit)/,{template:_watch_edit_route2.default,controller:function WatchEditRouteController($injector){_classCallCheck(this,WatchEditRouteController);var $route=$injector.get("$route");this.watch=$route.current.locals.xpackWatch;this.WATCH_TYPES=_constants.WATCH_TYPES},controllerAs:"watchEditRoute",resolve:{watchTabs:function watchTabs($injector){var $route=$injector.get("$route");var watchId=$route.current.params.id;(0,_update_management_sections.updateWatchSections)(watchId)},xpackWatch:function xpackWatch($injector){var $route=$injector.get("$route");var watchService=$injector.get("xpackWatcherWatchService");var licenseService=$injector.get("xpackWatcherLicenseService");var kbnUrl=$injector.get("kbnUrl");var watchId=$route.current.params.id;var watchType=$route.current.params.watchType;if(!watchId)return licenseService.refreshLicense().then(function(){return watchService.newWatch(watchType)}).catch(function(err){return licenseService.checkValidity().then(function(){403!==err.status&&_notify.toastNotifications.addDanger(err.data.message);kbnUrl.redirect("/management/elasticsearch/watcher/watches");return Promise.reject()})});return watchService.loadWatch(watchId).catch(function(err){return licenseService.checkValidity().then(function(){403!==err.status&&_notify.toastNotifications.addDanger(err.data.message);kbnUrl.redirect("/management/elasticsearch/watcher/watches");return Promise.reject()})})},checkLicense:function checkLicense($injector){var licenseService=$injector.get("xpackWatcherLicenseService");return licenseService.checkValidity()}}})},7324:function(module,exports){module.exports='<json-watch-edit\n  xpack-watch="watchEditRoute.watch"\n  ng-if="watchEditRoute.watch.type === watchEditRoute.WATCH_TYPES.JSON"\n></json-watch-edit>\n<threshold-watch-edit\n  xpack-watch="watchEditRoute.watch"\n  ng-if="watchEditRoute.watch.type === watchEditRoute.WATCH_TYPES.THRESHOLD"\n></threshold-watch-edit>\n'},7325:function(module,exports,__webpack_require__){"use strict";__webpack_require__(7326)},7326:function(module,exports,__webpack_require__){"use strict";var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _modules=__webpack_require__(3);var _compat=__webpack_require__(107);var _notify=__webpack_require__(11);__webpack_require__(2257);var _json_watch_edit=__webpack_require__(7329);var _json_watch_edit2=_interopRequireDefault(_json_watch_edit);__webpack_require__(7330);__webpack_require__(2258);__webpack_require__(7339);__webpack_require__(7348);__webpack_require__(7351);__webpack_require__(7354);__webpack_require__(7368);__webpack_require__(7373);__webpack_require__(392);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var app=_modules.uiModules.get("xpack/watcher");app.directive("jsonWatchEdit",function($injector,i18n){var watchService=$injector.get("xpackWatcherWatchService");var licenseService=$injector.get("xpackWatcherLicenseService");var kbnUrl=$injector.get("kbnUrl");var confirmModal=$injector.get("confirmModal");return{restrict:"E",template:_json_watch_edit2.default,scope:{watch:"=xpackWatch"},bindToController:true,controllerAs:"jsonWatchEdit",controller:function(_InitAfterBindingsWor){_inherits(JsonWatchEditController,_InitAfterBindingsWor);function JsonWatchEditController(){var _ref;var _temp,_this,_ret;_classCallCheck(this,JsonWatchEditController);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _ret=(_temp=(_this=_possibleConstructorReturn(this,(_ref=JsonWatchEditController.__proto__||Object.getPrototypeOf(JsonWatchEditController)).call.apply(_ref,[this].concat(args))),_this),_this.onTabSelect=function(tabId){_this.selectedTabId=tabId},_this.isTabSelected=function(tabId){return _this.selectedTabId===tabId},_this.onWatchChange=function(watch){_this.watch=watch},_this.onValid=function(){_this.isValid=true},_this.onInvalid=function(){_this.isValid=false},_this.executeDetailsChange=function(executeDetails){_this.executeDetails=executeDetails},_this.onExecuteDetailsValid=function(){_this.isExecuteValid=true},_this.onExecuteDetailsInvalid=function(){_this.isExecuteValid=false},_this.onWatchExecute=function(){return watchService.executeWatch(_this.executeDetails,_this.watch).then(function(watchHistoryItem){_this.simulateResults=watchHistoryItem;_this.onTabSelect("simulate-results")}).catch(function(e){_notify.toastNotifications.addDanger(e)})},_this.onWatchSave=function(){if(!_this.watch.isNew)return _this.saveWatch();return _this.isExistingWatch().then(function(existingWatch){if(!existingWatch)return _this.saveWatch();var confirmModalOptions={onConfirm:_this.saveWatch,confirmButtonText:i18n("xpack.watcher.sections.watchEdit.json.saveConfirmModal.overwriteWatchButtonLabel",{defaultMessage:"Overwrite Watch"})};var message=i18n("xpack.watcher.sections.watchEdit.json.saveConfirmModal.description",{defaultMessage:'Watch with ID "{watchId}" {watchNameMessageFragment} already exists. Do you want to overwrite it?',values:{watchId:_this.watch.id,watchNameMessageFragment:existingWatch.name?i18n("xpack.watcher.sections.watchEdit.json.saveConfirmModal.descriptionFragmentText",{defaultMessage:'(name: "{existingWatchName}")',values:{existingWatchName:existingWatch.name}}):""}});return confirmModal(message,confirmModalOptions)}).catch(function(err){return _notify.toastNotifications.addDanger(err)})},_this.isExistingWatch=function(){return watchService.loadWatch(_this.watch.id).then(function(existingWatch){return existingWatch}).catch(function(err){return licenseService.checkValidity().then(function(){if(404===err.status)return false;throw err})})},_this.saveWatch=function(){return watchService.saveWatch(_this.watch).then(function(){_this.watch.isNew=false;_notify.toastNotifications.addSuccess(i18n("xpack.watcher.sections.watchEdit.json.saveSuccessNotificationText",{defaultMessage:"Saved '{watchDisplayName}'",values:{watchDisplayName:_this.watch.displayName}}));_this.onClose()}).catch(function(err){return licenseService.checkValidity().then(function(){return _notify.toastNotifications.addDanger(err)})})},_this.onWatchDelete=function(){var confirmModalOptions={onConfirm:_this.deleteWatch,confirmButtonText:i18n("xpack.watcher.sections.watchEdit.json.deleteConfirmModal.overwriteWatchButtonLabel",{defaultMessage:"Delete Watch"})};return confirmModal(i18n("xpack.watcher.sections.watchEdit.json.deleteConfirmModal.description",{defaultMessage:"This will permanently delete the watch. Are you sure?"}),confirmModalOptions)},_this.deleteWatch=function(){return watchService.deleteWatch(_this.watch.id).then(function(){_notify.toastNotifications.addSuccess(i18n("xpack.watcher.sections.watchEdit.json.deleteSuccessNotificationText",{defaultMessage:"Deleted '{watchDisplayName}'",values:{watchDisplayName:_this.watch.displayName}}));_this.onClose()}).catch(function(err){return licenseService.checkValidity().then(function(){return _notify.toastNotifications.addDanger(err)})})},_this.onClose=function(){kbnUrl.change("/management/elasticsearch/watcher/watches",{})},_temp),_possibleConstructorReturn(_this,_ret)}_createClass(JsonWatchEditController,[{key:"initAfterBindings",value:function initAfterBindings(){this.selectedTabId="edit-watch";this.simulateResults=null;this.originalWatch=_extends({},this.watch);this.omitBreadcrumbPages=["new-watch",this.watch.id];this.breadcrumb=this.watch.displayName;this.onExecuteDetailsValid()}}]);return JsonWatchEditController}(_compat.InitAfterBindingsWorkaround)}})},7327:function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(3);var _dirty_prompt=__webpack_require__(7328);_modules.uiModules.get("kibana").factory("dirtyPrompt",function($injector){var $window=$injector.get("$window");var confirmModal=$injector.get("confirmModal");var $rootScope=$injector.get("$rootScope");return new _dirty_prompt.DirtyPrompt($window,$rootScope,confirmModal)})},7328:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.DirtyPrompt=void 0;var _lodash=__webpack_require__(1);function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var confirmMessage="You have unsaved changes. Proceed and discard changes?";function registerUrlChangeHandler(checkDirty){this.beforeUnloadHandler=function(event){checkDirty()&&(event.returnValue=confirmMessage)};this.$window.addEventListener("beforeunload",this.beforeUnloadHandler)}function deregisterUrlChangeHandler(){this.$window.removeEventListener("beforeunload",this.beforeUnloadHandler)}function registerRouteChangeHandler(checkDirty){var _this=this;var deregister=this.$rootScope.$on("$locationChangeStart",function(event,newUrl){if(!checkDirty())return;event.preventDefault();var confirmModalOptions={onConfirm:function onConfirm(){_this.deregister();_this.$window.location.href=newUrl},confirmButtonText:"Discard Changes"};return _this.confirmModal(confirmMessage,confirmModalOptions)});this.deregisterListener=deregister}function deregisterRouteChangeHandler(){this.deregisterListener()}exports.DirtyPrompt=function DirtyPrompt($window,$rootScope,confirmModal){var _this2=this;_classCallCheck(this,DirtyPrompt);this.register=function(checkDirty){registerUrlChangeHandler.call(_this2,checkDirty);registerRouteChangeHandler.call(_this2,checkDirty)};this.deregister=function(){deregisterUrlChangeHandler.call(_this2);deregisterRouteChangeHandler.call(_this2)};this.$window=$window;this.$rootScope=$rootScope;this.confirmModal=confirmModal;this.deregisterListener=_lodash.noop;this.beforeUnloadHandler=_lodash.noop}},7329:function(module,exports){module.exports='<kbn-management-app\n  section="elasticsearch/watcher/watch"\n  omit-breadcrumb-pages="{{ jsonWatchEdit.omitBreadcrumbPages }}"\n  page-title="jsonWatchEdit.breadcrumb"\n>\n  <div class="euiSpacer euiSpacer--l"></div>\n  <div class="kuiViewContent euiPanel euiPanel--paddingLarge kuiViewContent--constrainedWidth">\n    <div class="kuiVerticalRhythm">\n      <watch-edit-title-bar\n        xpack-watch="jsonWatchEdit.watch"\n        is-watch-valid="jsonWatchEdit.isValid"\n        on-watch-delete="jsonWatchEdit.onWatchDelete"\n        on-watch-save="jsonWatchEdit.onWatchSave"\n        on-close="jsonWatchEdit.onClose"\n      ></watch-edit-title-bar>\n    </div>\n\n    <div class="kuiVerticalRhythm">\n      <kbn-tabs\n        selected-tab-id="jsonWatchEdit.selectedTabId"\n        on-tab-select="jsonWatchEdit.onTabSelect"\n      >\n        <kbn-tab\n          tab-id="edit-watch"\n          title="{{ \'xpack.watcher.sections.watchEdit.json.editTabTitle\' | i18n: { defaultMessage: \'Edit Watch\' } }}"\n        >\n          {{ \'xpack.watcher.sections.watchEdit.json.editTabLabel\' | i18n: { defaultMessage: \'Edit\' } }}\n        </kbn-tab>\n        <kbn-tab\n          tab-id="watch-simulate"\n          title="{{ \'xpack.watcher.sections.watchEdit.json.simulateTabTitle\' | i18n: { defaultMessage: \'Simulate Watch\' } }}"\n        >\n          {{ \'xpack.watcher.sections.watchEdit.json.simulateTabLabel\' | i18n: { defaultMessage: \'Simulate\' } }}\n        </kbn-tab>\n        <kbn-tab\n          tab-id="simulate-results"\n          title="{{ \'xpack.watcher.sections.watchEdit.json.simulateResultsTabTitle\' | i18n: { defaultMessage: \'Simulate Results\' } }}"\n          ng-if="jsonWatchEdit.simulateResults"\n        >\n          {{ \'xpack.watcher.sections.watchEdit.json.simulateResultsTabLabel\' | i18n: { defaultMessage: \'Simulation Results\' } }}\n        </kbn-tab>\n      </kbn-tabs>\n    </div>\n\n    <div\n      class="kuiVerticalRhythm"\n      ng-show="jsonWatchEdit.selectedTabId === \'edit-watch\'"\n    >\n      <watch-edit-detail\n        xpack-watch="jsonWatchEdit.watch"\n        on-watch-change="jsonWatchEdit.onWatchChange"\n        on-valid="jsonWatchEdit.onValid"\n        on-invalid="jsonWatchEdit.onInvalid"\n      ></watch-edit-detail>\n    </div>\n\n    <div\n      class="kuiVerticalRhythm"\n      ng-show="jsonWatchEdit.selectedTabId === \'watch-simulate\'"\n    >\n      <div class="kuiVerticalRhythm">\n        <watch-edit-execute-info-panel></watch-edit-execute-info-panel>\n      </div>\n\n      <div class="kuiVerticalRhythm">\n        <watch-edit-execute-detail\n          xpack-watch="jsonWatchEdit.watch"\n          previous-watch-history-item="jsonWatchEdit.simulateResults"\n          on-change="jsonWatchEdit.executeDetailsChange"\n          on-valid="jsonWatchEdit.onExecuteDetailsValid"\n          on-invalid="jsonWatchEdit.onExecuteDetailsInvalid"\n        ></watch-edit-execute-detail>\n      </div>\n\n      <div class="kuiVerticalRhythm">\n        <button\n          class="kuiButton kuiButton--primary kuiButton--iconText"\n          ng-disabled="!jsonWatchEdit.isExecuteValid"\n          ng-click="jsonWatchEdit.onWatchExecute()"\n          data-test-subj="btnSimulateWatch"\n        >\n          <span\n            class="kuiButton__icon kuiIcon fa-play"\n            i18n-id="xpack.watcher.sections.watchEdit.json.simulateWatchButtonLabel"\n            i18n-default-message="Simulate Watch"\n          ></span>\n        </button>\n      </div>\n    </div>\n\n    <div\n      class="kuiVerticalRhythm"\n      ng-show="jsonWatchEdit.selectedTabId === \'simulate-results\'"\n    >\n      <div class="kuiVerticalRhythm">\n        <watch-edit-watch-execute-summary\n          watch-history-item="jsonWatchEdit.simulateResults"\n        ></watch-edit-watch-execute-summary>\n      </div>\n\n      <div class="kuiVerticalRhythm">\n        <watch-edit-actions-execute-summary\n          xpack-watch="jsonWatchEdit.watch"\n          execute-details="jsonWatchEdit.executeDetails"\n          watch-history-item="jsonWatchEdit.simulateResults"\n        ></watch-edit-actions-execute-summary>\n      </div>\n\n      <div class="kuiVerticalRhythm">\n        <label\n          i18n-id="xpack.watcher.sections.watchEdit.json.simulationOutputLabel"\n          i18n-default-message="Simulation Output:"\n        ></label>\n        <watch-history-item-detail\n          watch-history-item="jsonWatchEdit.simulateResults"\n        ></watch-history-item-detail>\n      </div>\n    </div>\n\n  </div>\n</kbn-management-app>\n'},7330:function(module,exports,__webpack_require__){"use strict";__webpack_require__(7331);__webpack_require__(7334)},7331:function(module,exports,__webpack_require__){"use strict";__webpack_require__(7332)},7332:function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(3);var _kbn_tabs=__webpack_require__(7333);var _kbn_tabs2=_interopRequireDefault(_kbn_tabs);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var app=_modules.uiModules.get("xpack/watcher");app.directive("kbnTabs",function(){return{restrict:"E",replace:true,transclude:true,template:_kbn_tabs2.default,scope:{selectedTabId:"=",onTabSelect:"="},controllerAs:"kbnTabs",bindToController:true,controller:function KbnTabsController(){var _this=this;_classCallCheck(this,KbnTabsController);this.isTabSelected=function(tabId){return _this.selectedTabId===tabId}}}})},7333:function(module,exports){module.exports='<div class="kuiTabs" ng-transclude></div>\n'},7334:function(module,exports,__webpack_require__){"use strict";__webpack_require__(7335)},7335:function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(3);var _kbn_tab=__webpack_require__(7336);var _kbn_tab2=_interopRequireDefault(_kbn_tab);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var app=_modules.uiModules.get("xpack/watcher");app.directive("kbnTab",function(){return{require:"^^kbnTabs",restrict:"E",transclude:true,replace:true,template:_kbn_tab2.default,scope:{tabId:"@",title:"@"},controllerAs:"kbnTab",bindToController:true,controller:function KbnTabController(){_classCallCheck(this,KbnTabController)},link:function link($scope,$ele,attrs,kbnTabs){$scope.kbnTabs=kbnTabs}}})},7336:function(module,exports){module.exports='<button\n  class="kuiTab"\n  ng-class="{ \'kuiTab-isSelected\': kbnTabs.isTabSelected(kbnTab.tabId) }"\n  title="{{ kbnTab.title }}"\n  ng-click="kbnTabs.onTabSelect(kbnTab.tabId)"\n  data-test-subj="btnSelectTab-{{ kbnTab.id }}"\n>\n  <div class="kbn-tab-liner" ng-transclude></div>\n</button>\n'},7337:function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(3);var _watch_history_item_detail=__webpack_require__(7338);var _watch_history_item_detail2=_interopRequireDefault(_watch_history_item_detail);__webpack_require__(230);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var app=_modules.uiModules.get("xpack/watcher");app.directive("watchHistoryItemDetail",function(){return{restrict:"E",template:_watch_history_item_detail2.default,scope:{watchHistoryItem:"="},bindToController:true,controllerAs:"watchHistoryItemDetail",controller:function WatchHistoryItemDetailController($scope){var _this=this;_classCallCheck(this,WatchHistoryItemDetailController);$scope.aceLoaded=function(editor){_this.editor=editor;editor.$blockScrolling=Infinity}}}})},7338:function(module,exports){module.exports='<div\n  class="json-editor"\n  ng-model="watchHistoryItemDetail.watchHistoryItem.details"\n  json-input\n  readonly\n  ui-ace="{\n    useWrapMode: true,\n    mode: \'json\',\n    onLoad: aceLoaded,\n    advanced: {\n      highlightActiveLine: false\n    }\n  }"\n></div>\n'},7339:function(module,exports,__webpack_require__){"use strict";__webpack_require__(7340)},7340:function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(3);var _watch_edit_detail=__webpack_require__(7341);var _watch_edit_detail2=_interopRequireDefault(_watch_edit_detail);__webpack_require__(7342);var _documentation_links=__webpack_require__(7345);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var app=_modules.uiModules.get("xpack/watcher");app.directive("watchEditDetail",function(){return{restrict:"E",template:_watch_edit_detail2.default,scope:{watch:"=xpackWatch",onWatchChange:"=",onInvalid:"=",onValid:"="},bindToController:true,controllerAs:"watchEditDetail",controller:function WatchEditDetailController($scope){var _this=this;_classCallCheck(this,WatchEditDetailController);this.updateIsValid=function(){var isValid=!(_this.form.$invalid||!_this.isJsonValid);isValid?_this.onValid():_this.onInvalid()};this.onJsonValid=function(){_this.isJsonValid=true;_this.updateIsValid()};this.onJsonInvalid=function(){_this.isJsonValid=false;_this.updateIsValid()};this.onJsonChange=function(json){_this.watch.watch=json};$scope.$watchMulti(["watchEditDetail.watch.id","watchEditDetail.watch.name","watchEditDetail.watch.watch"],function(){_this.onWatchChange(_this.watch)});$scope.$watch("watchEditDetail.form.$valid",function(){_this.updateIsValid()});this.documentationLinks=_documentation_links.documentationLinks}}})},7341:function(module,exports){module.exports='<form name="watchEditDetail.form" novalidate>\n  <div class="kuiFormSection">\n    <label\n      for="id"\n      class="kuiFormLabel"\n      i18n-id="xpack.watcher.sections.watchEdit.detail.idLabel"\n      i18n-default-message="ID"\n    ></label>\n    <input\n      type="text"\n      id="id"\n      name="id"\n      class="fullWidth"\n      ng-class="::watchEditDetail.watch.isNew ? \'kuiTextInput\' : \'kuiStaticInput\'"\n      ng-model="watchEditDetail.watch.id"\n      ng-trim="false"\n      ng-disabled="!watchEditDetail.watch.isNew"\n      pattern="[a-zA-Z_][a-zA-Z0-9_@\\-\\$\\.]*"\n      required\n    >\n    <div\n      class="kuiInputNote kuiInputNote--danger"\n      ng-show="watchEditDetail.form.id.$error.pattern"\n      i18n-id="xpack.watcher.sections.watchEdit.detail.idNamingDescription"\n      i18n-default-message="ID must begin with a letter or underscore and contain only letters, underscores, dashes, and numbers."\n    ></div>\n    <div\n      class="kuiInputNote kuiInputNote--danger"\n      ng-show="watchEditDetail.form.id.$touched && watchEditDetail.form.id.$error.required"\n      i18n-id="xpack.watcher.sections.watchEdit.detail.idIsRequiredValidationMessage"\n      i18n-default-message="ID is required."\n    ></div>\n  </div>\n\n  <div class="kuiFormSection">\n    <label\n      for="name"\n      class="kuiFormLabel"\n      i18n-id="xpack.watcher.sections.watchEdit.detail.nameLabel"\n      i18n-default-message="Name"\n    ></label>\n    <input\n      type="text"\n      id="name"\n      name="name"\n      class="kuiTextInput fullWidth"\n      ng-model="watchEditDetail.watch.name"\n    >\n  </div>\n</form>\n\n<div class="kuiFormSection">\n  <label class="kuiFormLabel">\n    <span\n      i18n-id="xpack.watcher.sections.watchEdit.detail.watchJSONLabel"\n      i18n-default-message="Watch JSON"\n    ></span>\n    (\n      <a\n        href="{{ watchEditDetail.documentationLinks.watcher.putWatchApi }}"\n        target="_blank"\n        rel="noopener noreferrer"\n        data-test-subj="lnkPutWatchApiDoc"\n        i18n-id="xpack.watcher.sections.watchEdit.detail.syntaxLinkLabel"\n        i18n-default-message="Syntax"\n      ></a>\n    )\n  </label>\n  <json-editor\n    json="watchEditDetail.watch.watch"\n    on-change="watchEditDetail.onJsonChange"\n    on-valid="watchEditDetail.onJsonValid"\n    on-invalid="watchEditDetail.onJsonInvalid"\n  ></json-editor>\n  <div\n    class="kuiInputNote kuiInputNote--danger"\n    ng-show="!watchEditDetail.isJsonValid"\n    i18n-id="xpack.watcher.sections.watchEdit.detail.invalidJSONErrorMessage"\n    i18n-default-message="Invalid JSON"\n  ></div>\n</div>\n'},7342:function(module,exports,__webpack_require__){"use strict";__webpack_require__(7343)},7343:function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(3);var _json_editor=__webpack_require__(7344);var _json_editor2=_interopRequireDefault(_json_editor);__webpack_require__(230);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var app=_modules.uiModules.get("xpack/watcher");app.directive("jsonEditor",function(){return{restrict:"E",template:_json_editor2.default,replace:true,scope:{json:"=",onChange:"=",onValid:"=",onInvalid:"="},bindToController:true,controllerAs:"jsonEditor",controller:function JsonEditorController($scope){var _this=this;_classCallCheck(this,JsonEditorController);$scope.aceLoaded=function(editor){_this.editor=editor;editor.$blockScrolling=Infinity};$scope.$watch("jsonEditor.form.$valid",function(){_this.form.$invalid?_this.onInvalid():_this.onValid()});$scope.$watch("jsonEditor.json",function(){_this.onChange(_this.json)})}}})},7344:function(module,exports){module.exports='<form name="jsonEditor.form" novalidate>\n  <div\n    class="json-editor"\n    json-input\n    require-keys="true"\n    ui-ace="{\n      mode: \'json\',\n      onLoad: aceLoaded\n    }"\n    ng-model="jsonEditor.json"\n  ></div>\n</form>\n'},7345:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _documentation_links=__webpack_require__(7346);Object.defineProperty(exports,"documentationLinks",{enumerable:true,get:function get(){return _documentation_links.documentationLinks}})},7346:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.documentationLinks=void 0;var _make_documentation_link=__webpack_require__(7347);exports.documentationLinks={watcher:{putWatchApi:(0,_make_documentation_link.makeDocumentationLink)("{baseUrl}guide/en/elasticsearch/reference/{urlVersion}/watcher-api-put-watch.html")}}},7347:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.makeDocumentationLink=makeDocumentationLink;var _semver=__webpack_require__(1049);var _semver2=_interopRequireDefault(_semver);var _metadata=__webpack_require__(239);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var major=_semver2.default.major(_metadata.metadata.version);var minor=_semver2.default.minor(_metadata.metadata.version);var urlVersion=major+"."+minor;var baseUrl="https://www.elastic.co/";function makeDocumentationLink(linkTemplate){return linkTemplate.replace("{baseUrl}",baseUrl).replace("{urlVersion}",urlVersion)}},7348:function(module,exports,__webpack_require__){"use strict";__webpack_require__(7349)},7349:function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(3);var _watch_edit_title_bar=__webpack_require__(7350);var _watch_edit_title_bar2=_interopRequireDefault(_watch_edit_title_bar);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var app=_modules.uiModules.get("xpack/watcher");app.directive("watchEditTitleBar",function(){return{restrict:"E",replace:true,template:_watch_edit_title_bar2.default,scope:{watch:"=xpackWatch",isWatchValid:"=",onWatchDelete:"=",onWatchSave:"=",onClose:"="},bindToController:true,controllerAs:"watchEditTitleBar",controller:function WatchEditTitleBarController(){_classCallCheck(this,WatchEditTitleBarController)}}})},7350:function(module,exports){module.exports='<div class="kuiBar">\n  <div class="kuiBarSection">\n    <h2\n      class="euiTitle euiTitle--medium"\n      i18n-id="xpack.watcher.sections.watchEdit.titleBar.newWatchTitle"\n      i18n-default-message="New watch"\n      ></h2>\n  </div>\n  <div class="kuiBarSection">\n    <div class="kuiButtonGroup">\n      <button\n        class="kuiButton kuiButton--primary"\n        ng-disabled="!watchEditTitleBar.isWatchValid"\n        ng-click="watchEditTitleBar.onWatchSave()"\n        data-test-subj="btnSaveWatch"\n        i18n-id="xpack.watcher.sections.watchEdit.titleBar.saveButtonLabel"\n        i18n-default-message="Save"\n      ></button>\n      <button\n        class="kuiButton kuiButton--basic"\n        ng-click="watchEditTitleBar.onClose()"\n        data-test-subj="btnCancel"\n        i18n-id="xpack.watcher.sections.watchEdit.titleBar.cancelButtonLabel"\n        i18n-default-message="Cancel"\n      ></button>\n      <button\n        ng-if="!watchEditTitleBar.watch.isNew"\n        class="kuiButton kuiButton--danger kuiButton--iconText"\n        ng-click="watchEditTitleBar.onWatchDelete()"\n        tooltip="{{ \'xpack.watcher.sections.watchEdit.titleBar.deleteButtonTooltip\' | i18n: { defaultMessage: \'Delete Watch\' } }}"\n        data-test-subj="btnDeleteWatch"\n        i18n-id="xpack.watcher.sections.watchEdit.titleBar.deleteButtonLabel"\n        i18n-default-message="Delete"\n      ></button>\n    </div>\n  </div>\n</div>\n'},7351:function(module,exports,__webpack_require__){"use strict";__webpack_require__(7352)},7352:function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(3);var _watch_edit_execute_info_panel=__webpack_require__(7353);var _watch_edit_execute_info_panel2=_interopRequireDefault(_watch_edit_execute_info_panel);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var app=_modules.uiModules.get("xpack/watcher");app.directive("watchEditExecuteInfoPanel",function(){return{restrict:"E",replace:true,template:_watch_edit_execute_info_panel2.default,scope:{},bindToController:true,controllerAs:"watchEditExecuteInfoPanel",controller:function WatchEditExecuteInfoPanelController(){_classCallCheck(this,WatchEditExecuteInfoPanelController)}}})},7353:function(module,exports){module.exports='<div class="kuiInfoPanel kuiInfoPanel--info">\n  <div class="kuiInfoPanelHeader">\n    <span class="kuiInfoPanelHeader__icon kuiIcon kuiIcon--info fa-info"></span>\n    <span\n      class="kuiInfoPanelHeader__title"\n      i18n-id="xpack.watcher.sections.watchEdit.executeInfoPanel.testWatchExecutionTitle"\n      i18n-default-message="Test your watch execution"\n    ></span>\n  </div>\n\n  <div class="kuiInfoPanelBody">\n    <div\n      class="kuiInfoPanelBody__message"\n      i18n-id="xpack.watcher.sections.watchEdit.executeInfoPanel.howToModifyWatchExecutionDescription"\n      i18n-default-message="To modify how the watch is executed, expand the sections below"\n    ></div>\n  </div>\n</div>\n'},7354:function(module,exports,__webpack_require__){"use strict";__webpack_require__(7355)},7355:function(module,exports,__webpack_require__){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _lodash=__webpack_require__(1);var _modules=__webpack_require__(3);var _watch_edit_execute_detail=__webpack_require__(7356);var _watch_edit_execute_detail2=_interopRequireDefault(_watch_edit_execute_detail);__webpack_require__(7357);__webpack_require__(230);__webpack_require__(7362);var _execute_details=__webpack_require__(2251);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var app=_modules.uiModules.get("xpack/watcher");app.directive("watchEditExecuteDetail",function(){return{restrict:"E",template:_watch_edit_execute_detail2.default,scope:{watch:"=xpackWatch",previousWatchHistoryItem:"=",onChange:"=",onInvalid:"=",onValid:"="},bindToController:true,controllerAs:"watchEditExecuteDetail",controller:function(){function WatchEditExecuteDetailController($scope){var _this=this;_classCallCheck(this,WatchEditExecuteDetailController);this.onSectionToggle=function(sectionId){_this.isCollapsed[sectionId]=!_this.isCollapsed[sectionId]};this.isSectionCollapsed=function(sectionId){return _this.isCollapsed[sectionId]};this.onActionModesChanged=function(actionModes){_this.executeDetails.actionModes=actionModes};this.copyFromPreviousExecution=function(){_this.executeDetails.alternativeInput=(0,_lodash.get)(_this.previousWatchHistoryItem.details,"result.input.payload")};this.reportChanges=function(){var isValid=_this.triggerForm.$valid&&(_this.isAlternativeInputValid||_this.isAlternativeInputEmpty)&&_this.conditionForm.$valid&&_this.actionForm.$valid;isValid?_this.onValid():_this.onInvalid();_this.onChange(_this.executeDetails)};this.onAlternativeInputValid=function(){_this.isAlternativeInputValid=true;_this.reportChanges()};this.onAlternativeInputInvalid=function(){_this.isAlternativeInputValid=false;_this.reportChanges()};this.onAlternativeInputChange=function(json){_this.executeDetails.alternativeInput=json;_this.reportChanges()};this.executeDetails=new _execute_details.ExecuteDetails;this.isCollapsed={trigger:true,input:true,condition:true,action:true};$scope.aceLoaded=function(editor){_this.editor=editor;editor.$blockScrolling=Infinity};$scope.$watchMulti(["watchEditExecuteDetail.executeDetails.triggeredTime","watchEditExecuteDetail.executeDetails.scheduledTime","watchEditExecuteDetail.executeDetails.ignoreCondition","watchEditExecuteDetail.executeDetails.recordExecution","watchEditExecuteDetail.executeDetails.actionModes"],this.reportChanges)}_createClass(WatchEditExecuteDetailController,[{key:"isAlternativeInputEmpty",get:function get(){return(0,_lodash.isEmpty)(String(this.executeDetails.alternativeInput))}}]);return WatchEditExecuteDetailController}()}})},7356:function(module,exports){module.exports='<form name="watchEditExecuteDetail.triggerForm" novalidate>\n  <toggle-panel\n    toggle-panel-id="trigger"\n    button-text="{{\'xpack.watcher.sections.watchEdit.executeDetail.triggerOverridesButtonLabel\' | i18n: { defaultMessage: \'Trigger Overrides\' } }}"\n    on-toggle="watchEditExecuteDetail.onSectionToggle"\n  >\n    <div class="kuiFormSection">\n      <label\n        for="triggeredTime"\n        class="kuiFormLabel"\n        i18n-id="xpack.watcher.sections.watchEdit.executeDetail.triggerOverrides.triggeredTimeLabel"\n        i18n-default-message="Triggered Time"\n      ></label>\n      <input\n        type="text"\n        id="triggeredTime"\n        name="triggeredTime"\n        ng-model="watchEditExecuteDetail.executeDetails.triggeredTime"\n        class="kuiTextInput"\n        placeholder="{{\'xpack.watcher.sections.watchEdit.executeDetail.triggerOverrides.triggeredTimePlaceholder\' | i18n: { defaultMessage: \'now\' } }}"\n      >\n    </div>\n    <div class="kuiFormSection">\n      <label\n        for="scheduledTime"\n        class="kuiFormLabel"\n        i18n-id="xpack.watcher.sections.watchEdit.executeDetail.triggerOverrides.scheduledTimeLabel"\n        i18n-default-message="Scheduled Time"\n      ></label>\n      <input\n        type="text"\n        id="scheduledTime"\n        name="scheduledTime"\n        ng-model="watchEditExecuteDetail.executeDetails.scheduledTime"\n        class="kuiTextInput"\n        placeholder="{{\'xpack.watcher.sections.watchEdit.executeDetail.triggerOverrides.scheduledTimePlaceholder\' | i18n: { defaultMessage: \'now\' } }}"\n      >\n    </div>\n  </toggle-panel>\n</form>\n\n<toggle-panel\n  toggle-panel-id="input"\n  button-text="{{\'xpack.watcher.sections.watchEdit.executeDetail.inputOverridesButtonLabel\' | i18n: { defaultMessage: \'Input Overrides\' } }}"\n  is-collapsed="watchEditExecuteDetail.isSectionCollapsed(\'input\')"\n  on-toggle="watchEditExecuteDetail.onSectionToggle"\n>\n  <div class="kuiFormSection">\n    <label\n      for="recordExecution"\n      class="kuiFormLabel"\n      i18n-id="xpack.watcher.sections.watchEdit.executeDetail.inputOverrides.alternativeInputLabel"\n      i18n-default-message="Alternative Input"\n    ><a\n        class="copyFromPrevious"\n        ng-click="watchEditExecuteDetail.copyFromPreviousExecution()"\n        ng-show="watchEditExecuteDetail.previousWatchHistoryItem"\n        data-test-subj="lnkCopyFromPreviousExecution"\n        i18n-id="xpack.watcher.sections.watchEdit.executeDetail.inputOverrides.alternativeInputLinkText"\n        i18n-default-message="Copy from previous execution"\n      ></a>\n    </label>\n\n    <json-editor\n      json="watchEditExecuteDetail.executeDetails.alternativeInput"\n      on-change="watchEditExecuteDetail.onAlternativeInputChange"\n      on-valid="watchEditExecuteDetail.onAlternativeInputValid"\n      on-invalid="watchEditExecuteDetail.onAlternativeInputInvalid"\n    ></json-editor>\n    <div\n      class="kuiInputNote kuiInputNote--danger"\n      ng-show="!watchEditExecuteDetail.isAlternativeInputValid && !watchEditExecuteDetail.isAlternativeInputEmpty"\n      i18n-id="xpack.watcher.sections.watchEdit.executeDetail.inputOverrides.invalidJSONErrorMessage"\n      i18n-default-message="Invalid JSON"\n    ></div>\n  </div>\n</toggle-panel>\n\n<form name="watchEditExecuteDetail.conditionForm" novalidate>\n  <toggle-panel\n    toggle-panel-id="condition"\n    button-text="{{\'xpack.watcher.sections.watchEdit.executeDetail.conditionOverridesButtonLabel\' | i18n: { defaultMessage: \'Condition Overrides\' } }}"\n    is-collapsed="watchEditExecuteDetail.isSectionCollapsed(\'condition\')"\n    on-toggle="watchEditExecuteDetail.onSectionToggle"\n  >\n    <div class="kuiFormSection">\n      <label\n        for="ignoreCondition"\n        class="kuiFormLabel"\n      >\n        <input\n          id="ignoreCondition"\n          name="ignoreCondition"\n          type="checkbox"\n          ng-model="watchEditExecuteDetail.executeDetails.ignoreCondition"\n          class="kuiCheckBox"\n          i18n-id="xpack.watcher.sections.watchEdit.executeDetail.conditionOverrides.ignoreConditionLabel"\n          i18n-default-message="Ignore Condition (Condition is always true)"\n        ></label>\n    </div>\n  </toggle-panel>\n</form>\n\n<form name="watchEditExecuteDetail.actionForm" novalidate>\n  <toggle-panel\n    toggle-panel-id="action"\n    button-text="{{\'xpack.watcher.sections.watchEdit.executeDetail.actionOverridesButtonLabel\' | i18n: { defaultMessage: \'Action Overrides\' } }}"\n    is-collapsed="watchEditExecuteDetail.isSectionCollapsed(\'action\')"\n    on-toggle="watchEditExecuteDetail.onSectionToggle"\n  >\n    <div class="kuiFormSection">\n      <label class="kuiFormLabel"\n        i18n-id="xpack.watcher.sections.watchEdit.executeDetail.actionOverrides.actionModesLabel"\n        i18n-default-message="Action Modes"\n      ></label>\n      <watch-action-mode-table\n        xpack-watch="watchEditExecuteDetail.watch"\n        on-change="watchEditExecuteDetail.onActionModesChanged"\n      ></watch-action-mode-table>\n    </div>\n  </toggle-panel>\n</form>\n'},7357:function(module,exports,__webpack_require__){"use strict";__webpack_require__(7358)},7358:function(module,exports,__webpack_require__){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _lodash=__webpack_require__(1);var _modules=__webpack_require__(3);var _watch_action_mode_table=__webpack_require__(7359);var _watch_action_mode_table2=_interopRequireDefault(_watch_action_mode_table);var _get_action_type=__webpack_require__(7360);var _constants=__webpack_require__(45);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var app=_modules.uiModules.get("xpack/watcher");app.directive("watchActionModeTable",function(){return{restrict:"E",replace:true,template:_watch_action_mode_table2.default,scope:{watch:"=xpackWatch",onChange:"="},bindToController:true,controllerAs:"watchActionModeTable",controller:function(){function WatchActionModeTableController($scope){var _this=this;_classCallCheck(this,WatchActionModeTableController);$scope.$watch("watchActionModeTable.watch.watch",function(){_this.populateActionCollection();_this.onActionModeChange()});this.actionModes=(0,_lodash.values)(_constants.ACTION_MODES)}_createClass(WatchActionModeTableController,[{key:"populateActionCollection",value:function populateActionCollection(){var actions=(0,_lodash.get)(this.watch,"watch.actions");this.actionOptions=(0,_lodash.map)(actions,function(action,actionId){var type=(0,_get_action_type.getActionType)(action);return{actionId:actionId,type:type,actionMode:_constants.ACTION_MODES.SIMULATE}})}},{key:"onActionModeChange",value:function onActionModeChange(){var result={};this.actionOptions.forEach(function(actionOption){(0,_lodash.set)(result,actionOption.actionId,actionOption.actionMode)});this.onChange(result)}}]);return WatchActionModeTableController}()}})},7359:function(module,exports){module.exports='<table class="kuiTable kuiTable--fluid">\n  <thead>\n    <tr>\n      <th\n        scope="col"\n        class="kuiTableHeaderCell"\n        i18n-id="xpack.watcher.sections.watchEdit.watchActionModeTable.actionColumnLabel"\n        i18n-default-message="Action"\n      ></th>\n      <th\n        scope="col"\n        class="kuiTableHeaderCell"\n        i18n-id="xpack.watcher.sections.watchEdit.watchActionModeTable.typeColumnLabel"\n        i18n-default-message="Type"\n      ></th>\n      <th\n        scope="col"\n        class="kuiTableHeaderCell"\n        i18n-id="xpack.watcher.sections.watchEdit.watchActionModeTable.modeColumnLabel"\n        i18n-default-message="Mode"\n      ></th>\n    </tr>\n  </thead>\n  <tr ng-repeat="actionOption in watchActionModeTable.actionOptions">\n    <td class="kuiTableRowCell">\n      <div class="kuiTableRowCell__liner ">\n        {{actionOption.actionId}}\n      </div>\n    </td>\n    <td class="kuiTableRowCell">\n      <div class="kuiTableRowCell__liner">\n        {{actionOption.type}}\n      </div>\n    </td>\n    <td class="kuiTableRowCell">\n      <div class="kuiTableRowCell__liner">\n        <select\n          class="kuiSelect"\n          ng-model="actionOption.actionMode"\n          ng-options="actionMode for actionMode in watchActionModeTable.actionModes"\n          ng-change="watchActionModeTable.onActionModeChange()"\n        ></select>\n      </div>\n    </td>\n  </tr>\n</table>\n'},7360:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _get_action_type=__webpack_require__(7361);Object.defineProperty(exports,"getActionType",{enumerable:true,get:function get(){return _get_action_type.getActionType}})},7361:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getActionType=getActionType;var _lodash=__webpack_require__(1);var _constants=__webpack_require__(45);function getActionType(action){var type=(0,_lodash.intersection)((0,_lodash.keys)(action),(0,_lodash.values)(_constants.ACTION_TYPES))[0]||_constants.ACTION_TYPES.UNKNOWN;return type}},7362:function(module,exports,__webpack_require__){"use strict";__webpack_require__(7363)},7363:function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(3);var _toggle_panel=__webpack_require__(7364);var _toggle_panel2=_interopRequireDefault(_toggle_panel);__webpack_require__(7365);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var app=_modules.uiModules.get("kibana");app.directive("togglePanel",function(){return{restrict:"E",replace:true,transclude:true,template:_toggle_panel2.default,scope:{togglePanelId:"@",buttonText:"@",isDisabled:"=",isCollapsed:"=",onToggle:"="},controllerAs:"togglePanel",bindToController:true,controller:function TogglePanelController(){var _this=this;_classCallCheck(this,TogglePanelController);this.toggle=function(){_this.onToggle(_this.togglePanelId)}}}})},7364:function(module,exports){module.exports='<div>\n  <div class="kuiTogglePanelHeader">\n    <toggle-button\n      is-disabled="togglePanel.isDisabled"\n      is-collapsed="togglePanel.isCollapsed"\n      on-click="togglePanel.toggle"\n    >\n      {{togglePanel.buttonText}}\n    </toggle-button>\n  </div>\n  <div\n    ng-hide="togglePanel.isCollapsed"\n    ng-transclude\n  ></div>\n</div>\n'},7365:function(module,exports,__webpack_require__){"use strict";__webpack_require__(7366)},7366:function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(3);var _toggle_button=__webpack_require__(7367);var _toggle_button2=_interopRequireDefault(_toggle_button);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var app=_modules.uiModules.get("kibana");app.directive("toggleButton",function(){return{restrict:"E",replace:true,transclude:true,template:_toggle_button2.default,scope:{isDisabled:"=",isCollapsed:"=",onClick:"="},controllerAs:"toggleButton",bindToController:true,controller:function ToggleButtonController(){_classCallCheck(this,ToggleButtonController)}}})},7367:function(module,exports){module.exports='<button\n  class="kuiToggleButton"\n  ng-disabled="toggleButton.isDisabled"\n  ng-click="toggleButton.onClick()"\n  type="button"\n>\n  <span\n    ng-class="{\'fa-caret-down\': !toggleButton.isCollapsed, \'fa-caret-right\': toggleButton.isCollapsed}"\n    class="kuiToggleButton__icon kuiIcon"\n  ></span>\n  <span ng-transclude></span>\n</button>\n'},7368:function(module,exports,__webpack_require__){"use strict";__webpack_require__(7369)},7369:function(module,exports,__webpack_require__){"use strict";var _lodash=__webpack_require__(1);var _modules=__webpack_require__(3);var _watch_edit_actions_execute_summary=__webpack_require__(7370);var _watch_edit_actions_execute_summary2=_interopRequireDefault(_watch_edit_actions_execute_summary);__webpack_require__(2259);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var app=_modules.uiModules.get("xpack/watcher");app.directive("watchEditActionsExecuteSummary",function(){return{restrict:"E",replace:true,template:_watch_edit_actions_execute_summary2.default,scope:{watch:"=xpackWatch",watchHistoryItem:"=",executeDetails:"="},bindToController:true,controllerAs:"watchEditActionsExecuteSummary",controller:function WatchEditActionsExecuteSummaryController($scope){var _this=this;_classCallCheck(this,WatchEditActionsExecuteSummaryController);$scope.$watch("watchEditActionsExecuteSummary.watchHistoryItem",function(){if(!_this.watchHistoryItem)return;var actions=_this.watch.actions;var actionStatuses=_this.watchHistoryItem.watchStatus.actionStatuses;var actionModes=_this.executeDetails.actionModes;_this.actionDetails=actions.map(function(action){var actionMode=actionModes[action.id];var actionStatus=(0,_lodash.find)(actionStatuses,{id:action.id});return{action:action,actionMode:actionMode,actionStatus:actionStatus}})})}}})},7370:function(module,exports){module.exports='<table class="kuiTable kuiTable--fluid kuiVerticalRhythm">\n  <thead>\n    <tr>\n      <th\n        scope="col"\n        class="kuiTableHeaderCell"\n        i18n-id="xpack.watcher.sections.watchEdit.actionsExecuteSummary.actionColumnLabel"\n        i18n-default-message="Action"\n      ></th>\n      <th\n        scope="col"\n        class="kuiTableHeaderCell"\n        i18n-id="xpack.watcher.sections.watchEdit.actionsExecuteSummary.typeColumnLabel"\n        i18n-default-message="Type"\n      ></th>\n      <th\n        scope="col"\n        class="kuiTableHeaderCell"\n        i18n-id="xpack.watcher.sections.watchEdit.actionsExecuteSummary.modeColumnLabel"\n        i18n-default-message="Mode"\n      ></th>\n      <th\n        scope="col"\n        class="kuiTableHeaderCell"\n        i18n-id="xpack.watcher.sections.watchEdit.actionsExecuteSummary.stateColumnLabel"\n        i18n-default-message="State"\n      ></th>\n      <th\n        scope="col"\n        class="kuiTableHeaderCell"\n        i18n-id="xpack.watcher.sections.watchEdit.actionsExecuteSummary.reasonColumnLabel"\n        i18n-default-message="Reason"\n      ></th>\n    </tr>\n  </thead>\n  <tr ng-repeat="actionDetail in watchEditActionsExecuteSummary.actionDetails">\n    <td class="kuiTableRowCell">\n      <div class="kuiTableRowCell__liner ">\n        {{actionDetail.action.id}}\n      </div>\n    </td>\n    <td class="kuiTableRowCell">\n      <div class="kuiTableRowCell__liner ">\n        {{actionDetail.action.type}}\n      </div>\n    </td>\n    <td class="kuiTableRowCell">\n      <div class="kuiTableRowCell__liner ">\n        {{actionDetail.actionMode}}\n      </div>\n    </td>\n    <td class="kuiTableRowCell">\n      <div class="kuiTableRowCell__liner">\n        <action-state-icon action-status="actionDetail.actionStatus"></action-state-icon>\n        {{actionDetail.actionStatus.state}}\n      </div>\n    </td>\n    <td class="kuiTableRowCell">\n      <div class="kuiTableRowCell__liner">\n        {{actionDetail.actionStatus.lastExecutionReason}}\n      </div>\n    </td>\n  </tr>\n</table>\n'},7371:function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(3);var _action_state_icon=__webpack_require__(7372);var _action_state_icon2=_interopRequireDefault(_action_state_icon);var _constants=__webpack_require__(45);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var app=_modules.uiModules.get("xpack/watcher");app.directive("actionStateIcon",function(){return{restrict:"E",replace:true,template:_action_state_icon2.default,scope:{actionStatus:"="},bindToController:true,controllerAs:"actionStateIcon",controller:function ActionStateIconController(){_classCallCheck(this,ActionStateIconController);this.ACTION_STATES=_constants.ACTION_STATES}}})},7372:function(module,exports){module.exports='<div class="kuiIcon">\n  <div\n    class="kuiIcon kuiIcon--success fa-check"\n    ng-if="actionStateIcon.actionStatus.state === actionStateIcon.ACTION_STATES.OK"\n  ></div>\n  <div\n    class="kuiIcon kuiIcon--warning fa-thumbs-up"\n    ng-if="actionStateIcon.actionStatus.state === actionStateIcon.ACTION_STATES.ACKNOWLEDGED"\n  ></div>\n  <div\n    class="kuiIcon kuiIcon--warning fa-clock-o"\n    ng-if="actionStateIcon.actionStatus.state === actionStateIcon.ACTION_STATES.THROTTLED"\n  ></div>\n  <div\n    class="kuiIcon kuiIcon--warning fa-bullhorn"\n    ng-if="actionStateIcon.actionStatus.state === actionStateIcon.ACTION_STATES.FIRING"\n  ></div>\n  <div\n    class="kuiIcon kuiIcon--error fa-exclamation-triangle"\n    ng-if="actionStateIcon.actionStatus.state === actionStateIcon.ACTION_STATES.ERROR"\n  ></div>\n</div>\n'},7373:function(module,exports,__webpack_require__){"use strict";__webpack_require__(7374)},7374:function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(3);var _watch_edit_watch_execute_summary=__webpack_require__(7375);var _watch_edit_watch_execute_summary2=_interopRequireDefault(_watch_edit_watch_execute_summary);__webpack_require__(852);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var app=_modules.uiModules.get("xpack/watcher");app.directive("watchEditWatchExecuteSummary",function(){return{restrict:"E",replace:true,template:_watch_edit_watch_execute_summary2.default,scope:{watchHistoryItem:"="},bindToController:true,controllerAs:"watchEditWatchExecuteSummary",controller:function WatchEditWatchExecuteSummaryController(){_classCallCheck(this,WatchEditWatchExecuteSummaryController)}}})},7375:function(module,exports){module.exports='<div class="watch-simulation-result">\n  <label\n    i18n-id="xpack.watcher.sections.watchEdit.watchExecuteSummary.simulationStatusLabel"\n    i18n-default-message="Simulation Status:"\n  ></label>\n  <watch-state-icon watch-status="watchEditWatchExecuteSummary.watchHistoryItem.watchStatus"></watch-state-icon>\n  <span>{{ watchEditWatchExecuteSummary.watchHistoryItem.watchStatus.state }}</span>\n</div>\n'},7376:function(module,exports,__webpack_require__){"use strict";__webpack_require__(7377)},7377:function(module,exports,__webpack_require__){"use strict";var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _lodash=__webpack_require__(1);var _modules=__webpack_require__(3);var _compat=__webpack_require__(107);__webpack_require__(2257);var _threshold_watch_edit=__webpack_require__(7378);var _threshold_watch_edit2=_interopRequireDefault(_threshold_watch_edit);__webpack_require__(7379);__webpack_require__(7393);__webpack_require__(7424);__webpack_require__(7435);__webpack_require__(7459);__webpack_require__(7462);__webpack_require__(392);__webpack_require__(7465);__webpack_require__(647);__webpack_require__(7468);__webpack_require__(7471);var _datemath=__webpack_require__(83);var _datemath2=_interopRequireDefault(_datemath);var _notify=__webpack_require__(11);var _visualize_options=__webpack_require__(7477);var _constants=__webpack_require__(45);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var app=_modules.uiModules.get("xpack/watcher");app.directive("thresholdWatchEdit",function($injector,i18n){var watchService=$injector.get("xpackWatcherWatchService");var fieldsService=$injector.get("xpackWatcherFieldsService");var timezoneService=$injector.get("xpackWatcherTimezoneService");var licenseService=$injector.get("xpackWatcherLicenseService");var intervalService=$injector.get("xpackWatcherIntervalService");var actionDefaultsService=$injector.get("xpackWatcherActionDefaultsService");var kbnUrl=$injector.get("kbnUrl");var confirmModal=$injector.get("confirmModal");var $interval=$injector.get("$interval");return{restrict:"E",template:_threshold_watch_edit2.default,scope:{watch:"=xpackWatch"},bindToController:true,controllerAs:"thresholdWatchEdit",controller:function(_InitAfterBindingsWor){_inherits(ThresholdWatchEditController,_InitAfterBindingsWor);function ThresholdWatchEditController(){var _ref;var _temp,_this,_ret;_classCallCheck(this,ThresholdWatchEditController);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _ret=(_temp=(_this=_possibleConstructorReturn(this,(_ref=ThresholdWatchEditController.__proto__||Object.getPrototypeOf(ThresholdWatchEditController)).call.apply(_ref,[this].concat(args))),_this),_this.loadFields=function(){if(!(0,_lodash.isEqual)(_this.watch.index,_this.index)){_this.index=_this.watch.index;if(!_this.index.length){_this.fields=[];return}fieldsService.getFields(_this.index).then(function(fields){_this.fields=fields})}},_this.onChange=function(watch){_this.loadFields();_this.watch=watch;_this.updateVisualizeTimeWindow();_this.visualizeWatch()},_this.onActionChange=function(){},_this.onTitlePanelValid=function(){_this.titlePanelValid=true;_this.visualizeWatch()},_this.onTitlePanelInvalid=function(){_this.titlePanelValid=false},_this.onConditionPanelValid=function(){_this.conditionPanelValid=true;_this.visualizeWatch()},_this.onConditionPanelInvalid=function(){_this.conditionPanelValid=false},_this.onActionsValid=function(){_this.actionsPanelValid=true},_this.onActionsInvalid=function(){_this.actionsPanelValid=false},_this.onActionAdd=function(actionType){var defaults=actionDefaultsService.getDefaults(_this.watch.type,actionType);_this.watch.createAction(actionType,defaults)},_this.onActionDelete=function(action){_this.watch.deleteAction(action)},_this.onActionSimulate=function(action){watchService.simulateWatchAction(_this.watch,action).then(function(watchHistoryItem){var actionStatuses=watchHistoryItem.watchStatus.actionStatuses;var actionStatus=actionStatuses.find(function(a){return a.id===action.id});if(false===actionStatus.lastExecutionSuccessful){var message=actionStatus.lastExecutionReason||action.simulateFailMessage;_notify.toastNotifications.addDanger(message)}else _notify.toastNotifications.addSuccess(action.simulateMessage)}).catch(function(err){_notify.toastNotifications.addDanger(err)})},_this.onClose=function(){kbnUrl.change("/management/elasticsearch/watcher/watches",{})},_this.updateVisualizeTimeWindow=function(){var VISUALIZE_TIME_WINDOW_MULTIPLIER=5;var fromExpression="now-"+_this.watch.timeWindowSize*VISUALIZE_TIME_WINDOW_MULTIPLIER+_this.watch.timeWindowUnit;var toExpression="now";var fromMoment=_datemath2.default.parse(fromExpression);var toMoment=_datemath2.default.parse(toExpression);_this.visualizeTimeWindowFrom=fromMoment?fromMoment.valueOf():void 0;_this.visualizeTimeWindowTo=toMoment?toMoment.valueOf():void 0},_this.visualizeWatch=(0,_lodash.debounce)(function(){if(!_this.titlePanelValid||!_this.conditionPanelValid)return;var interval=intervalService.getInterval({min:_this.visualizeTimeWindowFrom,max:_this.visualizeTimeWindowTo}).expression;var visualizeOptions=new _visualize_options.VisualizeOptions({rangeFrom:_this.visualizeTimeWindowFrom,rangeTo:_this.visualizeTimeWindowTo,interval:interval,timezone:timezoneService.getTimezone()});return watchService.visualizeWatch(_this.watch,visualizeOptions).then(function(_ref2){var visualizeData=_ref2.visualizeData;_this.visualizeData=visualizeData;_this.visualizeDataPageCount=Object.keys(visualizeData).length;_this.setVisualizationPageByKey(_this.visualizeDataKey);_this.restartRefreshWatchVisualizationTimer()}).catch(function(e){_notify.toastNotifications.addDanger(e);_this.stopRefreshWatchVisualizationTimer()})},500),_this.setVisualizationPageByKey=function(key){var newIndex=Object.keys(_this.visualizeData).indexOf(key);-1===newIndex?_this.setVisualizationPage(0):_this.setVisualizationPage(newIndex)},_this.setVisualizationPage=function(index){_this.visualizeDataKey=Object.keys(_this.visualizeData)[index];_this.visualizeDataPageIndex=index;_this.visualizeDataTitle=_this.watch.termField+" ("+(index+1)+" of "+_this.visualizeDataPageCount+"): "+_this.visualizeDataKey;_this.chartSeries=_this.visualizeData[_this.visualizeDataKey]},_this.onVisualizationNextPage=function(){var newIndex=_this.visualizeDataPageIndex+1;newIndex<_this.visualizeDataPageCount?_this.setVisualizationPage(newIndex):_this.setVisualizationPage(0)},_this.onVisualizationPreviousPage=function(){var newIndex=_this.visualizeDataPageIndex-1;newIndex>=0?_this.setVisualizationPage(newIndex):_this.setVisualizationPage(_this.visualizeDataPageCount-1)},_this.restartRefreshWatchVisualizationTimer=function(){_this.stopRefreshWatchVisualizationTimer();_this.refreshVisualizationWatchInterval=$interval(_this.visualizeWatch,_constants.REFRESH_INTERVALS.WATCH_VISUALIZATION)},_this.stopRefreshWatchVisualizationTimer=function(){Boolean(_this.refreshVisualizationWatchInterval)&&$interval.cancel(_this.refreshVisualizationWatchInterval)},_this.onWatchSave=function(){if(!_this.watch.isNew)return _this.saveWatch();return _this.isExistingWatch().then(function(existingWatch){if(!existingWatch)return _this.saveWatch();var confirmModalOptions={onConfirm:_this.saveWatch,confirmButtonText:i18n("xpack.watcher.sections.watchEdit.threshold.saveConfirmModal.overwriteWatchButtonLabel",{defaultMessage:"Overwrite Watch"})};var message=i18n("xpack.watcher.sections.watchEdit.threshold.saveConfirmModal.description",{defaultMessage:'Watch with ID "{watchId}" {watchNameMessageFragment} already exists. Do you want to overwrite it?',values:{watchId:_this.watch.id,watchNameMessageFragment:existingWatch.name?i18n("xpack.watcher.sections.watchEdit.threshold.saveConfirmModal.descriptionFragmentText",{defaultMessage:'(name: "{existingWatchName}")',values:{existingWatchName:existingWatch.name}}):""}});return confirmModal(message,confirmModalOptions)}).catch(function(err){return _notify.toastNotifications.addDanger(err)})},_this.isExistingWatch=function(){return watchService.loadWatch(_this.watch.id).then(function(existingWatch){return existingWatch}).catch(function(err){return licenseService.checkValidity().then(function(){if(404===err.status)return false;throw err})})},_this.saveWatch=function(){return watchService.saveWatch(_this.watch).then(function(){_this.watch.isNew=false;_notify.toastNotifications.addSuccess(i18n("xpack.watcher.sections.watchEdit.threshold.saveSuccessNotificationText",{defaultMessage:"Saved '{watchDisplayName}'",values:{watchDisplayName:_this.watch.displayName}}));_this.onClose()}).catch(function(err){return licenseService.checkValidity().then(function(){return _notify.toastNotifications.addDanger(err)})})},_temp),_possibleConstructorReturn(_this,_ret)}_createClass(ThresholdWatchEditController,[{key:"initAfterBindings",value:function initAfterBindings($scope){var _this2=this;this.index=void 0;this.originalWatch=_extends({},this.watch);this.omitBreadcrumbPages=["new-watch",this.watch.id];this.breadcrumb=this.watch.displayName;$scope.$on("$destroy",function(){_this2.stopRefreshWatchVisualizationTimer()});this.loadFields()}},{key:"saveDisabled",get:function get(){return!(this.titlePanelValid&&this.conditionPanelValid&&this.actionsPanelValid)}}]);return ThresholdWatchEditController}(_compat.InitAfterBindingsWorkaround)}})},7378:function(module,exports){module.exports='<kbn-management-app\n  class="thresholdWatchEdit"\n  section="elasticsearch/watcher/watch"\n  omit-breadcrumb-pages="{{ thresholdWatchEdit.omitBreadcrumbPages }}"\n  page-title="thresholdWatchEdit.breadcrumb"\n>\n  <div class="thresholdWatchEditContent">\n\n    <div class="euiPanel euiPanel--paddingLarge kuiVerticalRhythm">\n      <watch-edit-title-panel\n        fields="thresholdWatchEdit.fields"\n        xpack-watch="thresholdWatchEdit.watch"\n        on-change="thresholdWatchEdit.onChange"\n        on-valid="thresholdWatchEdit.onTitlePanelValid"\n        on-invalid="thresholdWatchEdit.onTitlePanelInvalid"\n      ></watch-edit-title-panel>\n    </div>\n\n    <div\n      class="kuiPanel kuiVerticalRhythm euiPanel euiPanel--paddingLarge"\n      ng-show="thresholdWatchEdit.titlePanelValid"\n    >\n      <section class="kuiVerticalRhythm">\n        <header>\n          <h2\n            class="kuiSubTitle"\n            i18n-id="xpack.watcher.sections.watchEdit.threshold.matchingFollowingConditionTitle"\n            i18n-default-message="Matching the following condition"\n          ></h2>\n        </header>\n      </section>\n\n      <div class="kuiVerticalRhythm" style="margin-bottom:30px;">\n        <threshold-watch-expression\n          threshold-watch="thresholdWatchEdit.watch"\n          fields="thresholdWatchEdit.fields"\n          on-change="thresholdWatchEdit.onChange"\n          on-valid="thresholdWatchEdit.onConditionPanelValid"\n          on-invalid="thresholdWatchEdit.onConditionPanelInvalid"\n        ></threshold-watch-expression>\n      </div>\n\n\n      <div class="kuiPanel kuiVerticalRhythm">\n        <div\n          class="kuiPanelHeader"\n          ng-show="thresholdWatchEdit.visualizeDataPageCount > 1"\n        >\n          <div class="kuiPanelHeaderSection">\n            <div class="kuiPanelHeader__title">\n              {{ thresholdWatchEdit.visualizeDataTitle }}\n            </div>\n          </div>\n        </div>\n\n        <div class="kuiPanelBody">\n          <div\n            class="kuiVerticalRhythm kuiWatchVisualization"\n            ng-class="{ kuiWatchVisualizationMulti: thresholdWatchEdit.visualizeDataPageCount > 1 }">\n            <threshold-preview-chart\n              series="thresholdWatchEdit.chartSeries"\n              threshold-value="thresholdWatchEdit.watch.threshold"\n              start-date="thresholdWatchEdit.visualizeTimeWindowFrom"\n              end-date="thresholdWatchEdit.visualizeTimeWindowTo"\n            ></threshold-preview-chart>\n          </div>\n        </div>\n        <panel-pager\n          on-next-page="thresholdWatchEdit.onVisualizationNextPage"\n          on-previous-page="thresholdWatchEdit.onVisualizationPreviousPage"\n          ng-show="thresholdWatchEdit.visualizeDataPageCount > 1"\n        ></panel-pager>\n      </div>\n    </div>\n\n    <div\n      class="kuiPanel kuiVerticalRhythm euiPanel euiPanel--paddingLarge"\n      ng-show="thresholdWatchEdit.titlePanelValid && thresholdWatchEdit.conditionPanelValid"\n    >\n      <watch-actions\n        actions="thresholdWatchEdit.watch.actions"\n        on-action-add="thresholdWatchEdit.onActionAdd"\n        on-action-change="thresholdWatchEdit.onActionChange"\n        on-action-simulate="thresholdWatchEdit.onActionSimulate"\n        on-action-delete="thresholdWatchEdit.onActionDelete"\n        on-valid="thresholdWatchEdit.onActionsValid"\n        on-invalid="thresholdWatchEdit.onActionsInvalid"\n      ></watch-actions>\n    </div>\n\n    <div class="kuiButtonGroup kuiVerticalRhythm euiPanel euiPanel--paddingLarge thresholdWatchEditButtons">\n\n      <button\n        class="kuiButton kuiButton--primary"\n        ng-disabled="thresholdWatchEdit.saveDisabled"\n        ng-click="thresholdWatchEdit.onWatchSave()">\n        <span class="kuiButton__inner">\n          <span\n            i18n-id="xpack.watcher.sections.watchEdit.threshold.saveButtonLabel"\n            i18n-default-message="Save"\n          ></span>\n        </span>\n      </button>\n\n    </div>\n\n  </div>\n</kbn-management-app>\n'},7379:function(module,exports,__webpack_require__){"use strict";__webpack_require__(7380)},7380:function(module,exports,__webpack_require__){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _lodash=__webpack_require__(1);var _modules=__webpack_require__(3);var _compat=__webpack_require__(107);var _watch_edit_title_panel=__webpack_require__(7381);var _watch_edit_title_panel2=_interopRequireDefault(_watch_edit_title_panel);var _constants=__webpack_require__(45);__webpack_require__(7382);__webpack_require__(2260);__webpack_require__(317);__webpack_require__(348);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var app=_modules.uiModules.get("xpack/watcher");var VALID_NORMALIZED_TYPES=["date"];app.directive("watchEditTitlePanel",function($injector,i18n){var htmlIdGeneratorFactory=$injector.get("xpackWatcherHtmlIdGeneratorFactory");return{restrict:"E",template:_watch_edit_title_panel2.default,replace:true,scope:{watch:"=xpackWatch",fields:"=",onChange:"=",onInvalid:"=",onValid:"="},bindToController:true,controllerAs:"watchEditTitlePanel",controller:function(_InitAfterBindingsWor){_inherits(WatchEditTitlePanelController,_InitAfterBindingsWor);function WatchEditTitlePanelController(){var _ref;var _temp,_this,_ret;_classCallCheck(this,WatchEditTitlePanelController);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _ret=(_temp=(_this=_possibleConstructorReturn(this,(_ref=WatchEditTitlePanelController.__proto__||Object.getPrototypeOf(WatchEditTitlePanelController)).call.apply(_ref,[this].concat(args))),_this),_this.onIndexSelectTouched=function(){_this.indexSelectTouched=true},_this.onIndexSelection=function(indices){_this.watch.index=indices;_this.indexSelectTouched=true;_this.updateValidity();_this.onChange(_this.watch)},_this.updateValidity=function(){var isValid=_this.form.$valid&&_this.hasAnyValidSelectedIndices();isValid?_this.onValid():_this.onInvalid()},_this.hasAnySelectedIndices=function(){if(Array.isArray(_this.watch.index))return _this.watch.index.length>0;return Boolean(_this.watch.index)},_this.hasAnyValidSelectedIndices=function(){return _this.hasAnySelectedIndices()&&Boolean(_this.fields)&&_this.fields.length>0},_this.isValidationMessageVisible=function(fieldName,errorType){var showIfOtherErrors=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!_this.form[fieldName])return false;var showMessage=(_this.form[fieldName].$touched||_this.form[fieldName].$dirty)&&_this.form[fieldName].$error[errorType];showMessage&&!showIfOtherErrors&&(0,_lodash.size)(_this.form[fieldName].$error)>1&&(showMessage=false);return showMessage},_this.showIndexSelectionValidationState=function(){return!_this.hasAnySelectedIndices()||_this.showInvalidIndexValidationMessage()||_this.showNoTimeFieldsValidationMessage()},_this.showRequiredIndexSelectionValidationMessage=function(){return _this.indexSelectTouched&&!_this.hasAnySelectedIndices()},_this.showInvalidIndexValidationMessage=function(){return _this.hasAnySelectedIndices()&&Boolean(_this.fields)&&0===_this.fields.length},_this.showNoTimeFieldsValidationMessage=function(){return _this.hasAnyValidSelectedIndices()&&0===_this.timeFields.length},_temp),_possibleConstructorReturn(_this,_ret)}_createClass(WatchEditTitlePanelController,[{key:"initAfterBindings",value:function initAfterBindings($scope){var _this2=this;this.makeId=htmlIdGeneratorFactory.create();this.triggerIntervalSize=this.watch.triggerIntervalSize;this.triggerIntervalUnit=this.watch.triggerIntervalUnit;this.triggerIntervalMinimumUnit=_constants.TIME_UNITS.SECOND;this.triggerIntervalMinimumSize=10;this.timeFields=[];this.indexSelectTouched=false;$scope.$watch("watchEditTitlePanel.triggerIntervalSize",function(newSize){_this2.watch.triggerIntervalSize=Number(newSize);_this2.onChange(_this2.watch)});$scope.$watch("watchEditTitlePanel.triggerIntervalUnit",function(newUnit){_this2.watch.triggerIntervalUnit=newUnit;_this2.onChange(_this2.watch)});$scope.$watchMulti(["watchEditTitlePanel.watch.name","watchEditTitlePanel.watch.timeField"],function(){_this2.onChange(_this2.watch)});$scope.$watch("watchEditTitlePanel.watch.index",function(newIndex){if(!Boolean(newIndex)||0===newIndex.length){_this2.watch.timeField=void 0;_this2.timeFields=[]}});$scope.$watchMulti(["watchEditTitlePanel.form.$valid","watchEditTitlePanel.watch.index"],this.updateValidity);$scope.$watch("watchEditTitlePanel.fields",function(fields){_this2.timeFields=Boolean(fields)?fields.filter(function(field){return VALID_NORMALIZED_TYPES.includes(field.normalizedType)}):[];_this2.updateValidity()})}},{key:"title",get:function get(){if(this.watch.isNew){var typeName=this.watch.typeName.toLowerCase();return i18n("xpack.watcher.sections.watchEdit.titlePanel.createNewTypeOfWatchTitle",{defaultMessage:"Create a new {typeName}",values:{typeName:typeName}})}return this.watch.name}},{key:"description",get:function get(){return this.watch.titleDescription}}]);return WatchEditTitlePanelController}(_compat.InitAfterBindingsWorkaround)}})},7381:function(module,exports){module.exports='<section>\n  <header>\n    <h1 class="kuiTitle">\n      {{watchEditTitlePanel.title}}\n    </h1>\n    <h2 class="kuiSubText kuiSubduedText">\n      {{watchEditTitlePanel.description}}\n    </h2>\n  </header>\n  <form name="watchEditTitlePanel.form" novalidate>\n    <div class="kuiFieldGroup kuiFieldGroup--alignTop watchEditTitlePanelContent">\n      <div class="kuiFieldGroupSection kuiFieldGroupSection--wide">\n        <label\n          for="{{watchEditTitlePanel.makeId(\'watchName\')}}"\n          class="kuiLabel kuiVerticalRhythmSmall"\n          i18n-id="xpack.watcher.sections.watchEdit.titlePanel.watchNameLabel"\n          i18n-default-message="Name"\n          >\n\n        </label>\n        <div class="kuiVerticalRhythmSmall">\n          <input\n            class="kuiTextInput fullWidth"\n            type="text"\n            name="watchName"\n            id="{{watchEditTitlePanel.makeId(\'watchName\')}}"\n            input-focus\n            required\n            ng-model="watchEditTitlePanel.watch.name"\n            placeholder="{{\'xpack.watcher.sections.watchEdit.titlePanel.watchNamePlaceholder\' | i18n: { defaultMessage: \'My Threshold Watch\' } }}"\n          >\n        </div>\n        <div class="kuiSubText kuiSubduedText kuiVerticalRhythmSmall">\n          <div\n            id="{{watchEditTitlePanel.makeId([\'watchName\', \'required\'])}}"\n            xpack-aria-describes="{{watchEditTitlePanel.makeId(\'watchName\')}}"\n            class="kuiInputNote kuiInputNote--danger"\n            ng-if="watchEditTitlePanel.isValidationMessageVisible(\'watchName\', \'required\')"\n            i18n-id="xpack.watcher.sections.watchEdit.titlePanel.watchNameIsRequiredValidationMessage"\n            i18n-default-message="Name is required"\n          ></div>\n          &nbsp;\n        </div>\n      </div>\n    </div>\n    <div class="kuiFieldGroup kuiFieldGroup--alignTop">\n      <div class="kuiFieldGroupSection kuiFieldGroupSection--wide">\n        <label\n          for="indexSelectSearchBox"\n          class="kuiLabel kuiVerticalRhythmSmall"\n          i18n-id="xpack.watcher.sections.watchEdit.titlePanel.indicesToQueryLabel"\n          i18n-default-message="Indices to query"\n          >\n        </label>\n        <div\n          class="kuiVerticalRhythmSmall watchEditTitleIndexSelectContainer"\n          ng-class="{\n            \'ng-invalid\': watchEditTitlePanel.showIndexSelectionValidationState()\n          }"\n        >\n          <index-select\n            index="watchEditTitlePanel.watch.index"\n            on-change="watchEditTitlePanel.onIndexSelection"\n            on-touched="watchEditTitlePanel.onIndexSelectTouched"\n          >\n          </index-select>\n        </div>\n        <div class="kuiSubText kuiSubduedText kuiVerticalRhythmSmall">\n           <div\n            id="{{watchEditTitlePanel.makeId([\'indexSelectSearchBox\', \'required\'])}}"\n            xpack-aria-describes="{{watchEditTitlePanel.makeId(\'indexSelectSearchBox\')}}"\n            class="kuiInputNote kuiInputNote--danger"\n            ng-if="watchEditTitlePanel.showRequiredIndexSelectionValidationMessage()"\n            i18n-id="xpack.watcher.sections.watchEdit.titlePanel.enterOneOrMoreIndicesValidationMessage"\n            i18n-default-message="Enter one or more indices"\n          ></div>\n          <div\n            id="{{watchEditTitlePanel.makeId([\'indexSelectSearchBox\', \'invalid\'])}}"\n            xpack-aria-describes="{{watchEditTitlePanel.makeId(\'indexSelectSearchBox\')}}"\n            class="kuiInputNote kuiInputNote--danger"\n            ng-if="watchEditTitlePanel.showInvalidIndexValidationMessage()"\n            i18n-id="xpack.watcher.sections.watchEdit.titlePanel.queryDoesNotMatchAnyValidIndicesValidationMessage"\n            i18n-default-message="Your index query does not match any valid indices"\n          ></div>\n          <div\n            id="{{watchEditTitlePanel.makeId([\'indexSelectSearchBox\', \'notimefield\'])}}"\n            xpack-aria-describes="{{watchEditTitlePanel.makeId(\'indexSelectSearchBox\')}}"\n            class="kuiInputNote kuiInputNote--danger"\n            ng-if="watchEditTitlePanel.showNoTimeFieldsValidationMessage()"\n            i18n-id="xpack.watcher.sections.watchEdit.titlePanel.associatedTimeFieldIsMissedInIndexQueryValidationMessage"\n            i18n-default-message="Your index query does not have an associated time field"\n          ></div>\n          <span\n            i18n-id="xpack.watcher.sections.watchEdit.titlePanel.howToBroadenSearchQueryDescription"\n            i18n-default-message="Use * to broaden your search query"\n          ></span>\n        </div>\n      </div>\n\n      <div class="kuiFieldGroupSection">\n        <label\n          for="{{watchEditTitlePanel.makeId(\'timeField\')}}"\n          class="kuiLabel kuiVerticalRhythmSmall"\n          i18n-id="xpack.watcher.sections.watchEdit.titlePanel.timeFieldLabel"\n          i18n-default-message="Time field"\n          ></label>\n        <div class="kuiVerticalRhythmSmall">\n          <select\n            class="kuiSelect"\n            name="timeField"\n            id="{{watchEditTitlePanel.makeId(\'timeField\')}}"\n            required\n            ng-model="watchEditTitlePanel.watch.timeField"\n            ng-options="timeField.name as timeField.name group by timeField.normalizedType for timeField in watchEditTitlePanel.timeFields"\n          >\n            <option\n              value=""\n              i18n-id="xpack.watcher.sections.watchEdit.titlePanel.timeFieldOptionLabel"\n              i18n-default-message="Select a field"\n            ></option>\n          </select>\n        </div>\n        <div class="kuiSubText kuiSubduedText kuiVerticalRhythmSmall">\n          <div\n            id="{{watchEditTitlePanel.makeId([\'timeField\', \'required\'])}}"\n            xpack-aria-describes="{{watchEditTitlePanel.makeId(\'timeField\')}}"\n            class="kuiInputNote kuiInputNote--danger"\n            ng-if="watchEditTitlePanel.isValidationMessageVisible(\'timeField\', \'required\')"\n            i18n-id="xpack.watcher.sections.watchEdit.titlePanel.timeFieldIsRequiredValidationText"\n            i18n-default-message="A time field is required"\n          ></div>\n          &nbsp;\n        </div>\n      </div>\n\n      <div class="kuiFieldGroupSection">\n        <label\n          id="durationSelectTriggerIntervalSizeLabel"\n          for="durationSelectTriggerIntervalSize"\n          class="kuiLabel kuiVerticalRhythmSmall"\n          i18n-id="xpack.watcher.sections.watchEdit.titlePanel.watchIntervalLabel"\n          i18n-default-message="Run watch every"\n        ></label>\n\n        <div class="kuiVerticalRhythmSmall" id="durationSelectTriggerIntervalSize" role="group">\n          <duration-select\n            duration-id="triggerInterval"\n            minimum-unit="watchEditTitlePanel.triggerIntervalMinimumUnit"\n            minimum-size="watchEditTitlePanel.triggerIntervalMinimumSize"\n            unit="watchEditTitlePanel.triggerIntervalUnit"\n            size="watchEditTitlePanel.triggerIntervalSize"\n            described-by="durationSelectTriggerIntervalSizeLabel"\n          ></duration-select>\n        </div>\n        <div class="kuiSubText kuiSubduedText kuiVerticalRhythmSmall watchEditTitlePanelIntervalValidation">\n          <div\n            id="{{watchEditTitlePanel.makeId([\'durationSelectTriggerIntervalSize\', \'required\'])}}"\n            xpack-aria-describes="durationSelectTriggerIntervalSize"\n            class="kuiInputNote kuiInputNote--danger"\n            ng-if="watchEditTitlePanel.isValidationMessageVisible(\'durationSelectTriggerIntervalSize\', \'required\')"\n            i18n-id="xpack.watcher.sections.watchEdit.titlePanel.intervalSizeIsRequiredValidationMessage"\n            i18n-default-message="Interval size is required"\n          ></div>\n          <div\n            id="{{watchEditTitlePanel.makeId([\'durationSelectTriggerIntervalSize\', \'min\'])}}"\n            xpack-aria-describes="durationSelectTriggerIntervalSize"\n            class="kuiInputNote kuiInputNote--danger"\n            ng-if="watchEditTitlePanel.isValidationMessageVisible(\'durationSelectTriggerIntervalSize\', \'min\')"\n            i18n-id="xpack.watcher.sections.watchEdit.titlePanel.intervalSizeNegativeNumberValidationMessage"\n            i18n-default-message="Interval size cannot be a negative number"\n          ></div>\n          <div\n            id="{{watchEditTitlePanel.makeId([\'durationSelectTriggerIntervalSize\', \'number\'])}}"\n            xpack-aria-describes="durationSelectTriggerIntervalSize"\n            class="kuiInputNote kuiInputNote--danger"\n            ng-if="watchEditTitlePanel.isValidationMessageVisible(\'durationSelectTriggerIntervalSize\', \'number\')"\n            i18n-id="xpack.watcher.sections.watchEdit.titlePanel.intervalSizeValidNumberValidationMessage"\n            i18n-default-message="Interval size must be a valid number"\n          ></div>\n          <div\n            id="{{watchEditTitlePanel.makeId([\'durationSelectTriggerIntervalUnit\', \'required\'])}}"\n            xpack-aria-describes="durationSelectTriggerIntervalUnit"\n            class="kuiInputNote kuiInputNote--danger"\n            ng-if="watchEditTitlePanel.isValidationMessageVisible(\'durationSelectTriggerIntervalUnit\', \'required\')"\n            i18n-id="xpack.watcher.sections.watchEdit.titlePanel.intervalSizeUnitIsRequiredValidationMessage"\n            i18n-default-message="An interval size is required"\n          ></div>\n          <div\n            id="{{watchEditTitlePanel.makeId([\'durationSelectTriggerIntervalSize\', \'minimumDuration\'])}}"\n            xpack-aria-describes="durationSelectTriggerIntervalSize durationSelectTriggerIntervalUnit"\n            class="kuiInputNote kuiInputNote--danger"\n            ng-if="watchEditTitlePanel.isValidationMessageVisible(\'durationSelectTriggerIntervalSize\', \'minimumDuration\', false)"\n            i18n-id="xpack.watcher.sections.watchEdit.titlePanel.intervalSizeMinimumDurationValidationMessage"\n            i18n-default-message=" The minimum duration is {minSize}{minUnit}"\n            i18n-values="{ minSize: watchEditTitlePanel.triggerIntervalMinimumSize, minUnit: watchEditTitlePanel.triggerIntervalMinimumUnit }"\n          ></div>\n        </div>\n      </div>\n    </div>\n  </form>\n</section>\n'},7382:function(module,exports,__webpack_require__){"use strict";__webpack_require__(7383)},7383:function(module,exports,__webpack_require__){"use strict";var _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[];var _n=true;var _d=false;var _e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{!_n&&_i["return"]&&_i["return"]()}finally{if(_d)throw _e}}return _arr}return function(arr,i){if(Array.isArray(arr))return arr;if(Symbol.iterator in Object(arr))return sliceIterator(arr,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _lodash=__webpack_require__(1);__webpack_require__(7384);var _compat=__webpack_require__(107);var _modules=__webpack_require__(3);var _index_select=__webpack_require__(7387);var _index_select2=_interopRequireDefault(_index_select);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}return Array.from(arr)}function mapIndex(indexName){var isFromIndexPattern=arguments.length>1&&void 0!==arguments[1]&&arguments[1];var isUserEntered=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return{indexName:indexName,isFromIndexPattern:isFromIndexPattern,isUserEntered:isUserEntered}}function collapseIndices(allIndices,allIndexPatterns){var indices=(0,_lodash.map)(allIndices,function(indexName){return mapIndex(indexName,false)});var indexPatterns=(0,_lodash.map)(allIndexPatterns,function(indexName){return mapIndex(indexName,true)});indices.push.apply(indices,_toConsumableArray(indexPatterns));return indices}var INDICES_FROM_INDEX_PATTERNS_HEADER_COPY="Based on your index patterns";var INDICES_FOR_CREATION_HEADER_COPY="Choose...";var INDICES_FROM_INDICES_HEADER_COPY="Based on your indices and aliases";var app=_modules.uiModules.get("xpack/watcher");app.directive("indexSelect",function($injector){var indicesService=$injector.get("xpackWatcherIndicesService");var indexPatternsService=$injector.get("indexPatterns");var $timeout=$injector.get("$timeout");return{restrict:"E",template:_index_select2.default,scope:{index:"=",onChange:"=",onTouched:"="},controllerAs:"indexSelect",bindToController:true,link:function link($scope,$ele){var $searchBox=$ele.find('input[type="search"]');$scope.indexSelect.$searchBox=$searchBox;$searchBox.attr("id","indexSelectSearchBox")},controller:function(_InitAfterBindingsWor){_inherits(IndexSelectController,_InitAfterBindingsWor);function IndexSelectController(){_classCallCheck(this,IndexSelectController);return _possibleConstructorReturn(this,(IndexSelectController.__proto__||Object.getPrototypeOf(IndexSelectController)).apply(this,arguments))}_createClass(IndexSelectController,[{key:"initAfterBindings",value:function initAfterBindings($scope){var _this2=this;this.$scope=$scope;this.indexPattern=void 0;this.fetchingWithNoIndices=true;this.selectedIndices=[];this.fetchedIndices=[];if(Boolean(this.index))if(Array.isArray(this.index)){var _selectedIndices;(_selectedIndices=this.selectedIndices).push.apply(_selectedIndices,_toConsumableArray(this.index.map(mapIndex)))}else this.selectedIndices.push(mapIndex(this.index));if(this.onTouched){$timeout(function(){_this2.$searchBox.on("blur",function(){$scope.$apply(_this2.onTouched)})});$scope.$on("$destroy",function(){_this2.$searchBox.off("blur")})}$scope.$watch("indexSelect.index",function(){$timeout(function(){$scope.$$childHead.$select.sizeSearchInput()},100)})}},{key:"onIndicesChanged",value:function onIndicesChanged(){var indexNames=(0,_lodash.pluck)(this.selectedIndices,"indexName");this.onChange(indexNames)}},{key:"onNewItem",value:function onNewItem(unmatchedIndexPattern){return mapIndex(unmatchedIndexPattern)}},{key:"groupIndices",value:function groupIndices(index){if(index.isFromIndexPattern)return INDICES_FROM_INDEX_PATTERNS_HEADER_COPY;if(index.isUserEntered)return INDICES_FOR_CREATION_HEADER_COPY;return INDICES_FROM_INDICES_HEADER_COPY}},{key:"sortGroupedIndices",value:function sortGroupedIndices(grouped){return(0,_lodash.sortBy)(grouped,function(group){return group.name})}},{key:"onDropdownToggled",value:function onDropdownToggled(isOpen){isOpen||this.reset()}},{key:"reset",value:function reset(){this.fetchedIndices.length=0;this.indexPattern=void 0}},{key:"fetchIndices",value:function fetchIndices(indexPattern){var _this3=this;if(!Boolean(indexPattern)){this.reset();return}this.indexPattern=indexPattern;var pattern=indexPattern;(0,_lodash.endsWith)(pattern,"*")||(pattern+="*");(0,_lodash.startsWith)(pattern,"*")||(pattern="*"+pattern);var promises=[indicesService.getMatchingIndices(pattern),indexPatternsService.getTitles()];0===this.fetchedIndices.length&&(this.fetchingWithNoIndices=true);Promise.all(promises).then(function(_ref){var _ref2=_slicedToArray(_ref,2),allIndices=_ref2[0],allIndexPatterns=_ref2[1];var indices=collapseIndices(allIndices,allIndexPatterns);_this3.fetchedIndices=(0,_lodash.sortBy)(indices,"indexName");_this3.fetchedIndices.push(mapIndex(_this3.indexPattern,false,true));_this3.fetchingWithNoIndices=false;_this3.$scope.$apply()})}},{key:"hasIndexPattern",get:function get(){return Boolean(this.indexPattern)}}]);return IndexSelectController}(_compat.InitAfterBindingsWorkaround)}})},7384:function(module,exports,__webpack_require__){"use strict";__webpack_require__(7385)},7385:function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(3);var _indices_service=__webpack_require__(7386);_modules.uiModules.get("xpack/watcher").factory("xpackWatcherIndicesService",function($injector){var $http=$injector.get("$http");return new _indices_service.IndicesService($http)})},7386:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.IndicesService=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _chrome=__webpack_require__(9);var _chrome2=_interopRequireDefault(_chrome);var _constants=__webpack_require__(45);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}exports.IndicesService=function(){function IndicesService($http){_classCallCheck(this,IndicesService);this.$http=$http;this.basePath=_chrome2.default.addBasePath(_constants.ROUTES.API_ROOT)}_createClass(IndicesService,[{key:"getMatchingIndices",value:function getMatchingIndices(pattern){return this.$http.post(this.basePath+"/indices",{pattern:pattern}).then(function(response){return response.data.indices})}}]);return IndicesService}()},7387:function(module,exports){module.exports='<div\n  class="indexSelect"\n  ng-class="{\n    \'indexSelect--activeSearch\': indexSelect.hasIndexPattern,\n    \'indexSelect--noSearch\': !indexSelect.hasIndexPattern,\n    \'indexSelect--fetchingWithNoIndices\': indexSelect.fetchingWithNoIndices\n  }"\n>\n  <ui-select\n    ng-model="indexSelect.selectedIndices"\n    on-select="indexSelect.onIndicesChanged()"\n    on-remove="indexSelect.onIndicesChanged()"\n    uis-open-close="indexSelect.onDropdownToggled(isOpen)"\n    multiple\n  >\n    <ui-select-match\n      placeholder="{{ \'xpack.watcher.indexSelect.startTypingPlaceholder\' | i18n: { defaultMessage: \'Start typing\' } }}"\n    >\n      {{$item.indexName}}\n    </ui-select-match>\n    <ui-select-choices\n      repeat="index in indexSelect.fetchedIndices | filter: {indexName: $select.search}"\n      refresh="indexSelect.fetchIndices($select.search)"\n      refresh-delay="300"\n      group-by="indexSelect.groupIndices"\n      group-filter="indexSelect.sortGroupedIndices"\n    >\n      <div class="actionTypeChoice">\n        <div class="actionTypeDescription">\n          <div\n            class="indexSelectionName"\n            ng-bind-html="index.indexName | highlight: $select.search"\n          >\n          </div>\n        </div>\n      </div>\n    </ui-select-choices>\n    <ui-select-no-choice>\n      <p\n        class="indexSelectNoChoice"\n        i18n-id="xpack.watcher.indexSelect.buildingListTextMessage"\n        i18n-default-message="Building list please wait"\n      ></p>\n    </ui-select-no-choice>\n  </ui-select>\n</div>\n'},7388:function(module,exports,__webpack_require__){"use strict";var _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[];var _n=true;var _d=false;var _e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{!_n&&_i["return"]&&_i["return"]()}finally{if(_d)throw _e}}return _arr}return function(arr,i){if(Array.isArray(arr))return arr;if(Symbol.iterator in Object(arr))return sliceIterator(arr,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _modules=__webpack_require__(3);var _compat=__webpack_require__(107);var _constants=__webpack_require__(1267);var _duration_select=__webpack_require__(7389);var _duration_select2=_interopRequireDefault(_duration_select);var _moment=__webpack_require__(12);var _moment2=_interopRequireDefault(_moment);__webpack_require__(317);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var app=_modules.uiModules.get("xpack/watcher");app.directive("durationSelect",function($injector){var htmlIdGeneratorFactory=$injector.get("xpackWatcherHtmlIdGeneratorFactory");return{require:"^form",scope:{durationId:"@",minimumUnit:"=",minimumSize:"=",unit:"=",size:"=",describedBy:"@"},template:_duration_select2.default,replace:true,controllerAs:"durationSelect",bindToController:true,link:function link($scope,$element,$attrs,$ctrl){$scope.durationSelect.form=$ctrl},controller:function(_InitAfterBindingsWor){_inherits(DurationSelectController,_InitAfterBindingsWor);function DurationSelectController(){var _ref;var _temp,_this,_ret;_classCallCheck(this,DurationSelectController);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _ret=(_temp=(_this=_possibleConstructorReturn(this,(_ref=DurationSelectController.__proto__||Object.getPrototypeOf(DurationSelectController)).call.apply(_ref,[this].concat(args))),_this),_this.checkValidity=function(){var isValid=_this.duration>=_this.minimumDuration;var sizeName=_this.makeId("size");var unitName=_this.makeId("unit");if(_this.form[sizeName]){_this.form[sizeName].$setTouched(true);_this.form[sizeName].$setValidity("minimumDuration",isValid)}if(_this.form[unitName]){_this.form[unitName].$setTouched(true);_this.form[unitName].$setValidity("minimumDuration",isValid)}},_temp),_possibleConstructorReturn(_this,_ret)}_createClass(DurationSelectController,[{key:"initAfterBindings",value:function initAfterBindings($scope){var _this2=this;this.timeUnits=_constants.TIME_UNITS;this.makeId=htmlIdGeneratorFactory.create(["durationSelect",this.durationId]);$scope.$watchMulti(["durationSelect.minimumSize","durationSelect.minimumUnit"],function(_ref2){var _ref3=_slicedToArray(_ref2,2),minimumSize=_ref3[0],minimumUnit=_ref3[1];_this2.minimumDuration=_moment2.default.duration(Number(minimumSize),minimumUnit).asMilliseconds();_this2.checkValidity()});$scope.$watchMulti(["durationSelect.size","durationSelect.unit"],function(_ref4){var _ref5=_slicedToArray(_ref4,2),size=_ref5[0],unit=_ref5[1];_this2.duration=_moment2.default.duration(Number(size),unit).asMilliseconds();_this2.checkValidity()})}}]);return DurationSelectController}(_compat.InitAfterBindingsWorkaround)}})},7389:function(module,exports){module.exports='<div class="durationSelect">\n  <input\n    id="{{durationSelect.makeId(\'size\')}}"\n    name="{{durationSelect.makeId(\'size\')}}"\n    type="number"\n    class="durationSelectSize kuiTextInput watcherNumberInput"\n    min="0"\n    required\n    ng-model="durationSelect.size"\n    aria-label="{{ \'xpack.watcher.durationSelect.durationAmountAriaLabel\' | i18n: { defaultMessage: \'Duration amount\' } }}"\n    aria-describedby="{{durationSelect.describedBy}}"\n  >\n\n  <select\n    id="{{durationSelect.makeId(\'unit\')}}"\n    name="{{durationSelect.makeId(\'unit\')}}"\n    class="durationSelectUnit kuiSelect"\n    required\n    ng-model="durationSelect.unit"\n    ng-options="commonTimeUnit as timeUnit.labelPlural for (commonTimeUnit, timeUnit) in durationSelect.timeUnits"\n    aria-label="{{ \'xpack.watcher.durationSelect.durationTimeUnitAriaLabel\' | i18n: { defaultMessage: \'Duration time unit\' } }}"\n    aria-describedby="{{durationSelect.describedBy}}"\n  ></select>\n<div>\n'},7390:function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(3);var _html_id_generator_service=__webpack_require__(7391);_modules.uiModules.get("xpack/watcher").factory("xpackWatcherHtmlIdGeneratorFactory",function(){return{create:function create(){return _html_id_generator_service.createHtmlIdGenerator.apply(void 0,arguments)}}})},7391:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.createHtmlIdGenerator=createHtmlIdGenerator;var _lodash=__webpack_require__(1);function createHtmlIdGenerator(){var rootPartOrParts=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];var rootParts=Array.isArray(rootPartOrParts)?rootPartOrParts:[rootPartOrParts];var cache={};return function(parts){var useRootParts=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!cache[parts]){var root=useRootParts?rootParts:[];var combined=root.concat(parts);var id=(0,_lodash.camelCase)(combined);cache[parts]=id}return cache[parts]}}},7392:function(module,exports,__webpack_require__){"use strict";var _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[];var _n=true;var _d=false;var _e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{!_n&&_i["return"]&&_i["return"]()}finally{if(_d)throw _e}}return _arr}return function(arr,i){if(Array.isArray(arr))return arr;if(Symbol.iterator in Object(arr))return sliceIterator(arr,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();var _jquery=__webpack_require__(16);var _jquery2=_interopRequireDefault(_jquery);var _modules=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var app=_modules.uiModules.get("xpack/watcher");app.directive("xpackAriaDescribes",function(){return{restrict:"A",link:function link($scope,$ele,attr){if(!Object.keys(attr).includes("id"))throw new Error('An element with xpack-aria-describes="'+attr.xpackAriaDescribes+'" does not have an id attribute defined');var selector="";function updateAriaDescribedBy(elementId,targetIdList,targetLength){var remove=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!elementId||!targetIdList||0===targetLength)return;var targetIds=targetIdList.split(" ");targetIds.forEach(function(targetId){var $target=(0,_jquery2.default)("#"+targetId);var describedby=$target.attr("aria-describedby");var describedByParts=describedby?describedby.split(" "):[];var targetIndex=describedByParts.indexOf(elementId);remove?-1!==targetIndex&&describedByParts.splice(targetIndex,1):-1===targetIndex&&describedByParts.push(elementId);if(0===describedByParts.length)$target.removeAttr("aria-describedby");else{var newDescribedBy=describedByParts.join(" ");$target.attr("aria-describedby",newDescribedBy)}})}$scope.$watch(function(){return attr.xpackAriaDescribes},function(xpackAriaDescribes){var ids=xpackAriaDescribes.split(" ");selector=ids.map(function(id){return"#"+id}).join(",");$scope.targetIdList=xpackAriaDescribes});$scope.$watchMulti([function(){return attr.id},"targetIdList",function(){return(0,_jquery2.default)(selector).length}],function(_ref){var _ref2=_slicedToArray(_ref,3),elementId=_ref2[0],targetIdList=_ref2[1],targetLength=_ref2[2];updateAriaDescribedBy(elementId,targetIdList,targetLength)});$scope.$on("$destroy",function(){var elementId=attr.id;var targetIdList=$scope.targetIdList;var targetLength=(0,_jquery2.default)(selector).length;updateAriaDescribedBy(elementId,targetIdList,targetLength,true)})}}})},7393:function(module,exports,__webpack_require__){"use strict";__webpack_require__(7394)},7394:function(module,exports,__webpack_require__){"use strict";var _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[];var _n=true;var _d=false;var _e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{!_n&&_i["return"]&&_i["return"]()}finally{if(_d)throw _e}}return _arr}return function(arr,i){if(Array.isArray(arr))return arr;if(Symbol.iterator in Object(arr))return sliceIterator(arr,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();var _lodash=__webpack_require__(1);var _modules=__webpack_require__(3);var _threshold_watch_expression=__webpack_require__(7395);var _threshold_watch_expression2=_interopRequireDefault(_threshold_watch_expression);__webpack_require__(7396);__webpack_require__(7400);__webpack_require__(7403);__webpack_require__(7406);__webpack_require__(7409);__webpack_require__(7412);var _agg_types=__webpack_require__(7421);var _comparators=__webpack_require__(7422);var _group_by_types=__webpack_require__(7423);var _constants=__webpack_require__(1267);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var app=_modules.uiModules.get("xpack/watcher");app.directive("thresholdWatchExpression",function(){return{restrict:"E",template:_threshold_watch_expression2.default,scope:{thresholdWatch:"=",fields:"=",onChange:"=",onValid:"=",onInvalid:"=",onDirty:"="},bindToController:true,controllerAs:"thresholdWatchExpression",controller:function ThresholdWatchExpressionController($scope){var _this=this;_classCallCheck(this,ThresholdWatchExpressionController);this.onAggTypeChange=function(aggType){if(!_this.initialized)return;_this.aggType=aggType;if(aggType.fieldRequired){_this.items["agg-field"].isVisible=true;_this.aggFields=(0,_lodash.filter)(_this.fields,function(field){return(0,_lodash.includes)(aggType.validNormalizedTypes,field.normalizedType)});(0,_lodash.includes)(_this.aggFields,_this.aggField)||_this.onAggFieldChange(null)}else{_this.items["agg-field"].isVisible=false;_this.onAggFieldChange(null)}_this.thresholdWatch.aggType=aggType?aggType.value:null;_this.onChange(_this.thresholdWatch)};this.onAggFieldChange=function(aggField){if(!_this.initialized)return;_this.aggField=aggField;_this.thresholdWatch.aggField=aggField?aggField.name:null;_this.onChange(_this.thresholdWatch)};this.onGroupByChange=function(_ref,_ref2){var _ref4=_slicedToArray(_ref,3),groupByType=_ref4[0],termSize=_ref4[1],termField=_ref4[2];var _ref3=_slicedToArray(_ref2,1),oldGroupByType=_ref3[0];if(!_this.initialized)return;_this.groupByType=groupByType;_this.termSize=termSize;_this.termField=termField;if(groupByType!==oldGroupByType){_this.termFields=(0,_lodash.filter)(_this.fields,function(field){return(0,_lodash.includes)(_this.groupByType.validNormalizedTypes,field.normalizedType)});if(Boolean(oldGroupByType))if(_this.groupByType===_this.groupByTypes.all){_this.termSize=null;_this.termField=null}else _this.termSize=_this.thresholdWatch.DEFAULT_VALUES.TERM_SIZE}_this.thresholdWatch.termSize=_this.termSize;_this.thresholdWatch.termField=_this.termField?_this.termField.name:null;_this.onChange(_this.thresholdWatch)};this.onThresholdLevelChange=function(_ref5){var _ref6=_slicedToArray(_ref5,2),thresholdComparator=_ref6[0],threshold=_ref6[1];if(!_this.initialized)return;_this.thresholdComparator=thresholdComparator;_this.threshold=threshold;_this.thresholdWatch.thresholdComparator=_this.thresholdComparator.value;_this.thresholdWatch.threshold=_this.threshold;_this.onChange(_this.thresholdWatch)};this.onTimeWindowChange=function(_ref7){var _ref8=_slicedToArray(_ref7,2),timeWindowSize=_ref8[0],timeWindowUnit=_ref8[1];if(!_this.initialized)return;_this.timeWindowSize=timeWindowSize;_this.timeWindowUnit=timeWindowUnit;_this.thresholdWatch.timeWindowSize=_this.timeWindowSize;_this.thresholdWatch.timeWindowUnit=_this.timeWindowUnit;_this.onChange(_this.thresholdWatch)};this.isItemVisible=function(itemId){return _this.items[itemId].isVisible};this.isItemOpen=function(itemId){return _this.items[itemId].isOpen};this.onItemOpen=function(itemId){(0,_lodash.forEach)(_this.items,function(item,id){item.isOpen=itemId===id})};this.onItemClose=function(itemId){_this.items[itemId].isOpen=false};this.isExpressionValid=function(){return(0,_lodash.every)(_this.items,function(item){return item.isValid||!item.isVisible})};this.showExpressionValidation=function(){return(0,_lodash.some)(_this.items,function(item){return!item.isValid&&item.isVisible&&item.isDirty})};this.checkValidity=function(){_this.isExpressionValid()?_this.onValid():_this.onInvalid()};this.onItemValid=function(itemId){_this.items[itemId].isValid=true;_this.checkValidity()};this.onItemInvalid=function(itemId){_this.items[itemId].isValid=false;_this.checkValidity()};this.onItemDirty=function(itemId){_this.items[itemId].isDirty=true};this.onItemPristine=function(itemId){_this.items[itemId].isDirty=false};this.items={"agg-type":{isOpen:false,isVisible:true,isValid:true},"agg-field":{isOpen:false,isVisible:false,isValid:true},"group-by":{isOpen:false,isVisible:true,isValid:true},"threshold-level":{isOpen:false,isVisible:true,isValid:true},"time-window":{isOpen:false,isVisible:true,isValid:true}};this.aggTypes=_agg_types.aggTypes;this.groupByTypes=_group_by_types.groupByTypes;this.comparators=_comparators.comparators;this.timeUnits=_constants.TIME_UNITS;this.initialized=false;this.dirty=false;$scope.$watchGroup(["thresholdWatchExpression.thresholdWatch","thresholdWatchExpression.fields"],function(_ref9){var _ref10=_slicedToArray(_ref9,2),thresholdWatch=_ref10[0],fields=_ref10[1];if(!thresholdWatch||!fields)return;_this.aggType=(0,_lodash.find)(_this.aggTypes,{value:_this.thresholdWatch.aggType});_this.aggField=(0,_lodash.find)(_this.fields,{name:_this.thresholdWatch.aggField});_this.groupByType=_this.thresholdWatch.termField?_this.groupByTypes.top:_this.groupByTypes.all;_this.termSize=_this.thresholdWatch.termSize;_this.termField=(0,_lodash.find)(_this.fields,{name:_this.thresholdWatch.termField});_this.threshold=_this.thresholdWatch.threshold;_this.thresholdComparator=(0,_lodash.find)(_this.comparators,{value:_this.thresholdWatch.thresholdComparator});_this.timeWindowSize=_this.thresholdWatch.timeWindowSize;_this.timeWindowUnit=_this.thresholdWatch.timeWindowUnit;_this.initialized=true})}}})},7395:function(module,exports){module.exports='<expression-builder class="thresholdWatchExpression">\n  <div\n    class="kuiInputNote kuiInputNote--danger"\n    ng-show="thresholdWatchExpression.showExpressionValidation()"\n    i18n-id="xpack.watcher.thresholdWatchExpression.fixErrorInExpressionBelowValidationMessage"\n    i18n-default-message="Please fix the errors in the expression below."\n  ></div>\n\n  <threshold-watch-agg-type\n    item-id="agg-type"\n    agg-types="thresholdWatchExpression.aggTypes"\n    agg-type="thresholdWatchExpression.aggType"\n    is-open="thresholdWatchExpression.isItemOpen(\'agg-type\');"\n    is-visible="thresholdWatchExpression.isItemVisible(\'agg-type\');"\n    on-open="thresholdWatchExpression.onItemOpen"\n    on-close="thresholdWatchExpression.onItemClose"\n    on-change="thresholdWatchExpression.onAggTypeChange"\n    on-valid="thresholdWatchExpression.onItemValid"\n    on-invalid="thresholdWatchExpression.onItemInvalid"\n    on-dirty="thresholdWatchExpression.onItemDirty"\n    on-pristine="thresholdWatchExpression.onItemPristine"\n  ></threshold-watch-agg-type>\n\n  <threshold-watch-agg-field\n    item-id="agg-field"\n    agg-fields="thresholdWatchExpression.aggFields"\n    agg-field="thresholdWatchExpression.aggField"\n    is-open="thresholdWatchExpression.isItemOpen(\'agg-field\');"\n    is-visible="thresholdWatchExpression.isItemVisible(\'agg-field\');"\n    on-open="thresholdWatchExpression.onItemOpen"\n    on-close="thresholdWatchExpression.onItemClose"\n    on-change="thresholdWatchExpression.onAggFieldChange"\n    on-valid="thresholdWatchExpression.onItemValid"\n    on-invalid="thresholdWatchExpression.onItemInvalid"\n    on-dirty="thresholdWatchExpression.onItemDirty"\n    on-pristine="thresholdWatchExpression.onItemPristine"\n  ></threshold-watch-agg-field>\n\n  <threshold-watch-group-by\n    item-id="group-by"\n    group-by-types="thresholdWatchExpression.groupByTypes"\n    group-by-type="thresholdWatchExpression.groupByType"\n    term-size="thresholdWatchExpression.termSize"\n    term-fields="thresholdWatchExpression.termFields"\n    term-field="thresholdWatchExpression.termField"\n    is-open="thresholdWatchExpression.isItemOpen(\'group-by\');"\n    is-visible="thresholdWatchExpression.isItemVisible(\'group-by\');"\n    on-open="thresholdWatchExpression.onItemOpen"\n    on-close="thresholdWatchExpression.onItemClose"\n    on-change="thresholdWatchExpression.onGroupByChange"\n    on-valid="thresholdWatchExpression.onItemValid"\n    on-invalid="thresholdWatchExpression.onItemInvalid"\n    on-dirty="thresholdWatchExpression.onItemDirty"\n    on-pristine="thresholdWatchExpression.onItemPristine"\n  ></threshold-watch-group-by>\n\n  <threshold-watch-threshold-level\n    item-id="threshold-level"\n    comparators="thresholdWatchExpression.comparators"\n    threshold-comparator="thresholdWatchExpression.thresholdComparator"\n    threshold="thresholdWatchExpression.threshold"\n    is-open="thresholdWatchExpression.isItemOpen(\'threshold-level\');"\n    is-visible="thresholdWatchExpression.isItemVisible(\'threshold-level\');"\n    on-open="thresholdWatchExpression.onItemOpen"\n    on-close="thresholdWatchExpression.onItemClose"\n    on-change="thresholdWatchExpression.onThresholdLevelChange"\n    on-valid="thresholdWatchExpression.onItemValid"\n    on-invalid="thresholdWatchExpression.onItemInvalid"\n    on-dirty="thresholdWatchExpression.onItemDirty"\n    on-pristine="thresholdWatchExpression.onItemPristine"\n  ></threshold-watch-threshold-level>\n\n  <threshold-watch-time-window\n    item-id="time-window"\n    time-window-units="thresholdWatchExpression.timeUnits"\n    time-window-size="thresholdWatchExpression.timeWindowSize"\n    time-window-unit="thresholdWatchExpression.timeWindowUnit"\n    is-open="thresholdWatchExpression.isItemOpen(\'time-window\');"\n    is-visible="thresholdWatchExpression.isItemVisible(\'time-window\');"\n    on-open="thresholdWatchExpression.onItemOpen"\n    on-close="thresholdWatchExpression.onItemClose"\n    on-change="thresholdWatchExpression.onTimeWindowChange"\n    on-valid="thresholdWatchExpression.onItemValid"\n    on-invalid="thresholdWatchExpression.onItemInvalid"\n    on-dirty="thresholdWatchExpression.onItemDirty"\n    on-pristine="thresholdWatchExpression.onItemPristine"\n  ></threshold-watch-time-window>\n\n</expression-builder>\n'},7396:function(module,exports,__webpack_require__){"use strict";__webpack_require__(7397)},7397:function(module,exports,__webpack_require__){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _modules=__webpack_require__(3);var _threshold_watch_agg_type=__webpack_require__(7398);var _threshold_watch_agg_type2=_interopRequireDefault(_threshold_watch_agg_type);var _threshold_watch_base=__webpack_require__(648);__webpack_require__(317);__webpack_require__(348);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var app=_modules.uiModules.get("xpack/watcher");app.directive("thresholdWatchAggType",function($injector,i18n){var htmlIdGeneratorFactory=$injector.get("xpackWatcherHtmlIdGeneratorFactory");return{restrict:"E",template:_threshold_watch_agg_type2.default,scope:{itemId:"@",aggTypes:"=",aggType:"=",isOpen:"=",isVisible:"=",onOpen:"=",onClose:"=",onChange:"=",onValid:"=",onInvalid:"=",onDirty:"=",onPristine:"="},bindToController:true,controllerAs:"thresholdWatchAggType",controller:function(_ThresholdWatchBaseCo){_inherits(ThresholdWatchAggTypeController,_ThresholdWatchBaseCo);function ThresholdWatchAggTypeController(){_classCallCheck(this,ThresholdWatchAggTypeController);return _possibleConstructorReturn(this,(ThresholdWatchAggTypeController.__proto__||Object.getPrototypeOf(ThresholdWatchAggTypeController)).apply(this,arguments))}_createClass(ThresholdWatchAggTypeController,[{key:"initAfterBindings",value:function initAfterBindings($scope){this.makeId=htmlIdGeneratorFactory.create();$scope.$watch("thresholdWatchAggType.aggType",this.onChange);$scope.$watch("thresholdWatchAggType.form.$valid",this.checkValidity);$scope.$watch("thresholdWatchAggType.form.$dirty",this.checkDirty);this.itemDescription=i18n("xpack.watcher.thresholdWatchExpression.aggType.itemDescription",{defaultMessage:"When"})}},{key:"itemValue",get:function get(){return this.aggType?this.aggType.label:""}}]);return ThresholdWatchAggTypeController}(_threshold_watch_base.ThresholdWatchBaseController)}})},7398:function(module,exports){module.exports='<expression-item\n  item-id="{{ thresholdWatchAggType.itemId }}"\n  description="thresholdWatchAggType.itemDescription"\n  value="thresholdWatchAggType.itemValue"\n  is-open="thresholdWatchAggType.isOpen"\n  is-visible="thresholdWatchAggType.isVisible"\n  on-open="thresholdWatchAggType.onOpen"\n  on-close="thresholdWatchAggType.onClose"\n  is-valid="thresholdWatchAggType.isValid"\n  is-dirty="thresholdWatchAggType.isDirty"\n  form="thresholdWatchAggType.form"\n>\n  <form name="thresholdWatchAggType.form" novalidate>\n    <div\n      id="{{thresholdWatchAggType.makeId([\'aggType\', \'required\'])}}\'"\n      xpack-aria-describes="{{thresholdWatchAggType.makeId(\'aggType\')}}"\n      class="kuiInputNote kuiInputNote--danger"\n      ng-if="thresholdWatchAggType.isValidationMessageVisible(\'aggType\', \'required\')"\n      i18n-id="xpack.watcher.thresholdWatchExpression.aggType.requiredTypeValidationMessage"\n      i18n-default-message="Please select an aggregation type."\n    ></div>\n    <select\n      id="{{thresholdWatchAggType.makeId(\'aggType\')}}"\n      class="kuiSelect"\n      name="aggType"\n      required\n      ng-model="thresholdWatchAggType.aggType"\n      ng-options="aggType as aggType.label for aggType in thresholdWatchAggType.aggTypes"\n    ></select>\n  </form>\n</expression-item>\n'},7399:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ThresholdWatchBaseController=void 0;var _compat=__webpack_require__(107);var _lodash=__webpack_require__(1);function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}exports.ThresholdWatchBaseController=function(_InitAfterBindingsWor){_inherits(ThresholdWatchBaseController,_InitAfterBindingsWor);function ThresholdWatchBaseController(){var _ref;var _temp,_this,_ret;_classCallCheck(this,ThresholdWatchBaseController);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _ret=(_temp=(_this=_possibleConstructorReturn(this,(_ref=ThresholdWatchBaseController.__proto__||Object.getPrototypeOf(ThresholdWatchBaseController)).call.apply(_ref,[this].concat(args))),_this),_this.checkValidity=function(){_this.isValid()?_this.onValid(_this.itemId):_this.onInvalid(_this.itemId)},_this.checkDirty=function(){_this.form.$dirty?_this.onDirty(_this.itemId):_this.onPristine(_this.itemId)},_this.resetForm=function(){(0,_lodash.forEach)(_this.form,function(control){Boolean(control)&&"function"===typeof control.$setViewValue&&control.$setViewValue(void 0)});_this.form.$setPristine();_this.form.$setUntouched()},_this.isValid=function(){return!_this.form.$invalid},_this.isDirty=function(){return _this.form.$dirty},_this.isValidationMessageVisible=function(fieldName,errorType){var showIfOtherErrors=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];var showMessage=_this.form[fieldName]&&(_this.form[fieldName].$touched||_this.form[fieldName].$dirty)&&_this.form[fieldName].$error[errorType];showMessage&&!showIfOtherErrors&&(0,_lodash.size)(_this.form[fieldName].$error)>1&&(showMessage=false);return showMessage},_temp),_possibleConstructorReturn(_this,_ret)}return ThresholdWatchBaseController}(_compat.InitAfterBindingsWorkaround)},7400:function(module,exports,__webpack_require__){"use strict";__webpack_require__(7401)},7401:function(module,exports,__webpack_require__){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _modules=__webpack_require__(3);var _threshold_watch_agg_field=__webpack_require__(7402);var _threshold_watch_agg_field2=_interopRequireDefault(_threshold_watch_agg_field);var _threshold_watch_base=__webpack_require__(648);__webpack_require__(317);__webpack_require__(348);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var app=_modules.uiModules.get("xpack/watcher");app.directive("thresholdWatchAggField",function($injector,i18n){var htmlIdGeneratorFactory=$injector.get("xpackWatcherHtmlIdGeneratorFactory");return{restrict:"E",template:_threshold_watch_agg_field2.default,scope:{itemId:"@",aggFields:"=",aggField:"=",isOpen:"=",isVisible:"=",onOpen:"=",onClose:"=",onChange:"=",onValid:"=",onInvalid:"=",onDirty:"=",onPristine:"="},bindToController:true,controllerAs:"thresholdWatchAggField",controller:function(_ThresholdWatchBaseCo){_inherits(ThresholdWatchAggFieldController,_ThresholdWatchBaseCo);function ThresholdWatchAggFieldController(){_classCallCheck(this,ThresholdWatchAggFieldController);return _possibleConstructorReturn(this,(ThresholdWatchAggFieldController.__proto__||Object.getPrototypeOf(ThresholdWatchAggFieldController)).apply(this,arguments))}_createClass(ThresholdWatchAggFieldController,[{key:"initAfterBindings",value:function initAfterBindings($scope){var _this2=this;this.makeId=htmlIdGeneratorFactory.create();$scope.$watch("thresholdWatchAggField.aggField",this.onChange);$scope.$watch("thresholdWatchAggField.form.$valid",this.checkValidity);$scope.$watch("thresholdWatchAggField.form.$dirty",this.checkDirty);$scope.$watch("thresholdWatchAggField.isVisible",function(isVisible,wasVisible){_this2.checkValidity();if(!isVisible&&wasVisible){_this2.resetForm();_this2.checkDirty()}});this.itemDescription=i18n("xpack.watcher.thresholdWatchExpression.aggField.itemDescription",{defaultMessage:"Of"})}},{key:"itemValue",get:function get(){return this.aggField?this.aggField.name:i18n("xpack.watcher.thresholdWatchExpression.aggField.selectFieldTextMessage",{defaultMessage:"select a field"})}}]);return ThresholdWatchAggFieldController}(_threshold_watch_base.ThresholdWatchBaseController)}})},7402:function(module,exports){module.exports='<expression-item\n  item-id="{{ thresholdWatchAggField.itemId }}"\n  description="thresholdWatchAggField.itemDescription"\n  value="thresholdWatchAggField.itemValue"\n  is-open="thresholdWatchAggField.isOpen"\n  is-visible="thresholdWatchAggField.isVisible"\n  on-open="thresholdWatchAggField.onOpen"\n  on-close="thresholdWatchAggField.onClose"\n  is-valid="thresholdWatchAggField.isValid"\n  is-dirty="thresholdWatchAggField.isDirty"\n  form="thresholdWatchAggField.form"\n>\n  <form name="thresholdWatchAggField.form" novalidate>\n    <div\n      id="{{thresholdWatchAggField.makeId([\'aggField\', \'required\'])}}\'"\n      xpack-aria-describes="{{thresholdWatchAggField.makeId(\'aggField\')}}"\n      class="kuiInputNote kuiInputNote--danger"\n      ng-if="thresholdWatchAggField.isValidationMessageVisible(\'aggField\', \'required\')"\n      i18n-id="xpack.watcher.thresholdWatchExpression.aggType.fieldIsRequiredValidationMessage"\n      i18n-default-message="Please select a field."\n    ></div>\n    <select\n      id="{{thresholdWatchAggField.makeId(\'aggField\')}}"\n      class="kuiSelect"\n      name="aggField"\n      required\n      ng-model="thresholdWatchAggField.aggField"\n      ng-options="aggField as aggField.name group by aggField.normalizedType for aggField in thresholdWatchAggField.aggFields"\n    >\n      <option\n        value=""\n        i18n-id="xpack.watcher.thresholdWatchExpression.aggType.selectFieldDropdownPlaceholder"\n        i18n-default-message="Select a field"\n      ></option>\n    </select>\n  </form>\n</expression-item>\n'},7403:function(module,exports,__webpack_require__){"use strict";__webpack_require__(7404)},7404:function(module,exports,__webpack_require__){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _modules=__webpack_require__(3);var _threshold_watch_group_by=__webpack_require__(7405);var _threshold_watch_group_by2=_interopRequireDefault(_threshold_watch_group_by);var _threshold_watch_base=__webpack_require__(648);__webpack_require__(317);__webpack_require__(348);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var app=_modules.uiModules.get("xpack/watcher");app.directive("thresholdWatchGroupBy",function($injector,i18n){var htmlIdGeneratorFactory=$injector.get("xpackWatcherHtmlIdGeneratorFactory");return{restrict:"E",template:_threshold_watch_group_by2.default,scope:{itemId:"@",groupByTypes:"=",groupByType:"=",termSize:"=",termFields:"=",termField:"=",isOpen:"=",isVisible:"=",onOpen:"=",onClose:"=",onChange:"=",onValid:"=",onInvalid:"=",onDirty:"=",onPristine:"="},bindToController:true,controllerAs:"thresholdWatchGroupBy",controller:function(_ThresholdWatchBaseCo){_inherits(ThresholdWatchGroupByController,_ThresholdWatchBaseCo);function ThresholdWatchGroupByController(){_classCallCheck(this,ThresholdWatchGroupByController);return _possibleConstructorReturn(this,(ThresholdWatchGroupByController.__proto__||Object.getPrototypeOf(ThresholdWatchGroupByController)).apply(this,arguments))}_createClass(ThresholdWatchGroupByController,[{key:"initAfterBindings",value:function initAfterBindings($scope){var _this2=this;this.makeId=htmlIdGeneratorFactory.create();$scope.$watchMulti(["thresholdWatchGroupBy.groupByType","thresholdWatchGroupBy.termSize","thresholdWatchGroupBy.termField"],this.onChange);$scope.$watch("thresholdWatchGroupBy.groupByType",function(){_this2.resetForm();_this2.checkDirty()});$scope.$watch("thresholdWatchGroupBy.form.$valid",this.checkValidity);$scope.$watch("thresholdWatchGroupBy.form.$dirty",this.checkDirty)}},{key:"itemDescription",get:function get(){var itemDescription=this.groupByType&&this.groupByType.sizeRequired?i18n("xpack.watcher.thresholdWatchExpression.groupBy.groupedItemDescription",{defaultMessage:"Grouped over"}):i18n("xpack.watcher.thresholdWatchExpression.groupBy.itemDescription",{defaultMessage:"Over"});return itemDescription}},{key:"itemValue",get:function get(){if(!this.groupByType)return;var sizeRequired=this.groupByType.sizeRequired;var typeLabel=this.groupByType.label;var sizeLabel=sizeRequired&&this.termSize?" "+this.termSize:"";var fieldLabel=sizeRequired&&this.termField?" '"+this.termField.name+"'":"";return""+typeLabel+sizeLabel+fieldLabel}}]);return ThresholdWatchGroupByController}(_threshold_watch_base.ThresholdWatchBaseController)}})},7405:function(module,exports){module.exports='<expression-item\n  item-id="{{ thresholdWatchGroupBy.itemId }}"\n  description="thresholdWatchGroupBy.itemDescription"\n  value="thresholdWatchGroupBy.itemValue"\n  is-open="thresholdWatchGroupBy.isOpen"\n  is-visible="thresholdWatchGroupBy.isVisible"\n  on-open="thresholdWatchGroupBy.onOpen"\n  on-close="thresholdWatchGroupBy.onClose"\n  is-valid="thresholdWatchGroupBy.isValid"\n  is-dirty="thresholdWatchGroupBy.isDirty"\n  form="thresholdWatchGroupBy.form"\n>\n  <form name="thresholdWatchGroupBy.form" novalidate>\n    <div\n      id="{{thresholdWatchGroupBy.makeId([\'termSize\', \'required\'])}}"\n      xpack-aria-describes="{{thresholdWatchGroupBy.makeId(\'termSize\')}}"\n      class="kuiInputNote kuiInputNote--danger"\n      ng-if="thresholdWatchGroupBy.isValidationMessageVisible(\'termSize\', \'required\')"\n      i18n-id="xpack.watcher.thresholdWatchExpression.groupBy.requiredValueValidationMessage"\n      i18n-default-message="A value is required."\n    ></div>\n    <div\n      id="{{thresholdWatchGroupBy.makeId([\'termSize\', \'number\'])}}"\n      xpack-aria-describes="{{thresholdWatchGroupBy.makeId(\'termSize\')}}"\n      class="kuiInputNote kuiInputNote--danger"\n      ng-if="thresholdWatchGroupBy.isValidationMessageVisible(\'termSize\', \'number\')"\n      i18n-id="xpack.watcher.thresholdWatchExpression.groupBy.valueMustBeValidNumberValidationMessage"\n      i18n-default-message="Value must be a valid number."\n    ></div>\n    <div\n      id="{{thresholdWatchGroupBy.makeId([\'termSize\', \'min\'])}}"\n      xpack-aria-describes="{{thresholdWatchGroupBy.makeId(\'termSize\')}}"\n      class="kuiInputNote kuiInputNote--danger"\n      ng-if="thresholdWatchGroupBy.isValidationMessageVisible(\'termSize\', \'min\')"\n      i18n-id="xpack.watcher.thresholdWatchExpression.groupBy.valueMustBeGraterThanZeroValidationMessage"\n      i18n-default-message="Value must be greater than 0."\n    ></div>\n    <div\n      id="{{thresholdWatchGroupBy.makeId([\'termField\', \'required\'])}}"\n      xpack-aria-describes="{{thresholdWatchGroupBy.makeId(\'termField\')}}"\n      class="kuiInputNote kuiInputNote--danger"\n      ng-if="thresholdWatchGroupBy.isValidationMessageVisible(\'termField\', \'required\')"\n      i18n-id="xpack.watcher.thresholdWatchExpression.groupBy.requiredFieldValidationMessage"\n      i18n-default-message="Please select a field."\n    ></div>\n    <select\n      id="{{thresholdWatchGroupBy.makeId(\'groupByType\')}}"\n      class="kuiSelect"\n      ng-model="thresholdWatchGroupBy.groupByType"\n      ng-options="groupByType as groupByType.label for groupByType in thresholdWatchGroupBy.groupByTypes"\n    ></select>\n    <input\n      id="{{thresholdWatchGroupBy.makeId(\'termSize\')}}"\n      name="termSize"\n      type="number"\n      min="1"\n      required\n      class="kuiTextInput watcherNumberInput"\n      ng-model="thresholdWatchGroupBy.termSize"\n      ng-if="thresholdWatchGroupBy.groupByType.sizeRequired">\n    <select\n      class="kuiSelect"\n      id="{{thresholdWatchGroupBy.makeId(\'termField\')}}"\n      name="termField"\n      required\n      ng-model="thresholdWatchGroupBy.termField"\n      ng-options="termField as termField.name group by termField.normalizedType for termField in thresholdWatchGroupBy.termFields"\n      ng-if="thresholdWatchGroupBy.groupByType.sizeRequired"\n    >\n      <option\n        value=""\n        i18n-id="xpack.watcher.thresholdWatchExpression.groupBy.selectFieldDropdownPlaceholder"\n        i18n-default-message="Select a field"\n      ></option>\n    </select>\n  </form>\n</expression-item>\n'},7406:function(module,exports,__webpack_require__){"use strict";__webpack_require__(7407)},7407:function(module,exports,__webpack_require__){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _modules=__webpack_require__(3);var _threshold_watch_threshold_level=__webpack_require__(7408);var _threshold_watch_threshold_level2=_interopRequireDefault(_threshold_watch_threshold_level);var _threshold_watch_base=__webpack_require__(648);__webpack_require__(317);__webpack_require__(348);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var app=_modules.uiModules.get("xpack/watcher");app.directive("thresholdWatchThresholdLevel",function($injector){var htmlIdGeneratorFactory=$injector.get("xpackWatcherHtmlIdGeneratorFactory");return{restrict:"E",template:_threshold_watch_threshold_level2.default,scope:{itemId:"@",comparators:"=",thresholdComparator:"=",threshold:"=",isOpen:"=",isVisible:"=",onOpen:"=",onClose:"=",onChange:"=",onValid:"=",onInvalid:"=",onDirty:"=",onPristine:"="},bindToController:true,controllerAs:"thresholdWatchThresholdLevel",controller:function(_ThresholdWatchBaseCo){_inherits(ThresholdWatchThresholdLevelController,_ThresholdWatchBaseCo);function ThresholdWatchThresholdLevelController(){_classCallCheck(this,ThresholdWatchThresholdLevelController);return _possibleConstructorReturn(this,(ThresholdWatchThresholdLevelController.__proto__||Object.getPrototypeOf(ThresholdWatchThresholdLevelController)).apply(this,arguments))}_createClass(ThresholdWatchThresholdLevelController,[{key:"initAfterBindings",value:function initAfterBindings($scope){this.makeId=htmlIdGeneratorFactory.create();$scope.$watchMulti(["thresholdWatchThresholdLevel.thresholdComparator","thresholdWatchThresholdLevel.threshold"],this.onChange);$scope.$watch("thresholdWatchThresholdLevel.form.$valid",this.checkValidity);$scope.$watch("thresholdWatchThresholdLevel.form.$dirty",this.checkDirty)}},{key:"itemDescription",get:function get(){return this.thresholdComparator?this.thresholdComparator.label:""}},{key:"itemValue",get:function get(){return this.threshold}}]);return ThresholdWatchThresholdLevelController}(_threshold_watch_base.ThresholdWatchBaseController)}})},7408:function(module,exports){module.exports='<expression-item\n  item-id="{{ thresholdWatchThresholdLevel.itemId }}"\n  description="thresholdWatchThresholdLevel.itemDescription"\n  value="thresholdWatchThresholdLevel.itemValue"\n  is-open="thresholdWatchThresholdLevel.isOpen"\n  is-visible="thresholdWatchThresholdLevel.isVisible"\n  on-open="thresholdWatchThresholdLevel.onOpen"\n  on-close="thresholdWatchThresholdLevel.onClose"\n  is-valid="thresholdWatchThresholdLevel.isValid"\n  is-dirty="thresholdWatchThresholdLevel.isDirty"\n  form="thresholdWatchThresholdLevel.form"\n>\n  <form name="thresholdWatchThresholdLevel.form" novalidate>\n    <div\n      id="{{thresholdWatchThresholdLevel.makeId([\'threshold\', \'required\'])}}"\n      xpack-aria-describes="{{thresholdWatchThresholdLevel.makeId(\'threshold\')}}"\n      class="kuiInputNote kuiInputNote--danger"\n      ng-if="thresholdWatchThresholdLevel.isValidationMessageVisible(\'threshold\', \'required\')"\n      i18n-id="xpack.watcher.thresholdWatchExpression.thresholdLevel.valueIsRequiredValidationMessage"\n      i18n-default-message="A value is required."\n    ></div>\n    <div\n      id="{{thresholdWatchThresholdLevel.makeId([\'threshold\', \'number\'])}}"\n      xpack-aria-describes="{{thresholdWatchThresholdLevel.makeId(\'threshold\')}}"\n      class="kuiInputNote kuiInputNote--danger"\n      ng-if="thresholdWatchThresholdLevel.isValidationMessageVisible(\'threshold\', \'number\')"\n      i18n-id="xpack.watcher.thresholdWatchExpression.thresholdLevel.valueMustBeValidNumberValidationMessage"\n      i18n-default-message="Value must be a valid number."\n    ></div>\n    <select\n      id="{{thresholdWatchThresholdLevel.makeId(\'thresholdComparator\')}}"\n      name="thresholdComparator"\n      class="kuiSelect"\n      ng-model="thresholdWatchThresholdLevel.thresholdComparator"\n      ng-options="comparator as comparator.label for comparator in thresholdWatchThresholdLevel.comparators"\n    ></select>\n    <input\n      id="{{thresholdWatchThresholdLevel.makeId(\'threshold\')}}"\n      name="threshold"\n      type="number"\n      required\n      class="kuiTextInput watcherNumberInput"\n      ng-model="thresholdWatchThresholdLevel.threshold">\n  </form>\n</expression-item>\n'},7409:function(module,exports,__webpack_require__){"use strict";__webpack_require__(7410)},7410:function(module,exports,__webpack_require__){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _modules=__webpack_require__(3);var _threshold_watch_time_window=__webpack_require__(7411);var _threshold_watch_time_window2=_interopRequireDefault(_threshold_watch_time_window);var _constants=__webpack_require__(45);var _get_time_units_label=__webpack_require__(2254);var _threshold_watch_base=__webpack_require__(648);__webpack_require__(2260);__webpack_require__(317);__webpack_require__(348);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var app=_modules.uiModules.get("xpack/watcher");app.directive("thresholdWatchTimeWindow",function($injector,i18n){var htmlIdGeneratorFactory=$injector.get("xpackWatcherHtmlIdGeneratorFactory");return{restrict:"E",template:_threshold_watch_time_window2.default,scope:{itemId:"@",timeWindowUnits:"=",timeWindowSize:"=",timeWindowUnit:"=",isOpen:"=",isVisible:"=",onOpen:"=",onClose:"=",onChange:"=",onValid:"=",onInvalid:"=",onDirty:"=",onPristine:"="},bindToController:true,controllerAs:"thresholdWatchTimeWindow",controller:function(_ThresholdWatchBaseCo){_inherits(ThresholdWatchTimeWindowController,_ThresholdWatchBaseCo);function ThresholdWatchTimeWindowController(){_classCallCheck(this,ThresholdWatchTimeWindowController);return _possibleConstructorReturn(this,(ThresholdWatchTimeWindowController.__proto__||Object.getPrototypeOf(ThresholdWatchTimeWindowController)).apply(this,arguments))}_createClass(ThresholdWatchTimeWindowController,[{key:"initAfterBindings",value:function initAfterBindings($scope){this.makeId=htmlIdGeneratorFactory.create();this.timeWindowMinimumUnit=_constants.TIME_UNITS.SECOND;this.timeWindowMinimumSize=10;$scope.$watchMulti(["thresholdWatchTimeWindow.timeWindowSize","thresholdWatchTimeWindow.timeWindowUnit"],this.onChange);$scope.$watch("thresholdWatchTimeWindow.form.$valid",this.checkValidity);$scope.$watch("thresholdWatchTimeWindow.form.$dirty",this.checkDirty)}},{key:"itemDescription",get:function get(){return i18n("xpack.watcher.thresholdWatchExpression.timeWindow.itemDescription",{defaultMessage:"For the last"})}},{key:"itemValue",get:function get(){var sizeLabel=isNaN(this.timeWindowSize)?"0":this.timeWindowSize+" ";var unitLabel=Boolean(this.timeWindowUnit)?(0,_get_time_units_label.getTimeUnitsLabel)(this.timeWindowUnit,this.timeWindowSize):"";return sizeLabel+" "+unitLabel}}]);return ThresholdWatchTimeWindowController}(_threshold_watch_base.ThresholdWatchBaseController)}})},7411:function(module,exports){module.exports='<expression-item\n  item-id="{{ thresholdWatchTimeWindow.itemId }}"\n  description="thresholdWatchTimeWindow.itemDescription"\n  value="thresholdWatchTimeWindow.itemValue"\n  is-open="thresholdWatchTimeWindow.isOpen"\n  is-visible="thresholdWatchTimeWindow.isVisible"\n  on-open="thresholdWatchTimeWindow.onOpen"\n  on-close="thresholdWatchTimeWindow.onClose"\n  is-valid="thresholdWatchTimeWindow.isValid"\n  is-dirty="thresholdWatchTimeWindow.isDirty"\n  form="thresholdWatchTimeWindow.form"\n>\n  <form name="thresholdWatchTimeWindow.form" novalidate>\n    <div\n      id="{{thresholdWatchTimeWindow.makeId([\'durationSelectWindowSize\', \'required\'])}}"\n      xpack-aria-describes="durationSelectWindowSize"\n      class="kuiInputNote kuiInputNote--danger"\n      ng-if="thresholdWatchTimeWindow.isValidationMessageVisible(\'durationSelectWindowSize\', \'required\')"\n      i18n-id="xpack.watcher.thresholdWatchExpression.timeWindow.durationSizeIsRequiredValidationMessage"\n      i18n-default-message="Window duration size is required."\n    ></div>\n    <div\n      id="{{thresholdWatchTimeWindow.makeId([\'durationSelectWindowSize\', \'min\'])}}"\n      aria-describes="durationSelectWindowSize"\n      class="kuiInputNote kuiInputNote--danger"\n      ng-if="thresholdWatchTimeWindow.isValidationMessageVisible(\'durationSelectWindowSize\', \'min\')"\n      i18n-id="xpack.watcher.thresholdWatchExpression.timeWindow.durationSizeMustBePositiveNumberValidationMessage"\n      i18n-default-message="Window duration size can not be a negative number."\n    ></div>\n    <div\n      id="{{thresholdWatchTimeWindow.makeId([\'durationSelectWindowSize\', \'number\'])}}"\n      xpack-aria-describes="durationSelectWindowSize"\n      class="kuiInputNote kuiInputNote--danger"\n      ng-if="thresholdWatchTimeWindow.isValidationMessageVisible(\'durationSelectWindowSize\', \'number\')"\n      i18n-id="xpack.watcher.thresholdWatchExpression.timeWindow.durationSizeMustBeValidNumberValidationMessage"\n      i18n-default-message="Window duration size must be a valid number."\n    ></div>\n    <div\n      id="{{thresholdWatchTimeWindow.makeId([\'durationSelectWindowUnit\', \'required\'])}}"\n      xpack-aria-describes="durationSelectWindowUnit"\n      class="kuiInputNote kuiInputNote--danger"\n      ng-if="thresholdWatchTimeWindow.isValidationMessageVisible(\'durationSelectWindowUnit\', \'required\')"\n      i18n-id="xpack.watcher.thresholdWatchExpression.timeWindow.durationUnitIsRequiredValidationMessage"\n      i18n-default-message="Window duration unit is required."\n    ></div>\n    <div\n      id="{{thresholdWatchTimeWindow.makeId([\'durationSelectWindowSize\', \'minimumDuration\'])}}"\n      xpack-aria-describes="durationSelectWindowSize durationSelectWindowUnit"\n      class="kuiInputNote kuiInputNote--danger"\n      ng-if="thresholdWatchTimeWindow.isValidationMessageVisible(\'durationSelectWindowSize\', \'minimumDuration\', false)"\n      i18n-id="xpack.watcher.thresholdWatchExpression.timeWindow.durationIsTooShortValidationMessage"\n      i18n-default-message="Window duration is too short. The minimum allowed is {minimumSize}{minimumUnit}."\n      i18n-values="{ minimumSize: thresholdWatchTimeWindow.timeWindowMinimumSize, minimumUnit: thresholdWatchTimeWindow.timeWindowMinimumUnit }"\n    ></div>\n    <duration-select\n      duration-id="window"\n      minimum-unit="thresholdWatchTimeWindow.timeWindowMinimumUnit"\n      minimum-size="thresholdWatchTimeWindow.timeWindowMinimumSize"\n      unit="thresholdWatchTimeWindow.timeWindowUnit"\n      size="thresholdWatchTimeWindow.timeWindowSize"\n    ></duration-select>\n  </form>\n</expression-item>\n'},7412:function(module,exports,__webpack_require__){"use strict";__webpack_require__(7413)},7413:function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(3);var _expression_builder=__webpack_require__(7414);var _expression_builder2=_interopRequireDefault(_expression_builder);__webpack_require__(7415);__webpack_require__(7418);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var app=_modules.uiModules.get("xpack/watcher");app.directive("expressionBuilder",function(){return{restrict:"E",replace:true,transclude:true,template:_expression_builder2.default,scope:{},bindToController:true,controllerAs:"expressionBuilder",controller:function BuilderController(){_classCallCheck(this,BuilderController)}}})},7414:function(module,exports){module.exports="<div\n  ng-transclude\n></div>\n"},7415:function(module,exports,__webpack_require__){"use strict";__webpack_require__(7416)},7416:function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(3);var _key_map=__webpack_require__(739);var _expression_item=__webpack_require__(7417);var _expression_item2=_interopRequireDefault(_expression_item);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var app=_modules.uiModules.get("xpack/watcher");app.directive("expressionItem",function($injector){var $document=$injector.get("$document");var $timeout=$injector.get("$timeout");return{restrict:"E",replace:true,require:"^expressionBuilder",transclude:true,template:_expression_item2.default,scope:{itemId:"@",description:"=",value:"=",isOpen:"=",isVisible:"=",onOpen:"=",onClose:"=",isValid:"=",isDirty:"=",form:"="},bindToController:true,controllerAs:"expressionItem",link:function link($scope,$el){$scope.expressionItem.$firstInput=$el.find('[data-id="expressionItemPopoverContent"]').find(":input:first");var $button=$el.find('[data-id="expressionItemButton"]');var buttonFocusOrClick=function buttonFocusOrClick(){$scope.$apply(function(){$scope.expressionItem.onPopoverOpen()})};var documentClick=function documentClick(event){0===$el.find(event.originalEvent.target).length&&$scope.$apply(function(){$scope.expressionItem.onPopoverClose()})};var documentKeydown=function documentKeydown(event){$scope.expressionItem.isOpen&&"escape"===_key_map.keyMap[event.keyCode]&&$scope.$apply(function(){$scope.expressionItem.onPopoverClose()})};$button.on("focus",buttonFocusOrClick);$button.on("click",buttonFocusOrClick);$document.on("click",documentClick);$document.on("keydown",documentKeydown);$scope.$on("$destroy",function(){$button.off("focus",buttonFocusOrClick);$button.off("click",buttonFocusOrClick);$document.off("click",documentClick);$document.off("keydown",documentKeydown)})},controller:function ExpressionItemController($scope){var _this=this;_classCallCheck(this,ExpressionItemController);this.onPopoverClose=function(){_this.onClose(_this.itemId)};this.onPopoverOpen=function(){_this.onOpen(_this.itemId)};$scope.$watch("expressionItem.isOpen",function(isOpen,wasOpen){if(isOpen)$timeout(function(){$scope.expressionItem.$firstInput.focus()});else if(wasOpen){_this.form.$setTouched(true);_this.form.$setDirty(true)}})}}})},7417:function(module,exports){module.exports='<div\n  class="kuiPopover kuiPopover--withTitle"\n  ng-class="{ \'kuiPopover-isOpen\': expressionItem.isOpen }"\n  ng-show="expressionItem.isVisible"\n>\n  <button\n    data-id="expressionItemButton"\n    class="kuiExpressionButton"\n    ng-class="{\n      \'kuiExpressionButton-isActive\': expressionItem.isOpen,\n      \'kuiExpressionButton-isError\': !expressionItem.isValid() && expressionItem.isDirty()\n    }">\n    <span class="kuiExpressionButton__description">\n      {{ expressionItem.description | uppercase }}\n    </span>\n    <span class="kuiExpressionButton__value">\n      {{ expressionItem.value | lowercase }}\n    </span>\n  </button>\n\n  <expression-popover\n    popover-title="expressionItem.description"\n  >\n    <div ng-transclude></div>\n  </expression-popover>\n</div>\n'},7418:function(module,exports,__webpack_require__){"use strict";__webpack_require__(7419)},7419:function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(3);var _expression_popover=__webpack_require__(7420);var _expression_popover2=_interopRequireDefault(_expression_popover);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var app=_modules.uiModules.get("xpack/watcher");app.directive("expressionPopover",function(){return{restrict:"E",replace:true,require:"^expressionItem",transclude:true,template:_expression_popover2.default,scope:{popoverTitle:"="},bindToController:true,controllerAs:"expressionPopover",controller:function ExpressionPopoverController(){_classCallCheck(this,ExpressionPopoverController)}}})},7420:function(module,exports){module.exports='<div class="kuiPanelSimple kuiPopover__panel watcherExpressionPopover">\n  <div class="kuiPopoverTitle">\n    {{ expressionPopover.popoverTitle }}\n  </div>\n\n  <div\n    data-id="expressionItemPopoverContent"\n    class="kuiExpression"\n    ng-transclude\n  ></div>\n</div>\n'},7421:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.aggTypes=void 0;var _constants=__webpack_require__(45);exports.aggTypes={count:{label:"count()",fieldRequired:false,value:_constants.AGG_TYPES.COUNT},average:{label:"average()",fieldRequired:true,validNormalizedTypes:["number"],value:_constants.AGG_TYPES.AVERAGE},sum:{label:"sum()",fieldRequired:true,validNormalizedTypes:["number"],value:_constants.AGG_TYPES.SUM},min:{label:"min()",fieldRequired:true,validNormalizedTypes:["number","date"],value:_constants.AGG_TYPES.MIN},max:{label:"max()",fieldRequired:true,validNormalizedTypes:["number","date"],value:_constants.AGG_TYPES.MAX}}},7422:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.comparators=void 0;var _i18n=__webpack_require__(18);var _constants=__webpack_require__(45);exports.comparators={above:{label:_i18n.i18n.translate("xpack.watcher.thresholdWatchExpression.comparators.isAboveLabel",{defaultMessage:"Is above"}),value:_constants.COMPARATORS.GREATER_THAN},below:{label:_i18n.i18n.translate("xpack.watcher.thresholdWatchExpression.comparators.isBelowLabel",{defaultMessage:"Is below"}),value:_constants.COMPARATORS.LESS_THAN}}},7423:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.groupByTypes=void 0;var _i18n=__webpack_require__(18);exports.groupByTypes={all:{label:_i18n.i18n.translate("xpack.watcher.thresholdWatchExpression.groupByLabel.allDocumentsLabel",{defaultMessage:"all documents"}),sizeRequired:false,value:"all",validNormalizedTypes:[]},top:{label:_i18n.i18n.translate("xpack.watcher.thresholdWatchExpression.groupByLabel.topLabel",{defaultMessage:"top"}),sizeRequired:true,value:"top",validNormalizedTypes:["number","date","keyword"]}}},7424:function(module,exports,__webpack_require__){"use strict";__webpack_require__(7425)},7425:function(module,exports,__webpack_require__){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _moment=__webpack_require__(12);var _moment2=_interopRequireDefault(_moment);__webpack_require__(498);var _lodash=__webpack_require__(1);var _modules=__webpack_require__(3);var _time_buckets=__webpack_require__(283);__webpack_require__(7426);__webpack_require__(7430);var _threshold_preview_chart=__webpack_require__(7433);var _threshold_preview_chart2=_interopRequireDefault(_threshold_preview_chart);var _constants=__webpack_require__(7434);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var app=_modules.uiModules.get("xpack/watcher");app.directive("thresholdPreviewChart",function($injector){var config=$injector.get("config");_moment2.default.tz.setDefault(config.get("dateFormat:tz"));return{restrict:"E",replace:true,template:_threshold_preview_chart2.default,scope:{series:"=",startDate:"=",endDate:"=",thresholdValue:"="},controllerAs:"thresholdPreviewChart",bindToController:true,controller:function(){function ThresholdPreviewChartController($scope){var _this=this;_classCallCheck(this,ThresholdPreviewChartController);this.updateOptions=function(options){var yAxisRange=_this.buildYAxisRange();_this.options=(0,_lodash.merge)({},_this.options,options,yAxisRange)};this.buildYAxisRange=function(){var parsedThreshold=Number.parseFloat(_this.thresholdValue);var series=_this.data[0];if(!series||!(0,_lodash.isNumber)(parsedThreshold))return{yaxis:{min:null,max:null}};var VALUE_INDEX=1;var options={yaxis:{min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY}};(0,_lodash.forEach)(series,function(seriesItem){var itemValue=seriesItem[VALUE_INDEX];if(null!==itemValue){options.yaxis.min=Math.min(options.yaxis.min,itemValue,parsedThreshold);options.yaxis.max=Math.max(options.yaxis.max,itemValue,parsedThreshold)}});return options};this.onPlotHover=function(event,pos,item,plot){if(!Boolean(item)){_this.dataPointTooltip=void 0;return}var plotLeft=plot.offset().left-window.pageXOffset;var plotTop=plot.offset().top-window.pageYOffset;_this.dataPointTooltip={plotPosition:{left:plotLeft,top:plotTop,right:plotLeft+plot.width(),bottom:plotTop+plot.height()},pointPosition:{left:item.pageX-window.pageXOffset,top:item.pageY-window.pageYOffset},xValue:item.datapoint[0],yValue:item.datapoint[1]}};this.formatAsMoment=function(msSinceEpoch){return(0,_moment2.default)(msSinceEpoch)};this.options={colors:[_constants.COLORS.SERIES_LINE],grid:{aboveData:true,borderColor:_constants.COLORS.CHART_BORDER,borderWidth:{top:0,right:0,bottom:2,left:2},hoverable:true,labelMargin:_constants.MARGINS.AXES_LABELS},series:{lines:{show:true,fill:true,fillColor:_constants.COLORS.AREA_FILL}},yaxis:{tickLength:0}};$scope.$watch("thresholdPreviewChart.series",function(series){_this.data=[series];var timeBuckets=new _time_buckets.TimeBuckets;timeBuckets.setBounds({min:_this.startDate,max:_this.endDate});var momentFormat=timeBuckets.getScaledDateFormat();var options={xaxis:{mode:"time",min:_this.startDate,max:_this.endDate,tickFormatter:function tickFormatter(val){return(0,_moment2.default)(val).format(momentFormat)}}};_this.updateOptions(options)});$scope.$watch("thresholdPreviewChart.thresholdValue",function(thresholdValue){var parsedThreshold=Number.parseFloat(thresholdValue);var options={grid:{markings:[]}};if((0,_lodash.isNumber)(parsedThreshold)){var thresholdLine={yaxis:{from:parsedThreshold,to:parsedThreshold},color:_constants.COLORS.THRESHOLD_LINE,lineWidth:_constants.LINE_WIDTHS.THRESHOLD_LINE};options.grid.markings.push(thresholdLine)}_this.updateOptions(options)})}_createClass(ThresholdPreviewChartController,[{key:"isDataExists",get:function get(){return Boolean(this.series)}}]);return ThresholdPreviewChartController}()}})},7426:function(module,exports,__webpack_require__){"use strict";__webpack_require__(7427)},7427:function(module,exports,__webpack_require__){"use strict";var _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[];var _n=true;var _d=false;var _e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{!_n&&_i["return"]&&_i["return"]()}finally{if(_d)throw _e}}return _arr}return function(arr,i){if(Array.isArray(arr))return arr;if(Symbol.iterator in Object(arr))return sliceIterator(arr,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();var _lodash=__webpack_require__(1);var _modules=__webpack_require__(3);var _flot_chart=__webpack_require__(7428);var _flot_chart2=_interopRequireDefault(_flot_chart);var _jqueryFlot=__webpack_require__(1077);var _jqueryFlot2=_interopRequireDefault(_jqueryFlot);var _constants=__webpack_require__(7429);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var app=_modules.uiModules.get("xpack/watcher");app.directive("flotChart",function(){return{restrict:"E",replace:true,template:_flot_chart2.default,scope:{data:"=",options:"=",onPlotHover:"="},controllerAs:"flotChart",bindToController:true,link:function link($scope,element){$scope.flotChart.container=element},controller:function FlotChartController($scope){var _this=this;_classCallCheck(this,FlotChartController);$scope.$watchMulti(["flotChart.data","flotChart.options"],function(_ref){var _ref2=_slicedToArray(_ref,2),data=_ref2[0],options=_ref2[1];_this.plot=_jqueryFlot2.default.plot(_this.container,data,options)});$scope.$watch("flotChart.onPlotHover",function(onPlotHover){_this.container.unbind("plothover");(0,_lodash.isFunction)(onPlotHover)&&_this.container.bind("plothover",(0,_lodash.debounce)(function(){for(var _len=arguments.length,params=Array(_len),_key=0;_key<_len;_key++)params[_key]=arguments[_key];$scope.$apply(function(){return onPlotHover.apply(void 0,params.concat([_this.plot]))})},_constants.FLOT_EVENT_PLOT_HOVER_DEBOUNCE_MS))});$scope.$on("$destroy",function(){_this.container.unbind("plothover")})}}})},7428:function(module,exports){module.exports='<div class="flotChart"></div>'},7429:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.FLOT_EVENT_PLOT_HOVER_DEBOUNCE_MS=20},7430:function(module,exports,__webpack_require__){"use strict";__webpack_require__(7431)},7431:function(module,exports,__webpack_require__){"use strict";var _lodash=__webpack_require__(1);var _modules=__webpack_require__(3);var _chart_tooltip=__webpack_require__(7432);var _chart_tooltip2=_interopRequireDefault(_chart_tooltip);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function calculateTooltipPosition(pointPosition,plotPosition,tooltipWidth,tooltipHeight){var tooltipPosition={top:(0,_lodash.get)(pointPosition,"top"),left:(0,_lodash.get)(pointPosition,"left")};var tooltipPositionBottom=pointPosition.top+tooltipHeight;var isTooltipBeyondPlotBottom=tooltipPositionBottom>(0,_lodash.get)(plotPosition,"bottom");isTooltipBeyondPlotBottom&&(tooltipPosition.top-=tooltipHeight);var tooltipPositionRight=pointPosition.left+tooltipWidth;var isTooltipBeyondPlotRight=tooltipPositionRight>(0,_lodash.get)(plotPosition,"right");isTooltipBeyondPlotRight&&(tooltipPosition.left-=tooltipWidth);return tooltipPosition}var app=_modules.uiModules.get("xpack/watcher");app.directive("chartTooltip",function(){return{restrict:"E",replace:true,transclude:true,template:_chart_tooltip2.default,scope:{pointPosition:"=",plotPosition:"="},controllerAs:"chartTooltip",bindToController:true,link:function link($scope,element){$scope.$watchGroup(["chartTooltip.pointPosition","chartTooltip.plotPosition"],function(){var pointPosition=$scope.chartTooltip.pointPosition;var plotPosition=$scope.chartTooltip.plotPosition;var tooltipMargin=parseInt(element.css("margin"));var tooltipWidth=element[0].scrollWidth+2*tooltipMargin;var tooltipHeight=element[0].scrollHeight+2*tooltipMargin;var tooltipPosition=calculateTooltipPosition(pointPosition,plotPosition,tooltipWidth,tooltipHeight);$scope.chartTooltip.style=tooltipPosition})},controller:function ChartTooltipController(){_classCallCheck(this,ChartTooltipController)}}})},7432:function(module,exports){module.exports='<div\n  class="chartTooltip"\n  ng-style="chartTooltip.style"\n  ng-transclude\n></div>\n'},7433:function(module,exports){module.exports='<div class="thresholdPreviewChart">\n  <p\n    class="thresholdPreviewChartNoData"\n    ng-if="!thresholdPreviewChart.isDataExists"\n    i18n-id="xpack.watcher.thresholdPreviewChart.dataDoesNotExistTextMessage"\n    i18n-default-message="Your index and condition did not return any data"\n  ></p>\n  <flot-chart\n    ng-if="thresholdPreviewChart.isDataExists"\n    data="thresholdPreviewChart.data"\n    options="thresholdPreviewChart.options"\n    on-plot-hover="thresholdPreviewChart.onPlotHover"\n  ></flot-chart>\n  <chart-tooltip\n    ng-if="thresholdPreviewChart.dataPointTooltip"\n    point-position="thresholdPreviewChart.dataPointTooltip.pointPosition"\n    plot-position="thresholdPreviewChart.dataPointTooltip.plotPosition"\n  >\n    <div class="chartTooltip__label">{{ thresholdPreviewChart.dataPointTooltip.yValue }}</div>\n    <div class="chartTooltip__value">{{ thresholdPreviewChart.formatAsMoment(thresholdPreviewChart.dataPointTooltip.xValue) | moment }}</div>\n  </chart-tooltip>\n</div>\n'},7434:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.COLORS={AREA_FILL:"#eff6f8",SERIES_LINE:"#25a1d1",THRESHOLD_LINE:"#dd1c74",CHART_BORDER:"#676767"};exports.LINE_WIDTHS={THRESHOLD_LINE:2};exports.MARGINS={AXES_LABELS:10}},7435:function(module,exports,__webpack_require__){"use strict";__webpack_require__(7436)},7436:function(module,exports,__webpack_require__){"use strict";var _lodash=__webpack_require__(1);var _modules=__webpack_require__(3);var _watch_actions=__webpack_require__(7437);var _watch_actions2=_interopRequireDefault(_watch_actions);__webpack_require__(7438);__webpack_require__(7451);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var app=_modules.uiModules.get("xpack/watcher");app.directive("watchActions",function(){return{restrict:"E",replace:true,template:_watch_actions2.default,scope:{actions:"=",onActionAdd:"=",onActionChange:"=",onActionSimulate:"=",onActionDelete:"=",onValid:"=",onInvalid:"="},bindToController:true,controllerAs:"watchActions",controller:function WatchActionsController($scope){var _this=this;_classCallCheck(this,WatchActionsController);this.onToggle=function(action){var item=(0,_lodash.find)(_this.items,{action:action});item.isCollapsed=!item.isCollapsed};this.onDelete=function(action){_this.onActionDelete(action);var item=(0,_lodash.find)(_this.items,{action:action});(0,_lodash.remove)(_this.items,item);_this.checkValidity()};this.onActionTypeChange=function(type){_this.onActionAdd(type);var oldActions=(0,_lodash.map)(_this.items,function(item){return item.action});var newActions=(0,_lodash.difference)(_this.actions,oldActions);(0,_lodash.forEach)(newActions,function(action){_this.items.push({action:action,isCollapsed:false})})};this.checkValidity=function(){var isValid=0===_this.items.length||_this.items.every(function(i){return i.isValid});isValid?_this.onValid(_this.action):_this.onInvalid(_this.action)};this.onActionValid=function(action){var item=(0,_lodash.find)(_this.items,{action:action});item.isValid=true;_this.checkValidity()};this.onActionInvalid=function(action){var item=(0,_lodash.find)(_this.items,{action:action});item.isValid=false;_this.checkValidity()};this.items=[];$scope.$watch("watchActions.actions",function(newVal){if(!Boolean(newVal))return;_this.items=(0,_lodash.map)(newVal,function(action){return{action:action,isCollapsed:true,isValid:true}});_this.checkValidity()})}}})},7437:function(module,exports){module.exports='<div class="watchActions">\n  <div class="watchActionsHeader">\n    <div\n      class="watchActionsHeaderTitle"\n      i18n-id="xpack.watcher.watchActionsTitle"\n      i18n-default-message="Will perform {watchActionsCount, plural, one{# action} other {# actions}} once met"\n      i18n-values="{ watchActionsCount: watchActions.items.length }"\n    ></div>\n    <action-type-select\n      class="watchActionsActionType"\n      on-change="watchActions.onActionTypeChange"\n    ></action-type-select>\n  </div>\n\n  <watch-action\n    ng-repeat="item in watchActions.items track by item.action.id"\n    action="item.action"\n    is-collapsed="item.isCollapsed"\n    is-valid="item.isValid"\n    on-toggle="watchActions.onToggle"\n    on-simulate="watchActions.onActionSimulate"\n    on-delete="watchActions.onDelete"\n    on-change="watchActions.onActionChange"\n    on-valid="watchActions.onActionValid"\n    on-invalid="watchActions.onActionInvalid"\n  ></watch-action>\n</div>\n'},7438:function(module,exports,__webpack_require__){"use strict";__webpack_require__(7439)},7439:function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(3);var _watch_action=__webpack_require__(7440);var _watch_action2=_interopRequireDefault(_watch_action);var _angular=__webpack_require__(22);var _angular2=_interopRequireDefault(_angular);__webpack_require__(7441);__webpack_require__(7445);__webpack_require__(7448);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var app=_modules.uiModules.get("xpack/watcher");app.directive("watchAction",function($injector){var $compile=$injector.get("$compile");return{restrict:"E",template:_watch_action2.default,replace:true,scope:{action:"=",isCollapsed:"=",isValid:"=",onChange:"=",onToggle:"=",onSimulate:"=",onDelete:"=",onValid:"=",onInvalid:"="},bindToController:true,controllerAs:"watchAction",link:function link($scope,$el){var $container=$el.find(".watchActionDetailsContent");$container.empty();var newScope=$scope.$new();newScope.action=$scope.watchAction.action;newScope.form=$scope.watchAction.form;newScope.onChange=$scope.watchAction.onChange;var $innerEl=_angular2.default.element(newScope.action.constructor.template);var postLink=$compile($innerEl);$container.append($innerEl);postLink(newScope)},controller:function WatchActionController($scope){var _this=this;_classCallCheck(this,WatchActionController);this.checkValidity=function(){var isValid=!_this.form.$invalid;isValid?_this.onValid(_this.action):_this.onInvalid(_this.action)};$scope.$watch("watchAction.isCollapsed",function(isCollapsed){isCollapsed&&_this.form.$setTouched(true)});$scope.$watch("watchAction.form.$valid",function(){_this.checkValidity()})}}})},7440:function(module,exports){module.exports='<div\n  class="watchAction"\n  ng-class="{ watchAction__error: watchAction.isCollapsed && !watchAction.isValid}">\n  <button\n    class="watchActionSummaryButton"\n    ng-click="watchAction.onToggle(watchAction.action)">\n    <span class="watchActionSummaryButton__liner">\n      <span class="watchActionHeader">\n        <span\n          class="kuiIcon watchActionSummaryToggleIcon"\n          ng-class="{\'fa-chevron-down\': !watchAction.isCollapsed, \'fa-chevron-right\': watchAction.isCollapsed}"\n        ></span>\n        <span\n          class="kuiIcon watchActionSummaryTypeIcon"\n          ng-class="watchAction.action.iconClass"\n        ></span>\n        <span class="watchActionSummaryType">{{watchAction.action.typeName}}</span>\n      </span>\n      <span\n        class="watchActionDescription"\n        ng-if="watchAction.isCollapsed && watchAction.isValid">\n        {{watchAction.action.description}}\n      </span>\n      <span\n        class="watchActionErrorMessage"\n        ng-if="watchAction.isCollapsed && !watchAction.isValid"\n        i18n-id="xpack.watcher.watchActions.errorInActionValidationMessage"\n        i18n-default-message="There are errors in this action that need to be addressed before you can save."\n      ></span>\n    </span>\n  </button>\n  <div\n    class="watchActionDetails"\n    ng-hide="watchAction.isCollapsed">\n      <div>\n        <form name="watchAction.form" novalidate>\n          <div class="watchActionDetailsContent"></div>\n        </form>\n      </div>\n      <div class="watchActionDetailsButtons">\n        <button\n          class="kuiButton kuiButton--primary kuiButton--iconText watchActionSimulateButton"\n          ng-click="watchAction.onSimulate(watchAction.action)"\n          ng-disabled="!watchAction.isValid"\n        >\n          {{watchAction.action.simulatePrompt}}\n        </button>\n        <button\n          class="kuiButton kuiButton--danger kuiButton--iconText watchActionDeleteButton"\n          ng-click="watchAction.onDelete(watchAction.action)"\n          i18n-id="xpack.watcher.watchActions.removeActionButtonLabel"\n          i18n-default-message="Remove {actionTypeName} Action"\n          i18n-values="{ actionTypeName: watchAction.action.typeName }"\n        ></button>\n      </div>\n  </div>\n</div>\n'},7441:function(module,exports,__webpack_require__){"use strict";__webpack_require__(7442)},7442:function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(3);var _watch_action_controller_base=__webpack_require__(1270);var _watch_email_action=__webpack_require__(7444);var _watch_email_action2=_interopRequireDefault(_watch_email_action);__webpack_require__(317);__webpack_require__(496);__webpack_require__(348);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var app=_modules.uiModules.get("xpack/watcher");app.directive("watchEmailAction",function($injector){var htmlIdGeneratorFactory=$injector.get("xpackWatcherHtmlIdGeneratorFactory");return{restrict:"E",template:_watch_email_action2.default,bindToController:true,controllerAs:"watchEmailAction",controller:function(_WatchActionControlle){_inherits(WatchEmailActionController,_WatchActionControlle);function WatchEmailActionController($scope){_classCallCheck(this,WatchEmailActionController);var _this=_possibleConstructorReturn(this,(WatchEmailActionController.__proto__||Object.getPrototypeOf(WatchEmailActionController)).call(this,$scope));_this.makeId=htmlIdGeneratorFactory.create(_this.action.id);_this.to=_this.action.to.join(",");$scope.$watch("watchEmailAction.to",function(toList){var toArray=(toList||"").split(",").map(function(to){return to.trim()});_this.to=toArray.join(", ");_this.action.to=toArray});$scope.$watchGroup(["action.to","action.subject","action.body"],function(){_this.onChange(_this.action)});return _this}return WatchEmailActionController}(_watch_action_controller_base.WatchActionControllerBase)}})},7443:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}exports.WatchActionControllerBase=function WatchActionControllerBase($scope){var _this=this;_classCallCheck(this,WatchActionControllerBase);this.isValidationMessageVisible=function(fieldName,errorType){return _this.form[fieldName].$touched&&_this.form[fieldName].$error[errorType]};this.action=$scope.action;this.form=$scope.form;this.onChange=$scope.onChange}},7444:function(module,exports){module.exports='<div class="kuiFormSection">\n  <label\n    for="{{watchEmailAction.makeId(\'to\')}}"\n    class="kuiFormLabel"\n    i18n-id="xpack.watcher.watchActions.email.emailAddressLabel"\n    i18n-default-message="To e-mail address"\n  ></label>\n  <input\n    type="text"\n    id="{{watchEmailAction.makeId(\'to\')}}"\n    name="to"\n    class="kuiTextInput fullWidth"\n    ng-model="watchEmailAction.to"\n    required\n    input-focus\n  >\n  <div\n    id="{{watchEmailAction.makeId([\'to\', \'required\'])}}"\n    xpack-aria-describes="{{watchEmailAction.makeId(\'to\')}}"\n    class="kuiInputNote kuiInputNote--danger"\n    ng-if="watchEmailAction.isValidationMessageVisible(\'to\', \'required\')"\n    i18n-id="xpack.watcher.watchActions.email.emailAddressIsRequiredValidationMessage"\n    i18n-default-message="To e-mail address is required."\n  ></div>\n</div>\n<div class="kuiFormSection">\n  <label\n    for="{{watchEmailAction.makeId(\'subject\')}}"\n    class="kuiFormLabel"\n    i18n-id="xpack.watcher.watchActions.email.subjectLabel"\n    i18n-default-message="Subject"\n  ></label>\n  <input\n    type="text"\n    id="{{watchEmailAction.makeId(\'subject\')}}"\n    name="subject"\n    class="kuiTextInput fullWidth"\n    ng-model="watchEmailAction.action.subject"\n    required\n  >\n  <div\n    id="{{watchEmailAction.makeId([\'subject\', \'required\'])}}"\n    xpack-aria-describes="{{watchEmailAction.makeId(\'subject\')}}"\n    class="kuiInputNote kuiInputNote--danger"\n    ng-if="watchEmailAction.isValidationMessageVisible(\'subject\', \'required\')"\n    i18n-id="xpack.watcher.watchActions.email.subjectIsRequiredValidationMessage"\n    i18n-default-message="Subject is required."\n  ></div>\n</div>\n<div class="kuiFormSection">\n  <label\n    for="{{watchEmailAction.makeId(\'body\')}}"\n    class="kuiFormLabel"\n    i18n-id="xpack.watcher.watchActions.email.bodyLabel"\n    i18n-default-message="Body"\n  ></label>\n  <textarea\n    id="{{watchEmailAction.makeId(\'body\')}}"\n    name="body"\n    class="kuiTextArea fullWidth"\n    ng-model="watchEmailAction.action.body"\n    required\n  ></textarea>\n  <div\n    id="{{watchEmailAction.makeId([\'body\', \'required\'])}}"\n    xpack-aria-describes="{{watchEmailAction.makeId(\'body\')}}"\n    class="kuiInputNote kuiInputNote--danger"\n    ng-if="watchEmailAction.isValidationMessageVisible(\'body\', \'required\')"\n    i18n-id="xpack.watcher.watchActions.email.bodyIsRequiredValidationMessage"\n    i18n-default-message="Body is required."\n  ></div>\n</div>\n'},7445:function(module,exports,__webpack_require__){"use strict";__webpack_require__(7446)},7446:function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(3);var _watch_action_controller_base=__webpack_require__(1270);var _watch_logging_action=__webpack_require__(7447);var _watch_logging_action2=_interopRequireDefault(_watch_logging_action);__webpack_require__(496);__webpack_require__(317);__webpack_require__(348);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var app=_modules.uiModules.get("xpack/watcher");app.directive("watchLoggingAction",function($injector){var htmlIdGeneratorFactory=$injector.get("xpackWatcherHtmlIdGeneratorFactory");return{restrict:"E",template:_watch_logging_action2.default,bindToController:true,controllerAs:"watchLoggingAction",controller:function(_WatchActionControlle){_inherits(WatchLoggingActionController,_WatchActionControlle);function WatchLoggingActionController($scope){_classCallCheck(this,WatchLoggingActionController);var _this=_possibleConstructorReturn(this,(WatchLoggingActionController.__proto__||Object.getPrototypeOf(WatchLoggingActionController)).call(this,$scope));_this.makeId=htmlIdGeneratorFactory.create(_this.action.id);$scope.$watch(["action.text"],function(){_this.onChange(_this.action)});return _this}return WatchLoggingActionController}(_watch_action_controller_base.WatchActionControllerBase)}})},7447:function(module,exports){module.exports='<div class="kuiFormSection">\n  <label\n    for="{{watchLoggingAction.makeId(\'text\')}}"\n    class="kuiFormLabel"\n    i18n-id="xpack.watcher.watchActions.logging.logTextLabel"\n    i18n-default-message="Log text"\n  ></label>\n  <input\n    type="text"\n    id="{{watchLoggingAction.makeId(\'text\')}}"\n    name="text"\n    class="kuiTextInput fullWidth"\n    ng-model="watchLoggingAction.action.text"\n    required\n    input-focus\n  >\n  <div\n    id="{{watchLoggingAction.makeId([\'text\', \'required\'])}}"\n    xpack-aria-describes="{{watchLoggingAction.makeId(\'text\')}}"\n    class="kuiInputNote kuiInputNote--danger"\n    ng-if="watchLoggingAction.isValidationMessageVisible(\'text\', \'required\')"\n    i18n-id="xpack.watcher.watchActions.logging.logTextIsRequiredValidationMessage"\n    i18n-default-message="Log text is required."\n  ></div>\n</div>\n'},7448:function(module,exports,__webpack_require__){"use strict";__webpack_require__(7449)},7449:function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(3);var _watch_action_controller_base=__webpack_require__(1270);var _watch_slack_action=__webpack_require__(7450);var _watch_slack_action2=_interopRequireDefault(_watch_slack_action);__webpack_require__(496);__webpack_require__(317);__webpack_require__(348);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var app=_modules.uiModules.get("xpack/watcher");app.directive("watchSlackAction",function($injector){var htmlIdGeneratorFactory=$injector.get("xpackWatcherHtmlIdGeneratorFactory");return{restrict:"E",template:_watch_slack_action2.default,bindToController:true,controllerAs:"watchSlackAction",controller:function(_WatchActionControlle){_inherits(WatchSlackActionController,_WatchActionControlle);function WatchSlackActionController($scope){_classCallCheck(this,WatchSlackActionController);var _this=_possibleConstructorReturn(this,(WatchSlackActionController.__proto__||Object.getPrototypeOf(WatchSlackActionController)).call(this,$scope));_this.makeId=htmlIdGeneratorFactory.create(_this.action.id);_this.to=_this.action.to.join(", ");$scope.$watch("watchSlackAction.to",function(toList){var toArray=(toList||"").split(",").map(function(to){return to.trim()});_this.to=toArray.join(", ");_this.action.to=toArray});$scope.$watchGroup(["action.to","action.text"],function(){_this.onChange(_this.action)});return _this}return WatchSlackActionController}(_watch_action_controller_base.WatchActionControllerBase)}})},7450:function(module,exports){module.exports='<div class="kuiFormSection">\n  <label\n    for="{{watchSlackAction.makeId(\'to\')}}"\n    class="kuiFormLabel"\n    i18n-id="xpack.watcher.watchActions.slack.recipientLabel"\n    i18n-default-message="Recipient"\n  ></label>\n  <input\n    type="text"\n    id="{{watchSlackAction.makeId(\'to\')}}"\n    name="to"\n    class="kuiTextInput fullWidth"\n    ng-model="watchSlackAction.to"\n    required\n    input-focus\n  >\n  <div\n    id="{{watchSlackAction.makeId([\'to\', \'required\'])}}"\n    xpack-aria-describes="{{watchSlackAction.makeId(\'to\')}}"\n    class="kuiInputNote kuiInputNote--danger"\n    ng-if="watchSlackAction.isValidationMessageVisible(\'to\', \'required\')"\n    i18n-id="xpack.watcher.watchActions.slack.recipientIsRequiredValidationMessage"\n    i18n-default-message="Recipient is required."\n  ></div>\n</div>\n<div class="kuiFormSection">\n  <label\n    for="{{watchSlackAction.makeId(\'text\')}}"\n    class="kuiFormLabel"\n    i18n-id="xpack.watcher.watchActions.slack.messageLabel"\n    i18n-default-message="Message"\n  ></label>\n  <textarea\n    id="{{watchSlackAction.makeId(\'text\')}}"\n    name="text"\n    class="kuiTextArea fullWidth"\n    ng-model="watchSlackAction.action.text"\n    required\n  ></textarea>\n  <div\n    id="{{watchSlackAction.makeId([\'text\', \'required\'])}}"\n    xpack-aria-describes="{{watchSlackAction.makeId(\'text\')}}"\n    class="kuiInputNote kuiInputNote--danger"\n    ng-if="watchSlackAction.isValidationMessageVisible(\'text\', \'required\')"\n    i18n-id="xpack.watcher.watchActions.slack.messageIsRequiredValidationMessage"\n    i18n-default-message="Message is required."\n  ></div>\n</div>\n'},7451:function(module,exports,__webpack_require__){"use strict";__webpack_require__(7452)},7452:function(module,exports,__webpack_require__){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _lodash=__webpack_require__(1);var _modules=__webpack_require__(3);var _action_type_select=__webpack_require__(7453);var _action_type_select2=_interopRequireDefault(_action_type_select);__webpack_require__(497);var _action=__webpack_require__(2253);__webpack_require__(7454);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var app=_modules.uiModules.get("xpack/watcher");app.directive("actionTypeSelect",function($injector){var watcherSettingsService=$injector.get("xpackWatcherSettingsService");return{restrict:"E",template:_action_type_select2.default,scope:{onChange:"="},controllerAs:"actionTypeSelect",bindToController:true,controller:function(){function ActionTypeSelectController(){var _this=this;_classCallCheck(this,ActionTypeSelectController);this.selectedItem={value:null};this.loadActionTypes().then(function(actionTypes){_this.actionTypes=actionTypes})}_createClass(ActionTypeSelectController,[{key:"loadActionTypes",value:function loadActionTypes(){var allActionTypes=_action.Action.getActionTypes();return watcherSettingsService.getSettings().then(function(settings){var result=(0,_lodash.map)(allActionTypes,function(_ref,type){var typeName=_ref.typeName,iconClass=_ref.iconClass,selectMessage=_ref.selectMessage;var isEnabled=settings.actionTypes[type].enabled;return{type:type,typeName:typeName,iconClass:iconClass,selectMessage:selectMessage,isEnabled:isEnabled}});return result})}},{key:"onSelect",value:function onSelect(actionType){this.selectedItem={value:null};actionType.isEnabled&&this.onChange(actionType.type)}}]);return ActionTypeSelectController}()}})},7453:function(module,exports){module.exports='<ui-select\n  ng-model="actionTypeSelect.selectedItem.value"\n  on-select="actionTypeSelect.onSelect($select.selected)"\n>\n  <ui-select-match placeholder="{{ \'xpack.watcher.actionTypeSelect.addNewActionPlaceholder\' | i18n: { defaultMessage: \'Add new action\' } }}">\n    {{$select.selected.typeName}}\n  </ui-select-match>\n  <ui-select-choices repeat="actionType in actionTypeSelect.actionTypes | filter:$select.search">\n    <div\n      class="actionTypeChoice"\n      ng-class="{\n        \'actionTypeChoice--disabled\': !actionType.isEnabled\n      }"\n    >\n      <div class="actionTypeIcon">\n        <span ng-class="actionType.iconClass"></span>\n      </div>\n      <div class="actionTypeDescription">\n        <div\n          ng-bind-html="actionType.typeName | highlight: $select.search"\n        ></div>\n        <div class="action-type-description">\n          <span ng-if="actionType.isEnabled" ng-bind-html="actionType.selectMessage | highlight: $select.search"></span>\n          <span\n            ng-if="!actionType.isEnabled"\n            i18n-id="xpack.watcher.actionTypeSelect.actionDisabledTextMessage"\n            i18n-default-message="Disabled. Configure {elasticsearchYmlText}."\n            i18n-values="{ elasticsearchYmlText: \'elasticsearch.yml\' }"\n          ></span>\n        </div>\n      </div>\n    </div>\n  </ui-select-choices>\n</ui-select>\n'},7454:function(module,exports,__webpack_require__){"use strict";__webpack_require__(7455)},7455:function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(3);var _settings_service=__webpack_require__(7456);_modules.uiModules.get("xpack/watcher").factory("xpackWatcherSettingsService",function($injector){var $http=$injector.get("$http");return new _settings_service.SettingsService($http)})},7456:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.SettingsService=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _chrome=__webpack_require__(9);var _chrome2=_interopRequireDefault(_chrome);var _constants=__webpack_require__(45);var _settings=__webpack_require__(7457);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}exports.SettingsService=function(){function SettingsService($http){_classCallCheck(this,SettingsService);this.$http=$http;this.basePath=_chrome2.default.addBasePath(_constants.ROUTES.API_ROOT)}_createClass(SettingsService,[{key:"getSettings",value:function getSettings(){return this.$http.get(this.basePath+"/settings").then(function(response){return _settings.Settings.fromUpstreamJson(response.data)})}}]);return SettingsService}()},7457:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _settings=__webpack_require__(7458);Object.defineProperty(exports,"Settings",{enumerable:true,get:function get(){return _settings.Settings}})},7458:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}exports.Settings=function(){function Settings(props){_classCallCheck(this,Settings);this.actionTypes=props.actionTypes}_createClass(Settings,null,[{key:"fromUpstreamJson",value:function fromUpstreamJson(json){var actionTypes=json.action_types;var props={actionTypes:actionTypes};return new Settings(props)}}]);return Settings}()},7459:function(module,exports,__webpack_require__){"use strict";__webpack_require__(7460)},7460:function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(3);var _panel_pager=__webpack_require__(7461);var _panel_pager2=_interopRequireDefault(_panel_pager);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var app=_modules.uiModules.get("xpack/watcher");app.directive("panelPager",function(){return{restrict:"E",replace:true,template:_panel_pager2.default,scope:{onNextPage:"=",onPreviousPage:"="},bindToController:true,controllerAs:"panelPager",controller:function PanelPagerController(){_classCallCheck(this,PanelPagerController)}}})},7461:function(module,exports){module.exports='<div class="kuiPanelPager">\n  <button\n    class="kuiButton kuiButton--iconText panelPagerPrevious"\n    ng-click="panelPager.onPreviousPage()"\n    aria-label="Go to previous page"\n  >\n    <span class="kuiButton__inner">\n      <span\n        aria-hidden="true"\n        class="kuiButton__icon kuiIcon fa-chevron-left panelPagerPrevious__icon"\n      >\n      </span>\n    </span>\n  </button>\n  <button\n    class="kuiButton kuiButton--iconText panelPagerNext"\n    ng-click="panelPager.onNextPage()"\n    aria-label="Go to next page"\n  >\n    <span class="kuiButton__inner">\n      <span\n        aria-hidden="true"\n        class="kuiButton__icon kuiIcon fa-chevron-right panelPagerNext__icon"\n      >\n      </span>\n    </span>\n  </button>\n</div>\n'},7462:function(module,exports,__webpack_require__){"use strict";__webpack_require__(7463)},7463:function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(3);var _fields_service=__webpack_require__(7464);_modules.uiModules.get("xpack/watcher").factory("xpackWatcherFieldsService",function($injector){var $http=$injector.get("$http");return new _fields_service.FieldsService($http)})},7464:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.FieldsService=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _chrome=__webpack_require__(9);var _chrome2=_interopRequireDefault(_chrome);var _constants=__webpack_require__(45);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}exports.FieldsService=function(){function FieldsService($http){_classCallCheck(this,FieldsService);this.$http=$http;this.basePath=_chrome2.default.addBasePath(_constants.ROUTES.API_ROOT)}_createClass(FieldsService,[{key:"getFields",value:function getFields(){var indexes=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["*"];return this.$http.post(this.basePath+"/fields",{indexes:indexes}).then(function(response){return response.data.fields})}}]);return FieldsService}()},7465:function(module,exports,__webpack_require__){"use strict";__webpack_require__(7466)},7466:function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(3);var _xpack_watcher_timezone_service=__webpack_require__(7467);_modules.uiModules.get("xpack/watcher").factory("xpackWatcherTimezoneService",function($injector){var config=$injector.get("config");return new _xpack_watcher_timezone_service.XpackWatcherTimezoneService(config)})},7467:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.XpackWatcherTimezoneService=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _jstimezonedetect=__webpack_require__(1022);var _moment=__webpack_require__(12);var _moment2=_interopRequireDefault(_moment);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}exports.XpackWatcherTimezoneService=function(){function XpackWatcherTimezoneService(config){_classCallCheck(this,XpackWatcherTimezoneService);this.config=config}_createClass(XpackWatcherTimezoneService,[{key:"getTimezone",value:function getTimezone(){var DATE_FORMAT_CONFIG_KEY="dateFormat:tz";var isCustomTimezone=!this.config.isDefault(DATE_FORMAT_CONFIG_KEY);if(isCustomTimezone)return this.config.get(DATE_FORMAT_CONFIG_KEY);var detectedTimezone=_jstimezonedetect.jstz.determine().name();if(detectedTimezone)return detectedTimezone;var tzOffset=(0,_moment2.default)().format("Z");return tzOffset}}]);return XpackWatcherTimezoneService}()},7468:function(module,exports,__webpack_require__){"use strict";__webpack_require__(7469)},7469:function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(3);var _xpack_watcher_interval_service=__webpack_require__(7470);var _time_buckets=__webpack_require__(283);_modules.uiModules.get("xpack/watcher").factory("xpackWatcherIntervalService",function(){var timeBuckets=new _time_buckets.TimeBuckets;return new _xpack_watcher_interval_service.XpackWatcherIntervalService(timeBuckets)})},7470:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}exports.XpackWatcherIntervalService=function(){function XpackWatcherIntervalService(timeBuckets){_classCallCheck(this,XpackWatcherIntervalService);this.timeBuckets=timeBuckets}_createClass(XpackWatcherIntervalService,[{key:"getInterval",value:function getInterval(input){this.timeBuckets.setBounds(input);return this.timeBuckets.getInterval()}}]);return XpackWatcherIntervalService}()},7471:function(module,exports,__webpack_require__){"use strict";__webpack_require__(7472);__webpack_require__(649)},7472:function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(3);var _action_defaults_service=__webpack_require__(7473);var _registry=__webpack_require__(649);__webpack_require__(7474);__webpack_require__(7475);__webpack_require__(7476);_modules.uiModules.get("xpack/watcher").factory("xpackWatcherActionDefaultsService",function($injector){var config=$injector.get("config");var Private=$injector.get("Private");var registry=Private(_registry.ActionDefaultsRegistryProvider);return new _action_defaults_service.XpackWatcherActionDefaultsService(config,registry)})},7473:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}exports.XpackWatcherActionDefaultsService=function XpackWatcherActionDefaultsService(config,registry){var _this=this;_classCallCheck(this,XpackWatcherActionDefaultsService);this.getDefaults=function(watchType,actionType){var reg=_this.registry;var match=reg.find(function(registryEntry){return registryEntry.watchType===watchType&&registryEntry.actionType===actionType});return match?match.getDefaults(_this.config,watchType):{}};this.config=config;this.registry=registry}},7474:function(module,exports,__webpack_require__){"use strict";var _lodash=__webpack_require__(1);var _constants=__webpack_require__(45);var _registry=__webpack_require__(649);var DEFAULT_ADMIN_EMAIL_CONFIG_KEY="xPack:defaultAdminEmail";var actionType=_constants.ACTION_TYPES.EMAIL;function getActionDefaults(config){return{to:config.get(DEFAULT_ADMIN_EMAIL_CONFIG_KEY)}}_registry.ActionDefaultsRegistryProvider.register(function(){return{actionType:actionType,watchType:_constants.WATCH_TYPES.THRESHOLD,getDefaults:function getDefaults(config){var actionDefaults=getActionDefaults(config);var actionWatchComboDefaults={subject:"Watch [{{ctx.metadata.name}}] has exceeded the threshold"};return(0,_lodash.merge)(actionDefaults,actionWatchComboDefaults)}}})},7475:function(module,exports,__webpack_require__){"use strict";var _lodash=__webpack_require__(1);var _constants=__webpack_require__(45);var _registry=__webpack_require__(649);var actionType=_constants.ACTION_TYPES.LOGGING;function getActionDefaults(){return{}}_registry.ActionDefaultsRegistryProvider.register(function(){return{actionType:actionType,watchType:_constants.WATCH_TYPES.THRESHOLD,getDefaults:function getDefaults(config){var actionDefaults=getActionDefaults(config);var actionWatchComboDefaults={text:"Watch [{{ctx.metadata.name}}] has exceeded the threshold"};return(0,_lodash.merge)(actionDefaults,actionWatchComboDefaults)}}})},7476:function(module,exports,__webpack_require__){"use strict";var _lodash=__webpack_require__(1);var _constants=__webpack_require__(45);var _registry=__webpack_require__(649);var actionType=_constants.ACTION_TYPES.SLACK;function getActionDefaults(){return{}}_registry.ActionDefaultsRegistryProvider.register(function(){return{actionType:actionType,watchType:_constants.WATCH_TYPES.THRESHOLD,getDefaults:function getDefaults(config){var actionDefaults=getActionDefaults(config);var actionWatchComboDefaults={text:"Watch [{{ctx.metadata.name}}] has exceeded the threshold"};return(0,_lodash.merge)(actionDefaults,actionWatchComboDefaults)}}})},7477:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _visualize_options=__webpack_require__(7478);Object.defineProperty(exports,"VisualizeOptions",{enumerable:true,get:function get(){return _visualize_options.VisualizeOptions}})},7478:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}exports.VisualizeOptions=function(){function VisualizeOptions(){var props=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,VisualizeOptions);this.rangeFrom=props.rangeFrom;this.rangeTo=props.rangeTo;this.interval=props.interval;this.timezone=props.timezone}_createClass(VisualizeOptions,[{key:"upstreamJson",get:function get(){return{rangeFrom:this.rangeFrom,rangeTo:this.rangeTo,interval:this.interval,timezone:this.timezone}}}]);return VisualizeOptions}()},7479:function(module,exports,__webpack_require__){"use strict";__webpack_require__(7480)},7480:function(module,exports,__webpack_require__){"use strict";var _routes=__webpack_require__(13);var _routes2=_interopRequireDefault(_routes);__webpack_require__(240);var _notify=__webpack_require__(11);var _watch_history_item_route=__webpack_require__(7481);var _watch_history_item_route2=_interopRequireDefault(_watch_history_item_route);__webpack_require__(647);__webpack_require__(7482);__webpack_require__(7485);var _update_management_sections=__webpack_require__(1269);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}_routes2.default.when("/management/elasticsearch/watcher/watches/watch/:watchId/history-item/:watchHistoryItemId",{template:_watch_history_item_route2.default,resolve:{watch:function watch($injector){var $route=$injector.get("$route");var watchService=$injector.get("xpackWatcherWatchService");var kbnUrl=$injector.get("kbnUrl");var watchId=$route.current.params.watchId;return watchService.loadWatch(watchId).catch(function(err){403!==err.status&&_notify.toastNotifications.addDanger(err.data.message);kbnUrl.redirect("/management/elasticsearch/watcher/watches");return Promise.reject()})},watchHistoryItem:function watchHistoryItem($injector){var $route=$injector.get("$route");var $filter=$injector.get("$filter");var moment=$filter("moment");var watchHistoryService=$injector.get("xpackWatcherWatchHistoryService");var kbnUrl=$injector.get("kbnUrl");var watchId=$route.current.params.watchId;var watchHistoryItemId=$route.current.params.watchHistoryItemId;return watchHistoryService.loadWatchHistoryItem(watchHistoryItemId).then(function(historyItem){var display=moment(historyItem.startTime);(0,_update_management_sections.updateHistorySection)(display);return historyItem}).catch(function(err){403!==err.status&&_notify.toastNotifications.addDanger(err.data.message);kbnUrl.redirect("/management/elasticsearch/watcher/watches/watch/"+watchId+"/status");return Promise.reject()})}},controllerAs:"watchHistoryItemRoute",controller:function WatchHistoryItemRouteController($injector){_classCallCheck(this,WatchHistoryItemRouteController);var $route=$injector.get("$route");this.watch=$route.current.locals.watch;this.watchHistoryItem=$route.current.locals.watchHistoryItem}})},7481:function(module,exports){module.exports='<watch-history-item\n  xpack-watch="watchHistoryItemRoute.watch"\n  watch-history-item="watchHistoryItemRoute.watchHistoryItem"\n></watch-history-item>\n'},7482:function(module,exports,__webpack_require__){"use strict";__webpack_require__(7483)},7483:function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(3);var _watch_history_service=__webpack_require__(7484);_modules.uiModules.get("xpack/watcher").factory("xpackWatcherWatchHistoryService",function($injector){var $http=$injector.get("$http");return new _watch_history_service.WatchHistoryService($http)})},7484:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.WatchHistoryService=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _chrome=__webpack_require__(9);var _chrome2=_interopRequireDefault(_chrome);var _constants=__webpack_require__(45);var _watch_history_item=__webpack_require__(2255);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}exports.WatchHistoryService=function(){function WatchHistoryService($http){_classCallCheck(this,WatchHistoryService);this.$http=$http;this.basePath=_chrome2.default.addBasePath(_constants.ROUTES.API_ROOT)}_createClass(WatchHistoryService,[{key:"loadWatchHistoryItem",value:function loadWatchHistoryItem(watchHistoryItemId){return this.$http.get(this.basePath+"/history/"+watchHistoryItemId).then(function(response){return _watch_history_item.WatchHistoryItem.fromUpstreamJson(response.data.watchHistoryItem)})}}]);return WatchHistoryService}()},7485:function(module,exports,__webpack_require__){"use strict";__webpack_require__(7486)},7486:function(module,exports,__webpack_require__){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _modules=__webpack_require__(3);var _compat=__webpack_require__(107);var _watch_history_item=__webpack_require__(7487);var _watch_history_item2=_interopRequireDefault(_watch_history_item);__webpack_require__(2258);__webpack_require__(7488);__webpack_require__(7491);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var app=_modules.uiModules.get("xpack/watcher");app.directive("watchHistoryItem",function(){return{restrict:"E",template:_watch_history_item2.default,scope:{watch:"=xpackWatch",watchHistoryItem:"="},bindToController:true,controllerAs:"watchHistoryItem",controller:function(_InitAfterBindingsWor){_inherits(WatchHistoryItemController,_InitAfterBindingsWor);function WatchHistoryItemController(){_classCallCheck(this,WatchHistoryItemController);return _possibleConstructorReturn(this,(WatchHistoryItemController.__proto__||Object.getPrototypeOf(WatchHistoryItemController)).apply(this,arguments))}_createClass(WatchHistoryItemController,[{key:"initAfterBindings",value:function initAfterBindings(){this.omitBreadcrumbPages=["watch","history-item",this.watch.id];this.breadcrumb=this.watch.displayName}}]);return WatchHistoryItemController}(_compat.InitAfterBindingsWorkaround)}})},7487:function(module,exports){module.exports='<kbn-management-app\n  section="elasticsearch/watcher/watch"\n  omit-breadcrumb-pages="{{ watchHistoryItem.omitBreadcrumbPages }}"\n  page-title="watchHistoryItem.breadcrumb"\n>\n  <div class="kuiViewContent kuiViewContent--constrainedWidth">\n    <div class="kuiViewContentItem kuiVerticalRhythm">\n      <watch-history-item-watch-summary\n        watch-history-item="watchHistoryItem.watchHistoryItem"\n      ></watch-history-item-watch-summary>\n    </div>\n    <div class="kuiViewContentItem kuiVerticalRhythm">\n      <watch-history-item-actions-summary\n        xpack-watch="watchHistoryItem.watch"\n        watch-history-item="watchHistoryItem.watchHistoryItem"\n      ></watch-history-item-actions-summary>\n    </div>\n    <div class="kuiViewContentItem kuiVerticalRhythm">\n      <label\n        i18n-id="xpack.watcher.sections.watchHistoryItem.executionOutputLabel"\n        i18n-default-message="Execution Output:"\n      ></label>\n      <watch-history-item-detail watch-history-item="watchHistoryItem.watchHistoryItem"></watch-history-item-detail>\n    </div>\n  </div>\n</kbn-management-app>\n'},7488:function(module,exports,__webpack_require__){"use strict";__webpack_require__(7489)},7489:function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(3);var _watch_history_item_watch_summary=__webpack_require__(7490);var _watch_history_item_watch_summary2=_interopRequireDefault(_watch_history_item_watch_summary);__webpack_require__(852);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var app=_modules.uiModules.get("xpack/watcher");app.directive("watchHistoryItemWatchSummary",function(){return{restrict:"E",replace:true,template:_watch_history_item_watch_summary2.default,scope:{watchHistoryItem:"="},bindToController:true,controllerAs:"watchHistoryItemWatchSummary",controller:function WatchHistoryItemWatchSummaryController(){_classCallCheck(this,WatchHistoryItemWatchSummaryController)}}})},7490:function(module,exports){module.exports='<div>\n  <label\n    i18n-id="xpack.watcher.sections.watchHistoryItem.watchSummary.executionStatusLabel"\n    i18n-default-message="Execution Status:"\n  ></label>\n  <watch-state-icon\n    watch-status="watchHistoryItemWatchSummary.watchHistoryItem.watchStatus"\n  ></watch-state-icon>\n  <span>{{ watchHistoryItemWatchSummary.watchHistoryItem.watchStatus.state }}</span>\n</div>\n'},7491:function(module,exports,__webpack_require__){"use strict";__webpack_require__(7492)},7492:function(module,exports,__webpack_require__){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _lodash=__webpack_require__(1);var _modules=__webpack_require__(3);var _compat=__webpack_require__(107);var _watch_history_item_actions_summary=__webpack_require__(7493);var _watch_history_item_actions_summary2=_interopRequireDefault(_watch_history_item_actions_summary);__webpack_require__(2259);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var app=_modules.uiModules.get("xpack/watcher");app.directive("watchHistoryItemActionsSummary",function(){return{restrict:"E",replace:true,template:_watch_history_item_actions_summary2.default,scope:{watch:"=xpackWatch",watchHistoryItem:"="},bindToController:true,controllerAs:"watchHistoryItemActionsSummary",controller:function(_InitAfterBindingsWor){_inherits(WatchHistoryItemActionsSummaryController,_InitAfterBindingsWor);function WatchHistoryItemActionsSummaryController(){_classCallCheck(this,WatchHistoryItemActionsSummaryController);return _possibleConstructorReturn(this,(WatchHistoryItemActionsSummaryController.__proto__||Object.getPrototypeOf(WatchHistoryItemActionsSummaryController)).apply(this,arguments))}_createClass(WatchHistoryItemActionsSummaryController,[{key:"initAfterBindings",value:function initAfterBindings(){var actions=this.watch.actions;var actionStatuses=this.watchHistoryItem.watchStatus.actionStatuses;this.actionDetails=actions.map(function(action){var actionStatus=(0,_lodash.find)(actionStatuses,{id:action.id});return{action:action,actionStatus:actionStatus}})}}]);return WatchHistoryItemActionsSummaryController}(_compat.InitAfterBindingsWorkaround)}})},7493:function(module,exports){module.exports='<table class="kuiTable kuiTable--fluid kuiVerticalRhythm">\n  <thead>\n    <tr>\n      <th\n        scope="col"\n        class="kuiTableHeaderCell"\n        i18n-id="xpack.watcher.sections.watchHistoryItem.actionsSummary.actionHeaderCellLabel"\n        i18n-default-message="Action"\n        ></th>\n      <th\n        scope="col"\n        class="kuiTableHeaderCell"\n        i18n-id="xpack.watcher.sections.watchHistoryItem.actionsSummary.typeHeaderCellLabel"\n        i18n-default-message="Type"\n        ></th>\n      <th\n        scope="col"\n        class="kuiTableHeaderCell"\n        i18n-id="xpack.watcher.sections.watchHistoryItem.actionsSummary.stateHeaderCellLabel"\n        i18n-default-message="State"\n        ></th>\n      <th\n        scope="col"\n        class="kuiTableHeaderCell"\n        i18n-id="xpack.watcher.sections.watchHistoryItem.actionsSummary.reasonHeaderCellLabel"\n        i18n-default-message="Reason"\n        ></th>\n    </tr>\n  </thead>\n  <tr ng-repeat="actionDetail in watchHistoryItemActionsSummary.actionDetails">\n    <td class="kuiTableRowCell">\n      <div class="kuiTableRowCell__liner ">\n        {{actionDetail.action.id}}\n      </div>\n    </td>\n    <td class="kuiTableRowCell">\n      <div class="kuiTableRowCell__liner ">\n        {{actionDetail.action.type}}\n      </div>\n    </td>\n    <td class="kuiTableRowCell">\n      <div class="kuiTableRowCell__liner">\n        <action-state-icon action-status="actionDetail.actionStatus"></action-state-icon>\n        {{actionDetail.actionStatus.state}}\n      </div>\n    </td>\n    <td class="kuiTableRowCell">\n      <div class="kuiTableRowCell__liner">\n        {{actionDetail.actionStatus.lastExecutionReason}}\n      </div>\n    </td>\n  </tr>\n</table>\n'},7494:function(module,exports,__webpack_require__){"use strict";__webpack_require__(7495);__webpack_require__(7496)},7495:function(module,exports,__webpack_require__){"use strict";var _management=__webpack_require__(84);var _i18n=__webpack_require__(18);__webpack_require__(392);_management.management.getSection("elasticsearch").register("watcher",{display:_i18n.i18n.translate("xpack.watcher.sections.watchList.managementSection.watcherDisplayName",{defaultMessage:"Watcher"}),order:4,url:"#/management/elasticsearch/watcher/"});_management.management.getSection("elasticsearch/watcher").register("watches",{display:_i18n.i18n.translate("xpack.watcher.sections.watchList.managementSection.watchesDisplayName",{defaultMessage:"Watches"}),order:1});_management.management.getSection("elasticsearch/watcher").register("watch",{visible:false});_management.management.getSection("elasticsearch/watcher/watch").register("status",{display:_i18n.i18n.translate("xpack.watcher.sections.watchList.managementSection.statusDisplayName",{defaultMessage:"Status"}),order:1,visible:false});_management.management.getSection("elasticsearch/watcher/watch").register("edit",{display:_i18n.i18n.translate("xpack.watcher.sections.watchList.managementSection.editDisplayName",{defaultMessage:"Edit"}),order:2,visible:false});_management.management.getSection("elasticsearch/watcher/watch").register("new",{display:_i18n.i18n.translate("xpack.watcher.sections.watchList.managementSection.newWatchDisplayName",{defaultMessage:"New Watch"}),order:1,visible:false});_management.management.getSection("elasticsearch/watcher/watch").register("history-item",{order:1,visible:false})},7496:function(module,exports,__webpack_require__){"use strict";var _routes=__webpack_require__(13);var _routes2=_interopRequireDefault(_routes);var _management=__webpack_require__(84);var _notify=__webpack_require__(11);var _watch_list_route=__webpack_require__(7497);var _watch_list_route2=_interopRequireDefault(_watch_list_route);__webpack_require__(7498);__webpack_require__(392);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}_routes2.default.when("/management/elasticsearch/watcher/",{redirectTo:"/management/elasticsearch/watcher/watches/"});_routes2.default.when("/management/elasticsearch/watcher/watches/",{template:_watch_list_route2.default,controller:function WatchListRouteController($injector){_classCallCheck(this,WatchListRouteController);var $route=$injector.get("$route");this.watches=$route.current.locals.watches},controllerAs:"watchListRoute",resolve:{watches:function watches($injector){var watchesService=$injector.get("xpackWatcherWatchesService");var licenseService=$injector.get("xpackWatcherLicenseService");var kbnUrl=$injector.get("kbnUrl");return watchesService.getWatchList().catch(function(err){return licenseService.checkValidity().then(function(){if(403===err.status)return null;_notify.toastNotifications.addDanger(err.data.message);kbnUrl.redirect("/management");return Promise.reject()})})},checkLicense:function checkLicense($injector){var licenseService=$injector.get("xpackWatcherLicenseService");return licenseService.checkValidity()}}});_routes2.default.defaults(/\/management/,{resolve:{watcherManagementSection:function watcherManagementSection($injector){var licenseService=$injector.get("xpackWatcherLicenseService");var watchesSection=_management.management.getSection("elasticsearch/watcher");licenseService.showLinks?watchesSection.show():watchesSection.hide();if(licenseService.enableLinks){watchesSection.enable();watchesSection.tooltip=""}else{watchesSection.disable();watchesSection.tooltip=licenseService.message}}}})},7497:function(module,exports){module.exports='<watch-list watches="watchListRoute.watches"></watch-list>\n'},7498:function(module,exports,__webpack_require__){"use strict";__webpack_require__(7499)},7499:function(module,exports,__webpack_require__){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _modules=__webpack_require__(3);var _compat=__webpack_require__(107);var _notify=__webpack_require__(11);var _watch_list=__webpack_require__(7500);var _watch_list2=_interopRequireDefault(_watch_list);__webpack_require__(7501);var _constants=__webpack_require__(45);__webpack_require__(607);__webpack_require__(505);__webpack_require__(1704);__webpack_require__(1268);__webpack_require__(2256);__webpack_require__(7507);__webpack_require__(7510);__webpack_require__(392);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var app=_modules.uiModules.get("xpack/watcher");app.directive("watchList",function($injector,i18n){var pagerFactory=$injector.get("pagerFactory");var watchesService=$injector.get("xpackWatcherWatchesService");var licenseService=$injector.get("xpackWatcherLicenseService");var confirmModal=$injector.get("confirmModal");var $interval=$injector.get("$interval");var kbnUrl=$injector.get("kbnUrl");var $filter=$injector.get("$filter");var filter=$filter("filter");var orderBy=$filter("orderBy");var limitTo=$filter("limitTo");return{restrict:"E",template:_watch_list2.default,scope:{watches:"="},bindToController:true,controllerAs:"watchList",controller:function(_InitAfterBindingsWor){_inherits(WatchListController,_InitAfterBindingsWor);function WatchListController(){var _ref;var _temp,_this,_ret;_classCallCheck(this,WatchListController);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _ret=(_temp=(_this=_possibleConstructorReturn(this,(_ref=WatchListController.__proto__||Object.getPrototypeOf(WatchListController)).call.apply(_ref,[this].concat(args))),_this),_this.loadWatches=function(){watchesService.getWatchList().then(function(watches){_this.watches=watches;_this.forbidden=false}).catch(function(err){return licenseService.checkValidity().then(function(){403===err.status?_this.forbidden=true:_notify.toastNotifications.addDanger(err.data.message)})})},_this.onQueryChange=function(query){_this.query=query},_this.onPageNext=function(){_this.pager.nextPage()},_this.onPagePrevious=function(){_this.pager.previousPage()},_this.onSortChange=function(field,reverse){_this.sortField=field;_this.sortReverse=reverse},_this.onSelectedChange=function(selectedWatches){_this.selectedWatches=selectedWatches},_this.onClickCreateThresholdAlert=function(){_this.goToWatchWizardForType(_constants.WATCH_TYPES.THRESHOLD)},_this.onClickCreateAdvancedWatch=function(){_this.goToWatchWizardForType(_constants.WATCH_TYPES.JSON)},_this.goToWatchWizardForType=function(watchType){var url="management/elasticsearch/watcher/watches/new-watch/"+watchType;kbnUrl.change(url,{})},_this.onSelectedWatchesDelete=function(){var watchesBeingDeleted=_this.selectedWatches;var numWatchesToDelete=watchesBeingDeleted.length;var confirmModalText=i18n("xpack.watcher.sections.watchList.deleteSelectedWatchesConfirmModal.descriptionText",{defaultMessage:"This will permanently delete {numWatchesToDelete, plural, one {# Watch} other {# Watches}}. Are you sure?",values:{numWatchesToDelete:numWatchesToDelete}});var confirmButtonText=i18n("xpack.watcher.sections.watchList.deleteSelectedWatchesConfirmModal.deleteButtonLabel",{defaultMessage:"Delete {numWatchesToDelete, plural, one {# Watch} other {# Watches}} ",values:{numWatchesToDelete:numWatchesToDelete}});var confirmModalOptions={confirmButtonText:confirmButtonText,onConfirm:function onConfirm(){return _this.deleteSelectedWatches(watchesBeingDeleted)}};return confirmModal(confirmModalText,confirmModalOptions)},_this.deleteSelectedWatches=function(watchesBeingDeleted){_this.watchesBeingDeleted=watchesBeingDeleted;var numWatchesToDelete=_this.watchesBeingDeleted.length;var watchIds=_this.watchesBeingDeleted.map(function(watch){return watch.id});return watchesService.deleteWatches(watchIds).then(function(results){var numSuccesses=results.numSuccesses;var numErrors=results.numErrors;var numTotal=numWatchesToDelete;numSuccesses>0&&_notify.toastNotifications.addSuccess(i18n("xpack.watcher.sections.watchList.deleteSelectedWatchesSuccessNotification.descriptionText",{defaultMessage:"Deleted {numSuccesses} out of {numTotal} selected {numWatchesToDelete, plural, one {# watch} other {# watches}}",values:{numSuccesses:numSuccesses,numTotal:numTotal,numWatchesToDelete:numWatchesToDelete}}));numErrors>0&&_notify.toastNotifications.addError(i18n("xpack.watcher.sections.watchList.deleteSelectedWatchesErrorNotification.descriptionText",{defaultMessage:"Couldn't delete {numErrors} out of {numTotal} selected {numWatchesToDelete, plural, one {# watch} other {# watches}}",values:{numErrors:numErrors,numTotal:numTotal,numWatchesToDelete:numWatchesToDelete}}));_this.loadWatches()}).catch(function(err){return licenseService.checkValidity().then(function(){return _notify.toastNotifications.addDanger(err.data.message)})})},_this.applyFilters=function(){var filteredWatches=_this.watches;var pageOfWatches=[];filteredWatches=filter(filteredWatches,{searchValue:_this.query});filteredWatches=orderBy(filteredWatches,_this.sortField,_this.sortReverse);pageOfWatches=limitTo(filteredWatches,_this.pager.pageSize,_this.pager.startIndex);_this.pageOfWatches=pageOfWatches;_this.pager.setTotalItems(filteredWatches.length)},_temp),_possibleConstructorReturn(_this,_ret)}_createClass(WatchListController,[{key:"initAfterBindings",value:function initAfterBindings($scope){var _this2=this;this.forbidden=false;if(null===this.watches){this.watches=[];this.forbidden=true}this.selectedWatches=[];this.pageOfWatches=[];this.sortField="id";this.sortReverse=false;this.pager=pagerFactory.create(this.watches.length,_constants.PAGINATION.PAGE_SIZE,1);var refreshInterval=$interval(function(){return _this2.loadWatches()},_constants.REFRESH_INTERVALS.WATCH_LIST);$scope.$on("$destroy",function(){return $interval.cancel(refreshInterval)});$scope.$watchMulti(["watchList.watches","watchList.sortField","watchList.sortReverse","watchList.query","watchList.pager.currentPage"],this.applyFilters)}},{key:"hasPageOfWatches",get:function get(){return this.pageOfWatches.length>0}},{key:"hasSelectedWatches",get:function get(){return this.selectedWatches.length>0}}]);return WatchListController}(_compat.InitAfterBindingsWorkaround)}})},7500:function(module,exports){module.exports='<kbn-management-app section="elasticsearch/watcher">\n  <div class="kuiViewContent">\n    <forbidden-message ng-if="watchList.forbidden">\n      {{ \'xpack.watcher.sections.watchList.noPermissionToManageWatchesText\' | i18n: { defaultMessage: \'You do not have permission to manage watches.\' } }}\n    </forbidden-message>\n\n    <div\n      ng-if="!watchList.forbidden"\n      class="kuiViewContentItem kuiVerticalRhythm"\n    >\n      <div class="kuiVerticalRhythm">\n        <button\n          class="kuiButton kuiButton--primary"\n          ng-click="watchList.onClickCreateThresholdAlert()"\n          data-test-subj="createThresholdAlertButton"\n          tooltip="{{ \'xpack.watcher.sections.watchList.createThresholdAlertButtonTooltip\' | i18n: { defaultMessage: \'Send an alert on a specific condition\' } }}"\n          i18n-id="xpack.watcher.sections.watchList.createThresholdAlertButtonLabel"\n          i18n-default-message="Create threshold alert"\n        ></button>\n\n        <button\n          class="kuiButton kuiButton--primary"\n          ng-click="watchList.onClickCreateAdvancedWatch()"\n          data-test-subj="createAdvancedWatchButton"\n          tooltip="{{ \'xpack.watcher.sections.watchList.createAdvancedWatchTooltip\' | i18n: { defaultMessage: \'Set up a custom watch in raw JSON\' } }}"\n          i18n-id="xpack.watcher.sections.watchList.createAdvancedWatchButtonLabel"\n          i18n-default-message="Create advanced watch"\n        ></button>\n      </div>\n\n      <div class="kuiControlledTable kuiVerticalRhythm">\n        <div class="kuiToolBar">\n          <div class="kuiToolBarSearch">\n            <tool-bar-search-box\n              filter="watchList.query"\n              on-filter="watchList.onQueryChange"\n            ></tool-bar-search-box>\n          </div>\n\n          <div class="kuiToolBarSection">\n            <button\n              class="kuiButton kuiButton--danger"\n              ng-disabled="!watchList.hasSelectedWatches"\n              ng-click="watchList.onSelectedWatchesDelete()"\n              data-test-subj="btnDeleteWatches"\n              i18n-id="xpack.watcher.sections.watchList.deleteWatchButtonLabel"\n              i18n-default-message="Delete"\n            ></button>\n          </div>\n\n          <div class="kuiToolBarSection">\n            <tool-bar-pager-text\n              start-item="watchList.pager.startItem"\n              end-item="watchList.pager.endItem"\n              total-items="watchList.pager.totalItems"\n            ></tool-bar-pager-text>\n            <tool-bar-pager-buttons\n              has-previous-page="watchList.pager.hasPreviousPage"\n              has-next-page="watchList.pager.hasNextPage"\n              on-page-next="watchList.onPageNext"\n              on-page-previous="watchList.onPagePrevious"\n            ></tool-bar-pager-buttons>\n          </div>\n        </div>\n\n        <watch-table\n          watches="watchList.pageOfWatches"\n          watches-being-deleted="watchList.watchesBeingDeleted"\n          sort-field="watchList.sortField"\n          sort-reverse="watchList.sortReverse"\n          on-sort-change="watchList.onSortChange"\n          on-select-change="watchList.onSelectedChange"\n          ng-show="watchList.hasPageOfWatches"\n        >\n        </watch-table>\n\n        <table-info ng-show="!watchList.hasPageOfWatches">\n          {{ \'xpack.watcher.sections.watchList.watchesNotFoundText\' | i18n: { defaultMessage: \'No watches found.\' } }}\n        </table-info>\n\n        <div class="kuiToolBarFooter">\n          <div class="kuiToolBarFooterSection">\n            <tool-bar-selected-count\n              count="watchList.selectedWatches.length"\n              singular-name="{{ \'xpack.watcher.sections.watchList.selectedSingleWatchText\' | i18n: { defaultMessage: \'watch\' } }}"\n              plural-name="{{ \'xpack.watcher.sections.watchList.selectedMultipleWatchText\' | i18n: { defaultMessage: \'watches\' } }}"\n              ng-show="watchList.hasSelectedWatches"\n            ></tool-bar-selected-count>\n          </div>\n\n          <div class="kuiToolBarFooterSection">\n            <tool-bar-pager-text\n              start-item="watchList.pager.startItem"\n              end-item="watchList.pager.endItem"\n              total-items="watchList.pager.totalItems"\n            ></tool-bar-pager-text>\n            <tool-bar-pager-buttons\n              has-previous-page="watchList.pager.hasPreviousPage"\n              has-next-page="watchList.pager.hasNextPage"\n              on-page-next="watchList.onPageNext"\n              on-page-previous="watchList.onPagePrevious"\n            ></tool-bar-pager-buttons>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</kbn-management-app>\n'},7501:function(module,exports,__webpack_require__){"use strict";__webpack_require__(7502)},7502:function(module,exports,__webpack_require__){"use strict";var _lodash=__webpack_require__(1);var _lodash2=_interopRequireDefault(_lodash);var _modules=__webpack_require__(3);__webpack_require__(7503);__webpack_require__(1786);var _watch_table=__webpack_require__(7506);var _watch_table2=_interopRequireDefault(_watch_table);__webpack_require__(852);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var app=_modules.uiModules.get("xpack/watcher");app.directive("watchTable",function(){return{restrict:"E",replace:true,template:_watch_table2.default,scope:{watches:"=",watchesBeingDeleted:"=",sortField:"=",sortReverse:"=",onSortChange:"=",onSelectChange:"="},controllerAs:"watchTable",bindToController:true,controller:function WatchTableController($scope){var _this=this;_classCallCheck(this,WatchTableController);this.onAllSelectedChange=function(itemId,allSelected){_lodash2.default.forEach(_this.editableItems,function(item){item.selected=allSelected});_this.updateSelectedWatches()};this.onWatchSelectedChange=function(watchId,selected){_lodash2.default.find(_this.items,function(item){return item.watch.id===watchId}).selected=selected;_this.updateSelectedWatches()};this.updateSelectedWatches=function(){var selectedItems=_lodash2.default.filter(_this.items,function(item){return item.selected});var selectedWatches=_lodash2.default.map(selectedItems,function(item){return item.watch});var areAllEditableItemsSelected=selectedWatches.length===_this.editableItems.length;_this.allSelected=areAllEditableItemsSelected&&_this.editableItems.length>0;_this.onSelectChange(selectedWatches)};this.isEditable=function(item){return!item.watch.isSystemWatch&&!item.isBeingDeleted};this.areAnyEditable=function(){return 0!==_this.editableItems.length};this.allSelected=false;$scope.$watch("watchTable.watches",function(watches){var previousItems=_this.items;_this.items=_lodash2.default.map(watches,function(watch){var matchedItem=_lodash2.default.find(previousItems,function(previousItem){return previousItem.watch.id===watch.id});var selected=Boolean(_lodash2.default.get(matchedItem,"selected"));return{watch:watch,selected:selected}});_this.editableItems=_this.items.filter(function(item){return _this.isEditable(item)});_this.updateSelectedWatches()});$scope.$watch("watchTable.watchesBeingDeleted",function(watches){_this.items.forEach(function(item){var matchedItem=_lodash2.default.find(watches,function(watch){return watch.id===item.watch.id});item.selected=false;item.isBeingDeleted=Boolean(matchedItem)});_this.editableItems=_this.items.filter(function(item){return _this.isEditable(item)});_this.updateSelectedWatches()})}}})},7503:function(module,exports,__webpack_require__){"use strict";__webpack_require__(7504)},7504:function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(3);var _check_box=__webpack_require__(7505);var _check_box2=_interopRequireDefault(_check_box);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var app=_modules.uiModules.get("kibana");app.directive("checkBox",function(){return{restrict:"E",replace:true,template:_check_box2.default,scope:{id:"=",isSelected:"=",onSelectChange:"="},controllerAs:"checkBox",bindToController:true,controller:function CheckBoxController(){_classCallCheck(this,CheckBoxController)}}})},7505:function(module,exports){module.exports='<input\n  type="checkbox"\n  class="kuiCheckBox"\n  ng-click="checkBox.onSelectChange(checkBox.id, checkBox.isSelected)"\n  ng-model="checkBox.isSelected"\n>\n'},7506:function(module,exports){module.exports='<table class="kuiTable">\n  <thead>\n    <tr>\n      <th scope="col" class="kuiTableHeaderCell kuiTableHeaderCell--checkBox">\n        <check-box\n          is-selected="watchTable.allSelected"\n          on-select-change="watchTable.onAllSelectedChange"\n          ng-if="watchTable.areAnyEditable()"\n          data-test-subj="selectAllWatchesCheckBox"\n        ></check-box>\n      </th>\n      <th scope="col" class="kuiTableHeaderCell">\n        <sortable-column\n          field="id"\n          on-sort-change="watchTable.onSortChange"\n          sort-field="watchTable.sortField"\n          sort-reverse="watchTable.sortReverse"\n        >\n          {{ \'xpack.watcher.sections.watchList.watchTable.idColumnLabel\' | i18n: { defaultMessage: \'ID\' } }}\n        </sortable-column>\n      </th>\n      <th scope="col" class="kuiTableHeaderCell" width="25%">\n        <sortable-column\n          field="name"\n          on-sort-change="watchTable.onSortChange"\n          sort-field="watchTable.sortField"\n          sort-reverse="watchTable.sortReverse"\n        >\n          {{ \'xpack.watcher.sections.watchList.watchTable.nameColumnLabel\' | i18n: { defaultMessage: \'Name\' } }}\n        </sortable-column>\n      </th>\n      <th scope="col" class="kuiTableHeaderCell">\n        <sortable-column\n          field="watchStatus.state"\n          on-sort-change="watchTable.onSortChange"\n          sort-field="watchTable.sortField"\n          sort-reverse="watchTable.sortReverse"\n        >\n          {{ \'xpack.watcher.sections.watchList.watchTable.stateColumnLabel\' | i18n: { defaultMessage: \'State\' } }}\n        </sortable-column>\n      </th>\n      <th scope="col" class="kuiTableHeaderCell">\n        <sortable-column\n          field="watchStatus.comment"\n          on-sort-change="watchTable.onSortChange"\n          sort-field="watchTable.sortField"\n          sort-reverse="watchTable.sortReverse"\n        >\n          {{ \'xpack.watcher.sections.watchList.watchTable.commentColumnLabel\' | i18n: { defaultMessage: \'Comment\' } }}\n        </sortable-column>\n      </th>\n      <th scope="col" class="kuiTableHeaderCell">\n        <sortable-column\n          field="watchStatus.lastFired"\n          on-sort-change="watchTable.onSortChange"\n          sort-field="watchTable.sortField"\n          sort-reverse="watchTable.sortReverse"\n        >\n          {{ \'xpack.watcher.sections.watchList.watchTable.lastFiredColumnLabel\' | i18n: { defaultMessage: \'Last Fired\' } }}\n        </sortable-column>\n      </th>\n      <th scope="col" class="kuiTableHeaderCell">\n        <sortable-column\n          field="watchStatus.lastChecked"\n          on-sort-change="watchTable.onSortChange"\n          sort-field="watchTable.sortField"\n          sort-reverse="watchTable.sortReverse"\n        >\n          {{ \'xpack.watcher.sections.watchList.watchTable.lastTriggeredColumnLabel\' | i18n: { defaultMessage: \'Last Triggered\' } }}\n        </sortable-column>\n      </th>\n      <th scope="col" class="kuiTableHeaderCell"></th>\n    </tr>\n  </thead>\n\n  <tbody>\n    <tr\n      ng-repeat="item in watchTable.items"\n      class="kuiTableRow"\n      ng-class="{ \'kuiTableRow-isBeingDeleted\': item.isBeingDeleted }"\n      data-test-subj="watchRow-{{ item.watch.id }}"\n    >\n      <td class="kuiTableRowCell kuiTableRowCell--checkBox">\n        <div class="kuiTableRowCell__liner">\n          <check-box\n            id="item.watch.id"\n            is-selected="item.selected"\n            on-select-change="watchTable.onWatchSelectedChange"\n            ng-if="watchTable.isEditable(item)"\n          ></check-box>\n        </div>\n      </td>\n      <td class="kuiTableRowCell">\n        <div class="kuiTableRowCell__liner">\n          <kbn-tooltip text="{{item.watch.id}}">\n            <a\n              class="kuiLink"\n              ng-href="#/management/elasticsearch/watcher/watches/watch/{{item.watch.id}}/status"\n              title="{{item.watch.id}}"\n              ng-if="watchTable.isEditable(item)"\n            >\n              {{item.watch.id}}\n            </a>\n            <span\n              title="{{item.watch.id}}"\n              ng-if="!watchTable.isEditable(item)"\n            >\n              {{item.watch.id}}\n            </span>\n          </kbn-tooltip>\n        </div>\n      </td>\n      <td class="kuiTableRowCell">\n        <div class="kuiTableRowCell__liner">\n          <kbn-tooltip text="{{item.watch.name}}">\n            {{item.watch.name}}\n          </kbn-tooltip>\n        </div>\n      </td>\n      <td class="kuiTableRowCell">\n        <div class="kuiTableRowCell__liner">\n          <kbn-tooltip text="{{item.watch.watchStatus.state}}">\n            <watch-state-icon watch-status="item.watch.watchStatus"></watch-state-icon>\n            {{ item.watch.watchStatus.state }}\n          </kbn-tooltip>\n        </div>\n      </td>\n      <td class="kuiTableRowCell">\n        <div class="kuiTableRowCell__liner">\n          <kbn-tooltip text="{{item.watch.watchStatus.comment}}">\n            {{item.watch.watchStatus.comment}}\n          </kbn-tooltip>\n        </div>\n      </td>\n      <td class="kuiTableRowCell">\n        <div class="kuiTableRowCell__liner">\n          <kbn-tooltip text="{{item.watch.watchStatus.lastFired | moment}}">\n            <span title="{{item.watch.watchStatus.lastFired | moment}}">\n              {{item.watch.watchStatus.lastFiredHumanized}}\n            </span>\n          </kbn-tooltip>\n        </div>\n      </td>\n      <td class="kuiTableRowCell">\n        <div class="kuiTableRowCell__liner">\n          <kbn-tooltip text="{{item.watch.watchStatus.lastChecked | moment}}">\n            <span title="{{item.watch.watchStatus.lastChecked | moment}}">\n              {{item.watch.watchStatus.lastCheckedHumanized}}\n            </span>\n          </kbn-tooltip>\n        </div>\n      </td>\n      <td class="kuiTableRowCell">\n        <div class="kuiTableRowCell__liner">\n          <div class="kuiMenuButtonGroup kuiMenuButtonGroup--alignRight">\n            <a\n              class="kuiMenuButton kuiMenuButton--basic kuiMenuButton--iconText"\n              title="{{ \'xpack.watcher.sections.watchList.watchTable.menuEditButtonTitle\' | i18n: { defaultMessage: \'Edit\' } }}"\n              ng-href="#/management/elasticsearch/watcher/watches/watch/{{item.watch.id}}/edit"\n              ng-if="watchTable.isEditable(item)"\n              data-test-subj="lnkWatchEdit-{{ item.watch.id }}"\n            >\n              <span class="kuiMenuButton__icon kuiIcon fa-pencil"></span>\n              <span\n                i18n-id="xpack.watcher.sections.watchList.watchTable.menuEditButtonLabel"\n                i18n-default-message="Edit"\n              ></span>\n            </a>\n          </div>\n        </div>\n      </td>\n    </tr>\n  </tbody>\n</table>\n'},7507:function(module,exports,__webpack_require__){"use strict";__webpack_require__(7508)},7508:function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(3);var _forbidden_message=__webpack_require__(7509);var _forbidden_message2=_interopRequireDefault(_forbidden_message);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var app=_modules.uiModules.get("xpack/watcher");app.directive("forbiddenMessage",function(){return{restrict:"E",replace:true,template:_forbidden_message2.default,transclude:true,scope:{},controllerAs:"forbiddenMessage",bindToController:true,controller:function ForbiddenMessageController(){_classCallCheck(this,ForbiddenMessageController)}}})},7509:function(module,exports){module.exports='<div class="kuiInfoPanel kuiInfoPanel--error">\n  <div class="kuiInfoPanelHeader">\n    <span class="kuiInfoPanelHeader__icon kuiIcon kuiIcon--error fa-warning"></span>\n    <span\n      class="kuiInfoPanelHeader__title"\n      ng-transclude\n    ></span>\n  </div>\n\n  <div class="kuiInfoPanelBody">\n    <div\n      class="kuiInfoPanelBody__message"\n      i18n-id="xpack.watcher.forbiddenMessage.contactAdministratorTextMessage"\n      i18n-default-message="Please contact your administrator."\n    ></div>\n  </div>\n</div>\n'},7510:function(module,exports,__webpack_require__){"use strict";__webpack_require__(7511)},7511:function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(3);var _watches_service=__webpack_require__(7512);_modules.uiModules.get("xpack/watcher").factory("xpackWatcherWatchesService",function($injector){var $http=$injector.get("$http");return new _watches_service.WatchesService($http)})},7512:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.WatchesService=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _chrome=__webpack_require__(9);var _chrome2=_interopRequireDefault(_chrome);var _constants=__webpack_require__(45);var _watch=__webpack_require__(2252);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}exports.WatchesService=function(){function WatchesService($http){_classCallCheck(this,WatchesService);this.$http=$http;this.basePath=_chrome2.default.addBasePath(_constants.ROUTES.API_ROOT)}_createClass(WatchesService,[{key:"getWatchList",value:function getWatchList(){return this.$http.get(this.basePath+"/watches").then(function(response){return response.data.watches}).then(function(watches){return watches.map(function(watch){return _watch.Watch.fromUpstreamJson(watch)})})}},{key:"deleteWatches",value:function deleteWatches(watchIds){var requestOpts={data:{watchIds:watchIds},headers:{"Content-Type":"application/json"}};return this.$http.delete(this.basePath+"/watches",requestOpts).then(function(response){return response.data.results})}}]);return WatchesService}()},7513:function(module,exports,__webpack_require__){"use strict";__webpack_require__(7514)},7514:function(module,exports,__webpack_require__){"use strict";var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _routes=__webpack_require__(13);var _routes2=_interopRequireDefault(_routes);var _management=__webpack_require__(84);var _telemetry_opt_in=__webpack_require__(1005);var _components=__webpack_require__(587);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}_routes2.default.defaults(/\/management/,{resolve:{telemetryManagementSection:function telemetryManagementSection(Private,spacesEnabled,activeSpace){var telemetryOptInProvider=Private(_telemetry_opt_in.TelemetryOptInProvider);var spaceProps={spacesEnabled:spacesEnabled};spacesEnabled&&(spaceProps.activeSpace=activeSpace?activeSpace.space:null);var Component=function Component(props){return _react2.default.createElement(_components.TelemetryForm,_extends({spacesEnabled:spacesEnabled,telemetryOptInProvider:telemetryOptInProvider},spaceProps,props))};(0,_management.registerSettingsComponent)(_management.PAGE_FOOTER_COMPONENT,Component,true)}}})},7515:function(module,exports,__webpack_require__){__webpack_require__(7516);__webpack_require__(7524)},7516:function(module,exports,__webpack_require__){"use strict";var _chrome=__webpack_require__(9);var _chrome2=_interopRequireDefault(_chrome);var _register=__webpack_require__(7517);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var uiSettings=_chrome2.default.getUiSettingsClient();var isRollupIndexPatternsEnabled=uiSettings.get("rollups:enableIndexPatterns");isRollupIndexPatternsEnabled&&(0,_register.initIndexPatternCreation)()},7517:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.initIndexPatternCreation=initIndexPatternCreation;var _index_pattern_creation=__webpack_require__(853);var _rollup_index_pattern_creation_config=__webpack_require__(7520);function initIndexPatternCreation(){_index_pattern_creation.IndexPatternCreationConfigRegistry.register(function(){return _rollup_index_pattern_creation_config.RollupIndexPatternCreationConfig})}},7518:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.IndexPatternCreationFactory=void 0;var _index_pattern_creation_config_registry=__webpack_require__(1271);function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var IndexPatternCreation=function IndexPatternCreation(registry,httpClient,type){_classCallCheck(this,IndexPatternCreation);_initialiseProps.call(this);this._registry=registry;this._allTypes=this._registry.inOrder.map(function(Plugin){return new Plugin({httpClient:httpClient})});this._setCurrentType(type)};var _initialiseProps=function _initialiseProps(){var _this=this;this._setCurrentType=function(type){var index=type?_this._registry.inOrder.findIndex(function(Plugin){return Plugin.key===type}):-1;_this._currentType=index>-1&&_this._allTypes[index]?_this._allTypes[index]:null};this.getType=function(){return _this._currentType||null};this.getIndexPatternCreationOptions=(_ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(urlHandler){var options;return regeneratorRuntime.wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:options=[];_context2.next=3;return Promise.all(_this._allTypes.map(function(){var _ref2=_asyncToGenerator(regeneratorRuntime.mark(function _callee(type){var option;return regeneratorRuntime.wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:if(!type.getIndexPatternCreationOption){_context.next=6;break}_context.next=3;return type.getIndexPatternCreationOption(urlHandler);case 3:_context.t0=_context.sent;_context.next=7;break;case 6:_context.t0=null;case 7:option=_context.t0;option&&options.push(option);case 9:case"end":return _context.stop()}},_callee,_this)}));return function(_x3){return _ref2.apply(this,arguments)}}()));case 3:return _context2.abrupt("return",options);case 4:case"end":return _context2.stop()}},_callee2,_this)})),function(_x2){return _ref.apply(this,arguments)});var _ref};exports.IndexPatternCreationFactory=function IndexPatternCreationFactory(Private,$http){return function(){var type=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default";var indexPatternCreationRegistry=Private(_index_pattern_creation_config_registry.IndexPatternCreationConfigRegistry);var indexPatternCreationProvider=new IndexPatternCreation(indexPatternCreationRegistry,$http,type);return indexPatternCreationProvider}}},7519:function(module,exports,__webpack_require__){"use strict";var _index_pattern_creation_config=__webpack_require__(2261);var _index_pattern_creation_config_registry=__webpack_require__(1271);_index_pattern_creation_config_registry.IndexPatternCreationConfigRegistry.register(function(){return _index_pattern_creation_config.IndexPatternCreationConfig})},7520:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.RollupIndexPatternCreationConfig=void 0;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _index_pattern_creation=__webpack_require__(853);var _rollup_prompt=__webpack_require__(7521);var _api=__webpack_require__(7523);var _i18n=__webpack_require__(18);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var rollupIndexPatternTypeName=_i18n.i18n.translate("xpack.rollupJobs.editRollupIndexPattern.createIndex.defaultTypeName",{defaultMessage:"rollup index pattern"});var rollupIndexPatternButtonText=_i18n.i18n.translate("xpack.rollupJobs.editRollupIndexPattern.createIndex.defaultButtonText",{defaultMessage:"Rollup index pattern"});var rollupIndexPatternButtonDescription=_i18n.i18n.translate("xpack.rollupJobs.editRollupIndexPattern.createIndex.defaultButtonDescription",{defaultMessage:"Perform limited aggregations against summarized data"});var rollupIndexPatternNoMatchError=_i18n.i18n.translate("xpack.rollupJobs.editRollupIndexPattern.createIndex.noMatchError",{defaultMessage:"Rollup index pattern error: must match one rollup index"});var rollupIndexPatternTooManyMatchesError=_i18n.i18n.translate("xpack.rollupJobs.editRollupIndexPattern.createIndex.tooManyMatchesError",{defaultMessage:"Rollup index pattern error: can only match one rollup index"});var rollupIndexPatternIndexLabel=_i18n.i18n.translate("xpack.rollupJobs.editRollupIndexPattern.createIndex.indexLabel",{defaultMessage:"Rollup"});var RollupIndexPatternCreationConfig=exports.RollupIndexPatternCreationConfig=function(_IndexPatternCreation){_inherits(RollupIndexPatternCreationConfig,_IndexPatternCreation);function RollupIndexPatternCreationConfig(options){_classCallCheck(this,RollupIndexPatternCreationConfig);var _this=_possibleConstructorReturn(this,(RollupIndexPatternCreationConfig.__proto__||Object.getPrototypeOf(RollupIndexPatternCreationConfig)).call(this,_extends({type:"rollup",name:rollupIndexPatternTypeName,showSystemIndices:false,isBeta:true},options)));_this.isRollupIndex=function(indexName){return _this.rollupIndices.includes(indexName)};_this.checkIndicesForErrors=function(indices){_this.rollupIndex=null;if(!indices||!indices.length)return;var rollupIndices=indices.filter(function(index){return _this.isRollupIndex(index.name)});if(!rollupIndices.length)return[rollupIndexPatternNoMatchError];if(rollupIndices.length>1)return[rollupIndexPatternTooManyMatchesError];var rollupIndexName=rollupIndices[0].name;var error=_this.rollupIndicesCapabilities[rollupIndexName].error;if(error){var errorMessage=_i18n.i18n.translate("xpack.rollupJobs.editRollupIndexPattern.createIndex.uncaughtError",{defaultMessage:"Rollup index pattern error: {error}",values:{error:error}});return[errorMessage]}_this.rollupIndex=rollupIndexName};_this.getIndexPatternMappings=function(){return _this.rollupIndex?{type:_this.type,typeMeta:{params:{rollup_index:_this.rollupIndex},aggs:_this.rollupIndicesCapabilities[_this.rollupIndex].aggs}}:{}};_this.renderPrompt=function(){return _react2.default.createElement(_rollup_prompt.RollupPrompt,null)};_this.getFetchForWildcardOptions=function(){return{type:_this.type,params:{rollup_index:_this.rollupIndex}}};(0,_api.setHttpClient)(_this.httpClient);_this.rollupIndex=null;_this.rollupJobs=[];_this.rollupIndicesCapabilities={};_this.rollupIndices=[];_this.settingUp=_this.setRollupIndices();return _this}_createClass(RollupIndexPatternCreationConfig,[{key:"setRollupIndices",value:function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee(){return regeneratorRuntime.wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return(0,_api.getRollupIndices)();case 2:this.rollupIndicesCapabilities=_context.sent;this.rollupIndices=Object.keys(this.rollupIndicesCapabilities);case 4:case"end":return _context.stop()}},_callee,this)}));function setRollupIndices(){return _ref.apply(this,arguments)}return setRollupIndices}()},{key:"getIndexPatternCreationOption",value:function(){var _ref2=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(urlHandler){return regeneratorRuntime.wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.next=2;return this.settingUp;case 2:return _context2.abrupt("return",this.rollupIndices&&this.rollupIndices.length?{text:rollupIndexPatternButtonText,description:rollupIndexPatternButtonDescription,testSubj:"createRollupIndexPatternButton",isBeta:this.isBeta,onClick:function onClick(){urlHandler("/management/kibana/index?type=rollup")}}:null);case 3:case"end":return _context2.stop()}},_callee2,this)}));function getIndexPatternCreationOption(_x){return _ref2.apply(this,arguments)}return getIndexPatternCreationOption}()},{key:"getIndexTags",value:function getIndexTags(indexName){return this.isRollupIndex(indexName)?[{key:this.type,name:rollupIndexPatternIndexLabel}]:[]}}]);return RollupIndexPatternCreationConfig}(_index_pattern_creation.IndexPatternCreationConfig);RollupIndexPatternCreationConfig.key="rollup"},7521:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _rollup_prompt=__webpack_require__(7522);Object.defineProperty(exports,"RollupPrompt",{enumerable:true,get:function get(){return _rollup_prompt.RollupPrompt}})},7522:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.RollupPrompt=void 0;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _eui=__webpack_require__(2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}exports.RollupPrompt=function RollupPrompt(){return _react2.default.createElement(_eui.EuiCallOut,{color:"warning",iconType:"help",title:"Beta feature"},_react2.default.createElement("p",null,"Kibana's support for rollup index patterns is in beta. You might encounter issues using these patterns in saved searches, visualizations, and dashboards. They are not supported in advanced features, such as Visual Builder, Timelion, and Machine Learning."),_react2.default.createElement("p",null,"You can match a rollup index pattern against one rollup index and zero or more regular indices. A rollup index pattern has limited metrics, fields, intervals, and aggregations. A rollup index is limited to indices that have one job configuration, or multiple jobs with compatible configurations."))}},7523:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getRollupIndices=exports.setHttpClient=void 0;exports.getRollupIndices=(_ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee(){var response;return regeneratorRuntime.wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return httpClient.get(apiPrefix+"/indices");case 2:response=_context.sent;return _context.abrupt("return",response.data||{});case 4:case"end":return _context.stop()}},_callee,this)})),function getRollupIndices(){return _ref.apply(this,arguments)});var _ref;var _chrome=__webpack_require__(9);var _chrome2=_interopRequireDefault(_chrome);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}var httpClient=void 0;exports.setHttpClient=function setHttpClient(client){httpClient=client};var apiPrefix=_chrome2.default.addBasePath("/api/rollup")},7524:function(module,exports,__webpack_require__){"use strict";var _chrome=__webpack_require__(9);var _chrome2=_interopRequireDefault(_chrome);var _register=__webpack_require__(7525);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var uiSettings=_chrome2.default.getUiSettingsClient();var isRollupIndexPatternsEnabled=uiSettings.get("rollups:enableIndexPatterns");isRollupIndexPatternsEnabled&&(0,_register.initIndexPatternList)()},7525:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.initIndexPatternList=initIndexPatternList;var _index_pattern_list=__webpack_require__(854);var _rollup_index_pattern_list_config=__webpack_require__(7528);function initIndexPatternList(){_index_pattern_list.IndexPatternListConfigRegistry.register(function(){return _rollup_index_pattern_list_config.RollupIndexPatternListConfig})}},7526:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.IndexPatternListFactory=void 0;var _index_pattern_list_config_registry=__webpack_require__(1272);function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var IndexPatternList=function IndexPatternList(registry){var _this=this;_classCallCheck(this,IndexPatternList);this.getIndexPatternTags=function(indexPattern){return _this._plugins.reduce(function(tags,plugin){return plugin.getIndexPatternTags?tags.concat(plugin.getIndexPatternTags(indexPattern)):tags},[])};this.getFieldInfo=function(indexPattern,field){return _this._plugins.reduce(function(info,plugin){return plugin.getFieldInfo?info.concat(plugin.getFieldInfo(indexPattern,field)):info},[])};this.areScriptedFieldsEnabled=function(indexPattern){return _this._plugins.every(function(plugin){return!plugin.areScriptedFieldsEnabled||plugin.areScriptedFieldsEnabled(indexPattern)})};this._plugins=registry.inOrder.map(function(Plugin){return new Plugin})};exports.IndexPatternListFactory=function IndexPatternListFactory(Private){return function(){var indexPatternListRegistry=Private(_index_pattern_list_config_registry.IndexPatternListConfigRegistry);var indexPatternListProvider=new IndexPatternList(indexPatternListRegistry);return indexPatternListProvider}}},7527:function(module,exports,__webpack_require__){"use strict";var _index_pattern_list_config=__webpack_require__(2262);var _index_pattern_list_config_registry=__webpack_require__(1272);_index_pattern_list_config_registry.IndexPatternListConfigRegistry.register(function(){return _index_pattern_list_config.IndexPatternListConfig})},7528:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.RollupIndexPatternListConfig=void 0;var _index_pattern_list=__webpack_require__(854);function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function isRollup(indexPattern){return"rollup"===indexPattern.type||indexPattern.get&&"rollup"===indexPattern.get("type")}var RollupIndexPatternListConfig=exports.RollupIndexPatternListConfig=function(_IndexPatternListConf){_inherits(RollupIndexPatternListConfig,_IndexPatternListConf);function RollupIndexPatternListConfig(){var _ref;var _temp,_this,_ret;_classCallCheck(this,RollupIndexPatternListConfig);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _ret=(_temp=(_this=_possibleConstructorReturn(this,(_ref=RollupIndexPatternListConfig.__proto__||Object.getPrototypeOf(RollupIndexPatternListConfig)).call.apply(_ref,[this].concat(args))),_this),_this.getIndexPatternTags=function(indexPattern){return isRollup(indexPattern)?[{key:"rollup",name:"Rollup"}]:[]},_this.getFieldInfo=function(indexPattern,field){if(!isRollup(indexPattern))return[];var allAggs=indexPattern.typeMeta&&indexPattern.typeMeta.aggs;var fieldAggs=allAggs&&Object.keys(allAggs).filter(function(agg){return allAggs[agg][field]});if(!fieldAggs||!fieldAggs.length)return[];return["Rollup aggregations:"].concat(fieldAggs.map(function(aggName){var agg=allAggs[aggName][field];switch(aggName){case"date_histogram":return aggName+" (interval: "+agg.interval+", "+(agg.delay?"delay: "+agg.delay+",":"")+" "+agg.time_zone+")";case"histogram":return aggName+" (interval: "+agg.interval+")";default:return aggName}}))},_this.areScriptedFieldsEnabled=function(indexPattern){return!isRollup(indexPattern)},_temp),_possibleConstructorReturn(_this,_ret)}return RollupIndexPatternListConfig}(_index_pattern_list.IndexPatternListConfig);RollupIndexPatternListConfig.key="rollup"},7529:function(module,exports,__webpack_require__){__webpack_require__(7530);__webpack_require__(7571);__webpack_require__(7599)},7530:function(module,exports,__webpack_require__){"use strict";var _routes=__webpack_require__(13);var _routes2=_interopRequireDefault(_routes);var _index=__webpack_require__(7531);var _index2=_interopRequireDefault(_index);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}__webpack_require__(111);__webpack_require__(7532);__webpack_require__(3).get("kibana",["sense.ui.bootstrap"]);__webpack_require__(1703);__webpack_require__(366);__webpack_require__(7533);__webpack_require__(7561);__webpack_require__(7564);__webpack_require__(7566);__webpack_require__(7569);_routes2.default.when("/dev_tools/console",{controller:"SenseController",template:_index2.default})},7531:function(module,exports){module.exports='<kbn-dev-tools-app data-test-subj="console" top-nav-config="topNavController">\n  <div class="conApp">\n    <div class="conApp__editor">\n      <ul class="conApp__autoComplete" id="autocomplete"></ul>\n      <div class="conApp__editorActions" id="ConAppEditorActions">\n        <kbn-tooltip text="click to send request">\n          <button\n            class="conApp__editorActionButton conApp__editorActionButton--success"\n            ng-click="sendSelected()"\n            data-test-subj="send-request-button">\n            <i class="fa fa-play"></i>\n          </button>\n        </kbn-tooltip>\n        <span dropdown>\n          <button\n            id="consoleRequestOptions"\n            class="conApp__editorActionButton"\n            dropdown-toggle\n            ng-click="getDocumentation()"\n            aria-label="Request options"\n          >\n            <span class="kuiIcon fa-wrench"></span>\n          </button>\n\n          <ul\n            class="dropdown-menu"\n            role="menu"\n            aria-labelledby="consoleRequestOptions"\n          >\n            <li role="menuitem">\n              <button id="ConCopyAsCurl">Copy as cURL</button>\n            </li>\n            <li role="menuitem" ng-if="documentation">\n              <button ng-click="openDocumentation(documentation)">Open documentation</button>\n            </li>\n            <li role="menuitem">\n              <button ng-click="autoIndent($event)">Auto indent</button>\n            </li>\n          </ul>\n        </span>\n      </div>\n\n      <div class="conApp__editorContent" id="ConAppEditor" data-test-subj="request-editor">GET _search\n  {\n    "query": { "match_all": {} }\n  }</div>\n\n    </div>\n    <div class="conApp__resizer" id="ConAppResizer">&#xFE19;</div>\n    <div class="conApp__output" data-test-subj="response-editor">\n      <div class="conApp__outputContent" id="ConAppOutput">{}</div>\n    </div>\n  </div>\n</kbn-dev-tools-app>\n'},7532:function(module,exports){angular.module("sense.ui.bootstrap",["sense.ui.bootstrap.tpls","sense.ui.bootstrap.typeahead","sense.ui.bootstrap.position"]);angular.module("sense.ui.bootstrap.tpls",["sense/template/typeahead/typeahead-match.html","sense/template/typeahead/typeahead-popup.html"]);angular.module("sense.ui.bootstrap.typeahead",["sense.ui.bootstrap.position"]).factory("senseUibTypeaheadParser",["$parse",function($parse){var TYPEAHEAD_REGEXP=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w\d]*))\s+in\s+([\s\S]+?)$/;return{parse:function(input){var match=input.match(TYPEAHEAD_REGEXP);if(!match)throw new Error('Expected typeahead specification in form of "_modelValue_ (as _label_)? for _item_ in _collection_" but got "'+input+'".');return{itemName:match[3],source:$parse(match[4]),viewMapper:$parse(match[2]||match[1]),modelMapper:$parse(match[1])}}}}]).controller("SenseUibTypeaheadController",["$scope","$element","$attrs","$compile","$parse","$q","$timeout","$document","$window","$rootScope","$senseUibPosition","senseUibTypeaheadParser",function(originalScope,element,attrs,$compile,$parse,$q,$timeout,$document,$window,$rootScope,$position,typeaheadParser){var HOT_KEYS=[9,13,27,38,40];var eventDebounceTime=200;var modelCtrl,ngModelOptions;var minLength=originalScope.$eval(attrs.typeaheadMinLength);minLength||0===minLength||(minLength=1);var waitTime=originalScope.$eval(attrs.typeaheadWaitMs)||0;var isEditable=false!==originalScope.$eval(attrs.typeaheadEditable);var isLoadingSetter=$parse(attrs.typeaheadLoading).assign||angular.noop;var onSelectCallback=$parse(attrs.typeaheadOnSelect);var isSelectOnBlur=!!angular.isDefined(attrs.typeaheadSelectOnBlur)&&originalScope.$eval(attrs.typeaheadSelectOnBlur);var isNoResultsSetter=$parse(attrs.typeaheadNoResults).assign||angular.noop;var inputFormatter=attrs.typeaheadInputFormatter?$parse(attrs.typeaheadInputFormatter):void 0;var appendToBody=!!attrs.typeaheadAppendToBody&&originalScope.$eval(attrs.typeaheadAppendToBody);var appendToElementId=attrs.typeaheadAppendToElementId||false;var focusFirst=false!==originalScope.$eval(attrs.typeaheadFocusFirst);var selectOnExact=!!attrs.typeaheadSelectOnExact&&originalScope.$eval(attrs.typeaheadSelectOnExact);var parsedModel=$parse(attrs.ngModel);var invokeModelSetter=$parse(attrs.ngModel+"($$$p)");var $setModelValue=function(scope,newValue){return angular.isFunction(parsedModel(originalScope))&&ngModelOptions&&ngModelOptions.$options&&ngModelOptions.$options.getterSetter?invokeModelSetter(scope,{$$$p:newValue}):parsedModel.assign(scope,newValue)};var parserResult=typeaheadParser.parse(attrs.senseUibTypeahead);var hasFocus;var selected;var scope=originalScope.$new();var offDestroy=originalScope.$on("$destroy",function(){scope.$destroy()});scope.$on("$destroy",offDestroy);var popupId="typeahead-"+scope.$id+"-"+Math.floor(1e4*Math.random());element.attr({"aria-autocomplete":"list","aria-expanded":false,"aria-owns":popupId});var popUpEl=angular.element("<div sense-uib-typeahead-popup></div>");popUpEl.attr({id:popupId,matches:"matches",active:"activeIdx",select:"select(activeIdx)","move-in-progress":"moveInProgress",query:"query",position:"position"});angular.isDefined(attrs.typeaheadTemplateUrl)&&popUpEl.attr("template-url",attrs.typeaheadTemplateUrl);angular.isDefined(attrs.typeaheadPopupTemplateUrl)&&popUpEl.attr("popup-template-url",attrs.typeaheadPopupTemplateUrl);var resetMatches=function(){scope.matches=[];scope.activeIdx=-1;element.attr("aria-expanded",false)};var getMatchId=function(index){return popupId+"-option-"+index};scope.$watch("activeIdx",function(index){index<0?element.removeAttr("aria-activedescendant"):element.attr("aria-activedescendant",getMatchId(index))});var inputIsExactMatch=function(inputValue,index){if(scope.matches.length>index&&inputValue)return inputValue.toUpperCase()===scope.matches[index].label.toUpperCase();return false};var getMatchesAsync=function(inputValue){var locals={$viewValue:inputValue};isLoadingSetter(originalScope,true);isNoResultsSetter(originalScope,false);$q.when(parserResult.source(originalScope,locals)).then(function(matches){var onCurrentRequest=inputValue===modelCtrl.$viewValue;if(onCurrentRequest&&hasFocus)if(matches&&matches.length>0){scope.activeIdx=focusFirst?0:-1;isNoResultsSetter(originalScope,false);scope.matches.length=0;for(var i=0;i<matches.length;i++){locals[parserResult.itemName]=matches[i];scope.matches.push({id:getMatchId(i),label:parserResult.viewMapper(scope,locals),model:matches[i]})}scope.query=inputValue;recalculatePosition();element.attr("aria-expanded",true);selectOnExact&&1===scope.matches.length&&inputIsExactMatch(inputValue,0)&&scope.select(0)}else{resetMatches();isNoResultsSetter(originalScope,true)}onCurrentRequest&&isLoadingSetter(originalScope,false)},function(){resetMatches();isLoadingSetter(originalScope,false);isNoResultsSetter(originalScope,true)})};if(appendToBody){angular.element($window).bind("resize",fireRecalculating);$document.find("body").bind("scroll",fireRecalculating)}var timeoutEventPromise;scope.moveInProgress=false;function fireRecalculating(){if(!scope.moveInProgress){scope.moveInProgress=true;scope.$digest()}timeoutEventPromise&&$timeout.cancel(timeoutEventPromise);timeoutEventPromise=$timeout(function(){scope.matches.length&&recalculatePosition();scope.moveInProgress=false},eventDebounceTime)}function recalculatePosition(){scope.position=appendToBody?$position.offset(element):$position.position(element);scope.position.top+=element.prop("offsetHeight")}scope.query=void 0;var timeoutPromise;var scheduleSearchWithTimeout=function(inputValue){timeoutPromise=$timeout(function(){getMatchesAsync(inputValue)},waitTime)};var cancelPreviousTimeout=function(){timeoutPromise&&$timeout.cancel(timeoutPromise)};resetMatches();scope.select=function(activeIdx){var locals={};var model,item;selected=true;locals[parserResult.itemName]=item=scope.matches[activeIdx].model;model=parserResult.modelMapper(originalScope,locals);$setModelValue(originalScope,model);modelCtrl.$setValidity("editable",true);modelCtrl.$setValidity("parse",true);onSelectCallback(originalScope,{$item:item,$model:model,$label:parserResult.viewMapper(originalScope,locals)});resetMatches();false!==scope.$eval(attrs.typeaheadFocusOnSelect)&&$timeout(function(){element[0].focus()},0,false)};element.bind("keydown",function(evt){if(0===scope.matches.length||-1===HOT_KEYS.indexOf(evt.which))return;if(-1===scope.activeIdx&&(9===evt.which||13===evt.which)){resetMatches();scope.$digest();return}evt.preventDefault();if(40===evt.which){scope.activeIdx=(scope.activeIdx+1)%scope.matches.length;scope.$digest()}else if(38===evt.which){scope.activeIdx=(scope.activeIdx>0?scope.activeIdx:scope.matches.length)-1;scope.$digest()}else if(13===evt.which||9===evt.which)scope.$apply(function(){scope.select(scope.activeIdx)});else if(27===evt.which){evt.stopPropagation();resetMatches();scope.$digest()}});element.bind("blur",function(){if(isSelectOnBlur&&scope.matches.length&&-1!==scope.activeIdx&&!selected){selected=true;scope.$apply(function(){scope.select(scope.activeIdx)})}hasFocus=false;selected=false});var dismissClickHandler=function(evt){if(element[0]!==evt.target&&3!==evt.which&&0!==scope.matches.length){resetMatches();$rootScope.$$phase||scope.$digest()}};$document.bind("click",dismissClickHandler);originalScope.$on("$destroy",function(){$document.unbind("click",dismissClickHandler);(appendToBody||appendToElementId)&&$popup.remove();popUpEl.remove()});var $popup=$compile(popUpEl)(scope);appendToBody?$document.find("body").append($popup):false!==appendToElementId?angular.element($document[0].getElementById(appendToElementId)).append($popup):element.after($popup);this.init=function(_modelCtrl,_ngModelOptions){modelCtrl=_modelCtrl;ngModelOptions=_ngModelOptions;modelCtrl.$parsers.unshift(function(inputValue){hasFocus=true;if(0===minLength||inputValue&&inputValue.length>=minLength)if(waitTime>0){cancelPreviousTimeout();scheduleSearchWithTimeout(inputValue)}else getMatchesAsync(inputValue);else{isLoadingSetter(originalScope,false);cancelPreviousTimeout();resetMatches()}if(isEditable)return inputValue;if(inputValue){modelCtrl.$setValidity("editable",false);return}modelCtrl.$setValidity("editable",true);return null});modelCtrl.$formatters.push(function(modelValue){var candidateViewValue,emptyViewValue;var locals={};isEditable||modelCtrl.$setValidity("editable",true);if(inputFormatter){locals.$model=modelValue;return inputFormatter(originalScope,locals)}locals[parserResult.itemName]=modelValue;candidateViewValue=parserResult.viewMapper(originalScope,locals);locals[parserResult.itemName]=void 0;emptyViewValue=parserResult.viewMapper(originalScope,locals);return candidateViewValue!==emptyViewValue?candidateViewValue:modelValue})}}]).directive("senseUibTypeahead",function(){return{controller:"SenseUibTypeaheadController",require:["ngModel","^?ngModelOptions","senseUibTypeahead"],link:function(originalScope,element,attrs,ctrls){ctrls[2].init(ctrls[0],ctrls[1])}}}).directive("senseUibTypeaheadPopup",function(){return{scope:{matches:"=",query:"=",active:"=",position:"&",moveInProgress:"=",select:"&"},replace:true,templateUrl:function(element,attrs){return attrs.popupTemplateUrl||"sense/template/typeahead/typeahead-popup.html"},link:function(scope,element,attrs){scope.templateUrl=attrs.templateUrl;scope.isOpen=function(){return scope.matches.length>0};scope.isActive=function(matchIdx){return scope.active==matchIdx};scope.selectActive=function(matchIdx){scope.active=matchIdx};scope.selectMatch=function(activeIdx){scope.select({activeIdx:activeIdx})}}}}).directive("senseUibTypeaheadMatch",["$templateCache","$compile","$parse",function($templateCache,$compile,$parse){return{scope:{index:"=",match:"=",query:"="},link:function(scope,element,attrs){var tplUrl=$parse(attrs.templateUrl)(scope.$parent)||"sense/template/typeahead/typeahead-match.html";$compile($templateCache.get(tplUrl).trim())(scope,function(clonedElement){element.replaceWith(clonedElement)})}}}]).filter("senseUibTypeaheadHighlight",["$sce","$injector","$log",function($sce,$injector,$log){var isSanitizePresent;isSanitizePresent=$injector.has("$sanitize");function escapeRegexp(queryToEscape){return queryToEscape.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}function containsHtml(matchItem){return/<.*>/g.test(matchItem)}return function(matchItem,query){!isSanitizePresent&&containsHtml(matchItem)&&$log.warn("Unsafe use of typeahead please use ngSanitize");matchItem=query?(""+matchItem).replace(new RegExp(escapeRegexp(query),"gi"),"<strong>$&</strong>"):matchItem;isSanitizePresent||(matchItem=$sce.trustAsHtml(matchItem));return matchItem}}]);angular.module("sense.ui.bootstrap.position",[]).factory("$senseUibPosition",["$document","$window",function($document,$window){function getStyle(el,cssprop){if(el.currentStyle)return el.currentStyle[cssprop];if($window.getComputedStyle)return $window.getComputedStyle(el)[cssprop];return el.style[cssprop]}function isStaticPositioned(element){return"static"===(getStyle(element,"position")||"static")}var parentOffsetEl=function(element){var docDomEl=$document[0];var offsetParent=element.offsetParent||docDomEl;while(offsetParent&&offsetParent!==docDomEl&&isStaticPositioned(offsetParent))offsetParent=offsetParent.offsetParent;return offsetParent||docDomEl};return{position:function(element){var elBCR=this.offset(element);var offsetParentBCR={top:0,left:0};var offsetParentEl=parentOffsetEl(element[0]);if(offsetParentEl!=$document[0]){offsetParentBCR=this.offset(angular.element(offsetParentEl));offsetParentBCR.top+=offsetParentEl.clientTop-offsetParentEl.scrollTop;offsetParentBCR.left+=offsetParentEl.clientLeft-offsetParentEl.scrollLeft}var boundingClientRect=element[0].getBoundingClientRect();return{width:boundingClientRect.width||element.prop("offsetWidth"),height:boundingClientRect.height||element.prop("offsetHeight"),top:elBCR.top-offsetParentBCR.top,left:elBCR.left-offsetParentBCR.left}},offset:function(element){var boundingClientRect=element[0].getBoundingClientRect();return{width:boundingClientRect.width||element.prop("offsetWidth"),height:boundingClientRect.height||element.prop("offsetHeight"),top:boundingClientRect.top+($window.pageYOffset||$document[0].documentElement.scrollTop),left:boundingClientRect.left+($window.pageXOffset||$document[0].documentElement.scrollLeft)}},positionElements:function(hostEl,targetEl,positionStr,appendToBody){var positionStrParts=positionStr.split("-");var pos0=positionStrParts[0],pos1=positionStrParts[1]||"center";var hostElPos,targetElWidth,targetElHeight,targetElPos;hostElPos=appendToBody?this.offset(hostEl):this.position(hostEl);targetElWidth=targetEl.prop("offsetWidth");targetElHeight=targetEl.prop("offsetHeight");var shiftWidth={center:function(){return hostElPos.left+hostElPos.width/2-targetElWidth/2},left:function(){return hostElPos.left},right:function(){return hostElPos.left+hostElPos.width}};var shiftHeight={center:function(){return hostElPos.top+hostElPos.height/2-targetElHeight/2},top:function(){return hostElPos.top},bottom:function(){return hostElPos.top+hostElPos.height}};switch(pos0){case"right":targetElPos={top:shiftHeight[pos1](),left:shiftWidth[pos0]()};break;case"left":targetElPos={top:shiftHeight[pos1](),left:hostElPos.left-targetElWidth};break;case"bottom":targetElPos={top:shiftHeight[pos0](),left:shiftWidth[pos1]()};break;default:targetElPos={top:hostElPos.top-targetElHeight,left:shiftWidth[pos1]()}}return targetElPos}}}]);angular.module("sense/template/typeahead/typeahead-match.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("sense/template/typeahead/typeahead-match.html",'<a href tabindex="-1" ng-bind-html="match.label | senseUibTypeaheadHighlight:query"></a>\n')}]);angular.module("sense/template/typeahead/typeahead-popup.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("sense/template/typeahead/typeahead-popup.html",'<ul class="dropdown-menu" ng-show="isOpen() && !moveInProgress" ng-style="{top: position().top+\'px\', left: position().left+\'px\'}" style="display: block;" role="listbox" aria-hidden="{{!isOpen()}}">\n    <li ng-repeat="match in matches track by $index" ng-class="{active: isActive($index) }" ng-mouseenter="selectActive($index)" ng-click="selectMatch($index)" role="option" id="{{match.id}}">\n        <div sense-uib-typeahead-match index="$index" match="match" query="query" template-url="templateUrl"></div>\n    </li>\n</ul>\n')}])},7533:function(module,exports,__webpack_require__){"use strict";__webpack_require__(421);var _sense_editor_resize=__webpack_require__(1273);var _jquery=__webpack_require__(16);var _jquery2=_interopRequireDefault(_jquery);var _input=__webpack_require__(2263);var _output=__webpack_require__(2266);var _app=__webpack_require__(7559);var _app2=_interopRequireDefault(_app);var _sense_top_nav_controller=__webpack_require__(7560);var _autocomplete=__webpack_require__(2264);var _documentation_links=__webpack_require__(242);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}var _module=__webpack_require__(3).get("app/sense");_module.run(function(Private,$rootScope){_module.setupResizeCheckerForRootEditors=function($el){for(var _len=arguments.length,editors=Array(_len>1?_len-1:0),_key=1;_key<_len;_key++)editors[_key-1]=arguments[_key];return _sense_editor_resize.useResizeChecker.apply(void 0,[$rootScope,$el].concat(editors))}});_module.controller("SenseController",function SenseController(Private,$scope,$timeout,$location,docTitle,kbnUiAceKeyboardModeService){var _this=this;docTitle.change("Console");$scope.topNavController=Private(_sense_top_nav_controller.SenseTopNavController);var input=void 0;var output=void 0;$timeout(_asyncToGenerator(regeneratorRuntime.mark(function _callee(){var session;return regeneratorRuntime.wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:output=(0,_output.initializeOutput)((0,_jquery2.default)("#ConAppOutput"));input=(0,_input.initializeInput)((0,_jquery2.default)("#ConAppEditor"),(0,_jquery2.default)("#ConAppEditorActions"),(0,_jquery2.default)("#ConCopyAsCurl"),output,$scope.openDocumentation);(0,_app2.default)(input,output,$location.search().load_from);kbnUiAceKeyboardModeService.initialize($scope,(0,_jquery2.default)("#ConAppEditor"));session=input.getSession();session.getSelection().on("changeCursor",function(){$scope.getDocumentation()});$scope.getDocumentation();case 7:case"end":return _context.stop()}},_callee,_this)})));$scope.getDocumentation=function(){input.getRequestsInRange(function(requests){if(!requests||0===requests.length){$scope.documentation=null;$scope.$apply();return}var position=requests[0].range.end;position.column=position.column-1;var endpoint=(0,_autocomplete.getEndpointFromPosition)(input,position);if(endpoint&&endpoint.documentation&&-1!==endpoint.documentation.indexOf("http")){$scope.documentation=endpoint.documentation.replace("/master/","/"+_documentation_links.DOC_LINK_VERSION+"/");$scope.documentation=$scope.documentation.replace("/current/","/"+_documentation_links.DOC_LINK_VERSION+"/");$scope.$apply()}else{$scope.documentation=null;$scope.$apply()}})};$scope.openDocumentation=function(){if(!$scope.documentation)return;window.open($scope.documentation,"_blank")};$scope.sendSelected=function(){input.focus();input.sendCurrentRequestToES();return false};$scope.autoIndent=function(event){input.autoIndent();event.preventDefault();input.focus()}})},7534:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports._test=void 0;exports.getUnmatchedEndpointComponents=getUnmatchedEndpointComponents;exports.getEndpointDescriptionByEndpoint=getEndpointDescriptionByEndpoint;exports.getEndpointBodyCompleteComponents=getEndpointBodyCompleteComponents;exports.getTopLevelUrlCompleteComponents=getTopLevelUrlCompleteComponents;exports.getGlobalAutocompleteComponents=getGlobalAutocompleteComponents;exports.setActiveApi=setActiveApi;var _components=__webpack_require__(454);var _jquery=__webpack_require__(16);var _jquery2=_interopRequireDefault(_jquery);var _lodash=__webpack_require__(1);var _lodash2=_interopRequireDefault(_lodash);var _api=__webpack_require__(7548);var _api2=_interopRequireDefault(_api);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var ACTIVE_API=new _api2.default;var isNotAnIndexName=function isNotAnIndexName(name){return"_"===name[0]&&"_all"!==name};var idAutocompleteComponentFactory=function idAutocompleteComponentFactory(name,parent){return new _components.IdAutocompleteComponent(name,parent)};var parametrizedComponentFactories={getComponent:function getComponent(name,parent,provideDefault){if(this[name])return this[name];if(provideDefault)return idAutocompleteComponentFactory},index:function index(name,parent){if(isNotAnIndexName(name))return;return new _components.IndexAutocompleteComponent(name,parent,false)},indices:function indices(name,parent){if(isNotAnIndexName(name))return;return new _components.IndexAutocompleteComponent(name,parent,true)},type:function type(name,parent){return new _components.TypeAutocompleteComponent(name,parent,false)},types:function types(name,parent){return new _components.TypeAutocompleteComponent(name,parent,true)},id:function id(name,parent){return idAutocompleteComponentFactory(name,parent)},template:function template(name,parent){return new _components.TemplateAutocompleteComponent(name,parent)},task_id:function task_id(name,parent){return idAutocompleteComponentFactory(name,parent)},ids:function ids(name,parent){return idAutocompleteComponentFactory(name,parent,true)},fields:function fields(name,parent){return new _components.FieldAutocompleteComponent(name,parent,true)},field:function field(name,parent){return new _components.FieldAutocompleteComponent(name,parent,false)},nodes:function nodes(name,parent){return new _components.ListComponent(name,["_local","_master","data:true","data:false","master:true","master:false"],parent)},node:function node(name,parent){return new _components.ListComponent(name,[],parent,false)}};function getUnmatchedEndpointComponents(){return ACTIVE_API.getUnmatchedEndpointComponents()}function getEndpointDescriptionByEndpoint(endpoint){return ACTIVE_API.getEndpointDescriptionByEndpoint(endpoint)}function getEndpointBodyCompleteComponents(endpoint){var desc=getEndpointDescriptionByEndpoint(endpoint);if(!desc)throw new Error("failed to resolve endpoint ['"+endpoint+"']");return desc.bodyAutocompleteRootComponents}function getTopLevelUrlCompleteComponents(method){return ACTIVE_API.getTopLevelUrlCompleteComponents(method)}function getGlobalAutocompleteComponents(term,throwOnMissing){return ACTIVE_API.getGlobalAutocompleteComponents(term,throwOnMissing)}function loadApisFromJson(json,urlParametrizedComponentFactories,bodyParametrizedComponentFactories){urlParametrizedComponentFactories=urlParametrizedComponentFactories||parametrizedComponentFactories;bodyParametrizedComponentFactories=bodyParametrizedComponentFactories||urlParametrizedComponentFactories;var api=new _api2.default(urlParametrizedComponentFactories,bodyParametrizedComponentFactories);var names=[];_lodash2.default.each(json,function(apiJson,name){names.unshift(name);_lodash2.default.each(apiJson.globals||{},function(globalJson,globalName){api.addGlobalAutocompleteRules(globalName,globalJson)});_lodash2.default.each(apiJson.endpoints||{},function(endpointJson,endpointName){api.addEndpointDescription(endpointName,endpointJson)})});api.name=names.join(",");return api}function setActiveApi(api){if(_lodash2.default.isString(api)){_jquery2.default.ajax({url:"../api/console/api_server?sense_version="+encodeURIComponent("@@SENSE_VERSION")+"&apis="+encodeURIComponent(api),dataType:"json"}).then(function(data){setActiveApi(loadApisFromJson(data))},function(jqXHR){console.log("failed to load API '"+api+"': "+jqXHR.responseText)});return}ACTIVE_API=api}setActiveApi("es_6_0");exports._test={loadApisFromJson:loadApisFromJson}},7535:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ConstantComponent=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _get=function get(object,property,receiver){null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0===desc){var parent=Object.getPrototypeOf(object);return null===parent?void 0:get(parent,property,receiver)}if("value"in desc)return desc.value;var getter=desc.get;if(void 0===getter)return;return getter.call(receiver)};var _lodash=__webpack_require__(1);var _lodash2=_interopRequireDefault(_lodash);var _shared_component=__webpack_require__(393);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}exports.ConstantComponent=function(_SharedComponent){_inherits(ConstantComponent,_SharedComponent);function ConstantComponent(name,parent,options){_classCallCheck(this,ConstantComponent);var _this=_possibleConstructorReturn(this,(ConstantComponent.__proto__||Object.getPrototypeOf(ConstantComponent)).call(this,name,parent));_lodash2.default.isString(options)&&(options=[options]);_this.options=options||[name];return _this}_createClass(ConstantComponent,[{key:"getTerms",value:function getTerms(){return this.options}},{key:"addOption",value:function addOption(options){Array.isArray(options)||(options=[options]);[].push.apply(this.options,options);this.options=_lodash2.default.uniq(this.options)}},{key:"match",value:function match(token,context,editor){if(token!==this.name)return null;return _get(ConstantComponent.prototype.__proto__||Object.getPrototypeOf(ConstantComponent.prototype),"match",this).call(this,token,context,editor)}}]);return ConstantComponent}(_shared_component.SharedComponent)},7536:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.SimpleParamComponent=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _get=function get(object,property,receiver){null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0===desc){var parent=Object.getPrototypeOf(object);return null===parent?void 0:get(parent,property,receiver)}if("value"in desc)return desc.value;var getter=desc.get;if(void 0===getter)return;return getter.call(receiver)};var _shared_component=__webpack_require__(393);function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}exports.SimpleParamComponent=function(_SharedComponent){_inherits(SimpleParamComponent,_SharedComponent);function SimpleParamComponent(name,parent){_classCallCheck(this,SimpleParamComponent);return _possibleConstructorReturn(this,(SimpleParamComponent.__proto__||Object.getPrototypeOf(SimpleParamComponent)).call(this,name,parent))}_createClass(SimpleParamComponent,[{key:"match",value:function match(token,context,editor){var result=_get(SimpleParamComponent.prototype.__proto__||Object.getPrototypeOf(SimpleParamComponent.prototype),"match",this).call(this,token,context,editor);result.context_values=result.context_values||{};result.context_values[this.name]=token;return result}}]);return SimpleParamComponent}(_shared_component.SharedComponent)},7537:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ConditionalProxy=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _shared_component=__webpack_require__(393);function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}exports.ConditionalProxy=function(_SharedComponent){_inherits(ConditionalProxy,_SharedComponent);function ConditionalProxy(predicate,delegate){_classCallCheck(this,ConditionalProxy);var _this=_possibleConstructorReturn(this,(ConditionalProxy.__proto__||Object.getPrototypeOf(ConditionalProxy)).call(this,"__condition"));_this.predicate=predicate;_this.delegate=delegate;return _this}_createClass(ConditionalProxy,[{key:"getTerms",value:function getTerms(context,editor){return this.predicate(context,editor)?this.delegate.getTerms(context,editor):null}},{key:"match",value:function match(token,context,editor){return!!this.predicate(context,editor)&&this.delegate.match(token,context,editor)}}]);return ConditionalProxy}(_shared_component.SharedComponent)},7538:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.GlobalOnlyComponent=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _shared_component=__webpack_require__(393);function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}exports.GlobalOnlyComponent=function(_SharedComponent){_inherits(GlobalOnlyComponent,_SharedComponent);function GlobalOnlyComponent(){_classCallCheck(this,GlobalOnlyComponent);return _possibleConstructorReturn(this,(GlobalOnlyComponent.__proto__||Object.getPrototypeOf(GlobalOnlyComponent)).apply(this,arguments))}_createClass(GlobalOnlyComponent,[{key:"getTerms",value:function getTerms(){return null}},{key:"match",value:function match(token,context){var result={next:[]};var globalRules=context.globalComponentResolver(token,false);globalRules&&result.next.push.apply(result.next,globalRules);if(result.next.length)return result;result.next=[this];return result}}]);return GlobalOnlyComponent}(_shared_component.SharedComponent)},7539:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ObjectComponent=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _lodash=__webpack_require__(1);var _lodash2=_interopRequireDefault(_lodash);var _2=__webpack_require__(454);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}exports.ObjectComponent=function(_SharedComponent){_inherits(ObjectComponent,_SharedComponent);function ObjectComponent(name,constants,patternsAndWildCards){_classCallCheck(this,ObjectComponent);var _this=_possibleConstructorReturn(this,(ObjectComponent.__proto__||Object.getPrototypeOf(ObjectComponent)).call(this,name));_this.constants=constants;_this.patternsAndWildCards=patternsAndWildCards;return _this}_createClass(ObjectComponent,[{key:"getTerms",value:function getTerms(context,editor){var options=[];_lodash2.default.each(this.constants,function(component){options.push.apply(options,component.getTerms(context,editor))});_lodash2.default.each(this.patternsAndWildCards,function(component){options.push.apply(options,component.getTerms(context,editor))});return options}},{key:"match",value:function match(token,context,editor){var result={next:[]};_lodash2.default.each(this.constants,function(component){var componentResult=component.match(token,context,editor);componentResult&&componentResult.next&&result.next.push.apply(result.next,componentResult.next)});var globalRules=context.globalComponentResolver(token,false);globalRules&&result.next.push.apply(result.next,globalRules);if(result.next.length)return result;_lodash2.default.each(this.patternsAndWildCards,function(component){var componentResult=component.match(token,context,editor);componentResult&&componentResult.next&&result.next.push.apply(result.next,componentResult.next)});return result}}]);return ObjectComponent}(_2.SharedComponent)},7540:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.AcceptEndpointComponent=exports.URL_PATH_END_MARKER=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _get=function get(object,property,receiver){null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0===desc){var parent=Object.getPrototypeOf(object);return null===parent?void 0:get(parent,property,receiver)}if("value"in desc)return desc.value;var getter=desc.get;if(void 0===getter)return;return getter.call(receiver)};var _lodash=__webpack_require__(1);var _lodash2=_interopRequireDefault(_lodash);var _shared_component=__webpack_require__(393);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var URL_PATH_END_MARKER=exports.URL_PATH_END_MARKER="__url_path_end__";exports.AcceptEndpointComponent=function(_SharedComponent){_inherits(AcceptEndpointComponent,_SharedComponent);function AcceptEndpointComponent(endpoint,parent){_classCallCheck(this,AcceptEndpointComponent);var _this=_possibleConstructorReturn(this,(AcceptEndpointComponent.__proto__||Object.getPrototypeOf(AcceptEndpointComponent)).call(this,endpoint.id,parent));_this.endpoint=endpoint;return _this}_createClass(AcceptEndpointComponent,[{key:"match",value:function match(token,context,editor){if(token!==URL_PATH_END_MARKER)return null;if(this.endpoint.methods&&-1===_lodash2.default.indexOf(this.endpoint.methods,context.method))return null;var r=_get(AcceptEndpointComponent.prototype.__proto__||Object.getPrototypeOf(AcceptEndpointComponent.prototype),"match",this).call(this,token,context,editor);r.context_values=r.context_values||{};r.context_values.endpoint=this.endpoint;_lodash2.default.isNumber(this.endpoint.priority)&&(r.priority=this.endpoint.priority);return r}}]);return AcceptEndpointComponent}(_shared_component.SharedComponent)},7541:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.UrlPatternMatcher=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _lodash=__webpack_require__(1);var _lodash2=_interopRequireDefault(_lodash);var _2=__webpack_require__(454);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}exports.UrlPatternMatcher=function(){function UrlPatternMatcher(parametrizedComponentFactories){var _this=this;_classCallCheck(this,UrlPatternMatcher);this.getTopLevelComponents=function(method){var methodRoot=this[method];if(!methodRoot)return[];return methodRoot.rootComponent.next};["HEAD","GET","PUT","POST","DELETE"].forEach(function(method){_this[method]={rootComponent:new _2.SharedComponent("ROOT"),parametrizedComponentFactories:parametrizedComponentFactories||{getComponent:function getComponent(){}}}})}_createClass(UrlPatternMatcher,[{key:"addEndpoint",value:function addEndpoint(pattern,endpoint){var _this2=this;endpoint.methods.forEach(function(method){var c=void 0;var activeComponent=_this2[method].rootComponent;var endpointComponents=endpoint.url_components||{};var partList=pattern.split("/");_lodash2.default.each(partList,function(part,partIndex){if(part.search(/^{.+}$/)>=0){part=part.substr(1,part.length-2);if(activeComponent.getComponent(part)){activeComponent=activeComponent.getComponent(part);return}if(c=endpointComponents[part])if(Array.isArray(c))c=new _2.ListComponent(part,c,activeComponent);else if(_lodash2.default.isObject(c)&&"list"===c.type)c=new _2.ListComponent(part,c.list,activeComponent,c.multiValued,c.allow_non_valid);else{console.warn("incorrectly configured url component ",part," in endpoint",endpoint);c=new _2.SharedComponent(part)}else c=(c=this[method].parametrizedComponentFactories.getComponent(part))?c(part,activeComponent):new _2.SimpleParamComponent(part,activeComponent);activeComponent=c}else{var lookAhead=part;var s=void 0;for(partIndex++;partIndex<partList.length;partIndex++){s=partList[partIndex];if(s.indexOf("{")>=0)break;lookAhead+="/"+s}if(activeComponent.getComponent(part)){activeComponent=activeComponent.getComponent(part);activeComponent.addOption(lookAhead)}else{c=new _2.ConstantComponent(part,activeComponent,lookAhead);activeComponent=c}}},_this2);new _2.AcceptEndpointComponent(endpoint,activeComponent)})}}]);return UrlPatternMatcher}()},7542:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.IndexAutocompleteComponent=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _lodash=__webpack_require__(1);var _lodash2=_interopRequireDefault(_lodash);var _mappings=__webpack_require__(651);var _mappings2=_interopRequireDefault(_mappings);var _list_component=__webpack_require__(650);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function nonValidIndexType(token){return!("_all"===token||"_"!==token[0])}exports.IndexAutocompleteComponent=function(_ListComponent){_inherits(IndexAutocompleteComponent,_ListComponent);function IndexAutocompleteComponent(name,parent,multiValued){_classCallCheck(this,IndexAutocompleteComponent);return _possibleConstructorReturn(this,(IndexAutocompleteComponent.__proto__||Object.getPrototypeOf(IndexAutocompleteComponent)).call(this,name,_mappings2.default.getIndices,parent,multiValued))}_createClass(IndexAutocompleteComponent,[{key:"validateTokens",value:function validateTokens(tokens){if(!this.multiValued&&tokens.length>1)return false;return!_lodash2.default.find(tokens,nonValidIndexType)}},{key:"getDefaultTermMeta",value:function getDefaultTermMeta(){return"index"}},{key:"getContextKey",value:function getContextKey(){return"indices"}}]);return IndexAutocompleteComponent}(_list_component.ListComponent)},7543:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Mode=Mode;var ace=__webpack_require__(111);__webpack_require__(2267);var oop=ace.acequire("ace/lib/oop");var JSONMode=ace.acequire("ace/mode/json").Mode;var HighlightRules=__webpack_require__(2267).OutputJsonHighlightRules;var MatchingBraceOutdent=ace.acequire("ace/mode/matching_brace_outdent").MatchingBraceOutdent;var CstyleBehaviour=ace.acequire("ace/mode/behaviour/cstyle").CstyleBehaviour;var CStyleFoldMode=ace.acequire("ace/mode/folding/cstyle").FoldMode;ace.acequire("ace/worker/worker_client");var AceTokenizer=ace.acequire("ace/tokenizer").Tokenizer;function Mode(){this.$tokenizer=new AceTokenizer((new HighlightRules).getRules());this.$outdent=new MatchingBraceOutdent;this.$behaviour=new CstyleBehaviour;this.foldingRules=new CStyleFoldMode}oop.inherits(Mode,JSONMode);(function(){this.createWorker=function(){return null};this.$id="sense/mode/input"}).call(Mode.prototype)},7544:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.FieldAutocompleteComponent=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _lodash=__webpack_require__(1);var _lodash2=_interopRequireDefault(_lodash);var _mappings=__webpack_require__(651);var _mappings2=_interopRequireDefault(_mappings);var _list_component=__webpack_require__(650);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function FieldGenerator(context){return _lodash2.default.map(_mappings2.default.getFields(context.indices,context.types),function(field){return{name:field.name,meta:field.type}})}exports.FieldAutocompleteComponent=function(_ListComponent){_inherits(FieldAutocompleteComponent,_ListComponent);function FieldAutocompleteComponent(name,parent,multiValued){_classCallCheck(this,FieldAutocompleteComponent);return _possibleConstructorReturn(this,(FieldAutocompleteComponent.__proto__||Object.getPrototypeOf(FieldAutocompleteComponent)).call(this,name,FieldGenerator,parent,multiValued))}_createClass(FieldAutocompleteComponent,[{key:"validateTokens",value:function validateTokens(tokens){if(!this.multiValued&&tokens.length>1)return false;return!_lodash2.default.find(tokens,function(token){return token.match(/[^\w.?*]/)})}},{key:"getDefaultTermMeta",value:function getDefaultTermMeta(){return"field"}},{key:"getContextKey",value:function getContextKey(){return"fields"}}]);return FieldAutocompleteComponent}(_list_component.ListComponent)},7545:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.TypeAutocompleteComponent=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _lodash=__webpack_require__(1);var _lodash2=_interopRequireDefault(_lodash);var _list_component=__webpack_require__(650);var _mappings=__webpack_require__(651);var _mappings2=_interopRequireDefault(_mappings);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function TypeGenerator(context){return _mappings2.default.getTypes(context.indices)}function nonValidIndexType(token){return!("_all"===token||"_"!==token[0])}exports.TypeAutocompleteComponent=function(_ListComponent){_inherits(TypeAutocompleteComponent,_ListComponent);function TypeAutocompleteComponent(name,parent,multiValued){_classCallCheck(this,TypeAutocompleteComponent);return _possibleConstructorReturn(this,(TypeAutocompleteComponent.__proto__||Object.getPrototypeOf(TypeAutocompleteComponent)).call(this,name,TypeGenerator,parent,multiValued))}_createClass(TypeAutocompleteComponent,[{key:"validateTokens",value:function validateTokens(tokens){if(!this.multiValued&&tokens.length>1)return false;return!_lodash2.default.find(tokens,nonValidIndexType)}},{key:"getDefaultTermMeta",value:function getDefaultTermMeta(){return"type"}},{key:"getContextKey",value:function getContextKey(){return"types"}}]);return TypeAutocompleteComponent}(_list_component.ListComponent)},7546:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.IdAutocompleteComponent=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _get=function get(object,property,receiver){null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0===desc){var parent=Object.getPrototypeOf(object);return null===parent?void 0:get(parent,property,receiver)}if("value"in desc)return desc.value;var getter=desc.get;if(void 0===getter)return;return getter.call(receiver)};var _lodash=__webpack_require__(1);var _lodash2=_interopRequireDefault(_lodash);var _shared_component=__webpack_require__(393);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}exports.IdAutocompleteComponent=function(_SharedComponent){_inherits(IdAutocompleteComponent,_SharedComponent);function IdAutocompleteComponent(name,parent,multi){_classCallCheck(this,IdAutocompleteComponent);var _this=_possibleConstructorReturn(this,(IdAutocompleteComponent.__proto__||Object.getPrototypeOf(IdAutocompleteComponent)).call(this,name,parent));_this.multi_match=multi;return _this}_createClass(IdAutocompleteComponent,[{key:"match",value:function match(token,context,editor){if(!token)return null;if(!this.multi_match&&Array.isArray(token))return null;token=Array.isArray(token)?token:[token];if(_lodash2.default.find(token,function(t){return t.match(/[\/,]/)}))return null;var r=_get(IdAutocompleteComponent.prototype.__proto__||Object.getPrototypeOf(IdAutocompleteComponent.prototype),"match",this).call(this,token,context,editor);r.context_values=r.context_values||{};r.context_values.id=token;return r}}]);return IdAutocompleteComponent}(_shared_component.SharedComponent)},7547:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.TemplateAutocompleteComponent=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _mappings=__webpack_require__(651);var _mappings2=_interopRequireDefault(_mappings);var _list_component=__webpack_require__(650);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}exports.TemplateAutocompleteComponent=function(_ListComponent){_inherits(TemplateAutocompleteComponent,_ListComponent);function TemplateAutocompleteComponent(name,parent){_classCallCheck(this,TemplateAutocompleteComponent);return _possibleConstructorReturn(this,(TemplateAutocompleteComponent.__proto__||Object.getPrototypeOf(TemplateAutocompleteComponent)).call(this,name,_mappings2.default.getTemplates,parent))}_createClass(TemplateAutocompleteComponent,[{key:"getContextKey",value:function getContextKey(){return"template"}}]);return TemplateAutocompleteComponent}(_list_component.ListComponent)},7548:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _components=__webpack_require__(454);var _url_params=__webpack_require__(7549);var _body_completer=__webpack_require__(7550);var _=__webpack_require__(1);function Api(urlParametrizedComponentFactories,bodyParametrizedComponentFactories){this.globalRules={};this.endpoints={};this.urlPatternMatcher=new _components.UrlPatternMatcher(urlParametrizedComponentFactories);this.globalBodyComponentFactories=bodyParametrizedComponentFactories;this.name=""}(function(cls){cls.addGlobalAutocompleteRules=function(parentNode,rules){this.globalRules[parentNode]=(0,_body_completer.compileBodyDescription)("GLOBAL."+parentNode,rules,this.globalBodyComponentFactories)};cls.getGlobalAutocompleteComponents=function(term,throwOnMissing){var result=this.globalRules[term];if(_.isUndefined(result)&&(throwOnMissing||_.isUndefined(throwOnMissing)))throw new Error("failed to resolve global components for  ['"+term+"']");return result};cls.addEndpointDescription=function(endpoint,description){var copiedDescription={};_.extend(copiedDescription,description||{});_.defaults(copiedDescription,{id:endpoint,patterns:[endpoint],methods:["GET"]});_.each(copiedDescription.patterns,function(p){this.urlPatternMatcher.addEndpoint(p,copiedDescription)},this);copiedDescription.paramsAutocomplete=new _url_params.UrlParams(copiedDescription.url_params);copiedDescription.bodyAutocompleteRootComponents=(0,_body_completer.compileBodyDescription)(copiedDescription.id,copiedDescription.data_autocomplete_rules,this.globalBodyComponentFactories);this.endpoints[endpoint]=copiedDescription};cls.getEndpointDescriptionByEndpoint=function(endpoint){return this.endpoints[endpoint]};cls.getTopLevelUrlCompleteComponents=function(method){return this.urlPatternMatcher.getTopLevelComponents(method)};cls.getUnmatchedEndpointComponents=function(){return(0,_body_completer.globalsOnlyAutocompleteComponents)()};cls.clear=function(){this.endpoints={};this.globalRules={}}})(Api.prototype);exports.default=Api;module.exports=exports["default"]},7549:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.UrlParams=exports.ParamComponent=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _components=__webpack_require__(454);function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _=__webpack_require__(1);var ParamComponent=exports.ParamComponent=function(_ConstantComponent){_inherits(ParamComponent,_ConstantComponent);function ParamComponent(name,parent,description){_classCallCheck(this,ParamComponent);var _this=_possibleConstructorReturn(this,(ParamComponent.__proto__||Object.getPrototypeOf(ParamComponent)).call(this,name,parent));_this.description=description;return _this}_createClass(ParamComponent,[{key:"getTerms",value:function getTerms(){var t={name:this.name};if("__flag__"===this.description)t.meta="flag";else{t.meta="param";t.insertValue=this.name+"="}return[t]}}]);return ParamComponent}(_components.ConstantComponent);exports.UrlParams=function(){function UrlParams(description,defaults){_classCallCheck(this,UrlParams);this.rootComponent=new _components.SharedComponent("ROOT");_.isUndefined(defaults)&&(defaults={pretty:"__flag__",format:["json","yaml"],filter_path:""});description=_.clone(description||{});_.defaults(description,defaults);_.each(description,function(pDescription,param){var component=new ParamComponent(param,this.rootComponent,pDescription);Array.isArray(pDescription)?new _components.ListComponent(param,pDescription,component):"__flag__"===pDescription&&new _components.ListComponent(param,["true","false"],component)},this)}_createClass(UrlParams,[{key:"getTopLevelComponents",value:function getTopLevelComponents(){return this.rootComponent.next}}]);return UrlParams}()},7550:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();exports.globalsOnlyAutocompleteComponents=globalsOnlyAutocompleteComponents;exports.compileBodyDescription=compileBodyDescription;var _engine=__webpack_require__(2271);var _components=__webpack_require__(454);function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _=__webpack_require__(1);function CompilingContext(endpointId,parametrizedComponentFactories){this.parametrizedComponentFactories=parametrizedComponentFactories;this.endpointId=endpointId}function resolvePathToComponents(tokenPath,context,editor,components){var walkStates=(0,_engine.walkTokenPath)(tokenPath,[new _engine.WalkingState("ROOT",components,[])],context,editor);var result=[].concat.apply([],_.pluck(walkStates,"components"));return result}var ScopeResolver=function(_SharedComponent){_inherits(ScopeResolver,_SharedComponent);function ScopeResolver(link,compilingContext){_classCallCheck(this,ScopeResolver);var _this=_possibleConstructorReturn(this,(ScopeResolver.__proto__||Object.getPrototypeOf(ScopeResolver)).call(this,"__scope_link"));_.isString(link)&&"."===link[0]&&(link="."===link?compilingContext.endpointId:compilingContext.endpointId+link);_this.link=link;_this.compilingContext=compilingContext;return _this}_createClass(ScopeResolver,[{key:"resolveLinkToComponents",value:function resolveLinkToComponents(context,editor){if(_.isFunction(this.link)){var desc=this.link(context,editor);return compileDescription(desc,this.compilingContext)}if(!_.isString(this.link))throw new Error("unsupported link format",this.link);var path=this.link.replace(/\./g,"{").split(/(\{)/);var endpoint=path[0];var components=void 0;try{if("GLOBAL"===endpoint){if(path.length<3)throw new Error("missing term in global link: "+this.link);var term=path[2];components=context.globalComponentResolver(term);path=path.slice(3)}else{path=path.slice(1);components=context.endpointComponentResolver(endpoint)}}catch(e){throw new Error("failed to resolve link ["+this.link+"]: "+e)}return resolvePathToComponents(path,context,editor,components)}},{key:"getTerms",value:function getTerms(context,editor){var options=[];var components=this.resolveLinkToComponents(context,editor);_.each(components,function(component){options.push.apply(options,component.getTerms(context,editor))});return options}},{key:"match",value:function match(token,context,editor){var result={next:[]};var components=this.resolveLinkToComponents(context,editor);_.each(components,function(component){var componentResult=component.match(token,context,editor);componentResult&&componentResult.next&&result.next.push.apply(result.next,componentResult.next)});return result}}]);return ScopeResolver}(_components.SharedComponent);function getTemplate(description){if(description.__template)return description.__template;if(description.__one_of)return getTemplate(description.__one_of[0]);if(description.__any_of)return[];if(description.__scope_link)return{};if(Array.isArray(description)){if(1===description.length&&_.isObject(description[0])){var innerTemplate=getTemplate(description[0]);return null!=innerTemplate?[innerTemplate]:[]}return[]}return _.isObject(description)?{}:(_.isString(description)&&!/^\{.*\}$/.test(description),description)}function getOptions(description){var options={};var template=getTemplate(description);_.isUndefined(template)||(options.template=template);return options}function compileDescription(description,compilingContext){if(Array.isArray(description))return[compileList(description,compilingContext)];if(_.isObject(description)){if(description.__scope_link)return[new ScopeResolver(description.__scope_link,compilingContext)];if(description.__any_of)return[compileList(description.__any_of,compilingContext)];if(description.__one_of)return _.flatten(_.map(description.__one_of,function(d){return compileDescription(d,compilingContext)}));var obj=compileObject(description,compilingContext);return description.__condition?[compileCondition(description.__condition,obj,compilingContext)]:[obj]}return _.isString(description)&&/^\{.*\}$/.test(description)?[compileParametrizedValue(description,compilingContext)]:[new _components.ConstantComponent(description)]}function compileParametrizedValue(value,compilingContext,template){value=value.substr(1,value.length-2).toLowerCase();var component=compilingContext.parametrizedComponentFactories.getComponent(value,true);if(!component)throw new Error("no factory found for '"+value+"'");component=component(value,null,template);_.isUndefined(template)||(component=(0,_engine.wrapComponentWithDefaults)(component,{template:template}));return component}function compileObject(objDescription,compilingContext){var objectC=new _components.ConstantComponent("{");var constants=[];var patterns=[];_.each(objDescription,function(desc,key){if(0===key.indexOf("__"))return;var options=getOptions(desc);var component=void 0;if(/^\{.*\}$/.test(key)){component=compileParametrizedValue(key,compilingContext,options.template);patterns.push(component)}else if("*"===key){component=new _components.SharedComponent(key);patterns.push(component)}else{options.name=key;component=new _components.ConstantComponent(key,null,[options]);constants.push(component)}_.map(compileDescription(desc,compilingContext),function(subComponent){component.addComponent(subComponent)})});objectC.addComponent(new _components.ObjectComponent("inner",constants,patterns));return objectC}function compileList(listRule,compilingContext){var listC=new _components.ConstantComponent("[");_.each(listRule,function(desc){_.each(compileDescription(desc,compilingContext),function(component){listC.addComponent(component)})});return listC}function compileCondition(description,compiledObject){if(description.lines_regex)return new _components.ConditionalProxy(function(context,editor){var lines=editor.getSession().getLines(context.requestStartRow,editor.getCursorPosition().row).join("\n");return new RegExp(description.lines_regex,"m").test(lines)},compiledObject);throw"unknown condition type - got: "+JSON.stringify(description)}function globalsOnlyAutocompleteComponents(){return[new _components.GlobalOnlyComponent("__global__")]}function compileBodyDescription(endpointId,description,parametrizedComponentFactories){return compileDescription(description,new CompilingContext(endpointId,parametrizedComponentFactories))}},7551:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.detectCURL=detectCURL;exports.parseCURL=parseCURL;function detectCURLinLine(line){return line.match(/^\s*?curl\s+(-X[A-Z]+)?\s*['"]?.*?['"]?(\s*$|\s+?-d\s*?['"])/)}function detectCURL(text){if(!text)return false;var _iteratorNormalCompletion=true;var _didIteratorError=false;var _iteratorError=void 0;try{for(var _step,_iterator=text.split("\n")[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=true){var line=_step.value;if(detectCURLinLine(line))return true}}catch(err){_didIteratorError=true;_iteratorError=err}finally{try{!_iteratorNormalCompletion&&_iterator.return&&_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}return false}function parseCURL(text){var state="NONE";var out=[];var body=[];var line="";var lines=text.trim().split("\n");var matches=void 0;var EmptyLine=/^\s*$/;var Comment=/^\s*(?:#|\/{2,})(.*)\n?$/;var ExecutionComment=/^\s*#!/;var ClosingSingleQuote=/^([^']*)'/;var ClosingDoubleQuote=/^((?:[^\\"]|\\.)*)"/;var EscapedQuotes=/^((?:[^\\"']|\\.)+)/;var LooksLikeCurl=/^\s*curl\s+/;var CurlVerb=/-X ?(GET|HEAD|POST|PUT|DELETE)/;var HasProtocol=/[\s"']https?:\/\//;var CurlRequestWithProto=/[\s"']https?:\/\/[^\/ ]+\/+([^\s"']+)/;var CurlRequestWithoutProto=/[\s"'][^\/ ]+\/+([^\s"']+)/;var CurlData=/^.+\s(--data|-d)\s*/;var SenseLine=/^\s*(GET|HEAD|POST|PUT|DELETE)\s+\/?(.+)/;lines.length>0&&ExecutionComment.test(lines[0])&&lines.shift();function nextLine(){if(line.length>0)return true;if(0===lines.length)return false;line=lines.shift().replace(/[\r\n]+/g,"\n")+"\n";return true}function unescapeLastBodyEl(){var str=body.pop().replace(/\\([\\"'])/g,"$1");body.push(str)}function detectQuote(){if("'"===line.substr(0,1)){line=line.substr(1);state="SINGLE_QUOTE"}else if('"'===line.substr(0,1)){line=line.substr(1);state="DOUBLE_QUOTE"}else state="UNQUOTED"}function addBodyToOut(){if(body.length>0){out.push(body.join(""));body=[]}state="LF";out.push("\n")}function consumeMatching(pattern){var matches=line.match(pattern);if(matches){body.push(matches[1]);line=line.substr(matches[0].length);detectQuote()}else{body.push(line);line=""}}function parseCurlLine(){var verb="GET";var request="";var matches=void 0;(matches=line.match(CurlVerb))&&(verb=matches[1]);var pattern=HasProtocol.test(line)?CurlRequestWithProto:CurlRequestWithoutProto;(matches=line.match(pattern))&&(request=matches[1]);out.push(verb+" /"+request+"\n");if(matches=line.match(CurlData)){line=line.substr(matches[0].length);detectQuote();EmptyLine.test(line)&&(line="")}else{state="NONE";line="";out.push("")}}while(nextLine())if("SINGLE_QUOTE"===state)consumeMatching(ClosingSingleQuote);else if("DOUBLE_QUOTE"===state){consumeMatching(ClosingDoubleQuote);unescapeLastBodyEl()}else if("UNQUOTED"===state){consumeMatching(EscapedQuotes);body.length&&unescapeLastBodyEl();if("UNQUOTED"===state){addBodyToOut();line=""}}else if("BODY"===state)if(Comment.test(line)||EmptyLine.test(line))addBodyToOut();else{body.push(line);line=""}else if(EmptyLine.test(line)){if("LF"!==state){out.push("\n");state="LF"}line=""}else if(matches=line.match(Comment)){out.push("#"+matches[1]+"\n");state="NONE";line=""}else if(LooksLikeCurl.test(line))parseCurlLine();else if(matches=line.match(SenseLine)){out.push(matches[1]+" /"+matches[2]+"\n");line="";state="BODY"}else{out.push("### "+line);line=""}addBodyToOut();return out.join("").trim()}},7552:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var MODE={REQUEST_START:2,IN_REQUEST:4,MULTI_DOC_CUR_DOC_END:8,REQUEST_END:16,BETWEEN_REQUESTS:32};function RowParser(editor){var defaultEditor=editor;this.getRowParseMode=function(row){null!==row&&"undefined"!==typeof row||(row=editor.getCursorPosition().row);var session=editor.getSession();if(row>=session.getLength()||row<0)return MODE.BETWEEN_REQUESTS;var mode=session.getState(row);if(!mode)return MODE.BETWEEN_REQUESTS;if("start"!==mode)return MODE.IN_REQUEST;var line=(session.getLine(row)||"").trim();if(!line||"#"===line[0])return MODE.BETWEEN_REQUESTS;if(line.indexOf("}",line.length-1)>=0){row++;if(row<session.getLength()){line=(session.getLine(row)||"").trim();if(0===line.indexOf("{"))return MODE.MULTI_DOC_CUR_DOC_END|MODE.IN_REQUEST}return MODE.REQUEST_END|MODE.MULTI_DOC_CUR_DOC_END}row++;if(row>=session.getLength())return MODE.REQUEST_START|MODE.REQUEST_END;line=(session.getLine(row)||"").trim();if(0!==line.indexOf("{"))return MODE.REQUEST_START|MODE.REQUEST_END;return MODE.REQUEST_START};this.rowPredicate=function(row,editor,value){var mode=this.getRowParseMode(row,editor);return(mode&value)>0};this.isEndRequestRow=function(row,_e){var editor=_e||defaultEditor;return this.rowPredicate(row,editor,MODE.REQUEST_END)};this.isRequestEdge=function(row,_e){var editor=_e||defaultEditor;return this.rowPredicate(row,editor,MODE.REQUEST_END|MODE.REQUEST_START)};this.isStartRequestRow=function(row,_e){var editor=_e||defaultEditor;return this.rowPredicate(row,editor,MODE.REQUEST_START)};this.isInBetweenRequestsRow=function(row,_e){var editor=_e||defaultEditor;return this.rowPredicate(row,editor,MODE.BETWEEN_REQUESTS)};this.isInRequestsRow=function(row,_e){var editor=_e||defaultEditor;return this.rowPredicate(row,editor,MODE.IN_REQUEST)};this.isMultiDocDocEndRow=function(row,_e){var editor=_e||defaultEditor;return this.rowPredicate(row,editor,MODE.MULTI_DOC_CUR_DOC_END)};this.isEmptyToken=function(tokenOrTokenIter){var token=tokenOrTokenIter&&tokenOrTokenIter.getCurrentToken?tokenOrTokenIter.getCurrentToken():tokenOrTokenIter;return!token||"whitespace"===token.type};this.isUrlOrMethodToken=function(tokenOrTokenIter){var t=tokenOrTokenIter.getCurrentToken?tokenOrTokenIter.getCurrentToken():tokenOrTokenIter;return t&&t.type&&("method"===t.type||0===t.type.indexOf("url"))};this.nextNonEmptyToken=function(tokenIter){var t=tokenIter.stepForward();while(t&&this.isEmptyToken(t))t=tokenIter.stepForward();return t};this.prevNonEmptyToken=function(tokenIter){var t=tokenIter.stepBackward();while((t||tokenIter.getCurrentTokenRow()>0)&&this.isEmptyToken(t))t=tokenIter.stepBackward();return t}}RowParser.prototype.MODE=MODE;exports.default=RowParser;module.exports=exports["default"]},7553:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Mode=Mode;var _brace=__webpack_require__(111);var _brace2=_interopRequireDefault(_brace);var _worker=__webpack_require__(7554);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var oop=_brace2.default.acequire("ace/lib/oop");var TextMode=_brace2.default.acequire("ace/mode/text").Mode;var ScriptMode=__webpack_require__(7556).ScriptMode;var MatchingBraceOutdent=_brace2.default.acequire("ace/mode/matching_brace_outdent").MatchingBraceOutdent;var CstyleBehaviour=_brace2.default.acequire("ace/mode/behaviour/cstyle").CstyleBehaviour;var CStyleFoldMode=_brace2.default.acequire("ace/mode/folding/cstyle").FoldMode;var WorkerClient=_brace2.default.acequire("ace/worker/worker_client").WorkerClient;var AceTokenizer=_brace2.default.acequire("ace/tokenizer").Tokenizer;var HighlightRules=__webpack_require__(7557).InputHighlightRules;function Mode(){this.$tokenizer=new AceTokenizer((new HighlightRules).getRules());this.$outdent=new MatchingBraceOutdent;this.$behaviour=new CstyleBehaviour;this.foldingRules=new CStyleFoldMode;this.createModeDelegates({"script-":ScriptMode})}oop.inherits(Mode,TextMode);(function(){this.getCompletions=function(){return[]};this.getNextLineIndent=function(state,line,tab){var indent=this.$getIndent(line);if("string_literal"!==state){var match=line.match(/^.*[\{\(\[]\s*$/);match&&(indent+=tab)}return indent};this.checkOutdent=function(state,line,input){return this.$outdent.checkOutdent(line,input)};this.autoOutdent=function(state,doc,row){this.$outdent.autoOutdent(doc,row)};this.createWorker=function(session){var worker=new WorkerClient(["ace","sense_editor"],_worker.workerModule,"SenseWorker");worker.attachToDocument(session.getDocument());worker.on("error",function(e){session.setAnnotations([e.data])});worker.on("ok",function(anno){session.setAnnotations(anno.data)});return worker}}).call(Mode.prototype)},7554:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.workerModule={id:"sense_editor/mode/worker",src:__webpack_require__(7555)}},7555:function(module,exports){module.exports="/* eslint-disable */\n/* \n  This file is loaded up as a blob by Brace to hand to Ace to load as Jsonp\n  (hence the redefining of everything).  It is based on the javascript\n  mode from the brace distro.\n*/\n\n(function (window) {\n  function resolveModuleId(id, paths) {\n    for (let testPath = id, tail = ''; testPath;) {\n      let alias = paths[testPath];\n      if ('string' === typeof alias) return alias + tail;\n      if (alias)\n        {return (\n          alias.location.replace(/\\/*$/, '/') +\n          (tail || alias.main || alias.name)\n        );}\n      if (alias === !1) return '';\n      let i = testPath.lastIndexOf('/');\n      if (-1 === i) break;\n      (tail = testPath.substr(i) + tail), (testPath = testPath.slice(0, i));\n    }\n    return id;\n  }\n  if (\n    !(\n      (void 0 !== window.window && window.document) ||\n      (window.acequire && window.define)\n    )\n  ) {\n    window.console ||\n      ((window.console = function () {\n        let msgs = Array.prototype.slice.call(arguments, 0);\n        postMessage({ type: 'log', data: msgs });\n      }),\n        (window.console.error = window.console.warn = window.console.log = window.console.trace =\n        window.console)),\n    (window.window = window),\n    (window.ace = window),\n    (window.onerror = function (message, file, line, col, err) {\n      postMessage({\n        type: 'error',\n        data: {\n          message: message,\n          data: err.data,\n          file: file,\n          line: line,\n          col: col,\n          stack: err.stack,\n        },\n      });\n    }),\n    (window.normalizeModule = function (parentId, moduleName) {\n      if (-1 !== moduleName.indexOf('!')) {\n        let chunks = moduleName.split('!');\n        return (\n          window.normalizeModule(parentId, chunks[0]) +\n            '!' +\n            window.normalizeModule(parentId, chunks[1])\n        );\n      }\n      if ('.' == moduleName.charAt(0)) {\n        let base = parentId\n          .split('/')\n          .slice(0, -1)\n          .join('/');\n        for (\n          moduleName = (base ? base + '/' : '') + moduleName;\n          -1 !== moduleName.indexOf('.') && previous != moduleName;\n\n        ) {\n          var previous = moduleName;\n          moduleName = moduleName\n            .replace(/^\\.\\//, '')\n            .replace(/\\/\\.\\//, '/')\n            .replace(/[^\\/]+\\/\\.\\.\\//, '');\n        }\n      }\n      return moduleName;\n    }),\n    (window.acequire = function acequire(parentId, id) {\n      if ((id || ((id = parentId), (parentId = null)), !id.charAt))\n        {throw Error(\n            'worker.js acequire() accepts only (parentId, id) as arguments'\n          );}\n      id = window.normalizeModule(parentId, id);\n      let module = window.acequire.modules[id];\n      if (module)\n        {return (\n            module.initialized ||\n              ((module.initialized = !0),\n              (module.exports = module.factory().exports)),\n            module.exports\n          );}\n      if (!window.acequire.tlns) return console.log('unable to load ' + id);\n      let path = resolveModuleId(id, window.acequire.tlns);\n      return (\n        '.js' != path.slice(-3) && (path += '.js'),\n        (window.acequire.id = id),\n        (window.acequire.modules[id] = {}),\n        importScripts(path),\n        window.acequire(parentId, id)\n      );\n    }),\n    (window.acequire.modules = {}),\n    (window.acequire.tlns = {}),\n    (window.define = function (id, deps, factory) {\n      if (\n        (2 == arguments.length\n          ? ((factory = deps),\n            'string' !== typeof id && ((deps = id), (id = window.acequire.id)))\n          : 1 == arguments.length &&\n              ((factory = id), (deps = []), (id = window.acequire.id)),\n          'function' !== typeof factory)\n      )\n        {return (\n            (window.acequire.modules[id] = {\n              exports: factory,\n              initialized: !0,\n            }),\n            void 0\n          );}\n      deps.length || (deps = ['require', 'exports', 'module']);\n      let req = function (childId) {\n        return window.acequire(id, childId);\n      };\n      window.acequire.modules[id] = {\n        exports: {},\n        factory: function () {\n          let module = this,\n            returnExports = factory.apply(\n              this,\n              deps.map(function (dep) {\n                switch (dep) {\n                  case 'require':\n                    return req;\n                  case 'exports':\n                    return module.exports;\n                  case 'module':\n                    return module;\n                  default:\n                    return req(dep);\n                }\n              })\n            );\n          return returnExports && (module.exports = returnExports), module;\n        },\n      };\n    }),\n    (window.define.amd = {}),\n    (acequire.tlns = {}),\n    (window.initBaseUrls = function (topLevelNamespaces) {\n      for (let i in topLevelNamespaces)\n        {acequire.tlns[i] = topLevelNamespaces[i];}\n    }),\n    (window.initSender = function () {\n      let EventEmitter = window.acequire('ace/lib/event_emitter')\n          .EventEmitter,\n        oop = window.acequire('ace/lib/oop'),\n        Sender = function () {};\n      return (\n        function () {\n          oop.implement(this, EventEmitter),\n          (this.callback = function (data, callbackId) {\n            postMessage({ type: 'call', id: callbackId, data: data });\n          }),\n          (this.emit = function (name, data) {\n            postMessage({ type: 'event', name: name, data: data });\n          });\n        }.call(Sender.prototype),\n        new Sender()\n      );\n    });\n    let main = (window.main = null),\n      sender = (window.sender = null);\n    window.onmessage = function (e) {\n      let msg = e.data;\n      if (msg.event && sender) sender._signal(msg.event, msg.data);\n      else if (msg.command)\n        {if (main[msg.command]) main[msg.command].apply(main, msg.args);\n        else {\n          if (!window[msg.command])\n            throw Error('Unknown command:' + msg.command);\n          window[msg.command].apply(window, msg.args);\n        }}\n      else if (msg.init) {\n        window.initBaseUrls(msg.tlns),\n        acequire('ace/lib/es5-shim'),\n        (sender = window.sender = window.initSender());\n        let clazz = acequire(msg.module)[msg.classname];\n        main = window.main = new clazz(sender);\n      }\n    };\n  }\n}(this)),\nace.define('ace/lib/oop', ['require', 'exports', 'module'], function (\n  acequire,\n  exports\n) {\n  \n  (exports.inherits = function (ctor, superCtor) {\n    (ctor.super_ = superCtor),\n    (ctor.prototype = Object.create(superCtor.prototype, {\n      constructor: {\n        value: ctor,\n        enumerable: !1,\n        writable: !0,\n        configurable: !0,\n      },\n    }));\n  }),\n  (exports.mixin = function (obj, mixin) {\n    for (let key in mixin) obj[key] = mixin[key];\n    return obj;\n  }),\n  (exports.implement = function (proto, mixin) {\n    exports.mixin(proto, mixin);\n  });\n}),\nace.define('ace/range', ['require', 'exports', 'module'], function (\n  acequire,\n  exports\n) {\n  \n  let comparePoints = function (p1, p2) {\n      return p1.row - p2.row || p1.column - p2.column;\n    },\n    Range = function (startRow, startColumn, endRow, endColumn) {\n      (this.start = { row: startRow, column: startColumn }),\n      (this.end = { row: endRow, column: endColumn });\n    };\n  (function () {\n    (this.isEqual = function (range) {\n      return (\n        this.start.row === range.start.row &&\n          this.end.row === range.end.row &&\n          this.start.column === range.start.column &&\n          this.end.column === range.end.column\n      );\n    }),\n    (this.toString = function () {\n      return (\n        'Range: [' +\n            this.start.row +\n            '/' +\n            this.start.column +\n            '] -> [' +\n            this.end.row +\n            '/' +\n            this.end.column +\n            ']'\n      );\n    }),\n    (this.contains = function (row, column) {\n      return 0 == this.compare(row, column);\n    }),\n    (this.compareRange = function (range) {\n      let cmp,\n        end = range.end,\n        start = range.start;\n      return (\n        (cmp = this.compare(end.row, end.column)),\n        1 == cmp\n          ? ((cmp = this.compare(start.row, start.column)),\n            1 == cmp ? 2 : 0 == cmp ? 1 : 0)\n          : -1 == cmp\n            ? -2\n            : ((cmp = this.compare(start.row, start.column)),\n              -1 == cmp ? -1 : 1 == cmp ? 42 : 0)\n      );\n    }),\n    (this.comparePoint = function (p) {\n      return this.compare(p.row, p.column);\n    }),\n    (this.containsRange = function (range) {\n      return (\n        0 == this.comparePoint(range.start) &&\n            0 == this.comparePoint(range.end)\n      );\n    }),\n    (this.intersects = function (range) {\n      let cmp = this.compareRange(range);\n      return -1 == cmp || 0 == cmp || 1 == cmp;\n    }),\n    (this.isEnd = function (row, column) {\n      return this.end.row == row && this.end.column == column;\n    }),\n    (this.isStart = function (row, column) {\n      return this.start.row == row && this.start.column == column;\n    }),\n    (this.setStart = function (row, column) {\n      'object' === typeof row\n        ? ((this.start.column = row.column), (this.start.row = row.row))\n        : ((this.start.row = row), (this.start.column = column));\n    }),\n    (this.setEnd = function (row, column) {\n      'object' === typeof row\n        ? ((this.end.column = row.column), (this.end.row = row.row))\n        : ((this.end.row = row), (this.end.column = column));\n    }),\n    (this.inside = function (row, column) {\n      return 0 == this.compare(row, column)\n        ? this.isEnd(row, column) || this.isStart(row, column)\n          ? !1\n          : !0\n        : !1;\n    }),\n    (this.insideStart = function (row, column) {\n      return 0 == this.compare(row, column)\n        ? this.isEnd(row, column)\n          ? !1\n          : !0\n        : !1;\n    }),\n    (this.insideEnd = function (row, column) {\n      return 0 == this.compare(row, column)\n        ? this.isStart(row, column)\n          ? !1\n          : !0\n        : !1;\n    }),\n    (this.compare = function (row, column) {\n      return this.isMultiLine() || row !== this.start.row\n        ? this.start.row > row\n          ? -1\n          : row > this.end.row\n            ? 1\n            : this.start.row === row\n              ? column >= this.start.column\n                ? 0\n                : -1\n              : this.end.row === row\n                ? this.end.column >= column\n                  ? 0\n                  : 1\n                : 0\n        : this.start.column > column\n          ? -1\n          : column > this.end.column\n            ? 1\n            : 0;\n    }),\n    (this.compareStart = function (row, column) {\n      return this.start.row == row && this.start.column == column\n        ? -1\n        : this.compare(row, column);\n    }),\n    (this.compareEnd = function (row, column) {\n      return this.end.row == row && this.end.column == column\n        ? 1\n        : this.compare(row, column);\n    }),\n    (this.compareInside = function (row, column) {\n      return this.end.row == row && this.end.column == column\n        ? 1\n        : this.start.row == row && this.start.column == column\n          ? -1\n          : this.compare(row, column);\n    }),\n    (this.clipRows = function (firstRow, lastRow) {\n      if (this.end.row > lastRow) var end = { row: lastRow + 1, column: 0 };\n      else if (firstRow > this.end.row)\n        {var end = { row: firstRow, column: 0 };}\n      if (this.start.row > lastRow)\n        {var start = { row: lastRow + 1, column: 0 };}\n      else if (firstRow > this.start.row)\n        {var start = { row: firstRow, column: 0 };}\n      return Range.fromPoints(start || this.start, end || this.end);\n    }),\n    (this.extend = function (row, column) {\n      let cmp = this.compare(row, column);\n      if (0 == cmp) return this;\n      if (-1 == cmp) var start = { row: row, column: column };\n      else var end = { row: row, column: column };\n      return Range.fromPoints(start || this.start, end || this.end);\n    }),\n    (this.isEmpty = function () {\n      return (\n        this.start.row === this.end.row &&\n            this.start.column === this.end.column\n      );\n    }),\n    (this.isMultiLine = function () {\n      return this.start.row !== this.end.row;\n    }),\n    (this.clone = function () {\n      return Range.fromPoints(this.start, this.end);\n    }),\n    (this.collapseRows = function () {\n      return 0 == this.end.column\n        ? new Range(\n          this.start.row,\n          0,\n          Math.max(this.start.row, this.end.row - 1),\n          0\n        )\n        : new Range(this.start.row, 0, this.end.row, 0);\n    }),\n    (this.toScreenRange = function (session) {\n      let screenPosStart = session.documentToScreenPosition(this.start),\n        screenPosEnd = session.documentToScreenPosition(this.end);\n      return new Range(\n        screenPosStart.row,\n        screenPosStart.column,\n        screenPosEnd.row,\n        screenPosEnd.column\n      );\n    }),\n    (this.moveBy = function (row, column) {\n      (this.start.row += row),\n      (this.start.column += column),\n      (this.end.row += row),\n      (this.end.column += column);\n    });\n  }.call(Range.prototype),\n    (Range.fromPoints = function (start, end) {\n      return new Range(start.row, start.column, end.row, end.column);\n    }),\n    (Range.comparePoints = comparePoints),\n    (Range.comparePoints = function (p1, p2) {\n      return p1.row - p2.row || p1.column - p2.column;\n    }),\n    (exports.Range = Range));\n}),\nace.define('ace/apply_delta', ['require', 'exports', 'module'], function (\n  acequire,\n  exports\n) {\n  \n  exports.applyDelta = function (docLines, delta) {\n    let row = delta.start.row,\n      startColumn = delta.start.column,\n      line = docLines[row] || '';\n    switch (delta.action) {\n      case 'insert':\n        var lines = delta.lines;\n        if (1 === lines.length)\n          {docLines[row] =\n              line.substring(0, startColumn) +\n              delta.lines[0] +\n              line.substring(startColumn);}\n        else {\n          let args = [row, 1].concat(delta.lines);\n          docLines.splice.apply(docLines, args),\n          (docLines[row] = line.substring(0, startColumn) + docLines[row]),\n          (docLines[row + delta.lines.length - 1] += line.substring(\n            startColumn\n          ));\n        }\n        break;\n      case 'remove':\n        var endColumn = delta.end.column,\n          endRow = delta.end.row;\n        row === endRow\n          ? (docLines[row] =\n                line.substring(0, startColumn) + line.substring(endColumn))\n          : docLines.splice(\n            row,\n            endRow - row + 1,\n            line.substring(0, startColumn) +\n                  docLines[endRow].substring(endColumn)\n          );\n    }\n  };\n}),\nace.define(\n  'ace/lib/event_emitter',\n  ['require', 'exports', 'module'],\n  function (acequire, exports) {\n    \n    let EventEmitter = {},\n      stopPropagation = function () {\n        this.propagationStopped = !0;\n      },\n      preventDefault = function () {\n        this.defaultPrevented = !0;\n      };\n    (EventEmitter._emit = EventEmitter._dispatchEvent = function (\n      eventName,\n      e\n    ) {\n      this._eventRegistry || (this._eventRegistry = {}),\n      this._defaultHandlers || (this._defaultHandlers = {});\n      let listeners = this._eventRegistry[eventName] || [],\n        defaultHandler = this._defaultHandlers[eventName];\n      if (listeners.length || defaultHandler) {\n        ('object' === typeof e && e) || (e = {}),\n        e.type || (e.type = eventName),\n        e.stopPropagation || (e.stopPropagation = stopPropagation),\n        e.preventDefault || (e.preventDefault = preventDefault),\n        (listeners = listeners.slice());\n        for (\n          let i = 0;\n          listeners.length > i &&\n            (listeners[i](e, this), !e.propagationStopped);\n          i++\n        );\n        return defaultHandler && !e.defaultPrevented\n          ? defaultHandler(e, this)\n          : void 0;\n      }\n    }),\n    (EventEmitter._signal = function (eventName, e) {\n      let listeners = (this._eventRegistry || {})[eventName];\n      if (listeners) {\n        listeners = listeners.slice();\n        for (let i = 0; listeners.length > i; i++) listeners[i](e, this);\n      }\n    }),\n    (EventEmitter.once = function (eventName, callback) {\n      let _self = this;\n      callback &&\n            this.addEventListener(eventName, function newCallback() {\n              _self.removeEventListener(eventName, newCallback),\n              callback.apply(null, arguments);\n            });\n    }),\n    (EventEmitter.setDefaultHandler = function (eventName, callback) {\n      let handlers = this._defaultHandlers;\n      if (\n        (handlers ||\n              (handlers = this._defaultHandlers = { _disabled_: {} }),\n          handlers[eventName])\n      ) {\n        let old = handlers[eventName],\n          disabled = handlers._disabled_[eventName];\n        disabled || (handlers._disabled_[eventName] = disabled = []),\n        disabled.push(old);\n        let i = disabled.indexOf(callback);\n        -1 != i && disabled.splice(i, 1);\n      }\n      handlers[eventName] = callback;\n    }),\n    (EventEmitter.removeDefaultHandler = function (eventName, callback) {\n      let handlers = this._defaultHandlers;\n      if (handlers) {\n        let disabled = handlers._disabled_[eventName];\n        if (handlers[eventName] == callback)\n          {handlers[eventName],\n                disabled && this.setDefaultHandler(eventName, disabled.pop());}\n        else if (disabled) {\n          let i = disabled.indexOf(callback);\n          -1 != i && disabled.splice(i, 1);\n        }\n      }\n    }),\n    (EventEmitter.on = EventEmitter.addEventListener = function (\n      eventName,\n      callback,\n      capturing\n    ) {\n      this._eventRegistry = this._eventRegistry || {};\n      let listeners = this._eventRegistry[eventName];\n      return (\n        listeners || (listeners = this._eventRegistry[eventName] = []),\n        -1 == listeners.indexOf(callback) &&\n              listeners[capturing ? 'unshift' : 'push'](callback),\n        callback\n      );\n    }),\n    (EventEmitter.off = EventEmitter.removeListener = EventEmitter.removeEventListener = function (\n      eventName,\n      callback\n    ) {\n      this._eventRegistry = this._eventRegistry || {};\n      let listeners = this._eventRegistry[eventName];\n      if (listeners) {\n        let index = listeners.indexOf(callback);\n        -1 !== index && listeners.splice(index, 1);\n      }\n    }),\n    (EventEmitter.removeAllListeners = function (eventName) {\n      this._eventRegistry && (this._eventRegistry[eventName] = []);\n    }),\n    (exports.EventEmitter = EventEmitter);\n  }\n),\nace.define(\n  'ace/anchor',\n  ['require', 'exports', 'module', 'ace/lib/oop', 'ace/lib/event_emitter'],\n  function (acequire, exports) {\n    \n    let oop = acequire('./lib/oop'),\n      EventEmitter = acequire('./lib/event_emitter').EventEmitter,\n      Anchor = (exports.Anchor = function (doc, row, column) {\n        (this.$onChange = this.onChange.bind(this)),\n        this.attach(doc),\n        column === void 0\n          ? this.setPosition(row.row, row.column)\n          : this.setPosition(row, column);\n      });\n    (function () {\n      function $pointsInOrder(point1, point2, equalPointsInOrder) {\n        let bColIsAfter = equalPointsInOrder\n          ? point1.column <= point2.column\n          : point1.column < point2.column;\n        return (\n          point1.row < point2.row || (point1.row == point2.row && bColIsAfter)\n        );\n      }\n      function $getTransformedPoint(delta, point, moveIfEqual) {\n        let deltaIsInsert = 'insert' == delta.action,\n          deltaRowShift =\n              (deltaIsInsert ? 1 : -1) * (delta.end.row - delta.start.row),\n          deltaColShift =\n              (deltaIsInsert ? 1 : -1) *\n              (delta.end.column - delta.start.column),\n          deltaStart = delta.start,\n          deltaEnd = deltaIsInsert ? deltaStart : delta.end;\n        return $pointsInOrder(point, deltaStart, moveIfEqual)\n          ? { row: point.row, column: point.column }\n          : $pointsInOrder(deltaEnd, point, !moveIfEqual)\n            ? {\n              row: point.row + deltaRowShift,\n              column:\n                    point.column +\n                    (point.row == deltaEnd.row ? deltaColShift : 0),\n            }\n            : { row: deltaStart.row, column: deltaStart.column };\n      }\n      oop.implement(this, EventEmitter),\n      (this.getPosition = function () {\n        return this.$clipPositionToDocument(this.row, this.column);\n      }),\n      (this.getDocument = function () {\n        return this.document;\n      }),\n      (this.$insertRight = !1),\n      (this.onChange = function (delta) {\n        if (\n          !(\n            (delta.start.row == delta.end.row &&\n                  delta.start.row != this.row) ||\n                delta.start.row > this.row\n          )\n        ) {\n          let point = $getTransformedPoint(\n            delta,\n            { row: this.row, column: this.column },\n            this.$insertRight\n          );\n          this.setPosition(point.row, point.column, !0);\n        }\n      }),\n      (this.setPosition = function (row, column, noClip) {\n        let pos;\n        if (\n          ((pos = noClip\n            ? { row: row, column: column }\n            : this.$clipPositionToDocument(row, column)),\n            this.row != pos.row || this.column != pos.column)\n        ) {\n          let old = { row: this.row, column: this.column };\n          (this.row = pos.row),\n          (this.column = pos.column),\n          this._signal('change', { old: old, value: pos });\n        }\n      }),\n      (this.detach = function () {\n        this.document.removeEventListener('change', this.$onChange);\n      }),\n      (this.attach = function (doc) {\n        (this.document = doc || this.document),\n        this.document.on('change', this.$onChange);\n      }),\n      (this.$clipPositionToDocument = function (row, column) {\n        let pos = {};\n        return (\n          row >= this.document.getLength()\n            ? ((pos.row = Math.max(0, this.document.getLength() - 1)),\n              (pos.column = this.document.getLine(pos.row).length))\n            : 0 > row\n              ? ((pos.row = 0), (pos.column = 0))\n              : ((pos.row = row),\n                (pos.column = Math.min(\n                  this.document.getLine(pos.row).length,\n                  Math.max(0, column)\n                ))),\n          0 > column && (pos.column = 0),\n          pos\n        );\n      });\n    }.call(Anchor.prototype));\n  }\n),\nace.define(\n  'ace/document',\n  [\n    'require',\n    'exports',\n    'module',\n    'ace/lib/oop',\n    'ace/apply_delta',\n    'ace/lib/event_emitter',\n    'ace/range',\n    'ace/anchor',\n  ],\n  function (acequire, exports) {\n    \n    let oop = acequire('./lib/oop'),\n      applyDelta = acequire('./apply_delta').applyDelta,\n      EventEmitter = acequire('./lib/event_emitter').EventEmitter,\n      Range = acequire('./range').Range,\n      Anchor = acequire('./anchor').Anchor,\n      Document = function (textOrLines) {\n        (this.$lines = ['']),\n        0 === textOrLines.length\n          ? (this.$lines = [''])\n          : Array.isArray(textOrLines)\n            ? this.insertMergedLines({ row: 0, column: 0 }, textOrLines)\n            : this.insert({ row: 0, column: 0 }, textOrLines);\n      };\n    (function () {\n      oop.implement(this, EventEmitter),\n      (this.setValue = function (text) {\n        let len = this.getLength() - 1;\n        this.remove(new Range(0, 0, len, this.getLine(len).length)),\n        this.insert({ row: 0, column: 0 }, text);\n      }),\n      (this.getValue = function () {\n        return this.getAllLines().join(this.getNewLineCharacter());\n      }),\n      (this.createAnchor = function (row, column) {\n        return new Anchor(this, row, column);\n      }),\n      (this.$split =\n            0 === 'aaa'.split(/a/).length\n              ? function (text) {\n                return text.replace(/\\r\\n|\\r/g, '\\n').split('\\n');\n              }\n              : function (text) {\n                return text.split(/\\r\\n|\\r|\\n/);\n              }),\n      (this.$detectNewLine = function (text) {\n        let match = text.match(/^.*?(\\r\\n|\\r|\\n)/m);\n        (this.$autoNewLine = match ? match[1] : '\\n'),\n        this._signal('changeNewLineMode');\n      }),\n      (this.getNewLineCharacter = function () {\n        switch (this.$newLineMode) {\n          case 'windows':\n            return '\\r\\n';\n          case 'unix':\n            return '\\n';\n          default:\n            return this.$autoNewLine || '\\n';\n        }\n      }),\n      (this.$autoNewLine = ''),\n      (this.$newLineMode = 'auto'),\n      (this.setNewLineMode = function (newLineMode) {\n        this.$newLineMode !== newLineMode &&\n              ((this.$newLineMode = newLineMode),\n                this._signal('changeNewLineMode'));\n      }),\n      (this.getNewLineMode = function () {\n        return this.$newLineMode;\n      }),\n      (this.isNewLine = function (text) {\n        return '\\r\\n' == text || '\\r' == text || '\\n' == text;\n      }),\n      (this.getLine = function (row) {\n        return this.$lines[row] || '';\n      }),\n      (this.getLines = function (firstRow, lastRow) {\n        return this.$lines.slice(firstRow, lastRow + 1);\n      }),\n      (this.getAllLines = function () {\n        return this.getLines(0, this.getLength());\n      }),\n      (this.getLength = function () {\n        return this.$lines.length;\n      }),\n      (this.getTextRange = function (range) {\n        return this.getLinesForRange(range).join(\n          this.getNewLineCharacter()\n        );\n      }),\n      (this.getLinesForRange = function (range) {\n        let lines;\n        if (range.start.row === range.end.row)\n          {lines = [\n                this.getLine(range.start.row).substring(\n                  range.start.column,\n                  range.end.column\n                ),\n              ];}\n        else {\n          (lines = this.getLines(range.start.row, range.end.row)),\n          (lines[0] = (lines[0] || '').substring(range.start.column));\n          let l = lines.length - 1;\n          range.end.row - range.start.row == l &&\n                (lines[l] = lines[l].substring(0, range.end.column));\n        }\n        return lines;\n      }),\n      (this.insertLines = function (row, lines) {\n        return (\n          console.warn(\n            'Use of document.insertLines is deprecated. Use the insertFullLines method instead.'\n          ),\n          this.insertFullLines(row, lines)\n        );\n      }),\n      (this.removeLines = function (firstRow, lastRow) {\n        return (\n          console.warn(\n            'Use of document.removeLines is deprecated. Use the removeFullLines method instead.'\n          ),\n          this.removeFullLines(firstRow, lastRow)\n        );\n      }),\n      (this.insertNewLine = function (position) {\n        return (\n          console.warn(\n            'Use of document.insertNewLine is deprecated. Use insertMergedLines(position, [\\'\\', \\'\\']) instead.'\n          ),\n          this.insertMergedLines(position, ['', ''])\n        );\n      }),\n      (this.insert = function (position, text) {\n        return (\n          1 >= this.getLength() && this.$detectNewLine(text),\n          this.insertMergedLines(position, this.$split(text))\n        );\n      }),\n      (this.insertInLine = function (position, text) {\n        let start = this.clippedPos(position.row, position.column),\n          end = this.pos(position.row, position.column + text.length);\n        return (\n          this.applyDelta(\n            { start: start, end: end, action: 'insert', lines: [text] },\n            !0\n          ),\n          this.clonePos(end)\n        );\n      }),\n      (this.clippedPos = function (row, column) {\n        let length = this.getLength();\n        void 0 === row\n          ? (row = length)\n          : 0 > row\n            ? (row = 0)\n            : row >= length && ((row = length - 1), (column = void 0));\n        let line = this.getLine(row);\n        return (\n          void 0 == column && (column = line.length),\n          (column = Math.min(Math.max(column, 0), line.length)),\n          { row: row, column: column }\n        );\n      }),\n      (this.clonePos = function (pos) {\n        return { row: pos.row, column: pos.column };\n      }),\n      (this.pos = function (row, column) {\n        return { row: row, column: column };\n      }),\n      (this.$clipPosition = function (position) {\n        let length = this.getLength();\n        return (\n          position.row >= length\n            ? ((position.row = Math.max(0, length - 1)),\n              (position.column = this.getLine(length - 1).length))\n            : ((position.row = Math.max(0, position.row)),\n              (position.column = Math.min(\n                Math.max(position.column, 0),\n                this.getLine(position.row).length\n              ))),\n          position\n        );\n      }),\n      (this.insertFullLines = function (row, lines) {\n        row = Math.min(Math.max(row, 0), this.getLength());\n        let column = 0;\n        this.getLength() > row\n          ? ((lines = lines.concat([''])), (column = 0))\n          : ((lines = [''].concat(lines)),\n            row--,\n            (column = this.$lines[row].length)),\n        this.insertMergedLines({ row: row, column: column }, lines);\n      }),\n      (this.insertMergedLines = function (position, lines) {\n        let start = this.clippedPos(position.row, position.column),\n          end = {\n            row: start.row + lines.length - 1,\n            column:\n                  (1 == lines.length ? start.column : 0) +\n                  lines[lines.length - 1].length,\n          };\n        return (\n          this.applyDelta({\n            start: start,\n            end: end,\n            action: 'insert',\n            lines: lines,\n          }),\n          this.clonePos(end)\n        );\n      }),\n      (this.remove = function (range) {\n        let start = this.clippedPos(range.start.row, range.start.column),\n          end = this.clippedPos(range.end.row, range.end.column);\n        return (\n          this.applyDelta({\n            start: start,\n            end: end,\n            action: 'remove',\n            lines: this.getLinesForRange({ start: start, end: end }),\n          }),\n          this.clonePos(start)\n        );\n      }),\n      (this.removeInLine = function (row, startColumn, endColumn) {\n        let start = this.clippedPos(row, startColumn),\n          end = this.clippedPos(row, endColumn);\n        return (\n          this.applyDelta(\n            {\n              start: start,\n              end: end,\n              action: 'remove',\n              lines: this.getLinesForRange({ start: start, end: end }),\n            },\n            !0\n          ),\n          this.clonePos(start)\n        );\n      }),\n      (this.removeFullLines = function (firstRow, lastRow) {\n        (firstRow = Math.min(Math.max(0, firstRow), this.getLength() - 1)),\n        (lastRow = Math.min(Math.max(0, lastRow), this.getLength() - 1));\n        let deleteFirstNewLine =\n                lastRow == this.getLength() - 1 && firstRow > 0,\n          deleteLastNewLine = this.getLength() - 1 > lastRow,\n          startRow = deleteFirstNewLine ? firstRow - 1 : firstRow,\n          startCol = deleteFirstNewLine ? this.getLine(startRow).length : 0,\n          endRow = deleteLastNewLine ? lastRow + 1 : lastRow,\n          endCol = deleteLastNewLine ? 0 : this.getLine(endRow).length,\n          range = new Range(startRow, startCol, endRow, endCol),\n          deletedLines = this.$lines.slice(firstRow, lastRow + 1);\n        return (\n          this.applyDelta({\n            start: range.start,\n            end: range.end,\n            action: 'remove',\n            lines: this.getLinesForRange(range),\n          }),\n          deletedLines\n        );\n      }),\n      (this.removeNewLine = function (row) {\n        this.getLength() - 1 > row &&\n              row >= 0 &&\n              this.applyDelta({\n                start: this.pos(row, this.getLine(row).length),\n                end: this.pos(row + 1, 0),\n                action: 'remove',\n                lines: ['', ''],\n              });\n      }),\n      (this.replace = function (range, text) {\n        if (\n          (range instanceof Range ||\n                (range = Range.fromPoints(range.start, range.end)),\n            0 === text.length && range.isEmpty())\n        )\n          {return range.start;}\n        if (text == this.getTextRange(range)) return range.end;\n        this.remove(range);\n        let end;\n        return (end = text ? this.insert(range.start, text) : range.start);\n      }),\n      (this.applyDeltas = function (deltas) {\n        for (let i = 0; deltas.length > i; i++) this.applyDelta(deltas[i]);\n      }),\n      (this.revertDeltas = function (deltas) {\n        for (let i = deltas.length - 1; i >= 0; i--)\n          {this.revertDelta(deltas[i]);}\n      }),\n      (this.applyDelta = function (delta, doNotValidate) {\n        let isInsert = 'insert' == delta.action;\n        (isInsert\n          ? 1 >= delta.lines.length && !delta.lines[0]\n          : !Range.comparePoints(delta.start, delta.end)) ||\n              (isInsert &&\n                delta.lines.length > 2e4 &&\n                this.$splitAndapplyLargeDelta(delta, 2e4),\n                applyDelta(this.$lines, delta, doNotValidate),\n                this._signal('change', delta));\n      }),\n      (this.$splitAndapplyLargeDelta = function (delta, MAX) {\n        for (\n          let lines = delta.lines,\n            l = lines.length,\n            row = delta.start.row,\n            column = delta.start.column,\n            from = 0,\n            to = 0;\n          ;\n\n        ) {\n          (from = to), (to += MAX - 1);\n          let chunk = lines.slice(from, to);\n          if (to > l) {\n            (delta.lines = chunk),\n            (delta.start.row = row + from),\n            (delta.start.column = column);\n            break;\n          }\n          chunk.push(''),\n          this.applyDelta(\n            {\n              start: this.pos(row + from, column),\n              end: this.pos(row + to, (column = 0)),\n              action: delta.action,\n              lines: chunk,\n            },\n            !0\n          );\n        }\n      }),\n      (this.revertDelta = function (delta) {\n        this.applyDelta({\n          start: this.clonePos(delta.start),\n          end: this.clonePos(delta.end),\n          action: 'insert' == delta.action ? 'remove' : 'insert',\n          lines: delta.lines.slice(),\n        });\n      }),\n      (this.indexToPosition = function (index, startRow) {\n        for (\n          var lines = this.$lines || this.getAllLines(),\n            newlineLength = this.getNewLineCharacter().length,\n            i = startRow || 0,\n            l = lines.length;\n          l > i;\n          i++\n        )\n          {if (((index -= lines[i].length + newlineLength), 0 > index))\n                return {\n                  row: i,\n                  column: index + lines[i].length + newlineLength,\n                };}\n        return { row: l - 1, column: lines[l - 1].length };\n      }),\n      (this.positionToIndex = function (pos, startRow) {\n        for (\n          var lines = this.$lines || this.getAllLines(),\n            newlineLength = this.getNewLineCharacter().length,\n            index = 0,\n            row = Math.min(pos.row, lines.length),\n            i = startRow || 0;\n          row > i;\n          ++i\n        )\n          {index += lines[i].length + newlineLength;}\n        return index + pos.column;\n      });\n    }.call(Document.prototype),\n      (exports.Document = Document));\n  }\n),\nace.define('ace/lib/lang', ['require', 'exports', 'module'], function (\n  acequire,\n  exports\n) {\n  \n  (exports.last = function (a) {\n    return a[a.length - 1];\n  }),\n  (exports.stringReverse = function (string) {\n    return string\n      .split('')\n      .reverse()\n      .join('');\n  }),\n  (exports.stringRepeat = function (string, count) {\n    for (var result = ''; count > 0;)\n      {1 & count && (result += string), (count >>= 1) && (string += string);}\n    return result;\n  });\n  let trimBeginRegexp = /^\\s\\s*/,\n    trimEndRegexp = /\\s\\s*$/;\n  (exports.stringTrimLeft = function (string) {\n    return string.replace(trimBeginRegexp, '');\n  }),\n  (exports.stringTrimRight = function (string) {\n    return string.replace(trimEndRegexp, '');\n  }),\n  (exports.copyObject = function (obj) {\n    let copy = {};\n    for (let key in obj) copy[key] = obj[key];\n    return copy;\n  }),\n  (exports.copyArray = function (array) {\n    for (var copy = [], i = 0, l = array.length; l > i; i++)\n      {copy[i] =\n            array[i] && 'object' == typeof array[i]\n              ? this.copyObject(array[i])\n              : array[i];}\n    return copy;\n  }),\n  (exports.deepCopy = function deepCopy(obj) {\n    if ('object' !== typeof obj || !obj) return obj;\n    let copy;\n    if (Array.isArray(obj)) {\n      copy = [];\n      for (var key = 0; obj.length > key; key++)\n        {copy[key] = deepCopy(obj[key]);}\n      return copy;\n    }\n    if ('[object Object]' !== Object.prototype.toString.call(obj))\n      {return obj;}\n    copy = {};\n    for (var key in obj) copy[key] = deepCopy(obj[key]);\n    return copy;\n  }),\n  (exports.arrayToMap = function (arr) {\n    for (var map = {}, i = 0; arr.length > i; i++) map[arr[i]] = 1;\n    return map;\n  }),\n  (exports.createMap = function (props) {\n    let map = Object.create(null);\n    for (let i in props) map[i] = props[i];\n    return map;\n  }),\n  (exports.arrayRemove = function (array, value) {\n    for (let i = 0; array.length >= i; i++)\n      {value === array[i] && array.splice(i, 1);}\n  }),\n  (exports.escapeRegExp = function (str) {\n    return str.replace(/([.*+?^${}()|[\\]\\/\\\\])/g, '\\\\$1');\n  }),\n  (exports.escapeHTML = function (str) {\n    return str\n      .replace(/&/g, '&#38;')\n      .replace(/\"/g, '&#34;')\n      .replace(/'/g, '&#39;')\n      .replace(/</g, '&#60;');\n  }),\n  (exports.getMatchOffsets = function (string, regExp) {\n    let matches = [];\n    return (\n      string.replace(regExp, function (str) {\n        matches.push({\n          offset: arguments[arguments.length - 2],\n          length: str.length,\n        });\n      }),\n      matches\n    );\n  }),\n  (exports.deferredCall = function (fcn) {\n    var timer = null,\n      callback = function () {\n        (timer = null), fcn();\n      },\n      deferred = function (timeout) {\n        return (\n          deferred.cancel(),\n          (timer = setTimeout(callback, timeout || 0)),\n          deferred\n        );\n      };\n    return (\n      (deferred.schedule = deferred),\n      (deferred.call = function () {\n        return this.cancel(), fcn(), deferred;\n      }),\n      (deferred.cancel = function () {\n        return clearTimeout(timer), (timer = null), deferred;\n      }),\n      (deferred.isPending = function () {\n        return timer;\n      }),\n      deferred\n    );\n  }),\n  (exports.delayedCall = function (fcn, defaultTimeout) {\n    let timer = null,\n      callback = function () {\n        (timer = null), fcn();\n      },\n      _self = function (timeout) {\n        null == timer &&\n              (timer = setTimeout(callback, timeout || defaultTimeout));\n      };\n    return (\n      (_self.delay = function (timeout) {\n        timer && clearTimeout(timer),\n        (timer = setTimeout(callback, timeout || defaultTimeout));\n      }),\n      (_self.schedule = _self),\n      (_self.call = function () {\n        this.cancel(), fcn();\n      }),\n      (_self.cancel = function () {\n        timer && clearTimeout(timer), (timer = null);\n      }),\n      (_self.isPending = function () {\n        return timer;\n      }),\n      _self\n    );\n  });\n}),\nace.define(\n  'ace/worker/mirror',\n  [\n    'require',\n    'exports',\n    'module',\n    'ace/range',\n    'ace/document',\n    'ace/lib/lang',\n  ],\n  function (acequire, exports) {\n    \n    acequire('../range').Range;\n    let Document = acequire('../document').Document,\n      lang = acequire('../lib/lang'),\n      Mirror = (exports.Mirror = function (sender) {\n        this.sender = sender;\n        let doc = (this.doc = new Document('')),\n          deferredUpdate = (this.deferredUpdate = lang.delayedCall(\n            this.onUpdate.bind(this)\n          )),\n          _self = this;\n        sender.on('change', function (e) {\n          let data = e.data;\n          if (data[0].start) doc.applyDeltas(data);\n          else\n            {for (var i = 0; data.length > i; i += 2) {\n                if (Array.isArray(data[i + 1]))\n                  var d = {\n                    action: 'insert',\n                    start: data[i],\n                    lines: data[i + 1],\n                  };\n                else\n                  var d = {\n                    action: 'remove',\n                    start: data[i],\n                    end: data[i + 1],\n                  };\n                doc.applyDelta(d, !0);\n              }}\n          return _self.$timeout\n            ? deferredUpdate.schedule(_self.$timeout)\n            : (_self.onUpdate(), void 0);\n        });\n      });\n    (function () {\n      (this.$timeout = 500),\n      (this.setTimeout = function (timeout) {\n        this.$timeout = timeout;\n      }),\n      (this.setValue = function (value) {\n        this.doc.setValue(value),\n        this.deferredUpdate.schedule(this.$timeout);\n      }),\n      (this.getValue = function (callbackId) {\n        this.sender.callback(this.doc.getValue(), callbackId);\n      }),\n      (this.onUpdate = function () {}),\n      (this.isPending = function () {\n        return this.deferredUpdate.isPending();\n      });\n    }.call(Mirror.prototype));\n  }\n),\nace.define('ace/lib/es5-shim', ['require', 'exports', 'module'], function () {\n  function Empty() {}\n  function doesDefinePropertyWork(object) {\n    try {\n      return (\n        Object.defineProperty(object, 'sentinel', {}), 'sentinel' in object\n      );\n    } catch (exception) {}\n  }\n  function toInteger(n) {\n    return (\n      (n = +n),\n      n !== n\n        ? (n = 0)\n        : 0 !== n &&\n            n !== 1 / 0 &&\n            n !== -(1 / 0) &&\n            (n = (n > 0 || -1) * Math.floor(Math.abs(n))),\n      n\n    );\n  }\n  Function.prototype.bind ||\n      (Function.prototype.bind = function (that) {\n        let target = this;\n        if ('function' !== typeof target)\n          {throw new TypeError(\n            'Function.prototype.bind called on incompatible ' + target\n          );}\n        var args = slice.call(arguments, 1),\n          bound = function () {\n            if (this instanceof bound) {\n              let result = target.apply(\n                this,\n                args.concat(slice.call(arguments))\n              );\n              return Object(result) === result ? result : this;\n            }\n            return target.apply(that, args.concat(slice.call(arguments)));\n          };\n        return (\n          target.prototype &&\n            ((Empty.prototype = target.prototype),\n              (bound.prototype = new Empty()),\n              (Empty.prototype = null)),\n          bound\n        );\n      });\n  var defineGetter,\n    defineSetter,\n    lookupGetter,\n    lookupSetter,\n    supportsAccessors,\n    call = Function.prototype.call,\n    prototypeOfArray = Array.prototype,\n    prototypeOfObject = Object.prototype,\n    slice = prototypeOfArray.slice,\n    _toString = call.bind(prototypeOfObject.toString),\n    owns = call.bind(prototypeOfObject.hasOwnProperty);\n  if (\n    ((supportsAccessors = owns(prototypeOfObject, '__defineGetter__')) &&\n        ((defineGetter = call.bind(prototypeOfObject.__defineGetter__)),\n          (defineSetter = call.bind(prototypeOfObject.__defineSetter__)),\n          (lookupGetter = call.bind(prototypeOfObject.__lookupGetter__)),\n          (lookupSetter = call.bind(prototypeOfObject.__lookupSetter__))),\n      2 != [1, 2].splice(0).length)\n  )\n    {if (\n        (function() {\n          function makeArray(l) {\n            var a = Array(l + 2);\n            return (a[0] = a[1] = 0), a;\n          }\n          var lengthBefore,\n            array = [];\n          return (\n            array.splice.apply(array, makeArray(20)),\n            array.splice.apply(array, makeArray(26)),\n            (lengthBefore = array.length),\n            array.splice(5, 0, 'XXX'),\n            lengthBefore + 1 == array.length,\n            lengthBefore + 1 == array.length ? !0 : void 0\n          );\n        })()\n      ) {\n        var array_splice = Array.prototype.splice;\n        Array.prototype.splice = function(start, deleteCount) {\n          return arguments.length\n            ? array_splice.apply(\n                this,\n                [\n                  void 0 === start ? 0 : start,\n                  void 0 === deleteCount ? this.length - start : deleteCount,\n                ].concat(slice.call(arguments, 2))\n              )\n            : [];\n        };\n      } else\n        Array.prototype.splice = function(pos, removeCount) {\n          var length = this.length;\n          pos > 0\n            ? pos > length && (pos = length)\n            : void 0 == pos\n              ? (pos = 0)\n              : 0 > pos && (pos = Math.max(length + pos, 0)),\n            length > pos + removeCount || (removeCount = length - pos);\n          var removed = this.slice(pos, pos + removeCount),\n            insert = slice.call(arguments, 2),\n            add = insert.length;\n          if (pos === length) add && this.push.apply(this, insert);\n          else {\n            var remove = Math.min(removeCount, length - pos),\n              tailOldPos = pos + remove,\n              tailNewPos = tailOldPos + add - remove,\n              tailCount = length - tailOldPos,\n              lengthAfterRemove = length - remove;\n            if (tailOldPos > tailNewPos)\n              for (var i = 0; tailCount > i; ++i)\n                this[tailNewPos + i] = this[tailOldPos + i];\n            else if (tailNewPos > tailOldPos)\n              for (i = tailCount; i--; )\n                this[tailNewPos + i] = this[tailOldPos + i];\n            if (add && pos === lengthAfterRemove)\n              (this.length = lengthAfterRemove), this.push.apply(this, insert);\n            else\n              for (this.length = lengthAfterRemove + add, i = 0; add > i; ++i)\n                this[pos + i] = insert[i];\n          }\n          return removed;\n        };}\n  Array.isArray ||\n      (Array.isArray = function (obj) {\n        return '[object Array]' == _toString(obj);\n      });\n  let boxedString = Object('a'),\n    splitString = 'a' != boxedString[0] || !(0 in boxedString);\n  if (\n    (Array.prototype.forEach ||\n        (Array.prototype.forEach = function (fun) {\n          let object = toObject(this),\n            self =\n              splitString && '[object String]' == _toString(this)\n                ? this.split('')\n                : object,\n            thisp = arguments[1],\n            i = -1,\n            length = self.length >>> 0;\n          if ('[object Function]' != _toString(fun)) throw new TypeError();\n          for (; length > ++i;)\n            {i in self && fun.call(thisp, self[i], i, object);}\n        }),\n      Array.prototype.map ||\n        (Array.prototype.map = function (fun) {\n          let object = toObject(this),\n            self =\n              splitString && '[object String]' == _toString(this)\n                ? this.split('')\n                : object,\n            length = self.length >>> 0,\n            result = Array(length),\n            thisp = arguments[1];\n          if ('[object Function]' != _toString(fun))\n            {throw new TypeError(fun + ' is not a function');}\n          for (let i = 0; length > i; i++)\n            {i in self && (result[i] = fun.call(thisp, self[i], i, object));}\n          return result;\n        }),\n      Array.prototype.filter ||\n        (Array.prototype.filter = function (fun) {\n          let value,\n            object = toObject(this),\n            self =\n              splitString && '[object String]' == _toString(this)\n                ? this.split('')\n                : object,\n            length = self.length >>> 0,\n            result = [],\n            thisp = arguments[1];\n          if ('[object Function]' != _toString(fun))\n            {throw new TypeError(fun + ' is not a function');}\n          for (let i = 0; length > i; i++)\n            {i in self &&\n              ((value = self[i]),\n              fun.call(thisp, value, i, object) && result.push(value));}\n          return result;\n        }),\n      Array.prototype.every ||\n        (Array.prototype.every = function (fun) {\n          let object = toObject(this),\n            self =\n              splitString && '[object String]' == _toString(this)\n                ? this.split('')\n                : object,\n            length = self.length >>> 0,\n            thisp = arguments[1];\n          if ('[object Function]' != _toString(fun))\n            {throw new TypeError(fun + ' is not a function');}\n          for (let i = 0; length > i; i++)\n            {if (i in self && !fun.call(thisp, self[i], i, object)) return !1;}\n          return !0;\n        }),\n      Array.prototype.some ||\n        (Array.prototype.some = function (fun) {\n          let object = toObject(this),\n            self =\n              splitString && '[object String]' == _toString(this)\n                ? this.split('')\n                : object,\n            length = self.length >>> 0,\n            thisp = arguments[1];\n          if ('[object Function]' != _toString(fun))\n            {throw new TypeError(fun + ' is not a function');}\n          for (let i = 0; length > i; i++)\n            {if (i in self && fun.call(thisp, self[i], i, object)) return !0;}\n          return !1;\n        }),\n      Array.prototype.reduce ||\n        (Array.prototype.reduce = function (fun) {\n          let object = toObject(this),\n            self =\n              splitString && '[object String]' == _toString(this)\n                ? this.split('')\n                : object,\n            length = self.length >>> 0;\n          if ('[object Function]' != _toString(fun))\n            {throw new TypeError(fun + ' is not a function');}\n          if (!length && 1 == arguments.length)\n            {throw new TypeError('reduce of empty array with no initial value');}\n          let result,\n            i = 0;\n          if (arguments.length >= 2) result = arguments[1];\n          else\n            {for (;;) {\n              if (i in self) {\n                result = self[i++];\n                break;\n              }\n              if (++i >= length)\n                throw new TypeError(\n                  'reduce of empty array with no initial value'\n                );\n            }}\n          for (; length > i; i++)\n            {i in self &&\n              (result = fun.call(void 0, result, self[i], i, object));}\n          return result;\n        }),\n      Array.prototype.reduceRight ||\n        (Array.prototype.reduceRight = function (fun) {\n          let object = toObject(this),\n            self =\n              splitString && '[object String]' == _toString(this)\n                ? this.split('')\n                : object,\n            length = self.length >>> 0;\n          if ('[object Function]' != _toString(fun))\n            {throw new TypeError(fun + ' is not a function');}\n          if (!length && 1 == arguments.length)\n            {throw new TypeError(\n              'reduceRight of empty array with no initial value'\n            );}\n          let result,\n            i = length - 1;\n          if (arguments.length >= 2) result = arguments[1];\n          else\n            {for (;;) {\n              if (i in self) {\n                result = self[i--];\n                break;\n              }\n              if (0 > --i)\n                throw new TypeError(\n                  'reduceRight of empty array with no initial value'\n                );\n            }}\n          do\n            {i in this &&\n              (result = fun.call(void 0, result, self[i], i, object));}\n          while (i--);\n          return result;\n        }),\n      (Array.prototype.indexOf && -1 == [0, 1].indexOf(1, 2)) ||\n        (Array.prototype.indexOf = function (sought) {\n          let self =\n              splitString && '[object String]' == _toString(this)\n                ? this.split('')\n                : toObject(this),\n            length = self.length >>> 0;\n          if (!length) return -1;\n          let i = 0;\n          for (\n            arguments.length > 1 && (i = toInteger(arguments[1])),\n            i = i >= 0 ? i : Math.max(0, length + i);\n            length > i;\n            i++\n          )\n            {if (i in self && self[i] === sought) return i;}\n          return -1;\n        }),\n      (Array.prototype.lastIndexOf && -1 == [0, 1].lastIndexOf(0, -3)) ||\n        (Array.prototype.lastIndexOf = function (sought) {\n          let self =\n              splitString && '[object String]' == _toString(this)\n                ? this.split('')\n                : toObject(this),\n            length = self.length >>> 0;\n          if (!length) return -1;\n          let i = length - 1;\n          for (\n            arguments.length > 1 && (i = Math.min(i, toInteger(arguments[1]))),\n            i = i >= 0 ? i : length - Math.abs(i);\n            i >= 0;\n            i--\n          )\n            {if (i in self && sought === self[i]) return i;}\n          return -1;\n        }),\n      Object.getPrototypeOf ||\n        (Object.getPrototypeOf = function (object) {\n          return (\n            object.__proto__ ||\n            (object.constructor\n              ? object.constructor.prototype\n              : prototypeOfObject)\n          );\n        }),\n      !Object.getOwnPropertyDescriptor)\n  ) {\n    let ERR_NON_OBJECT =\n        'Object.getOwnPropertyDescriptor called on a non-object: ';\n    Object.getOwnPropertyDescriptor = function (object, property) {\n      if (\n        ('object' !== typeof object && 'function' !== typeof object) ||\n          null === object\n      )\n        {throw new TypeError(ERR_NON_OBJECT + object);}\n      if (owns(object, property)) {\n        var descriptor, getter, setter;\n        if (\n          ((descriptor = { enumerable: !0, configurable: !0 }),\n            supportsAccessors)\n        ) {\n          let prototype = object.__proto__;\n          object.__proto__ = prototypeOfObject;\n          var getter = lookupGetter(object, property),\n            setter = lookupSetter(object, property);\n          if (((object.__proto__ = prototype), getter || setter))\n            {return (\n                getter && (descriptor.get = getter),\n                setter && (descriptor.set = setter),\n                descriptor\n              );}\n        }\n        return (descriptor.value = object[property]), descriptor;\n      }\n    };\n  }\n  if (\n    (Object.getOwnPropertyNames ||\n        (Object.getOwnPropertyNames = function (object) {\n          return Object.keys(object);\n        }),\n      !Object.create)\n  ) {\n    let createEmpty;\n    (createEmpty =\n        null === Object.prototype.__proto__\n          ? function () {\n            return { __proto__: null };\n          }\n          : function () {\n            let empty = {};\n            for (let i in empty) empty[i] = null;\n            return (\n              (empty.constructor = empty.hasOwnProperty = empty.propertyIsEnumerable = empty.isPrototypeOf = empty.toLocaleString = empty.toString = empty.valueOf = empty.__proto__ = null),\n              empty\n            );\n          }),\n    (Object.create = function (prototype, properties) {\n      let object;\n      if (null === prototype) object = createEmpty();\n      else {\n        if ('object' !== typeof prototype)\n          {throw new TypeError(\n                'typeof prototype[' + typeof prototype + \"] != 'object'\"\n              );}\n        let Type = function () {};\n        (Type.prototype = prototype),\n        (object = new Type()),\n        (object.__proto__ = prototype);\n      }\n      return (\n        void 0 !== properties &&\n              Object.defineProperties(object, properties),\n        object\n      );\n    });\n  }\n  if (Object.defineProperty) {\n    let definePropertyWorksOnObject = doesDefinePropertyWork({}),\n      definePropertyWorksOnDom =\n          'undefined' === typeof document ||\n          doesDefinePropertyWork(document.createElement('div'));\n    if (!definePropertyWorksOnObject || !definePropertyWorksOnDom)\n      {var definePropertyFallback = Object.defineProperty;}\n  }\n  if (!Object.defineProperty || definePropertyFallback) {\n    let ERR_NON_OBJECT_DESCRIPTOR =\n          'Property description must be an object: ',\n      ERR_NON_OBJECT_TARGET = 'Object.defineProperty called on non-object: ',\n      ERR_ACCESSORS_NOT_SUPPORTED =\n          'getters & setters can not be defined on this javascript engine';\n    Object.defineProperty = function (object, property, descriptor) {\n      if (\n        ('object' !== typeof object && 'function' !== typeof object) ||\n          null === object\n      )\n        {throw new TypeError(ERR_NON_OBJECT_TARGET + object);}\n      if (\n        ('object' !== typeof descriptor && 'function' !== typeof descriptor) ||\n          null === descriptor\n      )\n        {throw new TypeError(ERR_NON_OBJECT_DESCRIPTOR + descriptor);}\n      if (definePropertyFallback)\n        {try {\n            return definePropertyFallback.call(\n              Object,\n              object,\n              property,\n              descriptor\n            );\n          } catch (exception) {}}\n      if (owns(descriptor, 'value'))\n        {if (\n            supportsAccessors &&\n            (lookupGetter(object, property) || lookupSetter(object, property))\n          ) {\n            var prototype = object.__proto__;\n            (object.__proto__ = prototypeOfObject),\n              delete object[property],\n              (object[property] = descriptor.value),\n              (object.__proto__ = prototype);\n          } else object[property] = descriptor.value;}\n      else {\n        if (!supportsAccessors)\n          {throw new TypeError(ERR_ACCESSORS_NOT_SUPPORTED);}\n        owns(descriptor, 'get') &&\n            defineGetter(object, property, descriptor.get),\n        owns(descriptor, 'set') &&\n              defineSetter(object, property, descriptor.set);\n      }\n      return object;\n    };\n  }\n  Object.defineProperties ||\n      (Object.defineProperties = function (object, properties) {\n        for (let property in properties)\n          {owns(properties, property) &&\n            Object.defineProperty(object, property, properties[property]);}\n        return object;\n      }),\n  Object.seal ||\n        (Object.seal = function (object) {\n          return object;\n        }),\n  Object.freeze ||\n        (Object.freeze = function (object) {\n          return object;\n        });\n  try {\n    Object.freeze(function () {});\n  } catch (exception) {\n    Object.freeze = (function (freezeObject) {\n      return function (object) {\n        return 'function' === typeof object ? object : freezeObject(object);\n      };\n    }(Object.freeze));\n  }\n  if (\n    (Object.preventExtensions ||\n        (Object.preventExtensions = function (object) {\n          return object;\n        }),\n      Object.isSealed ||\n        (Object.isSealed = function () {\n          return !1;\n        }),\n      Object.isFrozen ||\n        (Object.isFrozen = function () {\n          return !1;\n        }),\n      Object.isExtensible ||\n        (Object.isExtensible = function (object) {\n          if (Object(object) === object) throw new TypeError();\n          for (var name = ''; owns(object, name);) name += '?';\n          object[name] = !0;\n          let returnValue = owns(object, name);\n          return delete object[name], returnValue;\n        }),\n      !Object.keys)\n  ) {\n    let hasDontEnumBug = !0,\n      dontEnums = [\n        'toString',\n        'toLocaleString',\n        'valueOf',\n        'hasOwnProperty',\n        'isPrototypeOf',\n        'propertyIsEnumerable',\n        'constructor',\n      ],\n      dontEnumsLength = dontEnums.length;\n    for (let key in { toString: null }) hasDontEnumBug = !1;\n    Object.keys = function (object) {\n      if (\n        ('object' !== typeof object && 'function' !== typeof object) ||\n          null === object\n      )\n        {throw new TypeError('Object.keys called on a non-object');}\n      let keys = [];\n      for (let name in object) owns(object, name) && keys.push(name);\n      if (hasDontEnumBug)\n        {for (var i = 0, ii = dontEnumsLength; ii > i; i++) {\n            var dontEnum = dontEnums[i];\n            owns(object, dontEnum) && keys.push(dontEnum);\n          }}\n      return keys;\n    };\n  }\n  Date.now ||\n      (Date.now = function () {\n        return new Date().getTime();\n      });\n  let ws = '\t\\nv\\f\\r \\u2028\\u2029\ufeff';\n  if (!String.prototype.trim || ws.trim()) {\n    ws = '[' + ws + ']';\n    let trimBeginRegexp = RegExp('^' + ws + ws + '*'),\n      trimEndRegexp = RegExp(ws + ws + '*$');\n    String.prototype.trim = function () {\n      return (this + '')\n        .replace(trimBeginRegexp, '')\n        .replace(trimEndRegexp, '');\n    };\n  }\n  var toObject = function (o) {\n    if (null == o) throw new TypeError('can\\'t convert ' + o + ' to object');\n    return Object(o);\n  };\n});\nace.define(\n  'sense_editor/mode/worker_parser',\n  ['require', 'exports', 'module'],\n  function () {\n    let at, // The index of the current character\n      ch, // The current character\n      annos, // annotations\n      escapee = {\n        '\"': '\"',\n        '\\\\': '\\\\',\n        '/': '/',\n        b: '\\b',\n        f: '\\f',\n        n: '\\n',\n        r: '\\r',\n        t: '\\t',\n      },\n      text,\n      annotate = function (type, text) {\n        annos.push({ type: type, text: text, at: at });\n      },\n      error = function (m) {\n        throw {\n          name: 'SyntaxError',\n          message: m,\n          at: at,\n          text: text,\n        };\n      },\n      reset = function (newAt) {\n        ch = text.charAt(newAt);\n        at = newAt + 1;\n      },\n      next = function (c) {\n        if (c && c !== ch) {\n          error('Expected \\'' + c + '\\' instead of \\'' + ch + '\\'');\n        }\n\n        ch = text.charAt(at);\n        at += 1;\n        return ch;\n      },\n      nextUpTo = function (upTo, errorMessage) {\n        let currentAt = at,\n          i = text.indexOf(upTo, currentAt);\n        if (i < 0) {\n          error(errorMessage || 'Expected \\'' + upTo + '\\'');\n        }\n        reset(i + upTo.length);\n        return text.substring(currentAt, i);\n      },\n      peek = function (c) {\n        return text.substr(at, c.length) === c; // nocommit - double check\n      },\n      number = function () {\n        let number,\n          string = '';\n\n        if (ch === '-') {\n          string = '-';\n          next('-');\n        }\n        while (ch >= '0' && ch <= '9') {\n          string += ch;\n          next();\n        }\n        if (ch === '.') {\n          string += '.';\n          while (next() && ch >= '0' && ch <= '9') {\n            string += ch;\n          }\n        }\n        if (ch === 'e' || ch === 'E') {\n          string += ch;\n          next();\n          if (ch === '-' || ch === '+') {\n            string += ch;\n            next();\n          }\n          while (ch >= '0' && ch <= '9') {\n            string += ch;\n            next();\n          }\n        }\n        number = +string;\n        if (isNaN(number)) {\n          error('Bad number');\n        } else {\n          return number;\n        }\n      },\n      string = function () {\n        let hex,\n          i,\n          string = '',\n          uffff;\n\n        if (ch === '\"') {\n          if (peek('\"\"')) {\n            // literal\n            next('\"');\n            next('\"');\n            return nextUpTo('\"\"\"', 'failed to find closing \\'\"\"\"\\'');\n          } else {\n            while (next()) {\n              if (ch === '\"') {\n                next();\n                return string;\n              } else if (ch === '\\\\') {\n                next();\n                if (ch === 'u') {\n                  uffff = 0;\n                  for (i = 0; i < 4; i += 1) {\n                    hex = parseInt(next(), 16);\n                    if (!isFinite(hex)) {\n                      break;\n                    }\n                    uffff = uffff * 16 + hex;\n                  }\n                  string += String.fromCharCode(uffff);\n                } else if (typeof escapee[ch] === 'string') {\n                  string += escapee[ch];\n                } else {\n                  break;\n                }\n              } else {\n                string += ch;\n              }\n            }\n          }\n        }\n        error('Bad string');\n      },\n      white = function () {\n        while (ch && ch <= ' ') {\n          next();\n        }\n      },\n      strictWhite = function () {\n        while (ch && (ch == ' ' || ch == '\\t')) {\n          next();\n        }\n      },\n      newLine = function () {\n        if (ch == '\\n') next();\n      },\n      word = function () {\n        switch (ch) {\n          case 't':\n            next('t');\n            next('r');\n            next('u');\n            next('e');\n            return true;\n          case 'f':\n            next('f');\n            next('a');\n            next('l');\n            next('s');\n            next('e');\n            return false;\n          case 'n':\n            next('n');\n            next('u');\n            next('l');\n            next('l');\n            return null;\n        }\n        error('Unexpected \\'' + ch + '\\'');\n      },\n      // parses and returns the method\n      method = function () {\n        switch (ch) {\n          case 'G':\n            next('G');\n            next('E');\n            next('T');\n            return 'GET';\n          case 'H':\n            next('H');\n            next('E');\n            next('A');\n            next('D');\n            return 'HEAD';\n          case 'D':\n            next('D');\n            next('E');\n            next('L');\n            next('E');\n            next('T');\n            next('E');\n            return 'DELETE';\n          case 'P':\n            next('P');\n            switch (ch) {\n              case 'U':\n                next('U');\n                next('T');\n                return 'PUT';\n              case 'O':\n                next('O');\n                next('S');\n                next('T');\n                return 'POST';\n              default:\n                error('Unexpected \\'' + ch + '\\'');\n            }\n            break;\n          default:\n            error('Expected one of GET/POST/PUT/DELETE/HEAD');\n        }\n      },\n      value, // Place holder for the value function.\n      array = function () {\n        const array = [];\n\n        if (ch === '[') {\n          next('[');\n          white();\n          if (ch === ']') {\n            next(']');\n            return array; // empty array\n          }\n          while (ch) {\n            array.push(value());\n            white();\n            if (ch === ']') {\n              next(']');\n              return array;\n            }\n            next(',');\n            white();\n          }\n        }\n        error('Bad array');\n      },\n      object = function () {\n        let key,\n          object = {};\n\n        if (ch === '{') {\n          next('{');\n          white();\n          if (ch === '}') {\n            next('}');\n            return object; // empty object\n          }\n          while (ch) {\n            key = string();\n            white();\n            next(':');\n            if (Object.hasOwnProperty.call(object, key)) {\n              error('Duplicate key \"' + key + '\"');\n            }\n            object[key] = value();\n            white();\n            if (ch === '}') {\n              next('}');\n              return object;\n            }\n            next(',');\n            white();\n          }\n        }\n        error('Bad object');\n      };\n\n    value = function () {\n      white();\n      switch (ch) {\n        case '{':\n          return object();\n        case '[':\n          return array();\n        case '\"':\n          return string();\n        case '-':\n          return number();\n        default:\n          return ch >= '0' && ch <= '9' ? number() : word();\n      }\n    };\n\n    let url = function () {\n        let url = '';\n        while (ch && ch != '\\n') {\n          url += ch;\n          next();\n        }\n        if (url == '') {\n          error('Missing url');\n        }\n        return url;\n      },\n      request = function () {\n        white();\n        method();\n        strictWhite();\n        url();\n        strictWhite(); // advance to one new line\n        newLine();\n        strictWhite();\n        if (ch == '{') {\n          object();\n        }\n        // multi doc request\n        strictWhite(); // advance to one new line\n        newLine();\n        strictWhite();\n        while (ch == '{') {\n          // another object\n          object();\n          strictWhite();\n          newLine();\n          strictWhite();\n        }\n      },\n      comment = function () {\n        while (ch == '#') {\n          while (ch && ch !== '\\n') {\n            next();\n          }\n          white();\n        }\n      },\n      multi_request = function () {\n        while (ch && ch != '') {\n          white();\n          if (!ch) {\n            continue;\n          }\n          try {\n            comment();\n            white();\n            if (!ch) {\n              continue;\n            }\n            request();\n            white();\n          } catch (e) {\n            annotate('error', e.message);\n            // snap\n            const substring = text.substr(at);\n            const nextMatch = substring.search(/^POST|HEAD|GET|PUT|DELETE/m);\n            if (nextMatch < 1) return;\n            reset(at + nextMatch);\n          }\n        }\n      };\n\n    return function (source, reviver) {\n      let result;\n\n      text = source;\n      at = 0;\n      annos = [];\n      next();\n      multi_request();\n      white();\n      if (ch) {\n        annotate('error', 'Syntax error');\n      }\n\n      result = { annotations: annos };\n\n      return typeof reviver === 'function'\n        ? (function walk(holder, key) {\n          let k,\n            v,\n            value = holder[key];\n          if (value && typeof value === 'object') {\n            for (k in value) {\n              if (Object.hasOwnProperty.call(value, k)) {\n                v = walk(value, k);\n                if (v !== undefined) {\n                  value[k] = v;\n                } else {\n                  delete value[k];\n                }\n              }\n            }\n          }\n          return reviver.call(holder, key, value);\n        }({ '': result }, ''))\n        : result;\n    };\n  }\n);\n\nace.define(\n  'sense_editor/mode/worker',\n  [\n    'require',\n    'exports',\n    'module',\n    'ace/lib/oop',\n    'ace/worker/mirror',\n    'sense_editor/mode/worker_parser',\n  ],\n  function (require, exports) {\n    const oop = require('ace/lib/oop');\n    const Mirror = require('ace/worker/mirror').Mirror;\n    const parse = require('sense_editor/mode/worker_parser');\n\n    const SenseWorker = (exports.SenseWorker = function (sender) {\n      Mirror.call(this, sender);\n      this.setTimeout(200);\n    });\n\n    oop.inherits(SenseWorker, Mirror);\n\n    (function () {\n      this.id = 'senseWorker';\n      this.onUpdate = function () {\n        const value = this.doc.getValue();\n        let pos, result;\n        try {\n          result = parse(value);\n        } catch (e) {\n          pos = this.charToDocumentPosition(e.at - 1);\n          this.sender.emit('error', {\n            row: pos.row,\n            column: pos.column,\n            text: e.message,\n            type: 'error',\n          });\n          return;\n        }\n        for (let i = 0; i < result.annotations.length; i++) {\n          pos = this.charToDocumentPosition(result.annotations[i].at - 1);\n          result.annotations[i].row = pos.row;\n          result.annotations[i].column = pos.column;\n        }\n        this.sender.emit('ok', result.annotations);\n      };\n\n      this.charToDocumentPosition = function (charPos) {\n        let i = 0;\n        const len = this.doc.getLength();\n        const nl = this.doc.getNewLineCharacter().length;\n\n        if (!len) {\n          return { row: 0, column: 0 };\n        }\n\n        let lineStart = 0,\n          line;\n        while (i < len) {\n          line = this.doc.getLine(i);\n          const lineLength = line.length + nl;\n          if (lineStart + lineLength > charPos) {\n            return {\n              row: i,\n              column: charPos - lineStart,\n            };\n          }\n\n          lineStart += lineLength;\n          i += 1;\n        }\n\n        return {\n          row: i - 1,\n          column: line.length,\n        };\n      };\n    }.call(SenseWorker.prototype));\n  }\n);\n"},7556:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ScriptMode=ScriptMode;var _brace=__webpack_require__(111);var _brace2=_interopRequireDefault(_brace);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var oop=_brace2.default.acequire("ace/lib/oop");var TextMode=_brace2.default.acequire("ace/mode/text").Mode;var MatchingBraceOutdent=_brace2.default.acequire("ace/mode/matching_brace_outdent").MatchingBraceOutdent;var CstyleBehaviour=_brace2.default.acequire("ace/mode/behaviour/cstyle").CstyleBehaviour;var CStyleFoldMode=_brace2.default.acequire("ace/mode/folding/cstyle").FoldMode;_brace2.default.acequire("ace/tokenizer");var ScriptHighlightRules=__webpack_require__(2269).ScriptHighlightRules;function ScriptMode(){this.$outdent=new MatchingBraceOutdent;this.$behaviour=new CstyleBehaviour;this.foldingRules=new CStyleFoldMode}oop.inherits(ScriptMode,TextMode);(function(){this.HighlightRules=ScriptHighlightRules;this.getNextLineIndent=function(state,line,tab){var indent=this.$getIndent(line);var match=line.match(/^.*[\{\[]\s*$/);match&&(indent+=tab);return indent};this.checkOutdent=function(state,line,input){return this.$outdent.checkOutdent(line,input)};this.autoOutdent=function(state,doc,row){this.$outdent.autoOutdent(doc,row)}}).call(ScriptMode.prototype)},7557:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _typeof="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"===typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};exports.InputHighlightRules=InputHighlightRules;var _x_json_highlight_rules=__webpack_require__(2268);var ace=__webpack_require__(111);var oop=ace.acequire("ace/lib/oop");var _ace$acequire=ace.acequire("ace/mode/text_highlight_rules"),TextHighlightRules=_ace$acequire.TextHighlightRules;function InputHighlightRules(){function mergeTokens(){return[].concat.apply([],arguments)}function addEOL(tokens,reg,nextIfEOL,normalNext){"object"===("undefined"===typeof reg?"undefined":_typeof(reg))&&(reg=reg.source);return[{token:tokens.concat(["whitespace"]),regex:reg+"(\\s*)$",next:nextIfEOL},{token:tokens,regex:reg,next:normalNext}]}this.$rules={start:mergeTokens([{token:"warning",regex:"#!.*$"},{token:"comment",regex:/^#.*$/},{token:"paren.lparen",regex:"{",next:"json",push:true}],addEOL(["method"],/([a-zA-Z]+)/,"start","method_sep"),[{token:"whitespace",regex:"\\s+"},{token:"text",regex:".+?"}]),method_sep:mergeTokens(addEOL(["whitespace","url.protocol_host","url.slash"],/(\s+)(https?:\/\/[^?\/,]+)(\/)/,"start","url"),addEOL(["whitespace","url.protocol_host"],/(\s+)(https?:\/\/[^?\/,]+)/,"start","url"),addEOL(["whitespace","url.slash"],/(\s+)(\/)/,"start","url"),addEOL(["whitespace"],/(\s+)/,"start","url")),url:mergeTokens(addEOL(["url.part"],/([^?\/,\s]+)/,"start"),addEOL(["url.comma"],/(,)/,"start"),addEOL(["url.slash"],/(\/)/,"start"),addEOL(["url.questionmark"],/(\?)/,"start","urlParams")),urlParams:mergeTokens(addEOL(["url.param","url.equal","url.value"],/([^&=]+)(=)([^&]*)/,"start"),addEOL(["url.param"],/([^&=]+)/,"start"),addEOL(["url.amp"],/(&)/,"start"))};(0,_x_json_highlight_rules.addToRules)(this);this.constructor===InputHighlightRules&&this.normalizeRules()}oop.inherits(InputHighlightRules,TextHighlightRules)},7558:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default=function(input,output){var $left=input.$el.parent();function readStoredEditorWidth(){return storage.get("editorWidth")}function storeEditorWidth(editorWidth){storage.set("editorWidth",editorWidth)}function setEditorWidth(editorWidth){storeEditorWidth(editorWidth);$left.width(editorWidth)}var $resizer=$("#ConAppResizer");$resizer.on("mousedown",function(event){$resizer.addClass("active");var startWidth=$left.width();var startX=event.pageX;input.resize.topRow=input.renderer.layerConfig.firstRow;output.resize.topRow=output.renderer.layerConfig.firstRow;function onMove(event){setEditorWidth(startWidth+event.pageX-startX)}$(document.body).on("mousemove",onMove).one("mouseup",function(){$resizer.removeClass("active");$(this).off("mousemove",onMove);input.resize();output.resize()})});var initialEditorWidth=readStoredEditorWidth();null!=initialEditorWidth&&setEditorWidth(initialEditorWidth)};var $=__webpack_require__(16);var storage=__webpack_require__(653);module.exports=exports["default"]},7559:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default=init;var $=__webpack_require__(16);var history=__webpack_require__(1277);var mappings=__webpack_require__(651);function init(input,output){var sourceLocation=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"stored";$(document.body).removeClass("fouc");function resetToValues(content){null!=content&&input.update(content);output.update("")}function setupAutosave(){var timer=void 0;var saveDelay=500;input.getSession().on("change",function onChange(){timer&&(timer=clearTimeout(timer));timer=setTimeout(saveCurrentState,saveDelay)})}function saveCurrentState(){try{var content=input.getValue();history.updateCurrentState(content)}catch(e){console.log("Ignoring saving error: "+e)}}function loadSavedState(){var previousSaveState=history.getSavedEditorState();if("stored"===sourceLocation)if(previousSaveState)resetToValues(previousSaveState.content);else{resetToValues();input.autoIndent()}else if(/^https?:\/\//.test(sourceLocation)){var loadFrom={url:sourceLocation,dataType:"text",kbnXsrfToken:false};/https?:\/\/api.github.com/.test(sourceLocation)&&(loadFrom.headers={Accept:"application/vnd.github.v3.raw"});$.ajax(loadFrom).done(function(data){resetToValues(data);input.moveToNextRequestEdge(true);input.highlightCurrentRequestsAndUpdateActionBar();input.updateActionsBar()})}else resetToValues();input.moveToNextRequestEdge(true)}history.restoreFromHistory=function applyHistoryElem(req){var session=input.getSession();var pos=input.getCursorPosition();var prefix="";var suffix="\n";if(input.parser.isStartRequestRow(pos.row)){pos.column=0;suffix+="\n"}else if(input.parser.isEndRequestRow(pos.row)){var line=session.getLine(pos.row);pos.column=line.length;prefix="\n\n"}else if(input.parser.isInBetweenRequestsRow(pos.row))pos.column=0;else{pos=input.nextRequestEnd(pos);prefix="\n\n"}var s=prefix+req.method+" "+req.endpoint;req.data&&(s+="\n"+req.data);s+=suffix;session.insert(pos,s);input.clearSelection();input.moveCursorTo(pos.row+prefix.length,0);input.focus()};setupAutosave();loadSavedState();mappings.startRetrievingAutoCompleteInfo()}module.exports=exports["default"]},7560:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.SenseTopNavController=SenseTopNavController;var _kbn_top_nav_controller=__webpack_require__(1682);var _storage=__webpack_require__(653);var _storage2=_interopRequireDefault(_storage);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function SenseTopNavController(Private){var KbnTopNavController=Private(_kbn_top_nav_controller.KbnTopNavControllerProvider);var controller=new KbnTopNavController([{key:"welcome",hideButton:true,template:"<sense-welcome></sense-welcome>",testId:"consoleWelcomeButton"},{key:"history",description:"History",template:"<sense-history></sense-history>",testId:"consoleHistoryButton"},{key:"settings",description:"Settings",template:"<sense-settings></sense-settings>",testId:"consoleSettingsButton"},{key:"help",description:"Help",template:"<sense-help></sense-help>",testId:"consoleHelpButton"}]);"@@SENSE_REVISION"!==_storage2.default.get("version_welcome_shown")&&controller.open("welcome");return controller}},7561:function(module,exports,__webpack_require__){"use strict";var _eui=__webpack_require__(2);var _require=__webpack_require__(1),memoize=_require.memoize;var moment=__webpack_require__(12);var history=__webpack_require__(1277);__webpack_require__(7562);__webpack_require__(3).get("app/sense").directive("senseHistory",function(){return{restrict:"E",template:__webpack_require__(7563),controllerAs:"history",controller:function controller($scope,$element){var _this=this;this.reqs=history.getHistory();this.selectedIndex=0;this.selectedReq=this.reqs[this.selectedIndex];this.viewingReq=this.selectedReq;this.describeReq=memoize(function(req){var endpoint=req.endpoint;var date=moment(req.time);var formattedDate=date.format("MMM D");date.diff(moment(),"days")>-7&&(formattedDate=date.fromNow());return endpoint+" ("+formattedDate+")"});this.describeReq.cache=new WeakMap;this.clear=function(){history.clearHistory($element);$scope.kbnTopNav.close()};this.restore=function(){var req=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_this.selectedReq;history.restoreFromHistory(req);$scope.kbnTopNav.close()};this.onKeyDown=function(ev){if(ev.keyCode===_eui.keyCodes.ENTER){_this.restore();return}if(ev.keyCode===_eui.keyCodes.UP){ev.preventDefault();_this.selectedIndex--}else if(ev.keyCode===_eui.keyCodes.DOWN){ev.preventDefault();_this.selectedIndex++}_this.selectedIndex=Math.min(Math.max(0,_this.selectedIndex),_this.reqs.length-1);_this.selectedReq=_this.reqs[_this.selectedIndex];_this.viewingReq=_this.reqs[_this.selectedIndex]}}}})},7562:function(module,exports,__webpack_require__){"use strict";var _sense_editor_resize=__webpack_require__(1273);var SenseEditor=__webpack_require__(1276);__webpack_require__(3).get("app/sense").directive("senseHistoryViewer",function(){return{restrict:"E",scope:{req:"="},link:function link($scope,$el){var viewer=new SenseEditor($el);viewer.setReadOnly(true);viewer.renderer.setShowPrintMargin(false);(0,_sense_editor_resize.useResizeChecker)($scope,$el,viewer);__webpack_require__(652).applyCurrentSettings(viewer);$scope.$watch("req",function(req){if(req){var s=req.method+" "+req.endpoint+"\n"+(req.data||"");viewer.setValue(s);viewer.clearSelection()}else viewer.getSession().setValue("No history available")});$scope.$on("$destroy",function(){viewer.destroy()})}}})},7563:function(module,exports){module.exports='<h2 class="kuiLocalDropdownTitle">History</h2>\n\n<div class="conHistory__body">\n  <ul\n    class="list-group conHistory__reqs"\n    tabindex="0"\n    role="listbox"\n    aria-activedescendant="historyReq{{ history.selectedIndex }}"\n    scrollto-activedescendant\n    ng-keydown="history.onKeyDown($event)"\n    aria-label="History of sent requests"\n  >\n    <li\n      class="list-group-item conHistory__req"\n      role="option"\n      ng-repeat="req in history.reqs"\n      id="historyReq{{$index}}"\n      ng-class="{ conHistory__req--selected: history.viewingReq === req }"\n      ng-click="history.selectedReq = req; history.viewingReq = req; history.selectedIndex = $index"\n      ng-mouseenter="history.viewingReq = req"\n      ng-mouseleave="history.viewingReq = history.selectedReq"\n      ng-dblclick="history.restore(req)"\n      aria-label="{{:: \'Request: \' + history.describeReq(req) }}"\n      aria-selected="{{ history.selectedReq === req }}"\n    >\n      {{ history.describeReq(req) }}\n      <span class="conHistory__reqIcon"><i class="fa fa-chevron-right"></i></span>\n    </li>\n  </ul>\n\n  <sense-history-viewer class="conHistory__viewer" req="history.viewingReq" />\n</div>\n\n<div class="conHistory__footer">\n  <button class="kuiButton kuiButton--danger" ng-click="history.clear()">Clear</button>\n  <button\n    class="kuiButton kuiButton--primary"\n    ng-disabled="!history.selectedReq"\n    ng-click="history.restore()"\n  >\n    Apply\n  </button>\n</div>\n'},7564:function(module,exports,__webpack_require__){"use strict";__webpack_require__(496);__webpack_require__(3).get("app/sense").directive("senseSettings",function(){return{restrict:"E",template:__webpack_require__(7565),controllerAs:"settings",controller:function controller($scope,$element){var _this=this;var settings=__webpack_require__(652);this.vals=settings.getCurrentSettings();this.apply=function(){_this.vals=settings.updateSettings(_this.vals);$scope.kbnTopNav.close()};var self=this;function onEnter(event){13===event.which&&self.apply()}var boundElement=$element.bind("keydown",onEnter);$scope.$on("$destroy",function(){return boundElement.unbind("keydown",onEnter)})}}})},7565:function(module,exports){module.exports='<h2 class="kuiLocalDropdownTitle">Settings</h2>\n\n<form class="form" name="settingsForm" ng-submit="settingsForm.$valid && settings.apply()">\n  <fieldset\n    class="kuiVerticalRhythm"\n    role="group"\n  >\n    <div class="kuiLocalDropdownHeader">\n      <legend\n        id="consoleFontSize"\n        class="kuiLocalDropdownHeader__label"\n      >\n        Font Size\n      </legend>\n    </div>\n\n    <input\n      input-focus\n      ng-model="settings.vals.fontSize"\n      name="fontSize"\n      type="number"\n      required\n      class="kuiLocalDropdownInput kuiVerticalRhythmSmall"\n      aria-labelledby="consoleFontSize"\n      data-test-subj="setting-font-size-input"\n    >\n\n    <label class="kuiCheckBoxLabel kuiVerticalRhythmSmall">\n      <input\n        class="kuiCheckBox"\n        type="checkbox"\n        ng-model="settings.vals.wrapMode"\n        aria-describedby="consoleFontSize"\n      >\n      <span class="kuiCheckBoxLabel__text">\n        Wrap long lines\n      </span>\n    </label>\n  </fieldset>\n\n  <fieldset\n    class="kuiVerticalRhythm"\n    role="group"\n  >\n    <div class="kuiLocalDropdownHeader">\n      <legend\n        id="consoleAutocomplete"\n        class="kuiLocalDropdownHeader__label"\n      >\n        Autocomplete\n      </legend>\n    </div>\n\n    <label class="kuiCheckBoxLabel kuiVerticalRhythmSmall">\n      <input\n        class="kuiCheckBox"\n        name="autocompleteFields"\n        type="checkbox"\n        ng-model="settings.vals.autocomplete.fields"\n        aria-describedby="consoleAutocomplete"\n      >\n      <span class="kuiCheckBoxLabel__text">\n        Fields\n      </span>\n    </label>\n\n    <label class="kuiCheckBoxLabel kuiVerticalRhythmSmall">\n      <input\n        class="kuiCheckBox"\n        name="autocompleteIndices"\n        type="checkbox"\n        ng-model="settings.vals.autocomplete.indices"\n        aria-describedby="consoleAutocomplete"\n      >\n      <span class="kuiCheckBoxLabel__text">\n        Indices &amp; Aliases\n      </span>\n    </label>\n\n    <label class="kuiCheckBoxLabel kuiVerticalRhythmSmall">\n      <input\n        class="kuiCheckBox"\n        name="autocompleteTemplates"\n        type="checkbox"\n        ng-model="settings.vals.autocomplete.templates"\n        aria-describedby="consoleAutocomplete"\n      >\n      <span class="kuiCheckBoxLabel__text">\n        Templates\n      </span>\n    </label>\n  </fieldset>\n\n  <div class="kuiVerticalRhythm">\n    <button\n      ng-click="kbnTopNav.close()"\n      class="kuiButton kuiButton--hollow"\n    >\n      Cancel\n    </button>\n\n    <button\n      type="submit"\n      ng-disabled="settingsForm.$invalid"\n      class="kuiButton kuiButton--primary"\n      data-test-subj="settings-save-button"\n    >\n      Save\n    </button>\n  </div>\n</form>\n'},7566:function(module,exports,__webpack_require__){"use strict";__webpack_require__(2272);__webpack_require__(3).get("app/sense").directive("senseHelp",function(){return{restrict:"E",template:__webpack_require__(7568)}})},7567:function(module,exports){module.exports='# index a doc\nPUT index/type/1\n{\n  "body": "here"\n}\n\n# and get it ...\nGET index/type/1\n'},7568:function(module,exports){module.exports='<h2 class="euiTitle euiTitle--small">Help</h2>\n\n<div class="euiSpacer euiSpacer--m"></div>\n\n<div class="euiPanel euiPanel--paddingLarge">\n  <div class="euiFlexGroup euiFlexGroup--gutterExtraLarge">\n    <div class="euiFlexItem">\n      <h3 class="euiTitle euiTitle--xsmall">Request format</h3>\n      <div class="euiSpacer euiSpacer--l"></div>\n      You can type one or more requests in the white editor. Console understands requests in a compact format:\n      <sense-help-example class="conHelp__example"></sense-help-example>\n    </div>\n    <div class="euiFlexItem">\n      <h3 class="euiTitle euiTitle--xsmall">Keyboard commands</h3>\n      <div class="euiSpacer euiSpacer--l"></div>\n      <dl class="euiDescriptionList euiDescriptionList--row euiDescriptionList--compressed">\n        <dt class="euiDescriptionList__title">Ctrl/Cmd + I</dt>\n        <dd class="euiDescriptionList__description">Auto indent current request</dd>\n        <dt class="euiDescriptionList__title">Ctrl/Cmd + /</dt>\n        <dd class="euiDescriptionList__description">Open documentation for current request</dd>\n        <dt class="euiDescriptionList__title">Ctrl + Space</dt>\n        <dd class="euiDescriptionList__description">Open Auto complete (even if not typing)</dd>\n        <dt class="euiDescriptionList__title">Ctrl/Cmd + Enter</dt>\n        <dd class="euiDescriptionList__description">Submit request</dd>\n        <dt class="euiDescriptionList__title">Ctrl/Cmd + Up/Down</dt>\n        <dd class="euiDescriptionList__description">Jump to the previous/next request start or end.</dd>\n        <dt class="euiDescriptionList__title">Ctrl/Cmd + Alt + L</dt>\n        <dd class="euiDescriptionList__description">Collapse/expand current scope.</dd>\n        <dt class="euiDescriptionList__title">Ctrl/Cmd + Option + 0</dt>\n        <dd class="euiDescriptionList__description">Collapse all scopes but the current one. Expand by adding a shift.</dd>\n        <dt class="euiDescriptionList__title">Down arrow</dt>\n        <dd class="euiDescriptionList__description">Switch focus to auto-complete menu. Use arrows to further select a term</dd>\n        <dt class="euiDescriptionList__title">Enter/Tab</dt>\n        <dd class="euiDescriptionList__description">Select the currently selected or the top most term in auto-complete menu</dd>\n        <dt class="euiDescriptionList__title">Esc</dt>\n        <dd class="euiDescriptionList__description">Close auto-complete menu</dd>\n      </dl>\n    </div>\n  </div>\n</div>\n'},7569:function(module,exports,__webpack_require__){"use strict";__webpack_require__(2272);var storage=__webpack_require__(653);__webpack_require__(3).get("app/sense").directive("senseWelcome",function(){return{restrict:"E",template:__webpack_require__(7570),link:function link($scope){$scope.$on("$destroy",function(){storage.set("version_welcome_shown","@@SENSE_REVISION")})}}})},7570:function(module,exports){module.exports='<div class="euiText">\n\n  <h2>Welcome to Console</h2>\n\n  <p><strong>Quick intro to the UI</strong></p>\n\n  <p>The Console UI is split into two panes: an editor pane (left) and a response pane (right).\n    Use the editor to type requests and submit them to Elasticsearch. The results will be displayed in\n    the response pane on the right side.\n  </p>\n\n  <p>Console understands requests in a compact format, similar to cURL:\n  <sense-help-example></sense-help-example>\n\n  <p>While typing a request, Console will make suggestions which you can then accept by hitting Enter/Tab.\n    These suggestions are made based on the request structure <i>as well as</i> your indices and types.\n  </p>\n\n  <p><strong>A few quick tips, while I have your attention</strong></p>\n  <ul>\n    <li>Submit requests to ES using the green triangle button.</li>\n    <li>Use the wrench menu for other useful things.</li>\n    <li>You can paste requests in cURL format and they will be translated to the Console syntax.</li>\n    <li>You can resize the editor and output panes by dragging the separator between them.</li>\n    <li>Study the keyboard shortcuts under the Help button. Good stuff in there!</li>\n  </ul>\n\n  <button\n    type="button"\n    class="kuiButton kuiButton--primary"\n    data-test-subj="help-close-button"\n    ng-click="kbnTopNav.close()"\n  >\n    Get to work\n  </button>\n\n</div>\n'},7571:function(module,exports,__webpack_require__){"use strict";__webpack_require__(7572)},7572:function(module,exports,__webpack_require__){"use strict";var _routes=__webpack_require__(13);var _routes2=_interopRequireDefault(_routes);var _notify=__webpack_require__(11);var _xpack_info=__webpack_require__(73);var _grokdebugger_route=__webpack_require__(7573);var _grokdebugger_route2=_interopRequireDefault(_grokdebugger_route);__webpack_require__(7574);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}_routes2.default.when("/dev_tools/grokdebugger",{template:_grokdebugger_route2.default,resolve:{licenseCheckResults:function licenseCheckResults(Private){var xpackInfo=Private(_xpack_info.XPackInfoProvider);return{showPage:xpackInfo.get("features.grokdebugger.enableLink"),message:xpackInfo.get("features.grokdebugger.message")}}},controller:function GrokDebuggerRouteController($injector){_classCallCheck(this,GrokDebuggerRouteController);var $route=$injector.get("$route");var kbnUrl=$injector.get("kbnUrl");var licenseCheckResults=$route.current.locals.licenseCheckResults;if(!licenseCheckResults.showPage){kbnUrl.change("/dev_tools");_notify.toastNotifications.addDanger(licenseCheckResults.message);return}}})},7573:function(module,exports){module.exports='<kbn-dev-tools-app class="grokdebuggerDevTool">\n  <grokdebugger></grokdebugger>\n</kbn-dev-tools-app>\n'},7574:function(module,exports,__webpack_require__){"use strict";__webpack_require__(7575)},7575:function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(3);__webpack_require__(7576);var _grok_debugger=__webpack_require__(7584);var _reactDom=__webpack_require__(14);var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var app=_modules.uiModules.get("xpack/grokdebugger");app.directive("grokdebugger",function($injector){var grokdebuggerService=$injector.get("grokdebuggerService");return{restrict:"E",link:function link(scope,el){(0,_reactDom.render)(_react2.default.createElement(_grok_debugger.GrokDebugger,{grokdebuggerService:grokdebuggerService}),el[0])}}})},7576:function(module,exports,__webpack_require__){"use strict";__webpack_require__(7577)},7577:function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(3);var _grokdebugger_service=__webpack_require__(7578);_modules.uiModules.get("xpack/grokdebugger").factory("grokdebuggerService",function($injector){var $http=$injector.get("$http");return new _grokdebugger_service.GrokdebuggerService($http)})},7578:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.GrokdebuggerService=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _chrome=__webpack_require__(9);var _chrome2=_interopRequireDefault(_chrome);var _constants=__webpack_require__(855);var _grokdebugger_response=__webpack_require__(7582);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}exports.GrokdebuggerService=function(){function GrokdebuggerService($http){_classCallCheck(this,GrokdebuggerService);this.$http=$http;this.basePath=_chrome2.default.addBasePath(_constants.ROUTES.API_ROOT)}_createClass(GrokdebuggerService,[{key:"simulate",value:function simulate(grokdebuggerRequest){return this.$http.post(this.basePath+"/simulate",grokdebuggerRequest.upstreamJSON).then(function(response){return _grokdebugger_response.GrokdebuggerResponse.fromUpstreamJSON(response.data.grokdebuggerResponse)}).catch(function(e){throw e.data.message})}}]);return GrokdebuggerService}()},7579:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ROUTES={API_ROOT:"/api/grokdebugger"}},7580:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.PLUGIN={ID:"grokdebugger"}},7581:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.EDITOR={PATTERN_MIN_LINES:3,PATTERN_MAX_LINES:10,SAMPLE_DATA_MIN_LINES:3,SAMPLE_DATA_MAX_LINES:50}},7582:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _grokdebugger_response=__webpack_require__(7583);Object.defineProperty(exports,"GrokdebuggerResponse",{enumerable:true,get:function get(){return _grokdebugger_response.GrokdebuggerResponse}})},7583:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.GrokdebuggerResponse=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _lodash=__webpack_require__(1);function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}exports.GrokdebuggerResponse=function(){function GrokdebuggerResponse(props){_classCallCheck(this,GrokdebuggerResponse);this.structuredEvent=(0,_lodash.get)(props,"structuredEvent",{});this.error=(0,_lodash.get)(props,"error",{})}_createClass(GrokdebuggerResponse,null,[{key:"fromUpstreamJSON",value:function fromUpstreamJSON(grokdebuggerResponse){return new GrokdebuggerResponse(grokdebuggerResponse)}}]);return GrokdebuggerResponse}()},7584:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _grok_debugger=__webpack_require__(7585);Object.defineProperty(exports,"GrokDebugger",{enumerable:true,get:function get(){return _grok_debugger.GrokDebugger}})},7585:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.GrokDebugger=void 0;var _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[];var _n=true;var _d=false;var _e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{!_n&&_i["return"]&&_i["return"]()}finally{if(_d)throw _e}}return _arr}return function(arr,i){if(Array.isArray(arr))return arr;if(Symbol.iterator in Object(arr))return sliceIterator(arr,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _lodash=__webpack_require__(1);var _eui=__webpack_require__(2);var _event_input=__webpack_require__(7586);var _pattern_input=__webpack_require__(7588);var _custom_patterns_input=__webpack_require__(7593);var _event_output=__webpack_require__(7595);var _grokdebugger_request=__webpack_require__(7597);var _notify=__webpack_require__(11);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}exports.GrokDebugger=function(_React$Component){_inherits(GrokDebugger,_React$Component);function GrokDebugger(props){var _this2=this;_classCallCheck(this,GrokDebugger);var _this=_possibleConstructorReturn(this,(GrokDebugger.__proto__||Object.getPrototypeOf(GrokDebugger)).call(this,props));_this.onRawEventChange=function(rawEvent){_this.setState({rawEvent:rawEvent});_this.grokdebuggerRequest.rawEvent=rawEvent};_this.onPatternChange=function(pattern){_this.setState({pattern:pattern});_this.grokdebuggerRequest.pattern=pattern};_this.onCustomPatternsChange=function(customPatterns){_this.setState({customPatterns:customPatterns});customPatterns=customPatterns.trim();var customPatternsObj={};if(!customPatterns){_this.grokdebuggerRequest.customPatterns=customPatternsObj;return}customPatterns.split("\n").forEach(function(customPattern){var _ref=customPattern.match(/(\S+)\s+(.+)/)||[],_ref2=_slicedToArray(_ref,3),patternName=_ref2[1],patternDefinition=_ref2[2];patternName&&patternDefinition&&(customPatternsObj[patternName]=patternDefinition)});_this.grokdebuggerRequest.customPatterns=customPatternsObj};_this.simulateGrok=_asyncToGenerator(regeneratorRuntime.mark(function _callee(){var simulateResponse;return regeneratorRuntime.wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return _this.props.grokdebuggerService.simulate(_this.grokdebuggerRequest);case 3:simulateResponse=_context.sent;_this.setState({structuredEvent:simulateResponse.structuredEvent});(0,_lodash.isEmpty)(simulateResponse.error)||_notify.toastNotifications.addDanger(simulateResponse.error);_context.next=11;break;case 8:_context.prev=8;_context.t0=_context["catch"](0);_notify.toastNotifications.addDanger(_context.t0);case 11:case"end":return _context.stop()}},_callee,_this2,[[0,8]])}));_this.onSimulateClick=function(){_this.setState({structuredEvent:{}},_this.simulateGrok)};_this.isSimulateDisabled=function(){return""===_this.state.rawEvent.trim()||""===_this.state.pattern.trim()};_this.state={rawEvent:"",pattern:"",customPatterns:"",structuredEvent:{}};_this.grokdebuggerRequest=new _grokdebugger_request.GrokdebuggerRequest;return _this}_createClass(GrokDebugger,[{key:"render",value:function render(){return _react2.default.createElement(_eui.EuiPage,null,_react2.default.createElement(_eui.EuiPageBody,null,_react2.default.createElement(_eui.EuiPageContent,null,_react2.default.createElement(_eui.EuiPageContentBody,null,_react2.default.createElement(_eui.EuiForm,{className:"grokdebugger-container","data-test-subj":"grokDebugger"},_react2.default.createElement(_event_input.EventInput,{value:this.state.rawEvent,onChange:this.onRawEventChange}),_react2.default.createElement(_pattern_input.PatternInput,{value:this.state.pattern,onChange:this.onPatternChange}),_react2.default.createElement(_custom_patterns_input.CustomPatternsInput,{value:this.state.customPatterns,onChange:this.onCustomPatternsChange}),_react2.default.createElement(_eui.EuiSpacer,null),_react2.default.createElement(_eui.EuiButton,{fill:true,onClick:this.onSimulateClick,isDisabled:this.isSimulateDisabled(),"data-test-subj":"btnSimulate"},"Simulate"),_react2.default.createElement(_eui.EuiSpacer,null),_react2.default.createElement(_event_output.EventOutput,{value:this.state.structuredEvent}))))))}}]);return GrokDebugger}(_react2.default.Component)},7586:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _event_input=__webpack_require__(7587);Object.defineProperty(exports,"EventInput",{enumerable:true,get:function get(){return _event_input.EventInput}})},7587:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.EventInput=EventInput;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _eui=__webpack_require__(2);var _constants=__webpack_require__(855);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function EventInput(_ref){var value=_ref.value,onChange=_ref.onChange;return _react2.default.createElement(_eui.EuiFormRow,{label:"Sample Data",fullWidth:true,"data-test-subj":"aceEventInput"},_react2.default.createElement(_eui.EuiPanel,{paddingSize:"s"},_react2.default.createElement(_eui.EuiCodeEditor,{width:"100%",value:value,onChange:onChange,setOptions:{highlightActiveLine:false,highlightGutterLine:false,minLines:_constants.EDITOR.SAMPLE_DATA_MIN_LINES,maxLines:_constants.EDITOR.SAMPLE_DATA_MAX_LINES}})))}},7588:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _pattern_input=__webpack_require__(7589);Object.defineProperty(exports,"PatternInput",{enumerable:true,get:function get(){return _pattern_input.PatternInput}})},7589:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.PatternInput=PatternInput;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _eui=__webpack_require__(2);var _constants=__webpack_require__(855);var _ace=__webpack_require__(7590);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function PatternInput(_ref){var value=_ref.value,onChange=_ref.onChange;return _react2.default.createElement(_eui.EuiFormRow,{label:"Grok Pattern",fullWidth:true,"data-test-subj":"acePatternInput"},_react2.default.createElement(_eui.EuiPanel,{paddingSize:"s"},_react2.default.createElement(_eui.EuiCodeEditor,{width:"100%",value:value,onChange:onChange,mode:new _ace.GrokMode,setOptions:{highlightActiveLine:false,highlightGutterLine:false,minLines:_constants.EDITOR.PATTERN_MIN_LINES,maxLines:_constants.EDITOR.PATTERN_MAX_LINES}})))}},7590:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _grok_mode=__webpack_require__(7591);Object.defineProperty(exports,"GrokMode",{enumerable:true,get:function get(){return _grok_mode.GrokMode}})},7591:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.GrokMode=void 0;var _ace=__webpack_require__(230);var _ace2=_interopRequireDefault(_ace);var _grok_highlight_rules=__webpack_require__(7592);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var TextMode=_ace2.default.acequire("ace/mode/text").Mode;exports.GrokMode=function(_TextMode){_inherits(GrokMode,_TextMode);function GrokMode(){_classCallCheck(this,GrokMode);var _this=_possibleConstructorReturn(this,(GrokMode.__proto__||Object.getPrototypeOf(GrokMode)).call(this));_this.HighlightRules=_grok_highlight_rules.GrokHighlightRules;return _this}return GrokMode}(TextMode)},7592:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.GrokHighlightRules=void 0;var _ace=__webpack_require__(230);var _ace2=_interopRequireDefault(_ace);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _ace$acequire=_ace2.default.acequire("ace/mode/text_highlight_rules"),TextHighlightRules=_ace$acequire.TextHighlightRules;exports.GrokHighlightRules=function(_TextHighlightRules){_inherits(GrokHighlightRules,_TextHighlightRules);function GrokHighlightRules(){_classCallCheck(this,GrokHighlightRules);var _this=_possibleConstructorReturn(this,(GrokHighlightRules.__proto__||Object.getPrototypeOf(GrokHighlightRules)).call(this));_this.$rules={start:[{token:["grokStart","grokPatternName","grokSeparator","grokFieldName","grokEnd"],regex:"(%{)([^:]+)(:)([^:]+)(})"},{token:["grokStart","grokPatternName","grokSeparator","grokFieldName","grokSeparator","grokFieldType","grokEnd"],regex:"(%{)([^:]+)(:)([^:]+)(:)([^:]+)(})"},{token:function token(escapeToken){if(escapeToken)return["grokEscape","grokEscaped"];return"grokRegex"},regex:"(\\\\)?([\\[\\]\\(\\)\\?\\:\\|])"}]};return _this}return GrokHighlightRules}(TextHighlightRules)},7593:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _custom_patterns_input=__webpack_require__(7594);Object.defineProperty(exports,"CustomPatternsInput",{enumerable:true,get:function get(){return _custom_patterns_input.CustomPatternsInput}})},7594:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.CustomPatternsInput=CustomPatternsInput;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _eui=__webpack_require__(2);var _constants=__webpack_require__(855);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function CustomPatternsInput(_ref){var value=_ref.value,onChange=_ref.onChange;var sampleCustomPatterns="POSTFIX_QUEUEID [0-9A-F]{10,11}\nMSG message-id=<%{GREEDYDATA}>";return _react2.default.createElement(_eui.EuiAccordion,{id:"customPatternsInput",buttonContent:"Custom Patterns","data-test-subj":"btnToggleCustomPatternsInput"},_react2.default.createElement(_eui.EuiSpacer,{size:"m"}),_react2.default.createElement(_eui.EuiCallOut,{title:"Enter one custom pattern per line. For example:"},_react2.default.createElement(_eui.EuiCodeBlock,null,sampleCustomPatterns)),_react2.default.createElement(_eui.EuiSpacer,{size:"m"}),_react2.default.createElement(_eui.EuiFormRow,{fullWidth:true,"data-test-subj":"aceCustomPatternsInput"},_react2.default.createElement(_eui.EuiPanel,{paddingSize:"s"},_react2.default.createElement(_eui.EuiCodeEditor,{width:"100%",value:value,onChange:onChange,setOptions:{highlightActiveLine:false,highlightGutterLine:false,minLines:_constants.EDITOR.PATTERN_MIN_LINES,maxLines:_constants.EDITOR.PATTERN_MAX_LINES}}))))}},7595:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _event_output=__webpack_require__(7596);Object.defineProperty(exports,"EventOutput",{enumerable:true,get:function get(){return _event_output.EventOutput}})},7596:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.EventOutput=EventOutput;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _eui=__webpack_require__(2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function EventOutput(_ref){var value=_ref.value;return _react2.default.createElement(_eui.EuiFormRow,{label:"Structured Data",fullWidth:true,"data-test-subj":"aceEventOutput"},_react2.default.createElement(_eui.EuiPanel,{paddingSize:"s"},_react2.default.createElement(_eui.EuiCodeEditor,{mode:"json",isReadOnly:true,width:"100%",height:"340px",value:JSON.stringify(value,null,2),setOptions:{highlightActiveLine:false,highlightGutterLine:false}})))}},7597:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _grokdebugger_request=__webpack_require__(7598);Object.defineProperty(exports,"GrokdebuggerRequest",{enumerable:true,get:function get(){return _grokdebugger_request.GrokdebuggerRequest}})},7598:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.GrokdebuggerRequest=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _lodash=__webpack_require__(1);function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}exports.GrokdebuggerRequest=function(){function GrokdebuggerRequest(){var props=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,GrokdebuggerRequest);this.rawEvent=(0,_lodash.get)(props,"rawEvent","");this.pattern=(0,_lodash.get)(props,"pattern","");this.customPatterns=(0,_lodash.get)(props,"customPatterns",{})}_createClass(GrokdebuggerRequest,[{key:"upstreamJSON",get:function get(){return(0,_lodash.pick)(this,["rawEvent","pattern","customPatterns"])}}]);return GrokdebuggerRequest}()},7599:function(module,exports,__webpack_require__){"use strict";var _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[];var _n=true;var _d=false;var _e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{!_n&&_i["return"]&&_i["return"]()}finally{if(_d)throw _e}}return _arr}return function(arr,i){if(Array.isArray(arr))return arr;if(Symbol.iterator in Object(arr))return sliceIterator(arr,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();var _modules=__webpack_require__(3);var _routes=__webpack_require__(13);var _routes2=_interopRequireDefault(_routes);var _notify=__webpack_require__(11);var _xpack_info=__webpack_require__(73);var _lodash=__webpack_require__(1);var _lodash2=_interopRequireDefault(_lodash);__webpack_require__(230);__webpack_require__(7600);__webpack_require__(7601);var _range=__webpack_require__(7608);var _ns_to_pretty=__webpack_require__(7609);var _ms_to_pretty=__webpack_require__(2273);var _app_util=__webpack_require__(7610);__webpack_require__(258);var _index=__webpack_require__(7611);var _index2=_interopRequireDefault(_index);var _default_query=__webpack_require__(7612);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}_routes2.default.when("/dev_tools/searchprofiler",{template:_index2.default});_modules.uiModules.get("app/searchprofiler",["ui.bootstrap.buttons","ui.ace"]).controller("profileViz",profileVizController).filter("nsToPretty",function(){return _ns_to_pretty.nsToPretty}).filter("msToPretty",function(){return _ms_to_pretty.msToPretty}).factory("HighlightService",function(){var service={details:null};return service});function profileVizController($scope,$route,$interval,$http,HighlightService,Private){$scope.title="Search Profile";$scope.description="Search profiling and visualization";$scope.profileResponse=[];$scope.highlight=HighlightService;$scope.activeTab={search:true};$scope.markers=[];$scope.query=_default_query.defaultQuery;var xpackInfo=Private(_xpack_info.XPackInfoProvider);$scope.licenseEnabled=xpackInfo.get("features.searchprofiler.enableAppLink");$scope.aceLoaded=function(_editor){$scope.ace=_editor;$scope.ace.$blockScrolling=Infinity;$scope.ace.setReadOnly(!$scope.licenseEnabled);if(!$scope.licenseEnabled){$scope.ace.container.style.pointerEvents="none";$scope.ace.container.style.opacity=.5;$scope.ace.renderer.setStyle("disabled",true);$scope.ace.blur()}};$scope.profile=function(){if(!$scope.licenseEnabled)return;$scope.resetHighlightPanel();var json=(0,_app_util.checkForParseErrors)($scope.query);if(false===json.status){_notify.notify.error(json.error);return}json=json.parsed;if(json.profile&&json.profile.shards)$scope.renderProfile(json.profile.shards);else{var requestBody={query:$scope.query};null==$scope.index||""===$scope.index?requestBody.index="_all":requestBody.index=$scope.index;""===!$scope.type&&(requestBody.type=$scope.type);$scope.executeRemoteQuery(requestBody)}};$scope.executeRemoteQuery=function(requestBody){$http.post("../api/searchprofiler/profile",requestBody).then(function(resp){if(!resp.data.ok){_notify.notify.error(resp.data.err.msg);try{var regex=/line=([0-9]+) col=([0-9]+)/g;var _regex$exec=regex.exec(resp.data.err.msg),_regex$exec2=_slicedToArray(_regex$exec,3),row=_regex$exec2[1],column=_regex$exec2[2];$scope.markers.push($scope.ace.session.addMarker(new _range.Range(row-1,0,row-1,column),"errorMarker","fullLine"))}catch(e){}return}$scope.renderProfile(resp.data.resp.profile.shards)}).catch(_notify.notify.error)};$scope.renderProfile=function(data){var _iteratorNormalCompletion=true;var _didIteratorError=false;var _iteratorError=void 0;try{for(var _step,_iterator=data[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=true){var shard=_step.value;shard.id=shard.id.match(/\[([^\]\[]*?)\]/g);shard.id=_lodash2.default.map(shard.id,function(id){return id.replace("[","").replace("]","")})}}catch(err){_didIteratorError=true;_iteratorError=err}finally{try{!_iteratorNormalCompletion&&_iterator.return&&_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}$scope.hasAggregations=null!=data[0].aggregations&&data[0].aggregations.length>0;$scope.hasSearch=null!=data[0].searches&&data[0].searches.length>0;$scope.profileResponse=data;$scope.hasAggregations||$scope.activateTab("search")};$scope.activateTab=function(tab){$scope.resetHighlightPanel();$scope.activeTab={};"aggregations"===tab&&$scope.hasAggregations?$scope.activeTab.aggregations=true:$scope.activeTab.search=true};$scope.resetHighlightPanel=function(){$scope.highlight.details=null}}},7600:function(module,exports,__webpack_require__){"use strict";angular.module("ui.ace",[]).constant("uiAceConfig",{}).directive("uiAce",["uiAceConfig",function(uiAceConfig){if(angular.isUndefined(window.ace))throw new Error("ui-ace need ace to work... (o rly?)");var setOptions=function(acee,session,opts){if(angular.isDefined(opts.workerPath)){var config=window.ace.require("ace/config");config.set("workerPath",opts.workerPath)}angular.isDefined(opts.require)&&opts.require.forEach(function(n){window.ace.require(n)});angular.isDefined(opts.showGutter)&&acee.renderer.setShowGutter(opts.showGutter);angular.isDefined(opts.useWrapMode)&&session.setUseWrapMode(opts.useWrapMode);angular.isDefined(opts.showInvisibles)&&acee.renderer.setShowInvisibles(opts.showInvisibles);angular.isDefined(opts.showIndentGuides)&&acee.renderer.setDisplayIndentGuides(opts.showIndentGuides);angular.isDefined(opts.useSoftTabs)&&session.setUseSoftTabs(opts.useSoftTabs);angular.isDefined(opts.showPrintMargin)&&acee.setShowPrintMargin(opts.showPrintMargin);angular.isDefined(opts.disableSearch)&&opts.disableSearch&&acee.commands.addCommands([{name:"unfind",bindKey:{win:"Ctrl-F",mac:"Command-F"},exec:function(){return false},readOnly:true}]);angular.isString(opts.theme)&&acee.setTheme("ace/theme/"+opts.theme);angular.isString(opts.mode)&&session.setMode("ace/mode/"+opts.mode);angular.isDefined(opts.firstLineNumber)&&(angular.isNumber(opts.firstLineNumber)?session.setOption("firstLineNumber",opts.firstLineNumber):angular.isFunction(opts.firstLineNumber)&&session.setOption("firstLineNumber",opts.firstLineNumber()));var key,obj;if(angular.isDefined(opts.advanced))for(key in opts.advanced){obj={name:key,value:opts.advanced[key]};acee.setOption(obj.name,obj.value)}if(angular.isDefined(opts.rendererOptions))for(key in opts.rendererOptions){obj={name:key,value:opts.rendererOptions[key]};acee.renderer.setOption(obj.name,obj.value)}angular.forEach(opts.callbacks,function(cb){angular.isFunction(cb)&&cb(acee)})};return{restrict:"EA",require:"?ngModel",link:function(scope,elm,attrs,ngModel){var options=uiAceConfig.ace||{};var opts=angular.extend({},options,scope.$eval(attrs.uiAce));var acee=window.ace.edit(elm[0]);var session=acee.getSession();var onChangeListener;var onBlurListener;var executeUserCallback=function(){var callback=arguments[0];var args=Array.prototype.slice.call(arguments,1);angular.isDefined(callback)&&scope.$evalAsync(function(){if(!angular.isFunction(callback))throw new Error("ui-ace use a function as callback.");callback(args)})};var listenerFactory={onChange:function(callback){return function(e){var newValue=session.getValue();!ngModel||newValue===ngModel.$viewValue||scope.$$phase||scope.$root.$$phase||scope.$evalAsync(function(){ngModel.$setViewValue(newValue)});executeUserCallback(callback,e,acee)}},onBlur:function(callback){return function(){executeUserCallback(callback,acee)}}};attrs.$observe("readonly",function(value){acee.setReadOnly(!!value||""===value)});if(ngModel){ngModel.$formatters.push(function(value){if(angular.isUndefined(value)||null===value)return"";if(angular.isObject(value)||angular.isArray(value))throw new Error("ui-ace cannot use an object or an array as a model");return value});ngModel.$render=function(){session.setValue(ngModel.$viewValue)}}var updateOptions=function(current,previous){if(current===previous)return;opts=angular.extend({},options,scope.$eval(attrs.uiAce));opts.callbacks=[opts.onLoad];opts.onLoad!==options.onLoad&&opts.callbacks.unshift(options.onLoad);session.removeListener("change",onChangeListener);onChangeListener=listenerFactory.onChange(opts.onChange);session.on("change",onChangeListener);acee.removeListener("blur",onBlurListener);onBlurListener=listenerFactory.onBlur(opts.onBlur);acee.on("blur",onBlurListener);setOptions(acee,session,opts)};scope.$watch(attrs.uiAce,updateOptions,true);updateOptions(options);elm.on("$destroy",function(){acee.session.$stopWorker();acee.destroy()});scope.$watch(function(){return[elm[0].offsetWidth,elm[0].offsetHeight]},function(){acee.resize();acee.renderer.updateFull()},true)}}}])},7601:function(module,exports,__webpack_require__){"use strict";__webpack_require__(7602);__webpack_require__(7606)},7602:function(module,exports,__webpack_require__){"use strict";var _index=__webpack_require__(7603);var _index2=_interopRequireDefault(_index);var _util=__webpack_require__(7604);var _modules=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var uiModule=_modules.uiModules.get("app/searchprofiler/directives",[]);uiModule.directive("profiletree",function(HighlightService){return{restrict:"E",scope:{data:"=",target:"@"},template:_index2.default,link:function link($scope){$scope.visible={foo:{}};$scope.indexVisibility={};$scope.highlightedRow=null;$scope.updateDetail=function(row,indexName,shardID,shardNumber){HighlightService.details=row;HighlightService.details.indexName=indexName;HighlightService.details.shardID=shardID;HighlightService.details.shardNumber=shardNumber;HighlightService.details.highlightedRow=row.id};$scope.getHighlightedRow=function(){if(HighlightService.details)return HighlightService.details.highlightedRow;return null};$scope.toggle=function(id){true===$scope.visible[id].visible?(0,_util.closeNode)($scope.visible,id):$scope.visible[id].visible=true};function render(data){if(0===data.length)return;$scope.visible={};var indices={};var _iteratorNormalCompletion=true;var _didIteratorError=false;var _iteratorError=void 0;try{for(var _step,_iterator=data[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=true){var shard=_step.value;initShardTargets(shard);"searches"===$scope.target?shard.time[$scope.target]=collectSearchTimes(shard):"aggregations"===$scope.target&&(shard.time[$scope.target]=collectAggTimes(shard));indices[shard.id[1]]||(indices[shard.id[1]]={shards:[],time:{searches:0,aggregations:0},name:shard.id[1]});indices[shard.id[1]].shards.push(shard);indices[shard.id[1]].time[$scope.target]+=shard.time[$scope.target]}}catch(err){_didIteratorError=true;_iteratorError=err}finally{try{!_iteratorNormalCompletion&&_iterator.return&&_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}data=null;var finalIndices=(0,_util.normalizeIndices)(indices,$scope.indexVisibility,$scope.target);indices=null;$scope.profileResponse=finalIndices}function collectSearchTimes(shard){if(null==shard.searches)return 0;shard.rewrite_time=0;var shardTime=0;var _iteratorNormalCompletion2=true;var _didIteratorError2=false;var _iteratorError2=void 0;try{for(var _step2,_iterator2=shard.searches[Symbol.iterator]();!(_iteratorNormalCompletion2=(_step2=_iterator2.next()).done);_iteratorNormalCompletion2=true){var search=_step2.value;shard.rewrite_time+=search.rewrite_time;var totalTime=(0,_util.calcTimes)(search.query);shardTime+=totalTime;(0,_util.normalizeTimes)(search.query,totalTime,0);var flat=[];(0,_util.flattenResults)(search.query,flat,0,$scope.visible);search.flat=flat;search.query=null}}catch(err){_didIteratorError2=true;_iteratorError2=err}finally{try{!_iteratorNormalCompletion2&&_iterator2.return&&_iterator2.return()}finally{if(_didIteratorError2)throw _iteratorError2}}return shardTime}function collectAggTimes(shard){if(null==shard.aggregations)return 0;var shardTime=0;var _iteratorNormalCompletion3=true;var _didIteratorError3=false;var _iteratorError3=void 0;try{for(var _step3,_iterator3=shard.aggregations[Symbol.iterator]();!(_iteratorNormalCompletion3=(_step3=_iterator3.next()).done);_iteratorNormalCompletion3=true){var agg=_step3.value;var totalTime=(0,_util.calcTimes)([agg]);shardTime+=totalTime}}catch(err){_didIteratorError3=true;_iteratorError3=err}finally{try{!_iteratorNormalCompletion3&&_iterator3.return&&_iterator3.return()}finally{if(_didIteratorError3)throw _iteratorError3}}var _iteratorNormalCompletion4=true;var _didIteratorError4=false;var _iteratorError4=void 0;try{for(var _step4,_iterator4=shard.aggregations[Symbol.iterator]();!(_iteratorNormalCompletion4=(_step4=_iterator4.next()).done);_iteratorNormalCompletion4=true){var _agg=_step4.value;(0,_util.normalizeTimes)([_agg],shardTime,0);var flat=[];(0,_util.flattenResults)([_agg],flat,0,$scope.visible);_agg.flat=flat}}catch(err){_didIteratorError4=true;_iteratorError4=err}finally{try{!_iteratorNormalCompletion4&&_iterator4.return&&_iterator4.return()}finally{if(_didIteratorError4)throw _iteratorError4}}return shardTime}function initShardTargets(shard){shard.time||(shard.time={searches:0,aggregations:0});shard.color||(shard.color={searches:0,aggregations:0});shard.relative||(shard.relative={searches:0,aggregations:0})}$scope.$watch("data",render)}}})},7603:function(module,exports){module.exports='<div class="prfDevTool__panel panel-default prfDevTool__index" ng-repeat="index in profileResponse">\n  <div class="prfDevTool__shardDetails--dim">\n    <span\n      tooltip-placement="bottom"\n      tooltip="The cumulative time of all shards in the index. Note: this is not wall-clock time, as shards can execute in parallel.">\n      <h3>Cumulative Time: {{index.time[target] | msToPretty: 3}}</h3>\n    </span><br/>\n  </div>\n  <div class="prfDevTool__shardDetails"  style="margin-left:5px">\n    <h3><b>Index:</b> {{index.name}}</h3>\n  </div>\n  <div ng-repeat="shard in index.shards">\n    <div class="prfDevTool__panel prfDevTool__shard">\n      <div class="prfDevTool__shardBody">\n        <div class="prfDevTool__shardDetails--dim" style="width:150px">\n          <div class="prfDevTool__graph progress">\n            <div class="prfDevTool__bar" style="width:{{shard.relative[target]}}%"></div>\n            <p class="prfDevTool__graphLabel">{{shard.time[target] | msToPretty: 3}}</p>\n          </div>\n\n        </div>\n        <div class="prfDevTool__shardDetails">\n          <span class="fa" aria-hidden="true"\n                  ng-click="shardVisibility = !shardVisibility"\n                  ng-class="visible[row.id].visible ? \'fa-chevron-down\' : \'fa-chevron-right\'"\n                  style="font-size:9px">\n                </span>\n                <b>[{{shard.id[0]}}][{{shard.id[2]}}]</b>\n        </div>\n        <div class="treeviewwrapper"\n            ng-repeat="search in shard[target]"\n            ng-hide="!shardVisibility"\n            ng-class="{\'prfDevTool__panelBody\' : shardVisibility}">\n          <div class="prfDevTool__tvHeader">\n            <div class="prfDevTool__cell prfDevTool__description">Type</div>\n            <div class="prfDevTool__cell prfDevTool__time">Self Time</div>\n            <div class="prfDevTool__cell prfDevTool__totalTime">Total Time</div>\n            <div class="prfDevTool__cell prfDevTool__percentage">% Time</div>\n          </div>\n          <div class="prfDevTool__tvRow"\n            ng-repeat="row in search.flat"\n            ng-show="row.depth === 0 ? true : visible[row.parentId].visible"\n            style="background-color:{{row.absoluteColor}}"\n            ng-mouseenter="updateDetail(row, index.name, shard.id[0], shard.id[2])"\n            ng-class="row.id == getHighlightedRow() ? \'prfDevTool__tvRow--last\' : \'\'">\n            <div class="prfDevTool__cell prfDevTool__description" style="padding-left:{{row.depth * 10}}px;">\n              <div style="display:inline;" ng-class="row.hasChildren ? \'\' : \'fa-bars\'">\n                <span class="fa" aria-hidden="true"\n                  ng-click="toggle(row.id)"\n                  ng-class="visible[row.id].visible ? \'fa-chevron-down\' : \'fa-chevron-right\'"\n                  ng-hide="!row.hasChildren"\n                  style="font-size:9px">\n                </span>&nbsp;\n              </div>\n              {{row.query_type}}\n              <span class=\'prfDevTool__detail\'>\n              <span\n                tooltip-placement="top"\n                tooltip="{{row.lucene.length > 40 ? row.lucene : \'\'}}">\n              {{row.lucene | limitTo : 40}}{{row.lucene.length > 40 ? \'...\' : \'\'}}\n              </span>\n              </span>\n            </div>\n            <div class="prfDevTool__cell prfDevTool__time">{{row.selfTime | msToPretty: 1}}</div>\n            <div class="prfDevTool__cell prfDevTool__totalTime">{{row.time | msToPretty: 1}}</div>\n            <div class="prfDevTool__cell prfDevTool__percentage">\n              <div class="prfDevTool__graph progress">\n                <div class="prfDevTool__bar" style="width:{{row.timePercentage}}%"></div>\n                <p class="prfDevTool__graphLabel">{{row.timePercentage}}%</p>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n'},7604:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[];var _n=true;var _d=false;var _e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{!_n&&_i["return"]&&_i["return"]()}finally{if(_d)throw _e}}return _arr}return function(arr,i){if(Array.isArray(arr))return arr;if(Symbol.iterator in Object(arr))return sliceIterator(arr,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();exports.timeInMilliseconds=timeInMilliseconds;exports.calcTimes=calcTimes;exports.normalizeBreakdown=normalizeBreakdown;exports.normalizeTimes=normalizeTimes;exports.normalizeIndices=normalizeIndices;exports.flattenResults=flattenResults;exports.closeNode=closeNode;var _uuid=__webpack_require__(94);var _uuid2=_interopRequireDefault(_uuid);var _tinycolor=__webpack_require__(7605);var _tinycolor2=_interopRequireDefault(_tinycolor);var _lodash=__webpack_require__(1);var _lodash2=_interopRequireDefault(_lodash);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var comparator=function comparator(v1,v2){if(v1<v2)return 1;return v1>v2?-1:0};function getToolTip(key){switch(key){case"build_scorer":return"The time taken to create the Scoring object, which is later used to execute the actual scoring of each doc.";case"create_weight":return"The time taken to create the Weight object, which holds temporary information during scoring.";case"next_doc":return"The time taken to advance the iterator to the next matching document.";case"score":return"The time taken in actually scoring the document against the query.";case"match":return"The time taken to execute a secondary, more precise scoring phase (used by phrase queries).";case"advance":return"The time taken to advance the iterator to the next document.";default:return""}}function timeInMilliseconds(data){if(data.time_in_nanos)return data.time_in_nanos/1e6;if("string"===typeof data.time)return data.time.replace("ms","");return data.time}function calcTimes(data,parentId){if(null==data)return;var totalTime=0;var _iteratorNormalCompletion=true;var _didIteratorError=false;var _iteratorError=void 0;try{for(var _step,_iterator=data[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=true){var child=_step.value;totalTime+=timeInMilliseconds(child);child.id=_uuid2.default.v4();child.parentId=parentId;child.childrenIds=[];child.breakdown=normalizeBreakdown(child.breakdown);var childrenTime=0;if(null!=child.children&&0!==child.children.length){childrenTime=calcTimes(child.children,child.id);child.hasChildren=true;var _iteratorNormalCompletion2=true;var _didIteratorError2=false;var _iteratorError2=void 0;try{for(var _step2,_iterator2=child.children[Symbol.iterator]();!(_iteratorNormalCompletion2=(_step2=_iterator2.next()).done);_iteratorNormalCompletion2=true){var c=_step2.value;child.childrenIds.push(c.id)}}catch(err){_didIteratorError2=true;_iteratorError2=err}finally{try{!_iteratorNormalCompletion2&&_iterator2.return&&_iterator2.return()}finally{if(_didIteratorError2)throw _iteratorError2}}}child.selfTime=timeInMilliseconds(child)-childrenTime}}catch(err){_didIteratorError=true;_iteratorError=err}finally{try{!_iteratorNormalCompletion&&_iterator.return&&_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}return totalTime}function normalizeBreakdown(breakdown){var final=[];var total=Object.keys(breakdown).reduce(function(partialTotal,currentKey){-1===currentKey.indexOf("_count")&&(partialTotal+=breakdown[currentKey]);return partialTotal},0);Object.keys(breakdown).sort().forEach(function(key){var relative=0;-1===key.indexOf("_count")&&(relative=(breakdown[key]/total*100).toFixed(1));final.push({key:key,time:breakdown[key],relative:relative,color:_tinycolor2.default.mix("#F5F5F5","#FFAFAF",relative).toHexString(),tip:getToolTip(key)})});return final.sort(function(a,b){if(0!==comparator(a.time,b.time))return comparator(a.time,b.time);return-1*comparator(a.key,b.key)})}function normalizeTimes(data,totalTime,depth){var _iteratorNormalCompletion3=true;var _didIteratorError3=false;var _iteratorError3=void 0;try{for(var _step3,_iterator3=data[Symbol.iterator]();!(_iteratorNormalCompletion3=(_step3=_iterator3.next()).done);_iteratorNormalCompletion3=true){var child=_step3.value;child.timePercentage=(timeInMilliseconds(child)/totalTime*100).toFixed(2);child.absoluteColor=_tinycolor2.default.mix("#F5F5F5","#FFAFAF",child.timePercentage).toHexString();child.depth=depth;null!=child.children&&0!==child.children.length&&normalizeTimes(child.children,totalTime,depth+1)}}catch(err){_didIteratorError3=true;_iteratorError3=err}finally{try{!_iteratorNormalCompletion3&&_iterator3.return&&_iterator3.return()}finally{if(_didIteratorError3)throw _iteratorError3}}data.sort(function(a,b){return comparator(timeInMilliseconds(a),timeInMilliseconds(b))})}function normalizeIndices(indices,visibility,target){var sortQueryComponents=void 0;"searches"===target?sortQueryComponents=function sortQueryComponents(a,b){var aTime=_lodash2.default.sum(a.searches,function(search){return search.flat[0].time});var bTime=_lodash2.default.sum(b.searches,function(search){return search.flat[0].time});return comparator(aTime,bTime)}:"aggregations"===target&&(sortQueryComponents=function sortQueryComponents(a,b){var aTime=_lodash2.default.sum(a.aggregations,function(agg){return agg.flat[0].time});var bTime=_lodash2.default.sum(b.aggregations,function(agg){return agg.flat[0].time});return comparator(aTime,bTime)});var sortedIndices=[];var _iteratorNormalCompletion4=true;var _didIteratorError4=false;var _iteratorError4=void 0;try{for(var _step4,_iterator4=Object.entries(indices)[Symbol.iterator]();!(_iteratorNormalCompletion4=(_step4=_iterator4.next()).done);_iteratorNormalCompletion4=true){var _ref=_step4.value;var _ref2=_slicedToArray(_ref,2);var key=_ref2[0];var index=_ref2[1];index.shards.sort(sortQueryComponents);var _iteratorNormalCompletion5=true;var _didIteratorError5=false;var _iteratorError5=void 0;try{for(var _step5,_iterator5=index.shards[Symbol.iterator]();!(_iteratorNormalCompletion5=(_step5=_iterator5.next()).done);_iteratorNormalCompletion5=true){var shard=_step5.value;shard.relative[target]=(shard.time[target]/index.time[target]*100).toFixed(2);shard.color[target]=_tinycolor2.default.mix("#F5F5F5","#FFAFAF",shard.relative[target]).toHexString()}}catch(err){_didIteratorError5=true;_iteratorError5=err}finally{try{!_iteratorNormalCompletion5&&_iterator5.return&&_iterator5.return()}finally{if(_didIteratorError5)throw _iteratorError5}}sortedIndices.push(index);visibility[key]=false}}catch(err){_didIteratorError4=true;_iteratorError4=err}finally{try{!_iteratorNormalCompletion4&&_iterator4.return&&_iterator4.return()}finally{if(_didIteratorError4)throw _iteratorError4}}sortedIndices.sort(function(a,b){return comparator(a.time,b.time)});return sortedIndices}function flattenResults(data,accumulator,depth,visibleMap){if(null==data)return;var _iteratorNormalCompletion6=true;var _didIteratorError6=false;var _iteratorError6=void 0;try{for(var _step6,_iterator6=data[Symbol.iterator]();!(_iteratorNormalCompletion6=(_step6=_iterator6.next()).done);_iteratorNormalCompletion6=true){var child=_step6.value;if(!child.description){child.description=child.lucene;child.lucene=null;child.type=child.query_type;child.query_type=null}accumulator.push({id:child.id,parentId:child.parentId,childrenIds:child.childrenIds,lucene:child.description,time:timeInMilliseconds(child),selfTime:child.selfTime,timePercentage:child.timePercentage,query_type:child.type.split(".").pop(),absoluteColor:child.absoluteColor,depth:depth,hasChildren:child.hasChildren,breakdown:child.breakdown});visibleMap[child.id]={visible:child.timePercentage>20,children:child.children};null!=child.children&&0!==child.children.length&&flattenResults(child.children,accumulator,depth+1,visibleMap)}}catch(err){_didIteratorError6=true;_iteratorError6=err}finally{try{!_iteratorNormalCompletion6&&_iterator6.return&&_iterator6.return()}finally{if(_didIteratorError6)throw _iteratorError6}}}function closeNode(visibleMap,id){visibleMap[id].visible=false;if(null==visibleMap[id].children||0===visibleMap[id].children.length)return;var _iteratorNormalCompletion7=true;var _didIteratorError7=false;var _iteratorError7=void 0;try{for(var _step7,_iterator7=visibleMap[id].children[Symbol.iterator]();!(_iteratorNormalCompletion7=(_step7=_iterator7.next()).done);_iteratorNormalCompletion7=true){var child=_step7.value;closeNode(visibleMap,child.id)}}catch(err){_didIteratorError7=true;_iteratorError7=err}finally{try{!_iteratorNormalCompletion7&&_iterator7.return&&_iterator7.return()}finally{if(_didIteratorError7)throw _iteratorError7}}}},7605:function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_RESULT__;(function(){var trimLeft=/^\s+/,trimRight=/\s+$/,tinyCounter=0,math=Math,mathRound=math.round,mathMin=math.min,mathMax=math.max,mathRandom=math.random;function tinycolor(color,opts){color=color||"";opts=opts||{};if(color instanceof tinycolor)return color;if(!(this instanceof tinycolor))return new tinycolor(color,opts);var rgb=inputToRGB(color);this._originalInput=color,this._r=rgb.r,this._g=rgb.g,this._b=rgb.b,this._a=rgb.a,this._roundA=mathRound(100*this._a)/100,this._format=opts.format||rgb.format;this._gradientType=opts.gradientType;this._r<1&&(this._r=mathRound(this._r));this._g<1&&(this._g=mathRound(this._g));this._b<1&&(this._b=mathRound(this._b));this._ok=rgb.ok;this._tc_id=tinyCounter++}tinycolor.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var rgb=this.toRgb();return(299*rgb.r+587*rgb.g+114*rgb.b)/1e3},getLuminance:function(){var rgb=this.toRgb();var RsRGB,GsRGB,BsRGB,R,G,B;RsRGB=rgb.r/255;GsRGB=rgb.g/255;BsRGB=rgb.b/255;R=RsRGB<=.03928?RsRGB/12.92:Math.pow((RsRGB+.055)/1.055,2.4);G=GsRGB<=.03928?GsRGB/12.92:Math.pow((GsRGB+.055)/1.055,2.4);B=BsRGB<=.03928?BsRGB/12.92:Math.pow((BsRGB+.055)/1.055,2.4);return.2126*R+.7152*G+.0722*B},setAlpha:function(value){this._a=boundAlpha(value);this._roundA=mathRound(100*this._a)/100;return this},toHsv:function(){var hsv=rgbToHsv(this._r,this._g,this._b);return{h:360*hsv.h,s:hsv.s,v:hsv.v,a:this._a}},toHsvString:function(){var hsv=rgbToHsv(this._r,this._g,this._b);var h=mathRound(360*hsv.h),s=mathRound(100*hsv.s),v=mathRound(100*hsv.v);return 1==this._a?"hsv("+h+", "+s+"%, "+v+"%)":"hsva("+h+", "+s+"%, "+v+"%, "+this._roundA+")"},toHsl:function(){var hsl=rgbToHsl(this._r,this._g,this._b);return{h:360*hsl.h,s:hsl.s,l:hsl.l,a:this._a}},toHslString:function(){var hsl=rgbToHsl(this._r,this._g,this._b);var h=mathRound(360*hsl.h),s=mathRound(100*hsl.s),l=mathRound(100*hsl.l);return 1==this._a?"hsl("+h+", "+s+"%, "+l+"%)":"hsla("+h+", "+s+"%, "+l+"%, "+this._roundA+")"},toHex:function(allow3Char){return rgbToHex(this._r,this._g,this._b,allow3Char)},toHexString:function(allow3Char){return"#"+this.toHex(allow3Char)},toHex8:function(){return rgbaToHex(this._r,this._g,this._b,this._a)},toHex8String:function(){return"#"+this.toHex8()},toRgb:function(){return{r:mathRound(this._r),g:mathRound(this._g),b:mathRound(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+mathRound(this._r)+", "+mathRound(this._g)+", "+mathRound(this._b)+")":"rgba("+mathRound(this._r)+", "+mathRound(this._g)+", "+mathRound(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:mathRound(100*bound01(this._r,255))+"%",g:mathRound(100*bound01(this._g,255))+"%",b:mathRound(100*bound01(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+mathRound(100*bound01(this._r,255))+"%, "+mathRound(100*bound01(this._g,255))+"%, "+mathRound(100*bound01(this._b,255))+"%)":"rgba("+mathRound(100*bound01(this._r,255))+"%, "+mathRound(100*bound01(this._g,255))+"%, "+mathRound(100*bound01(this._b,255))+"%, "+this._roundA+")"},toName:function(){if(0===this._a)return"transparent";if(this._a<1)return false;return hexNames[rgbToHex(this._r,this._g,this._b,true)]||false},toFilter:function(secondColor){var hex8String="#"+rgbaToHex(this._r,this._g,this._b,this._a);var secondHex8String=hex8String;var gradientType=this._gradientType?"GradientType = 1, ":"";if(secondColor){var s=tinycolor(secondColor);secondHex8String=s.toHex8String()}return"progid:DXImageTransform.Microsoft.gradient("+gradientType+"startColorstr="+hex8String+",endColorstr="+secondHex8String+")"},toString:function(format){var formatSet=!!format;format=format||this._format;var formattedString=false;var hasAlpha=this._a<1&&this._a>=0;var needsAlphaFormat=!formatSet&&hasAlpha&&("hex"===format||"hex6"===format||"hex3"===format||"name"===format);if(needsAlphaFormat){if("name"===format&&0===this._a)return this.toName();return this.toRgbString()}"rgb"===format&&(formattedString=this.toRgbString());"prgb"===format&&(formattedString=this.toPercentageRgbString());"hex"!==format&&"hex6"!==format||(formattedString=this.toHexString());"hex3"===format&&(formattedString=this.toHexString(true));"hex8"===format&&(formattedString=this.toHex8String());"name"===format&&(formattedString=this.toName());"hsl"===format&&(formattedString=this.toHslString());"hsv"===format&&(formattedString=this.toHsvString());return formattedString||this.toHexString()},clone:function(){return tinycolor(this.toString())},_applyModification:function(fn,args){var color=fn.apply(null,[this].concat([].slice.call(args)));this._r=color._r;this._g=color._g;this._b=color._b;this.setAlpha(color._a);return this},lighten:function(){return this._applyModification(lighten,arguments)},brighten:function(){return this._applyModification(brighten,arguments)},darken:function(){return this._applyModification(darken,arguments)},desaturate:function(){return this._applyModification(desaturate,arguments)},saturate:function(){return this._applyModification(saturate,arguments)},greyscale:function(){return this._applyModification(greyscale,arguments)},spin:function(){return this._applyModification(spin,arguments)},_applyCombination:function(fn,args){return fn.apply(null,[this].concat([].slice.call(args)))},analogous:function(){return this._applyCombination(analogous,arguments)},complement:function(){return this._applyCombination(complement,arguments)},monochromatic:function(){return this._applyCombination(monochromatic,arguments)},splitcomplement:function(){return this._applyCombination(splitcomplement,arguments)},triad:function(){return this._applyCombination(triad,arguments)},tetrad:function(){return this._applyCombination(tetrad,arguments)}};tinycolor.fromRatio=function(color,opts){if("object"==typeof color){var newColor={};for(var i in color)color.hasOwnProperty(i)&&(newColor[i]="a"===i?color[i]:convertToPercentage(color[i]));color=newColor}return tinycolor(color,opts)};function inputToRGB(color){var rgb={r:0,g:0,b:0};var a=1;var ok=false;var format=false;"string"==typeof color&&(color=stringInputToObject(color));if("object"==typeof color){if(color.hasOwnProperty("r")&&color.hasOwnProperty("g")&&color.hasOwnProperty("b")){rgb=rgbToRgb(color.r,color.g,color.b);ok=true;format="%"===String(color.r).substr(-1)?"prgb":"rgb"}else if(color.hasOwnProperty("h")&&color.hasOwnProperty("s")&&color.hasOwnProperty("v")){color.s=convertToPercentage(color.s);color.v=convertToPercentage(color.v);rgb=hsvToRgb(color.h,color.s,color.v);ok=true;format="hsv"}else if(color.hasOwnProperty("h")&&color.hasOwnProperty("s")&&color.hasOwnProperty("l")){color.s=convertToPercentage(color.s);color.l=convertToPercentage(color.l);rgb=hslToRgb(color.h,color.s,color.l);ok=true;format="hsl"}color.hasOwnProperty("a")&&(a=color.a)}a=boundAlpha(a);return{ok:ok,format:color.format||format,r:mathMin(255,mathMax(rgb.r,0)),g:mathMin(255,mathMax(rgb.g,0)),b:mathMin(255,mathMax(rgb.b,0)),a:a}}function rgbToRgb(r,g,b){return{r:255*bound01(r,255),g:255*bound01(g,255),b:255*bound01(b,255)}}function rgbToHsl(r,g,b){r=bound01(r,255);g=bound01(g,255);b=bound01(b,255);var max=mathMax(r,g,b),min=mathMin(r,g,b);var h,s,l=(max+min)/2;if(max==min)h=s=0;else{var d=max-min;s=l>.5?d/(2-max-min):d/(max+min);switch(max){case r:h=(g-b)/d+(g<b?6:0);break;case g:h=(b-r)/d+2;break;case b:h=(r-g)/d+4}h/=6}return{h:h,s:s,l:l}}function hslToRgb(h,s,l){var r,g,b;h=bound01(h,360);s=bound01(s,100);l=bound01(l,100);function hue2rgb(p,q,t){t<0&&(t+=1);t>1&&(t-=1);if(t<1/6)return p+6*(q-p)*t;if(t<.5)return q;if(t<2/3)return p+(q-p)*(2/3-t)*6;return p}if(0===s)r=g=b=l;else{var q=l<.5?l*(1+s):l+s-l*s;var p=2*l-q;r=hue2rgb(p,q,h+1/3);g=hue2rgb(p,q,h);b=hue2rgb(p,q,h-1/3)}return{r:255*r,g:255*g,b:255*b}}function rgbToHsv(r,g,b){r=bound01(r,255);g=bound01(g,255);b=bound01(b,255);var max=mathMax(r,g,b),min=mathMin(r,g,b);var h,s,v=max;var d=max-min;s=0===max?0:d/max;if(max==min)h=0;else{switch(max){case r:h=(g-b)/d+(g<b?6:0);break;case g:h=(b-r)/d+2;break;case b:h=(r-g)/d+4}h/=6}return{h:h,s:s,v:v}}function hsvToRgb(h,s,v){h=6*bound01(h,360);s=bound01(s,100);v=bound01(v,100);var i=math.floor(h),f=h-i,p=v*(1-s),q=v*(1-f*s),t=v*(1-(1-f)*s),mod=i%6,r=[v,q,p,p,t,v][mod],g=[t,v,v,q,p,p][mod],b=[p,p,t,v,v,q][mod];return{r:255*r,g:255*g,b:255*b}}function rgbToHex(r,g,b,allow3Char){var hex=[pad2(mathRound(r).toString(16)),pad2(mathRound(g).toString(16)),pad2(mathRound(b).toString(16))];if(allow3Char&&hex[0].charAt(0)==hex[0].charAt(1)&&hex[1].charAt(0)==hex[1].charAt(1)&&hex[2].charAt(0)==hex[2].charAt(1))return hex[0].charAt(0)+hex[1].charAt(0)+hex[2].charAt(0);return hex.join("")}function rgbaToHex(r,g,b,a){var hex=[pad2(convertDecimalToHex(a)),pad2(mathRound(r).toString(16)),pad2(mathRound(g).toString(16)),pad2(mathRound(b).toString(16))];return hex.join("")}tinycolor.equals=function(color1,color2){if(!color1||!color2)return false;return tinycolor(color1).toRgbString()==tinycolor(color2).toRgbString()};tinycolor.random=function(){return tinycolor.fromRatio({r:mathRandom(),g:mathRandom(),b:mathRandom()})};function desaturate(color,amount){amount=0===amount?0:amount||10;var hsl=tinycolor(color).toHsl();hsl.s-=amount/100;hsl.s=clamp01(hsl.s);return tinycolor(hsl)}function saturate(color,amount){amount=0===amount?0:amount||10;var hsl=tinycolor(color).toHsl();hsl.s+=amount/100;hsl.s=clamp01(hsl.s);return tinycolor(hsl)}function greyscale(color){return tinycolor(color).desaturate(100)}function lighten(color,amount){amount=0===amount?0:amount||10;var hsl=tinycolor(color).toHsl();hsl.l+=amount/100;hsl.l=clamp01(hsl.l);return tinycolor(hsl)}function brighten(color,amount){amount=0===amount?0:amount||10;var rgb=tinycolor(color).toRgb();rgb.r=mathMax(0,mathMin(255,rgb.r-mathRound(-amount/100*255)));rgb.g=mathMax(0,mathMin(255,rgb.g-mathRound(-amount/100*255)));rgb.b=mathMax(0,mathMin(255,rgb.b-mathRound(-amount/100*255)));return tinycolor(rgb)}function darken(color,amount){amount=0===amount?0:amount||10;var hsl=tinycolor(color).toHsl();hsl.l-=amount/100;hsl.l=clamp01(hsl.l);return tinycolor(hsl)}function spin(color,amount){var hsl=tinycolor(color).toHsl();var hue=(mathRound(hsl.h)+amount)%360;hsl.h=hue<0?360+hue:hue;return tinycolor(hsl)}function complement(color){var hsl=tinycolor(color).toHsl();hsl.h=(hsl.h+180)%360;return tinycolor(hsl)}function triad(color){var hsl=tinycolor(color).toHsl();var h=hsl.h;return[tinycolor(color),tinycolor({h:(h+120)%360,s:hsl.s,l:hsl.l}),tinycolor({h:(h+240)%360,s:hsl.s,l:hsl.l})]}function tetrad(color){var hsl=tinycolor(color).toHsl();var h=hsl.h;return[tinycolor(color),tinycolor({h:(h+90)%360,s:hsl.s,l:hsl.l}),tinycolor({h:(h+180)%360,s:hsl.s,l:hsl.l}),tinycolor({h:(h+270)%360,s:hsl.s,l:hsl.l})]}function splitcomplement(color){var hsl=tinycolor(color).toHsl();var h=hsl.h;return[tinycolor(color),tinycolor({h:(h+72)%360,s:hsl.s,l:hsl.l}),tinycolor({h:(h+216)%360,s:hsl.s,l:hsl.l})]}function analogous(color,results,slices){results=results||6;slices=slices||30;var hsl=tinycolor(color).toHsl();var part=360/slices;var ret=[tinycolor(color)];for(hsl.h=(hsl.h-(part*results>>1)+720)%360;--results;){hsl.h=(hsl.h+part)%360;ret.push(tinycolor(hsl))}return ret}function monochromatic(color,results){results=results||6;var hsv=tinycolor(color).toHsv();var h=hsv.h,s=hsv.s,v=hsv.v;var ret=[];var modification=1/results;while(results--){ret.push(tinycolor({h:h,s:s,v:v}));v=(v+modification)%1}return ret}tinycolor.mix=function(color1,color2,amount){amount=0===amount?0:amount||50;var rgb1=tinycolor(color1).toRgb();var rgb2=tinycolor(color2).toRgb();var p=amount/100;var w=2*p-1;var a=rgb2.a-rgb1.a;var w1;w1=w*a==-1?w:(w+a)/(1+w*a);w1=(w1+1)/2;var w2=1-w1;var rgba={r:rgb2.r*w1+rgb1.r*w2,g:rgb2.g*w1+rgb1.g*w2,b:rgb2.b*w1+rgb1.b*w2,a:rgb2.a*p+rgb1.a*(1-p)};return tinycolor(rgba)};tinycolor.readability=function(color1,color2){var c1=tinycolor(color1);var c2=tinycolor(color2);return(Math.max(c1.getLuminance(),c2.getLuminance())+.05)/(Math.min(c1.getLuminance(),c2.getLuminance())+.05)};tinycolor.isReadable=function(color1,color2,wcag2){var readability=tinycolor.readability(color1,color2);var wcag2Parms,out;out=false;wcag2Parms=validateWCAG2Parms(wcag2);switch(wcag2Parms.level+wcag2Parms.size){case"AAsmall":case"AAAlarge":out=readability>=4.5;break;case"AAlarge":out=readability>=3;break;case"AAAsmall":out=readability>=7}return out};tinycolor.mostReadable=function(baseColor,colorList,args){var bestColor=null;var bestScore=0;var readability;var includeFallbackColors,level,size;args=args||{};includeFallbackColors=args.includeFallbackColors;level=args.level;size=args.size;for(var i=0;i<colorList.length;i++){readability=tinycolor.readability(baseColor,colorList[i]);if(readability>bestScore){bestScore=readability;bestColor=tinycolor(colorList[i])}}if(tinycolor.isReadable(baseColor,bestColor,{level:level,size:size})||!includeFallbackColors)return bestColor;args.includeFallbackColors=false;return tinycolor.mostReadable(baseColor,["#fff","#000"],args)};var names=tinycolor.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"};var hexNames=tinycolor.hexNames=flip(names);function flip(o){var flipped={};for(var i in o)o.hasOwnProperty(i)&&(flipped[o[i]]=i);return flipped}function boundAlpha(a){a=parseFloat(a);(isNaN(a)||a<0||a>1)&&(a=1);return a}function bound01(n,max){isOnePointZero(n)&&(n="100%");var processPercent=isPercentage(n);n=mathMin(max,mathMax(0,parseFloat(n)));processPercent&&(n=parseInt(n*max,10)/100);if(math.abs(n-max)<1e-6)return 1;return n%max/parseFloat(max)}function clamp01(val){return mathMin(1,mathMax(0,val))}function parseIntFromHex(val){return parseInt(val,16)}function isOnePointZero(n){return"string"==typeof n&&-1!=n.indexOf(".")&&1===parseFloat(n)}function isPercentage(n){return"string"===typeof n&&-1!=n.indexOf("%")}function pad2(c){return 1==c.length?"0"+c:""+c}function convertToPercentage(n){n<=1&&(n=100*n+"%");return n}function convertDecimalToHex(d){return Math.round(255*parseFloat(d)).toString(16)}function convertHexToDecimal(h){return parseIntFromHex(h)/255}var matchers=(CSS_INTEGER="[-\\+]?\\d+%?",CSS_NUMBER="[-\\+]?\\d*\\.\\d+%?",CSS_UNIT="(?:"+CSS_NUMBER+")|(?:"+CSS_INTEGER+")",PERMISSIVE_MATCH3="[\\s|\\(]+("+CSS_UNIT+")[,|\\s]+("+CSS_UNIT+")[,|\\s]+("+CSS_UNIT+")\\s*\\)?",PERMISSIVE_MATCH4="[\\s|\\(]+("+CSS_UNIT+")[,|\\s]+("+CSS_UNIT+")[,|\\s]+("+CSS_UNIT+")[,|\\s]+("+CSS_UNIT+")\\s*\\)?",{rgb:new RegExp("rgb"+PERMISSIVE_MATCH3),rgba:new RegExp("rgba"+PERMISSIVE_MATCH4),hsl:new RegExp("hsl"+PERMISSIVE_MATCH3),hsla:new RegExp("hsla"+PERMISSIVE_MATCH4),hsv:new RegExp("hsv"+PERMISSIVE_MATCH3),hsva:new RegExp("hsva"+PERMISSIVE_MATCH4),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});var CSS_INTEGER,CSS_NUMBER,CSS_UNIT,PERMISSIVE_MATCH3,PERMISSIVE_MATCH4;function stringInputToObject(color){color=color.replace(trimLeft,"").replace(trimRight,"").toLowerCase();var named=false;if(names[color]){color=names[color];named=true}else if("transparent"==color)return{r:0,g:0,b:0,a:0,format:"name"};var match;if(match=matchers.rgb.exec(color))return{r:match[1],g:match[2],b:match[3]};if(match=matchers.rgba.exec(color))return{r:match[1],g:match[2],b:match[3],a:match[4]};if(match=matchers.hsl.exec(color))return{h:match[1],s:match[2],l:match[3]};if(match=matchers.hsla.exec(color))return{h:match[1],s:match[2],l:match[3],a:match[4]};if(match=matchers.hsv.exec(color))return{h:match[1],s:match[2],v:match[3]};if(match=matchers.hsva.exec(color))return{h:match[1],s:match[2],v:match[3],a:match[4]};if(match=matchers.hex8.exec(color))return{a:convertHexToDecimal(match[1]),r:parseIntFromHex(match[2]),g:parseIntFromHex(match[3]),b:parseIntFromHex(match[4]),format:named?"name":"hex8"};if(match=matchers.hex6.exec(color))return{r:parseIntFromHex(match[1]),g:parseIntFromHex(match[2]),b:parseIntFromHex(match[3]),format:named?"name":"hex"};if(match=matchers.hex3.exec(color))return{r:parseIntFromHex(match[1]+""+match[1]),g:parseIntFromHex(match[2]+""+match[2]),b:parseIntFromHex(match[3]+""+match[3]),format:named?"name":"hex"};return false}function validateWCAG2Parms(parms){var level,size;parms=parms||{level:"AA",size:"small"};level=(parms.level||"AA").toUpperCase();size=(parms.size||"small").toLowerCase();"AA"!==level&&"AAA"!==level&&(level="AA");"small"!==size&&"large"!==size&&(size="small");return{level:level,size:size}}if("undefined"!==typeof module&&module.exports)module.exports=tinycolor;else{true;!(__WEBPACK_AMD_DEFINE_RESULT__=function(){return tinycolor}.call(exports,__webpack_require__,exports,module),void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))}})()},7606:function(module,exports,__webpack_require__){"use strict";var _lodash=__webpack_require__(1);var _lodash2=_interopRequireDefault(_lodash);var _index=__webpack_require__(7607);var _index2=_interopRequireDefault(_index);var _modules=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var uiModule=_modules.uiModules.get("app/searchprofiler/directives",[]);uiModule.directive("highlightdetails",function(HighlightService){return{restrict:"E",scope:{data:"@"},template:_index2.default,link:function link($scope){function render(data){if(!data)return;data.breakdown=_lodash2.default.filter(data.breakdown,function(o){return-1===o.key.indexOf("_count")});$scope.detailRow=data}$scope.$watch(function(){return HighlightService.details},render)}}})},7607:function(module,exports){module.exports='<div>\n  <b>{{detailRow.indexName}}</b>\n  <p>[{{detailRow.shardID}}][{{detailRow.shardNumber}}]</p>\n  <br/>\n  <b>Type</b>\n  <p>{{detailRow.query_type}}</p>\n  <b>Description</b>\n  <p>{{detailRow.lucene}}</p>\n  <b><span tooltip="The total time spent at this query component, inclusive of children" tooltip-placement="left">Total Time</span></b>\n  <p>{{detailRow.time | msToPretty:3 }}</p>\n  <b><span tooltip="The time spent by this query component alone, exclusive of children" tooltip-placement="left">Self Time</span></b>\n  <p>{{detailRow.selfTime | msToPretty:3 }}</p>\n  <b>Timing Breakdown</b>\n  <table class="prfDevTool__breakdown">\n    <tr style="background-color:{{breakdown.color}}" ng-repeat="breakdown in detailRow.breakdown">\n      <td><span tooltip="{{breakdown.tip}}" tooltip-placement="left">{{breakdown.key}}</span></td>\n      <td>{{breakdown.time | nsToPretty: 1}}</td>\n      <td style="width:33%; background-color:white;">\n        <div class="prfDevTool__graph progress">\n          <div class="prfDevTool__bar" style="width:{{breakdown.relative}}%"></div>\n          <p class="prfDevTool__graphLabel">{{breakdown.relative}}%</p>\n        </div>\n      </td>\n    </tr>\n  </table>\n</div>\n'},7608:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _typeof="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"===typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};exports.Range=Range;var comparePoints=function comparePoints(p1,p2){return p1.row-p2.row||p1.column-p2.column};function Range(startRow,startColumn,endRow,endColumn){this.start={row:startRow,column:startColumn};this.end={row:endRow,column:endColumn}}(function(){this.isEqual=function(range){return this.start.row===range.start.row&&this.end.row===range.end.row&&this.start.column===range.start.column&&this.end.column===range.end.column};this.toString=function(){return"Range: ["+this.start.row+"/"+this.start.column+"] -> ["+this.end.row+"/"+this.end.column+"]"};this.contains=function(row,column){return 0===this.compare(row,column)};this.compareRange=function(range){var cmp=void 0;var end=range.end;var start=range.start;cmp=this.compare(end.row,end.column);if(1===cmp){cmp=this.compare(start.row,start.column);return 1===cmp?2:0===cmp?1:0}if(-1===cmp)return-2;cmp=this.compare(start.row,start.column);return-1===cmp?-1:1===cmp?42:0};this.comparePoint=function(p){return this.compare(p.row,p.column)};this.containsRange=function(range){return 0===this.comparePoint(range.start)&&0===this.comparePoint(range.end)};this.intersects=function(range){var cmp=this.compareRange(range);return-1===cmp||0===cmp||1===cmp};this.isEnd=function(row,column){return this.end.row===row&&this.end.column===column};this.isStart=function(row,column){return this.start.row===row&&this.start.column===column};this.setStart=function(row,column){if("object"===("undefined"===typeof row?"undefined":_typeof(row))){this.start.column=row.column;this.start.row=row.row}else{this.start.row=row;this.start.column=column}};this.setEnd=function(row,column){if("object"===("undefined"===typeof row?"undefined":_typeof(row))){this.end.column=row.column;this.end.row=row.row}else{this.end.row=row;this.end.column=column}};this.inside=function(row,column){if(0===this.compare(row,column))return!this.isEnd(row,column)&&!this.isStart(row,column);return false};this.insideStart=function(row,column){if(0===this.compare(row,column))return!this.isEnd(row,column);return false};this.insideEnd=function(row,column){if(0===this.compare(row,column))return!this.isStart(row,column);return false};this.compare=function(row,column){if(!this.isMultiLine()&&row===this.start.row){if(column<this.start.column)return-1;return column>this.end.column?1:0}if(row<this.start.row)return-1;if(row>this.end.row)return 1;if(this.start.row===row)return column>=this.start.column?0:-1;if(this.end.row===row)return column<=this.end.column?0:1;return 0};this.compareStart=function(row,column){return this.start.row===row&&this.start.column===column?-1:this.compare(row,column)};this.compareEnd=function(row,column){return this.end.row===row&&this.end.column===column?1:this.compare(row,column)};this.compareInside=function(row,column){return this.end.row===row&&this.end.column===column?1:this.start.row===row&&this.start.column===column?-1:this.compare(row,column)};this.clipRows=function(firstRow,lastRow){var end=void 0;var start=void 0;this.end.row>lastRow?end={row:lastRow+1,column:0}:this.end.row<firstRow&&(end={row:firstRow,column:0});this.start.row>lastRow?start={row:lastRow+1,column:0}:this.start.row<firstRow&&(start={row:firstRow,column:0});return Range.fromPoints(start||this.start,end||this.end)};this.extend=function(row,column){var cmp=this.compare(row,column);if(0===cmp)return this;var start=void 0;var end=void 0;-1===cmp?start={row:row,column:column}:end={row:row,column:column};return Range.fromPoints(start||this.start,end||this.end)};this.isEmpty=function(){return this.start.row===this.end.row&&this.start.column===this.end.column};this.isMultiLine=function(){return this.start.row!==this.end.row};this.clone=function(){return Range.fromPoints(this.start,this.end)};this.collapseRows=function(){if(0===this.end.column)return new Range(this.start.row,0,Math.max(this.start.row,this.end.row-1),0);return new Range(this.start.row,0,this.end.row,0)};this.toScreenRange=function(session){var screenPosStart=session.documentToScreenPosition(this.start);var screenPosEnd=session.documentToScreenPosition(this.end);return new Range(screenPosStart.row,screenPosStart.column,screenPosEnd.row,screenPosEnd.column)};this.moveBy=function(row,column){this.start.row+=row;this.start.column+=column;this.end.row+=row;this.end.column+=column}}).call(Range.prototype);Range.fromPoints=function(start,end){return new Range(start.row,start.column,end.row,end.column)};Range.comparePoints=comparePoints;Range.comparePoints=function(p1,p2){return p1.row-p2.row||p1.column-p2.column}},7609:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.nsToPretty=nsToPretty;var _ms_to_pretty=__webpack_require__(2273);function nsToPretty(ns,precision){precision||(precision=1);var units=["ns","s"];var _iteratorNormalCompletion=true;var _didIteratorError=false;var _iteratorError=void 0;try{for(var _step,_iterator=units[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=true){var unit=_step.value;if(ns<1e3)return ns.toFixed(precision)+unit;ns/=1e3}}catch(err){_didIteratorError=true;_iteratorError=err}finally{try{!_iteratorNormalCompletion&&_iterator.return&&_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}return(0,_ms_to_pretty.msToPretty)(ns,precision)}},7610:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.checkForParseErrors=checkForParseErrors;function checkForParseErrors(json){try{json=JSON.parse(json)}catch(error){return{status:false,error:error}}return{status:true,parsed:json}}},7611:function(module,exports){module.exports='<kbn-dev-tools-app class="prfDevTool">\n  <div class="prfDevTool__container kuiViewContent kuiViewContentItem" ng-controller="profileViz">\n    <div class="prfDevTool__wrapper">\n      <div class="prfDevTool__main">\n        <tabset ng-show="profileResponse.length > 0">\n          <tab heading="Query Profile"\n            active="activeTab.search"\n            ng-click="activateTab(\'search\')"\n            disabled="!hasSearch">\n              <profileTree data="profileResponse" target="searches"></profileTree>\n          </tab>\n          <tab heading="Aggregation Profile"\n            active="activeTab.aggregations"\n            ng-click="activateTab(\'aggregations\')"\n            disabled="!hasAggregations">\n              <profileTree data="profileResponse" target="aggregations"></profileTree>\n          </tab>\n        </tabset>\n\n        \x3c!-- License error notice --\x3e\n        <div class="kuiNotice" ng-hide="licenseEnabled">\n          <h2 class="kuiTitle kuiVerticalRhythmSmall">\n            <span class="kuiIcon fa-warning kuiIcon--error"></span>\n            License error\n          </h1>\n\n          <p class="kuiText kuiVerticalRhythmSmall">\n            The Profiler Visualization requires an active license (<code>Trial</code>,\n            <code>Basic</code>, <code>Gold</code> or <code>Platinum</code>), but none were found in your cluster.\n          </p>\n\n          <p class="kuiText kuiVerticalRhythmSmall">\n            Please <a class="kuiLink" href="https://www.elastic.co/subscriptions" rel="noopener noreferrer">register a license</a>\n            to continue using the Search Profiler.\n          </p>\n        </div>\n      </div>\n\n      <div class="prfDevTool__sense">\n        \x3c!-- Form --\x3e\n        <div class="kuiFieldGroup">\n          <div class="kuiFieldGroupSection">\n            <div class="kuiVerticalRhythmSmall">\n              <label\n                class="kuiLabel"\n                for="searchProfilerIndexInput"\n              >\n                Index\n              </label>\n            </div>\n\n            <div class="kuiVerticalRhythmSmall">\n              <input\n                id="searchProfilerIndexInput"\n                class="kuiTextInput"\n                type="text"\n                ng-model="index"\n                placeholder="_all"\n                ng-disabled="!licenseEnabled"\n              ></input>\n            </div>\n          </div>\n\n          <div class="kuiFieldGroupSection">\n            <div class="kuiVerticalRhythmSmall">\n              <label\n                class="kuiLabel"\n                for="searchProfilerTypeInput"\n              >\n                Type\n              </label>\n            </div>\n\n            <div class="kuiVerticalRhythmSmall">\n              <input\n                id="searchProfilerTypeInput"\n                class="kuiTextInput"\n                type="text"\n                ng-model="type"\n                ng-disabled="!licenseEnabled"\n              ></input>\n            </div>\n          </div>\n        </div>\n\n        \x3c!-- Code editor --\x3e\n        <div style="height:85%;margin-bottom:5px;padding-top:20px">\n          <div ui-ace="{ onLoad : aceLoaded, mode: \'json\' }" ng-model="query" class="ace_editor"></div>\n        </div>\n\n        \x3c!-- Actions --\x3e\n        <button\n          class="kuiButton kuiButton--primary"\n          style="float:right;"\n          ng-click="profile()"\n          ng-disabled="!licenseEnabled || !query"\n        >\n          Profile\n        </button>\n      </div>\n      <aside class="prfDevTool__details">\n        <highlightdetails ng-show="highlight.details && licenseEnabled"></highlightdetails>\n      </aside>\n    </div>\n  </div>\n</kbn-dev-tools-app>\n'},7612:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.defaultQuery='{\n  "query":{\n    "match_all" : {}\n  }\n}'},7613:function(module,exports,__webpack_require__){"use strict";__webpack_require__(7614);var _chrome=__webpack_require__(9);var _chrome2=_interopRequireDefault(_chrome);var _routes=__webpack_require__(13);var _routes2=_interopRequireDefault(_routes);var _home_ng_wrapper=__webpack_require__(7615);var _home_ng_wrapper2=_interopRequireDefault(_home_ng_wrapper);var _feature_catalogue=__webpack_require__(62);var _modules=__webpack_require__(3);var _home_app=__webpack_require__(7616);var _persisted_log=__webpack_require__(241);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var app=_modules.uiModules.get("apps/home",[]);app.directive("homeApp",function(reactDirective){return reactDirective(_home_app.HomeApp)});function getRoute(){return{template:_home_ng_wrapper2.default,controller:function controller($scope,config,indexPatterns,Private){$scope.directories=Private(_feature_catalogue.FeatureCatalogueRegistryProvider).inTitleOrder;$scope.recentlyAccessed=_persisted_log.recentlyAccessed.get().map(function(item){item.link=_chrome2.default.addBasePath(item.link);return item})}}}_routes2.default.when("/home",getRoute());_routes2.default.when("/home/feature_directory",getRoute());_routes2.default.when("/home/tutorial_directory/:tab?",getRoute());_routes2.default.when("/home/tutorial/:id",getRoute())},7614:function(module,exports){},7615:function(module,exports){module.exports='<home-app\n  directories="directories"\n  recently-accessed="recentlyAccessed"\n/>\n'},7616:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.HomeApp=HomeApp;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(6);var _propTypes2=_interopRequireDefault(_propTypes);var _home=__webpack_require__(7617);var _feature_directory=__webpack_require__(7620);var _tutorial_directory=__webpack_require__(7621);var _tutorial=__webpack_require__(7626);var _reactRouterDom=__webpack_require__(49);var _load_tutorials=__webpack_require__(2275);var _replace_template_strings=__webpack_require__(7636);var _chrome=__webpack_require__(9);var _chrome2=_interopRequireDefault(_chrome);var _recently_accessed=__webpack_require__(2274);var _react3=__webpack_require__(10);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function HomeApp(_ref){var directories=_ref.directories,recentlyAccessed=_ref.recentlyAccessed;var isCloudEnabled=_chrome2.default.getInjected("isCloudEnabled",false);var apmUiEnabled=_chrome2.default.getInjected("apmUiEnabled",true);var mlEnabled=_chrome2.default.getInjected("mlEnabled",false);var savedObjectsClient=_chrome2.default.getSavedObjectsClient();var renderTutorialDirectory=function renderTutorialDirectory(props){return _react2.default.createElement(_tutorial_directory.TutorialDirectory,{addBasePath:_chrome2.default.addBasePath,openTab:props.match.params.tab,isCloudEnabled:isCloudEnabled})};var renderTutorial=function renderTutorial(props){return _react2.default.createElement(_tutorial.Tutorial,{addBasePath:_chrome2.default.addBasePath,isCloudEnabled:isCloudEnabled,getTutorial:_load_tutorials.getTutorial,replaceTemplateStrings:_replace_template_strings.replaceTemplateStrings,tutorialId:props.match.params.id,bulkCreate:savedObjectsClient.bulkCreate})};return _react2.default.createElement(_react3.I18nProvider,null,_react2.default.createElement(_reactRouterDom.HashRouter,null,_react2.default.createElement(_reactRouterDom.Switch,null,_react2.default.createElement(_reactRouterDom.Route,{path:"/home/tutorial/:id",render:renderTutorial}),_react2.default.createElement(_reactRouterDom.Route,{path:"/home/tutorial_directory/:tab?",render:renderTutorialDirectory}),_react2.default.createElement(_reactRouterDom.Route,{path:"/home/feature_directory"},_react2.default.createElement(_feature_directory.FeatureDirectory,{addBasePath:_chrome2.default.addBasePath,directories:directories})),_react2.default.createElement(_reactRouterDom.Route,{path:"/home"},_react2.default.createElement(_home.Home,{addBasePath:_chrome2.default.addBasePath,directories:directories,apmUiEnabled:apmUiEnabled,mlEnabled:mlEnabled,recentlyAccessed:recentlyAccessed,find:savedObjectsClient.find,localStorage:localStorage,urlBasePath:_chrome2.default.getBasePath()})))))}HomeApp.propTypes={directories:_propTypes2.default.arrayOf(_propTypes2.default.shape({id:_propTypes2.default.string.isRequired,title:_propTypes2.default.string.isRequired,description:_propTypes2.default.string.isRequired,icon:_propTypes2.default.string.isRequired,path:_propTypes2.default.string.isRequired,showOnHomePage:_propTypes2.default.bool.isRequired,category:_propTypes2.default.string.isRequired})),recentlyAccessed:_propTypes2.default.arrayOf(_recently_accessed.recentlyAccessedShape).isRequired}},7617:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Home=void 0;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(6);var _propTypes2=_interopRequireDefault(_propTypes);var _synopsis=__webpack_require__(1278);var _add_data=__webpack_require__(7618);var _recently_accessed=__webpack_require__(2274);var _react3=__webpack_require__(10);var _eui=__webpack_require__(2);var _welcome=__webpack_require__(7619);var _feature_catalogue=__webpack_require__(62);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var KEY_ENABLE_WELCOME="home:welcome:show";var Home=exports.Home=function(_Component){_inherits(Home,_Component);function Home(props){var _this2=this;_classCallCheck(this,Home);var _this=_possibleConstructorReturn(this,(Home.__proto__||Object.getPrototypeOf(Home)).call(this,props));_this.fetchIsNewKibanaInstance=_asyncToGenerator(regeneratorRuntime.mark(function _callee(){var resp;return regeneratorRuntime.wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;setTimeout(function(){_this.state.isLoading&&_this.setState({isWelcomeEnabled:false})},500);_context.next=4;return _this.props.find({type:"index-pattern",fields:["title"],search:"*",search_fields:["title"],perPage:1});case 4:resp=_context.sent;_this.endLoading({isNewKibanaInstance:0===resp.total});_context.next=11;break;case 8:_context.prev=8;_context.t0=_context["catch"](0);_this.endLoading();case 11:case"end":return _context.stop()}},_callee,_this2,[[0,8]])}));_this.endLoading=function(){var state=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_this._isMounted&&_this.setState(_extends({},state,{isLoading:false}))};_this.skipWelcome=function(){_this.props.localStorage.setItem(KEY_ENABLE_WELCOME,"false");_this._isMounted&&_this.setState({isWelcomeEnabled:false})};_this.renderDirectories=function(category){var _this$props=_this.props,addBasePath=_this$props.addBasePath,directories=_this$props.directories;return directories.filter(function(directory){return directory.showOnHomePage&&directory.category===category}).map(function(directory){return _react2.default.createElement(_eui.EuiFlexItem,{style:{minHeight:64},key:directory.id},_react2.default.createElement(_synopsis.Synopsis,{description:directory.description,iconType:directory.icon,title:directory.title,url:addBasePath(directory.path)}))})};var isWelcomeEnabled="false"!==props.localStorage.getItem(KEY_ENABLE_WELCOME);_this.state={isLoading:isWelcomeEnabled,isNewKibanaInstance:false,isWelcomeEnabled:isWelcomeEnabled};return _this}_createClass(Home,[{key:"componentWillUnmount",value:function componentWillUnmount(){this._isMounted=false}},{key:"componentDidMount",value:function componentDidMount(){this._isMounted=true;this.fetchIsNewKibanaInstance()}},{key:"renderNormal",value:function renderNormal(){var _props=this.props,apmUiEnabled=_props.apmUiEnabled,recentlyAccessed=_props.recentlyAccessed,mlEnabled=_props.mlEnabled;var recentlyAccessedPanel=void 0;recentlyAccessed.length>0&&(recentlyAccessedPanel=_react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_recently_accessed.RecentlyAccessed,{recentlyAccessed:recentlyAccessed}),_react2.default.createElement(_eui.EuiSpacer,{size:"l"})));return _react2.default.createElement(_eui.EuiPage,{className:"homPage"},_react2.default.createElement(_eui.EuiPageBody,null,recentlyAccessedPanel,_react2.default.createElement(_add_data.AddData,{apmUiEnabled:apmUiEnabled,mlEnabled:mlEnabled,isNewKibanaInstance:this.state.isNewKibanaInstance}),_react2.default.createElement(_eui.EuiSpacer,{size:"l"}),_react2.default.createElement(_eui.EuiFlexGroup,null,_react2.default.createElement(_eui.EuiFlexItem,null,_react2.default.createElement(_eui.EuiPanel,{paddingSize:"l"},_react2.default.createElement(_eui.EuiTitle,null,_react2.default.createElement("h3",null,_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.home.directories.visualize.nameTitle",defaultMessage:"Visualize and Explore Data"}))),_react2.default.createElement(_eui.EuiSpacer,{size:"m"}),_react2.default.createElement(_eui.EuiFlexGrid,{columns:2},this.renderDirectories(_feature_catalogue.FeatureCatalogueCategory.DATA)))),_react2.default.createElement(_eui.EuiFlexItem,null,_react2.default.createElement(_eui.EuiPanel,{paddingSize:"l"},_react2.default.createElement(_eui.EuiTitle,null,_react2.default.createElement("h3",null,_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.home.directories.manage.nameTitle",defaultMessage:"Manage and Administer the Elastic Stack"}))),_react2.default.createElement(_eui.EuiSpacer,{size:"m"}),_react2.default.createElement(_eui.EuiFlexGrid,{columns:2},this.renderDirectories(_feature_catalogue.FeatureCatalogueCategory.ADMIN))))),_react2.default.createElement(_eui.EuiSpacer,{size:"l"}),_react2.default.createElement(_eui.EuiFlexGroup,{justifyContent:"center"},_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiText,null,_react2.default.createElement("p",null,_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.home.directories.notFound.description",defaultMessage:"Didnt find what you were looking for?"}))),_react2.default.createElement(_eui.EuiSpacer,{size:"s"}),_react2.default.createElement(_eui.EuiButton,{href:"#/home/feature_directory"},_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.home.directories.notFound.viewFullButtonLabel",defaultMessage:"View full directory of Kibana plugins"}))))))}},{key:"renderLoading",value:function renderLoading(){return""}},{key:"renderWelcome",value:function renderWelcome(){return _react2.default.createElement(_welcome.Welcome,{onSkip:this.skipWelcome,urlBasePath:this.props.urlBasePath})}},{key:"render",value:function render(){var _state=this.state,isLoading=_state.isLoading,isWelcomeEnabled=_state.isWelcomeEnabled,isNewKibanaInstance=_state.isNewKibanaInstance;if(isWelcomeEnabled){if(isLoading)return this.renderLoading();if(isNewKibanaInstance)return this.renderWelcome()}return this.renderNormal()}}]);return Home}(_react.Component);Home.propTypes={addBasePath:_propTypes2.default.func.isRequired,directories:_propTypes2.default.arrayOf(_propTypes2.default.shape({id:_propTypes2.default.string.isRequired,title:_propTypes2.default.string.isRequired,description:_propTypes2.default.string.isRequired,icon:_propTypes2.default.string.isRequired,path:_propTypes2.default.string.isRequired,showOnHomePage:_propTypes2.default.bool.isRequired,category:_propTypes2.default.string.isRequired})),apmUiEnabled:_propTypes2.default.bool.isRequired,recentlyAccessed:_propTypes2.default.arrayOf(_recently_accessed.recentlyAccessedShape).isRequired,find:_propTypes2.default.func.isRequired,localStorage:_propTypes2.default.object.isRequired,urlBasePath:_propTypes2.default.string.isRequired,mlEnabled:_propTypes2.default.bool.isRequired}},7618:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.AddData=void 0;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(6);var _propTypes2=_interopRequireDefault(_propTypes);var _classnames=__webpack_require__(7);var _classnames2=_interopRequireDefault(_classnames);var _react3=__webpack_require__(10);var _chrome=__webpack_require__(9);var _chrome2=_interopRequireDefault(_chrome);var _eui=__webpack_require__(2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var basePath=_chrome2.default.getBasePath();var AddDataUi=function AddDataUi(_ref){var apmUiEnabled=_ref.apmUiEnabled,isNewKibanaInstance=_ref.isNewKibanaInstance,intl=_ref.intl,mlEnabled=_ref.mlEnabled;var renderCards=function renderCards(){var apmTitle=intl.formatMessage({id:"kbn.home.addData.apm.nameTitle",defaultMessage:"APM"});var apmDescription=intl.formatMessage({id:"kbn.home.addData.apm.nameDescription",defaultMessage:"APM automatically collects in-depth performance metrics and errors from inside your applications."});var loggingTitle=intl.formatMessage({id:"kbn.home.addData.logging.nameTitle",defaultMessage:"Logging"});var loggingDescription=intl.formatMessage({id:"kbn.home.addData.logging.nameDescription",defaultMessage:"Ingest logs from popular data sources and easily visualize in preconfigured dashboards."});var metricsTitle=intl.formatMessage({id:"kbn.home.addData.metrics.nameTitle",defaultMessage:"Metrics"});var metricsDescription=intl.formatMessage({id:"kbn.home.addData.metrics.nameDescription",defaultMessage:"Collect metrics from the operating system and services running on your servers."});var securityTitle=intl.formatMessage({id:"kbn.home.addData.security.nameTitle",defaultMessage:"Security analytics"});var securityDescription=intl.formatMessage({id:"kbn.home.addData.security.nameDescription",defaultMessage:"Centralize security events for interactive investigation in ready-to-go visualizations."});var getApmCard=function getApmCard(){return _react2.default.createElement(_eui.EuiFlexItem,null,_react2.default.createElement(_eui.EuiCard,{className:"homAddData__card",icon:_react2.default.createElement(_eui.EuiIcon,{className:"homAddData__icon",type:"apmApp"}),title:apmTitle,description:apmDescription,footer:_react2.default.createElement(_eui.EuiButton,{className:"homAddData__button",href:"#/home/tutorial/apm"},_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.home.addData.apm.addApmButtonLabel",defaultMessage:"Add APM"}))}))};return _react2.default.createElement(_eui.EuiFlexGroup,{wrap:true,gutterSize:"none"},false!==apmUiEnabled&&getApmCard(),_react2.default.createElement(_eui.EuiFlexItem,null,_react2.default.createElement(_eui.EuiCard,{className:"homAddData__card",icon:_react2.default.createElement(_eui.EuiIcon,{className:"homAddData__icon",type:"loggingApp"}),title:loggingTitle,description:loggingDescription,footer:_react2.default.createElement(_eui.EuiButton,{className:"homAddData__button",href:"#/home/tutorial_directory/logging"},_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.home.addData.logging.addLogDataButtonLabel",defaultMessage:"Add log data"}))})),_react2.default.createElement(_eui.EuiFlexItem,null,_react2.default.createElement(_eui.EuiCard,{className:"homAddData__card",icon:_react2.default.createElement(_eui.EuiIcon,{className:"homAddData__icon",type:"monitoringApp"}),title:metricsTitle,description:metricsDescription,footer:_react2.default.createElement(_eui.EuiButton,{className:"homAddData__button",href:"#/home/tutorial_directory/metrics"},_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.home.addData.metrics.addMetricsDataButtonLabel",defaultMessage:"Add metric data"}))})),_react2.default.createElement(_eui.EuiFlexItem,null,_react2.default.createElement(_eui.EuiCard,{className:"homAddData__card",icon:_react2.default.createElement(_eui.EuiIcon,{className:"homAddData__icon",type:"securityApp"}),title:securityTitle,description:securityDescription,footer:_react2.default.createElement(_eui.EuiButton,{className:"homAddData__button",href:"#/home/tutorial_directory/security"},_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.home.addData.security.addSecurityEventsButtonLabel",defaultMessage:"Add security events"}))})))};var footerItemClasses=(0,_classnames2.default)("homAddData__footerItem",{"homAddData__footerItem--highlight":isNewKibanaInstance});return _react2.default.createElement(_eui.EuiPanel,{paddingSize:"l"},_react2.default.createElement(_eui.EuiFlexGroup,null,_react2.default.createElement(_eui.EuiFlexItem,null,_react2.default.createElement(_eui.EuiTitle,null,_react2.default.createElement("h3",null,_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.home.addData.addDataToKibanaTitle",defaultMessage:"Add Data to Kibana"}))),_react2.default.createElement(_eui.EuiText,null,_react2.default.createElement("p",null,_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.home.addData.addDataToKibanaDescription",defaultMessage:"Use these solutions to quickly turn your data into pre-built dashboards and monitoring systems."}))))),_react2.default.createElement(_eui.EuiSpacer,null),renderCards(),_react2.default.createElement(_eui.EuiHorizontalRule,null),_react2.default.createElement(_eui.EuiFlexGrid,{columns:false!==mlEnabled?3:2},_react2.default.createElement(_eui.EuiFlexItem,{className:footerItemClasses},_react2.default.createElement(_eui.EuiText,null,_react2.default.createElement("strong",{style:{height:38}},_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.home.addData.sampleDataTitle",defaultMessage:"Add sample data"})),_react2.default.createElement(_eui.EuiLink,{style:{display:"block",textAlign:"center"},href:"#/home/tutorial_directory/sampleData"},_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.home.addData.sampleDataLink",defaultMessage:"Load a data set and a Kibana dashboard"})))),false!==mlEnabled?_react2.default.createElement(_eui.EuiFlexItem,{className:footerItemClasses},_react2.default.createElement(_eui.EuiText,null,_react2.default.createElement("strong",{style:{height:38}},_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.home.addData.uploadFileTitle",defaultMessage:"Upload data from log file"})),_react2.default.createElement(_eui.EuiLink,{style:{display:"block",textAlign:"center"},href:basePath+"/app/ml#/filedatavisualizer"},_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.home.addData.uploadFileLink",defaultMessage:"Import a CSV, NDJSON, or log file"})))):null,_react2.default.createElement(_eui.EuiFlexItem,{className:footerItemClasses},_react2.default.createElement(_eui.EuiText,null,_react2.default.createElement("strong",{style:{height:38}},_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.home.addData.yourDataTitle",defaultMessage:"Use Elasticsearch data"})),_react2.default.createElement(_eui.EuiLink,{style:{display:"block",textAlign:"center"},href:"#/management/kibana/index"},_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.home.addData.yourDataLink",defaultMessage:"Connect to your Elasticsearch index"}))))))};AddDataUi.propTypes={apmUiEnabled:_propTypes2.default.bool.isRequired,mlEnabled:_propTypes2.default.bool.isRequired,isNewKibanaInstance:_propTypes2.default.bool.isRequired};exports.AddData=(0,_react3.injectI18n)(AddDataUi)},7619:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Welcome=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(6);var _propTypes2=_interopRequireDefault(_propTypes);var _eui=__webpack_require__(2);var _react3=__webpack_require__(10);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var Welcome=exports.Welcome=function(_React$Component){_inherits(Welcome,_React$Component);function Welcome(){var _ref;var _temp,_this,_ret;_classCallCheck(this,Welcome);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _ret=(_temp=(_this=_possibleConstructorReturn(this,(_ref=Welcome.__proto__||Object.getPrototypeOf(Welcome)).call.apply(_ref,[this].concat(args))),_this),_this.hideOnEsc=function(e){"Escape"===e.key&&_this.props.onSkip()},_temp),_possibleConstructorReturn(_this,_ret)}_createClass(Welcome,[{key:"componentDidMount",value:function componentDidMount(){document.addEventListener("keydown",this.hideOnEsc)}},{key:"componentWillUnmount",value:function componentWillUnmount(){document.removeEventListener("keydown",this.hideOnEsc)}},{key:"render",value:function render(){var _props=this.props,urlBasePath=_props.urlBasePath,onSkip=_props.onSkip;return _react2.default.createElement("div",{className:"homWelcome"},_react2.default.createElement("header",{className:"homWelcome__header"},_react2.default.createElement("div",{className:"homWelcome__content eui-textCenter"},_react2.default.createElement(_eui.EuiSpacer,{size:"xxl"}),_react2.default.createElement("span",{className:"homWelcome__logo"},_react2.default.createElement(_eui.EuiIcon,{type:"logoKibana",size:"xxl"})),_react2.default.createElement(_eui.EuiTitle,{size:"l",className:"homWelcome__title"},_react2.default.createElement("h1",null,_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.home.welcomeTitle",defaultMessage:"Welcome to Kibana"}))),_react2.default.createElement(_eui.EuiText,{size:"s",color:"subdued",className:"homWelcome__subtitle"},_react2.default.createElement("p",null,_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.home.welcomeDescription",defaultMessage:"Your window into the Elastic Stack"}))),_react2.default.createElement(_eui.EuiSpacer,{size:"xl"}))),_react2.default.createElement("div",{className:"homWelcome__content homWelcome-body"},_react2.default.createElement(_eui.EuiFlexGroup,{gutterSize:"l"},_react2.default.createElement(_eui.EuiFlexItem,null,_react2.default.createElement(_eui.EuiCard,{image:urlBasePath+"/plugins/kibana/assets/illo_dashboard.png",textAlign:"left",title:_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.home.letsStartTitle",defaultMessage:"Let's get started"}),description:_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.home.letsStartDescription",defaultMessage:"We noticed that you don't have any data in your cluster.\nYou can try our sample data and dashboards or jump in with your own data."}),footer:_react2.default.createElement("footer",null,_react2.default.createElement(_eui.EuiButton,{fill:true,className:"homWelcome__footerAction",href:"#/home/tutorial_directory/sampleData"},_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.home.tryButtonLabel",defaultMessage:"Try our sample data"})),_react2.default.createElement(_eui.EuiButtonEmpty,{className:"homWelcome__footerAction",onClick:onSkip,"data-test-subj":"skipWelcomeScreen"},_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.home.exploreButtonLabel",defaultMessage:"Explore on my own"})))})))))}}]);return Welcome}(_react2.default.Component);Welcome.propTypes={urlBasePath:_propTypes2.default.string.isRequired,onSkip:_propTypes2.default.func.isRequired}},7620:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.FeatureDirectory=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(6);var _propTypes2=_interopRequireDefault(_propTypes);var _synopsis=__webpack_require__(1278);var _eui=__webpack_require__(2);var _feature_catalogue=__webpack_require__(62);var _i18n=__webpack_require__(18);var _react3=__webpack_require__(10);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var ALL_TAB_ID="all";var OTHERS_TAB_ID="others";var isOtherCategory=function isOtherCategory(directory){return directory.category!==_feature_catalogue.FeatureCatalogueCategory.DATA&&directory.category!==_feature_catalogue.FeatureCatalogueCategory.ADMIN};var FeatureDirectory=exports.FeatureDirectory=function(_React$Component){_inherits(FeatureDirectory,_React$Component);function FeatureDirectory(props){_classCallCheck(this,FeatureDirectory);var _this=_possibleConstructorReturn(this,(FeatureDirectory.__proto__||Object.getPrototypeOf(FeatureDirectory)).call(this,props));_this.onSelectedTabChanged=function(id){_this.setState({selectedTabId:id})};_this.renderTabs=function(){return _this.tabs.map(function(tab,index){return _react2.default.createElement(_eui.EuiTab,{onClick:function onClick(){return _this.onSelectedTabChanged(tab.id)},isSelected:tab.id===_this.state.selectedTabId,key:index},tab.name)})};_this.renderDirectories=function(){return _this.props.directories.filter(function(directory){if(_this.state.selectedTabId===ALL_TAB_ID)return true;if(_this.state.selectedTabId===OTHERS_TAB_ID)return isOtherCategory(directory);return _this.state.selectedTabId===directory.category}).map(function(directory){return _react2.default.createElement(_eui.EuiFlexItem,{key:directory.id},_react2.default.createElement(_synopsis.Synopsis,{description:directory.description,iconType:directory.icon,title:directory.title,url:_this.props.addBasePath(directory.path),wrapInPanel:true}))})};_this.tabs=[{id:ALL_TAB_ID,name:_i18n.i18n.translate("kbn.home.directory.tabs.allTitle",{defaultMessage:"All"})},{id:_feature_catalogue.FeatureCatalogueCategory.DATA,name:_i18n.i18n.translate("kbn.home.directory.tabs.dataTitle",{defaultMessage:"Data Exploration & Visualization"})},{id:_feature_catalogue.FeatureCatalogueCategory.ADMIN,name:_i18n.i18n.translate("kbn.home.directory.tabs.administrativeTitle",{defaultMessage:"Administrative"})}];props.directories.some(isOtherCategory)&&_this.tabs.push({id:OTHERS_TAB_ID,name:_i18n.i18n.translate("kbn.home.directory.tabs.otherTitle",{defaultMessage:"Other"})});_this.state={selectedTabId:ALL_TAB_ID};return _this}_createClass(FeatureDirectory,[{key:"render",value:function render(){return _react2.default.createElement(_eui.EuiPage,{className:"homPage"},_react2.default.createElement(_eui.EuiPageBody,null,_react2.default.createElement(_eui.EuiTitle,{size:"l"},_react2.default.createElement("h1",null,_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.home.directory.directoryTitle",defaultMessage:"Directory"}))),_react2.default.createElement(_eui.EuiSpacer,{size:"m"}),_react2.default.createElement(_eui.EuiTabs,{className:"homeDirectoryTabs"},this.renderTabs()),_react2.default.createElement(_eui.EuiSpacer,null),_react2.default.createElement(_eui.EuiFlexGrid,{columns:4},this.renderDirectories())))}}]);return FeatureDirectory}(_react2.default.Component);FeatureDirectory.propTypes={addBasePath:_propTypes2.default.func.isRequired,directories:_propTypes2.default.arrayOf(_propTypes2.default.shape({id:_propTypes2.default.string.isRequired,title:_propTypes2.default.string.isRequired,description:_propTypes2.default.string.isRequired,icon:_propTypes2.default.string.isRequired,path:_propTypes2.default.string.isRequired,showOnHomePage:_propTypes2.default.bool.isRequired,category:_propTypes2.default.string.isRequired}))}},7621:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.TutorialDirectory=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _lodash=__webpack_require__(1);var _lodash2=_interopRequireDefault(_lodash);var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(6);var _propTypes2=_interopRequireDefault(_propTypes);var _synopsis=__webpack_require__(1278);var _sample_data_set_cards=__webpack_require__(7622);var _eui=__webpack_require__(2);var _load_tutorials=__webpack_require__(2275);var _react3=__webpack_require__(10);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var ALL_TAB_ID="all";var SAMPLE_DATA_TAB_ID="sampleData";var TutorialDirectoryUi=function(_React$Component){_inherits(TutorialDirectoryUi,_React$Component);function TutorialDirectoryUi(props){_classCallCheck(this,TutorialDirectoryUi);var _this=_possibleConstructorReturn(this,(TutorialDirectoryUi.__proto__||Object.getPrototypeOf(TutorialDirectoryUi)).call(this,props));_this.onSelectedTabChanged=function(id){_this.setState({selectedTabId:id})};_this.renderTabs=function(){return _this.tabs.map(function(tab,index){return _react2.default.createElement(_eui.EuiTab,{onClick:function onClick(){return _this.onSelectedTabChanged(tab.id)},isSelected:tab.id===_this.state.selectedTabId,key:index},tab.name)})};_this.renderTabContent=function(){if(_this.state.selectedTabId===SAMPLE_DATA_TAB_ID)return _react2.default.createElement(_sample_data_set_cards.SampleDataSetCards,{addBasePath:_this.props.addBasePath});return _react2.default.createElement(_eui.EuiFlexGrid,{columns:4},_this.state.tutorialCards.filter(function(tutorial){return _this.state.selectedTabId===ALL_TAB_ID||_this.state.selectedTabId===tutorial.category}).map(function(tutorial){return _react2.default.createElement(_eui.EuiFlexItem,{key:tutorial.name},_react2.default.createElement(_synopsis.Synopsis,{iconType:tutorial.icon,description:tutorial.description,title:tutorial.name,wrapInPanel:true,url:tutorial.url,onClick:tutorial.onClick,isBeta:tutorial.isBeta}))}))};_this.tabs=[{id:ALL_TAB_ID,name:_this.props.intl.formatMessage({id:"kbn.home.tutorial.tabs.allTitle",defaultMessage:"All"})},{id:"logging",name:_this.props.intl.formatMessage({id:"kbn.home.tutorial.tabs.loggingTitle",defaultMessage:"Logging"})},{id:"metrics",name:_this.props.intl.formatMessage({id:"kbn.home.tutorial.tabs.metricsTitle",defaultMessage:"Metrics"})},{id:"security",name:_this.props.intl.formatMessage({id:"kbn.home.tutorial.tabs.securityAnalyticsTitle",defaultMessage:"Security analytics"})},{id:SAMPLE_DATA_TAB_ID,name:_this.props.intl.formatMessage({id:"kbn.home.tutorial.tabs.sampleDataTitle",defaultMessage:"Sample data"})}];var openTab=ALL_TAB_ID;props.openTab&&_this.tabs.some(function(tab){return tab.id===props.openTab})&&(openTab=props.openTab);_this.state={selectedTabId:openTab,tutorialCards:[]};return _this}_createClass(TutorialDirectoryUi,[{key:"componentWillUnmount",value:function componentWillUnmount(){this._isMounted=false}},{key:"componentDidMount",value:function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee(){var _this2=this;var tutorialConfigs,tutorialCards;return regeneratorRuntime.wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:this._isMounted=true;_context.next=3;return(0,_load_tutorials.getTutorials)();case 3:tutorialConfigs=_context.sent;if(this._isMounted){_context.next=6;break}return _context.abrupt("return");case 6:tutorialCards=tutorialConfigs.map(function(tutorialConfig){return{category:tutorialConfig.category,icon:tutorialConfig.euiIconType,name:tutorialConfig.name,description:tutorialConfig.shortDescription,url:_this2.props.addBasePath("#/home/tutorial/"+tutorialConfig.id),elasticCloud:tutorialConfig.elasticCloud}});tutorialCards.push({name:this.props.intl.formatMessage({id:"kbn.home.tutorial.card.sampleDataTitle",defaultMessage:"Sample Data"}),description:this.props.intl.formatMessage({id:"kbn.home.tutorial.card.sampleDataDescription",defaultMessage:'Get started exploring Kibana with these "one click" data sets.'}),url:this.props.addBasePath("#/home/tutorial_directory/sampleData"),elasticCloud:true,onClick:this.onSelectedTabChanged.bind(null,SAMPLE_DATA_TAB_ID)});this.props.isCloudEnabled&&(tutorialCards=tutorialCards.filter(function(tutorial){return _lodash2.default.has(tutorial,"elasticCloud")}));tutorialCards.sort(function(a,b){return a.name.toLowerCase().localeCompare(b.name.toLowerCase())});this.setState({tutorialCards:tutorialCards});case 11:case"end":return _context.stop()}},_callee,this)}));function componentDidMount(){return _ref.apply(this,arguments)}return componentDidMount}()},{key:"render",value:function render(){return _react2.default.createElement(_eui.EuiPage,{className:"homPage"},_react2.default.createElement(_eui.EuiPageBody,null,_react2.default.createElement("a",{className:"kuiLink",href:"#/home"},_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.home.tutorial.homeTitle",defaultMessage:"Home"})),_react2.default.createElement(_eui.EuiSpacer,{size:"s"}),_react2.default.createElement(_eui.EuiTitle,{size:"l"},_react2.default.createElement("h1",null,_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.home.tutorial.addDataTitle",defaultMessage:"Add Data to Kibana"}))),_react2.default.createElement(_eui.EuiSpacer,{size:"m"}),_react2.default.createElement(_eui.EuiTabs,null,this.renderTabs()),_react2.default.createElement(_eui.EuiSpacer,null),this.renderTabContent()))}}]);return TutorialDirectoryUi}(_react2.default.Component);TutorialDirectoryUi.propTypes={addBasePath:_propTypes2.default.func.isRequired,openTab:_propTypes2.default.string,isCloudEnabled:_propTypes2.default.bool.isRequired};exports.TutorialDirectory=(0,_react3.injectI18n)(TutorialDirectoryUi)},7622:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.SampleDataSetCards=void 0;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _lodash=__webpack_require__(1);var _lodash2=_interopRequireDefault(_lodash);var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(6);var _propTypes2=_interopRequireDefault(_propTypes);var _eui=__webpack_require__(2);var _sample_data_set_card=__webpack_require__(7623);var _notify=__webpack_require__(11);var _sample_data_client=__webpack_require__(7624);var _i18n=__webpack_require__(18);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _defineProperty(obj,key,value){key in obj?Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true}):obj[key]=value;return obj}function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var SampleDataSetCards=exports.SampleDataSetCards=function(_React$Component){_inherits(SampleDataSetCards,_React$Component);function SampleDataSetCards(props){var _this2=this;_classCallCheck(this,SampleDataSetCards);var _this=_possibleConstructorReturn(this,(SampleDataSetCards.__proto__||Object.getPrototypeOf(SampleDataSetCards)).call(this,props));_this.loadSampleDataSets=_asyncToGenerator(regeneratorRuntime.mark(function _callee(){var sampleDataSets;return regeneratorRuntime.wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:sampleDataSets=void 0;_context.prev=1;_context.next=4;return(0,_sample_data_client.listSampleDataSets)();case 4:sampleDataSets=_context.sent;_context.next=11;break;case 7:_context.prev=7;_context.t0=_context["catch"](1);_notify.toastNotifications.addDanger({title:_i18n.i18n.translate("kbn.home.sampleDataSet.unableToLoadListErrorMessage",{defaultMessage:"Unable to load sample data sets list"}),text:""+_context.t0.message});sampleDataSets=[];case 11:if(_this._isMounted){_context.next=13;break}return _context.abrupt("return");case 13:_this.setState({sampleDataSets:sampleDataSets.sort(function(a,b){return a.name.toLowerCase().localeCompare(b.name.toLowerCase())}),processingStatus:{}});case 14:case"end":return _context.stop()}},_callee,_this2,[[1,7]])}));_this.install=(_ref2=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(id){var targetSampleDataSet;return regeneratorRuntime.wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:targetSampleDataSet=_this.state.sampleDataSets.find(function(sampleDataSet){return sampleDataSet.id===id});_this.setState(function(prevState){return{processingStatus:_extends({},prevState.processingStatus,_defineProperty({},id,true))}});_context2.prev=2;_context2.next=5;return(0,_sample_data_client.installSampleDataSet)(id,targetSampleDataSet.defaultIndex);case 5:_context2.next=12;break;case 7:_context2.prev=7;_context2.t0=_context2["catch"](2);_this._isMounted&&_this.setState(function(prevState){return{processingStatus:_extends({},prevState.processingStatus,_defineProperty({},id,false))}});_notify.toastNotifications.addDanger({title:_i18n.i18n.translate("kbn.home.sampleDataSet.unableToInstallErrorMessage",{defaultMessage:"Unable to install sample data set: {name}",values:{name:targetSampleDataSet.name}}),text:""+_context2.t0.message});return _context2.abrupt("return");case 12:_this._isMounted&&_this.setState(function(prevState){return{processingStatus:_extends({},prevState.processingStatus,_defineProperty({},id,false)),sampleDataSets:prevState.sampleDataSets.map(function(sampleDataSet){sampleDataSet.id===id&&(sampleDataSet.status=_sample_data_set_card.INSTALLED_STATUS);return sampleDataSet})}});_notify.toastNotifications.addSuccess(_defineProperty({title:_i18n.i18n.translate("kbn.home.sampleDataSet.installedLabel",{defaultMessage:"{name} installed",values:{name:targetSampleDataSet.name}})},"data-test-subj","sampleDataSetInstallToast"));case 14:case"end":return _context2.stop()}},_callee2,_this2,[[2,7]])})),function(_x){return _ref2.apply(this,arguments)});var _ref2;_this.uninstall=(_ref3=_asyncToGenerator(regeneratorRuntime.mark(function _callee3(id){var targetSampleDataSet;return regeneratorRuntime.wrap(function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:targetSampleDataSet=_this.state.sampleDataSets.find(function(sampleDataSet){return sampleDataSet.id===id});_this.setState(function(prevState){return{processingStatus:_extends({},prevState.processingStatus,_defineProperty({},id,true))}});_context3.prev=2;_context3.next=5;return(0,_sample_data_client.uninstallSampleDataSet)(id,targetSampleDataSet.defaultIndex);case 5:_context3.next=12;break;case 7:_context3.prev=7;_context3.t0=_context3["catch"](2);_this._isMounted&&_this.setState(function(prevState){return{processingStatus:_extends({},prevState.processingStatus,_defineProperty({},id,false))}});_notify.toastNotifications.addDanger({title:_i18n.i18n.translate("kbn.home.sampleDataSet.unableToUninstallErrorMessage",{defaultMessage:"Unable to uninstall sample data set: {name}",values:{name:targetSampleDataSet.name}}),text:""+_context3.t0.message});return _context3.abrupt("return");case 12:_this._isMounted&&_this.setState(function(prevState){return{processingStatus:_extends({},prevState.processingStatus,_defineProperty({},id,false)),sampleDataSets:prevState.sampleDataSets.map(function(sampleDataSet){sampleDataSet.id===id&&(sampleDataSet.status=_sample_data_set_card.UNINSTALLED_STATUS);return sampleDataSet})}});_notify.toastNotifications.addSuccess(_defineProperty({title:_i18n.i18n.translate("kbn.home.sampleDataSet.uninstalledLabel",{defaultMessage:"{name} uninstalled",values:{name:targetSampleDataSet.name}})},"data-test-subj","sampleDataSetUninstallToast"));case 14:case"end":return _context3.stop()}},_callee3,_this2,[[2,7]])})),function(_x2){return _ref3.apply(this,arguments)});var _ref3;_this.state={sampleDataSets:[],processingStatus:{}};return _this}_createClass(SampleDataSetCards,[{key:"componentWillUnmount",value:function componentWillUnmount(){this._isMounted=false}},{key:"componentDidMount",value:function(){var _ref4=_asyncToGenerator(regeneratorRuntime.mark(function _callee4(){return regeneratorRuntime.wrap(function _callee4$(_context4){while(1)switch(_context4.prev=_context4.next){case 0:this._isMounted=true;this.loadSampleDataSets();case 2:case"end":return _context4.stop()}},_callee4,this)}));function componentDidMount(){return _ref4.apply(this,arguments)}return componentDidMount}()},{key:"render",value:function render(){var _this3=this;return _react2.default.createElement(_eui.EuiFlexGrid,{columns:4},this.state.sampleDataSets.map(function(sampleDataSet){return _react2.default.createElement(_eui.EuiFlexItem,{key:sampleDataSet.id},_react2.default.createElement(_sample_data_set_card.SampleDataSetCard,{id:sampleDataSet.id,description:sampleDataSet.description,name:sampleDataSet.name,launchUrl:_this3.props.addBasePath("/app/kibana#/dashboard/"+sampleDataSet.overviewDashboard),status:sampleDataSet.status,isProcessing:_lodash2.default.get(_this3.state.processingStatus,sampleDataSet.id,false),statusMsg:sampleDataSet.statusMsg,previewUrl:_this3.props.addBasePath(sampleDataSet.previewImagePath),onInstall:_this3.install,onUninstall:_this3.uninstall}))}))}}]);return SampleDataSetCards}(_react2.default.Component);SampleDataSetCards.propTypes={addBasePath:_propTypes2.default.func.isRequired}},7623:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.SampleDataSetCard=exports.UNINSTALLED_STATUS=exports.INSTALLED_STATUS=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(6);var _propTypes2=_interopRequireDefault(_propTypes);var _eui=__webpack_require__(2);var _react3=__webpack_require__(10);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var INSTALLED_STATUS=exports.INSTALLED_STATUS="installed";var UNINSTALLED_STATUS=exports.UNINSTALLED_STATUS="not_installed";var SampleDataSetCard=exports.SampleDataSetCard=function(_React$Component){_inherits(SampleDataSetCard,_React$Component);function SampleDataSetCard(){var _ref;var _temp,_this,_ret;_classCallCheck(this,SampleDataSetCard);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _ret=(_temp=(_this=_possibleConstructorReturn(this,(_ref=SampleDataSetCard.__proto__||Object.getPrototypeOf(SampleDataSetCard)).call.apply(_ref,[this].concat(args))),_this),_this.isInstalled=function(){if(_this.props.status===INSTALLED_STATUS)return true;return false},_this.install=function(){_this.props.onInstall(_this.props.id)},_this.uninstall=function(){_this.props.onUninstall(_this.props.id)},_this.renderBtn=function(){switch(_this.props.status){case INSTALLED_STATUS:return _react2.default.createElement(_eui.EuiFlexGroup,{justifyContent:"spaceBetween"},_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiButtonEmpty,{isLoading:_this.props.isProcessing,onClick:_this.uninstall,color:"danger","data-test-subj":"removeSampleDataSet"+_this.props.id},_this.props.isProcessing?_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.home.sampleDataSetCard.removingButtonLabel",defaultMessage:"Removing"}):_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.home.sampleDataSetCard.removeButtonLabel",defaultMessage:"Remove"}))),_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiButton,{href:_this.props.launchUrl,"data-test-subj":"launchSampleDataSet"+_this.props.id},_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.home.sampleDataSetCard.viewDataButtonLabel",defaultMessage:"View data"}))));case UNINSTALLED_STATUS:return _react2.default.createElement(_eui.EuiFlexGroup,{justifyContent:"flexEnd"},_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiButton,{isLoading:_this.props.isProcessing,onClick:_this.install,"data-test-subj":"addSampleDataSet"+_this.props.id},_this.props.isProcessing?_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.home.sampleDataSetCard.addingButtonLabel",defaultMessage:"Adding"}):_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.home.sampleDataSetCard.addButtonLabel",defaultMessage:"Add"}))));default:return _react2.default.createElement(_eui.EuiFlexGroup,{justifyContent:"flexEnd"},_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiToolTip,{position:"top",content:_react2.default.createElement("p",null,_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.home.sampleDataSetCard.default.unableToVerifyErrorMessage",defaultMessage:"Unable to verify dataset status, error: {statusMsg}",values:{statusMsg:_this.props.statusMsg}}))},_react2.default.createElement(_eui.EuiButton,{isDisabled:true,"data-test-subj":"addSampleDataSet"+_this.props.id},_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.home.sampleDataSetCard.default.addButtonLabel",defaultMessage:"Add"})))))}},_temp),_possibleConstructorReturn(_this,_ret)}_createClass(SampleDataSetCard,[{key:"render",value:function render(){return _react2.default.createElement(_eui.EuiCard,{className:"homSampleDataSetCard",image:this.props.previewUrl,title:this.props.name,description:this.props.description,betaBadgeLabel:this.isInstalled()?"INSTALLED":null,footer:this.renderBtn(),"data-test-subj":"sampleDataSetCard"+this.props.id})}}]);return SampleDataSetCard}(_react2.default.Component);SampleDataSetCard.propTypes={id:_propTypes2.default.string.isRequired,description:_propTypes2.default.string.isRequired,name:_propTypes2.default.string.isRequired,launchUrl:_propTypes2.default.string.isRequired,status:_propTypes2.default.oneOf([INSTALLED_STATUS,UNINSTALLED_STATUS,"unknown"]).isRequired,isProcessing:_propTypes2.default.bool.isRequired,statusMsg:_propTypes2.default.string,previewUrl:_propTypes2.default.string.isRequired,onInstall:_propTypes2.default.func.isRequired,onUninstall:_propTypes2.default.func.isRequired}},7624:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.uninstallSampleDataSet=exports.installSampleDataSet=exports.listSampleDataSets=void 0;exports.listSampleDataSets=(_ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee(){return regeneratorRuntime.wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return(0,_kfetch.kfetch)({method:"GET",pathname:sampleDataUrl});case 2:return _context.abrupt("return",_context.sent);case 3:case"end":return _context.stop()}},_callee,this)})),function listSampleDataSets(){return _ref.apply(this,arguments)});var _ref;exports.installSampleDataSet=(_ref2=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(id,sampleDataDefaultIndex){return regeneratorRuntime.wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.next=2;return(0,_kfetch.kfetch)({method:"POST",pathname:sampleDataUrl+"/"+id});case 2:_chrome2.default.getUiSettingsClient().isDefault("defaultIndex")&&_chrome2.default.getUiSettingsClient().set("defaultIndex",sampleDataDefaultIndex);clearIndexPatternsCache();case 4:case"end":return _context2.stop()}},_callee2,this)})),function installSampleDataSet(_x,_x2){return _ref2.apply(this,arguments)});var _ref2;exports.uninstallSampleDataSet=(_ref3=_asyncToGenerator(regeneratorRuntime.mark(function _callee3(id,sampleDataDefaultIndex){return regeneratorRuntime.wrap(function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:_context3.next=2;return(0,_kfetch.kfetch)({method:"DELETE",pathname:sampleDataUrl+"/"+id});case 2:_chrome2.default.getUiSettingsClient().isDefault("defaultIndex")||_chrome2.default.getUiSettingsClient().get("defaultIndex")!==sampleDataDefaultIndex||_chrome2.default.getUiSettingsClient().set("defaultIndex",null);clearIndexPatternsCache();case 4:case"end":return _context3.stop()}},_callee3,this)})),function uninstallSampleDataSet(_x3,_x4){return _ref3.apply(this,arguments)});var _ref3;var _kfetch=__webpack_require__(282);var _chrome=__webpack_require__(9);var _chrome2=_interopRequireDefault(_chrome);var _kibana_services=__webpack_require__(7625);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}var sampleDataUrl="/api/sample_data";function clearIndexPatternsCache(){_kibana_services.indexPatternService.getIds.clearCache()}},7625:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.indexPatternService=void 0;var _modules=__webpack_require__(3);exports.indexPatternService=void 0;_modules.uiModules.get("kibana").run(function($injector){exports.indexPatternService=$injector.get("indexPatterns")})},7626:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Tutorial=void 0;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _lodash=__webpack_require__(1);var _lodash2=_interopRequireDefault(_lodash);var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(6);var _propTypes2=_interopRequireDefault(_propTypes);var _footer=__webpack_require__(7627);var _introduction=__webpack_require__(7628);var _instruction_set=__webpack_require__(7629);var _saved_objects_installer=__webpack_require__(7635);var _eui=__webpack_require__(2);var _status_check_states=__webpack_require__(2276);var StatusCheckStates=_interopRequireWildcard(_status_check_states);var _react3=__webpack_require__(10);function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);newObj.default=obj;return newObj}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _defineProperty(obj,key,value){key in obj?Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true}):obj[key]=value;return obj}function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var INSTRUCTIONS_TYPE={ELASTIC_CLOUD:"elasticCloud",ON_PREM:"onPrem",ON_PREM_ELASTIC_CLOUD:"onPremElasticCloud"};var TutorialUi=function(_React$Component){_inherits(TutorialUi,_React$Component);function TutorialUi(props){var _this2=this;_classCallCheck(this,TutorialUi);var _this=_possibleConstructorReturn(this,(TutorialUi.__proto__||Object.getPrototypeOf(TutorialUi)).call(this,props));_this.getInstructions=function(){if(!_this.state.tutorial)return{instructionSets:[]};switch(_this.state.visibleInstructions){case INSTRUCTIONS_TYPE.ELASTIC_CLOUD:return _this.state.tutorial.elasticCloud;case INSTRUCTIONS_TYPE.ON_PREM:return _this.state.tutorial.onPrem;case INSTRUCTIONS_TYPE.ON_PREM_ELASTIC_CLOUD:return _this.state.tutorial.onPremElasticCloud;default:throw new Error("Unhandled instruction type "+_this.state.visibleInstructions)}};_this.getInstructionSets=function(){return _this.getInstructions().instructionSets};_this.initInstructionsState=function(){var instructions=_this.getInstructions();var paramValues={};instructions.params&&instructions.params.forEach(function(param){paramValues[param.id]=param.defaultValue});var statusCheckStates=new Array(instructions.instructionSets.length).fill(StatusCheckStates.NOT_CHECKED);_this.setState({paramValues:paramValues,statusCheckStates:statusCheckStates})};_this.setVisibleInstructions=function(instructionsType){_this.setState({visibleInstructions:instructionsType},_this.initInstructionsState)};_this.setParameter=function(paramId,newValue){_this.setState(function(previousState){var paramValues=_lodash2.default.cloneDeep(previousState.paramValues);paramValues[paramId]=newValue;return{paramValues:paramValues}})};_this.checkInstructionSetStatus=(_ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee(instructionSetIndex){var instructionSet,esHitsCheckConfig,statusCheckState;return regeneratorRuntime.wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:instructionSet=_this.getInstructionSets()[instructionSetIndex];esHitsCheckConfig=_lodash2.default.get(instructionSet,"statusCheck.esHitsCheck");if(!esHitsCheckConfig){_context.next=7;break}_context.next=5;return _this.fetchEsHitsStatus(esHitsCheckConfig);case 5:statusCheckState=_context.sent;_this.setState(function(prevState){return{statusCheckStates:_extends({},prevState.statusCheckStates,_defineProperty({},instructionSetIndex,statusCheckState))}});case 7:case"end":return _context.stop()}},_callee,_this2)})),function(_x){return _ref.apply(this,arguments)});var _ref;_this.fetchEsHitsStatus=(_ref2=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(esHitsCheckConfig){var searchHeader,searchBody,response,results,numHits;return regeneratorRuntime.wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:searchHeader=JSON.stringify({index:esHitsCheckConfig.index});searchBody=JSON.stringify({query:esHitsCheckConfig.query,size:1});_context2.next=4;return fetch(_this.props.addBasePath("/elasticsearch/_msearch"),{method:"post",body:searchHeader+"\n"+searchBody+"\n",headers:{accept:"application/json","content-type":"application/x-ndjson","kbn-xsrf":"kibana"},credentials:"same-origin"});case 4:response=_context2.sent;if(!(response.status>300)){_context2.next=7;break}return _context2.abrupt("return",StatusCheckStates.ERROR);case 7:_context2.next=9;return response.json();case 9:results=_context2.sent;numHits=_lodash2.default.get(results,"responses.[0].hits.hits.length",0);return _context2.abrupt("return",0===numHits?StatusCheckStates.NO_DATA:StatusCheckStates.HAS_DATA);case 12:case"end":return _context2.stop()}},_callee2,_this2)})),function(_x2){return _ref2.apply(this,arguments)});var _ref2;_this.renderInstructionSetsToggle=function(){if(!_this.props.isCloudEnabled&&_this.state.tutorial.onPremElasticCloud){var selfManagedLabel=_this.props.intl.formatMessage({id:"kbn.home.tutorial.selfManagedButtonLabel",defaultMessage:"Self managed"});var cloudLabel=_this.props.intl.formatMessage({id:"kbn.home.tutorial.elasticCloudButtonLabel",defaultMessage:"Elastic Cloud"});var radioButtons=[{id:INSTRUCTIONS_TYPE.ON_PREM,label:selfManagedLabel},{id:INSTRUCTIONS_TYPE.ON_PREM_ELASTIC_CLOUD,label:cloudLabel}];return _react2.default.createElement(_eui.EuiFlexGroup,{justifyContent:"center"},_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiButtonGroup,{options:radioButtons,idSelected:_this.state.visibleInstructions,onChange:_this.setVisibleInstructions,color:"primary"})))}};_this.onStatusCheck=function(instructionSetIndex){_this.setState(function(prevState){return{statusCheckStates:_extends({},prevState.statusCheckStates,_defineProperty({},instructionSetIndex,StatusCheckStates.FETCHING))}},_this.checkInstructionSetStatus.bind(null,instructionSetIndex))};_this.renderInstructionSets=function(instructions){var offset=1;return instructions.instructionSets.map(function(instructionSet,index){var currentOffset=offset;offset+=instructionSet.instructionVariants[0].instructions.length;return _react2.default.createElement(_instruction_set.InstructionSet,{title:instructionSet.title,instructionVariants:instructionSet.instructionVariants,statusCheckConfig:instructionSet.statusCheck,statusCheckState:_this.state.statusCheckStates[index],onStatusCheck:function onStatusCheck(){_this.onStatusCheck(index)},offset:currentOffset,params:instructions.params,paramValues:_this.state.paramValues,setParameter:_this.setParameter,replaceTemplateStrings:_this.props.replaceTemplateStrings,key:index})})};_this.renderSavedObjectsInstaller=function(){if(!_this.state.tutorial.savedObjects)return;return _react2.default.createElement(_saved_objects_installer.SavedObjectsInstaller,{bulkCreate:_this.props.bulkCreate,savedObjects:_this.state.tutorial.savedObjects,installMsg:_this.state.tutorial.savedObjectsInstallMsg})};_this.renderFooter=function(){var label=void 0;var url=void 0;if(_lodash2.default.has(_this.state,"tutorial.artifacts.application")){label=_this.state.tutorial.artifacts.application.label;url=_this.props.addBasePath(_this.state.tutorial.artifacts.application.path)}else if(_lodash2.default.has(_this.state,"tutorial.artifacts.dashboards")){var overviewDashboard=_this.state.tutorial.artifacts.dashboards.find(function(dashboard){return dashboard.isOverview});if(overviewDashboard){label=overviewDashboard.linkLabel;url=_this.props.addBasePath("/app/kibana#/dashboard/"+overviewDashboard.id)}}if(url&&label)return _react2.default.createElement(_footer.Footer,{label:label,url:url})};_this.state={notFound:false,paramValues:{},statusCheckStates:[],tutorial:null};props.isCloudEnabled?_this.state.visibleInstructions=INSTRUCTIONS_TYPE.ELASTIC_CLOUD:_this.state.visibleInstructions=INSTRUCTIONS_TYPE.ON_PREM;return _this}_createClass(TutorialUi,[{key:"componentWillMount",value:function componentWillMount(){this._isMounted=true}},{key:"componentWillUnmount",value:function componentWillUnmount(){this._isMounted=false}},{key:"componentDidMount",value:function(){var _ref3=_asyncToGenerator(regeneratorRuntime.mark(function _callee3(){var tutorial;return regeneratorRuntime.wrap(function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:_context3.next=2;return this.props.getTutorial(this.props.tutorialId);case 2:tutorial=_context3.sent;if(this._isMounted){_context3.next=5;break}return _context3.abrupt("return");case 5:tutorial?this.setState({tutorial:tutorial},this.initInstructionsState):this.setState({notFound:true});case 6:case"end":return _context3.stop()}},_callee3,this)}));function componentDidMount(){return _ref3.apply(this,arguments)}return componentDidMount}()},{key:"render",value:function render(){var content=void 0;this.state.notFound&&(content=_react2.default.createElement("div",{className:"homTutorial__notFoundPanel"},_react2.default.createElement(_eui.EuiText,null,_react2.default.createElement("p",null,_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.home.tutorial.noTutorialLabel",defaultMessage:"Unable to find tutorial {tutorialId}",values:{tutorialId:this.props.tutorialId}})))));if(this.state.tutorial){var previewUrl=void 0;this.state.tutorial.previewImagePath&&(previewUrl=this.props.addBasePath(this.state.tutorial.previewImagePath));var exportedFieldsUrl=void 0;_lodash2.default.has(this.state,"tutorial.artifacts.exportedFields")&&(exportedFieldsUrl=this.props.replaceTemplateStrings(this.state.tutorial.artifacts.exportedFields.documentationUrl));var instructions=this.getInstructions();content=_react2.default.createElement("div",null,_react2.default.createElement(_introduction.Introduction,{title:this.state.tutorial.name,description:this.props.replaceTemplateStrings(this.state.tutorial.longDescription),previewUrl:previewUrl,exportedFieldsUrl:exportedFieldsUrl,iconType:this.state.tutorial.euiIconType,isBeta:this.state.tutorial.isBeta}),_react2.default.createElement(_eui.EuiSpacer,null),_react2.default.createElement("div",{className:"eui-textCenter"},this.renderInstructionSetsToggle()),_react2.default.createElement(_eui.EuiSpacer,null),_react2.default.createElement(_eui.EuiPanel,{paddingSize:"l"},this.renderInstructionSets(instructions),this.renderSavedObjectsInstaller(),this.renderFooter()))}return _react2.default.createElement(_eui.EuiPage,{className:"homPage"},_react2.default.createElement(_eui.EuiPageBody,null,_react2.default.createElement("div",null,_react2.default.createElement(_eui.EuiLink,{href:"#/home"},"Home")," / ",_react2.default.createElement(_eui.EuiLink,{href:"#/home/tutorial_directory"},"Add Data")),_react2.default.createElement(_eui.EuiSpacer,{size:"s"}),content))}}]);return TutorialUi}(_react2.default.Component);TutorialUi.propTypes={addBasePath:_propTypes2.default.func.isRequired,isCloudEnabled:_propTypes2.default.bool.isRequired,getTutorial:_propTypes2.default.func.isRequired,replaceTemplateStrings:_propTypes2.default.func.isRequired,tutorialId:_propTypes2.default.string.isRequired,bulkCreate:_propTypes2.default.func.isRequired};exports.Tutorial=(0,_react3.injectI18n)(TutorialUi)},7627:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Footer=Footer;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(6);var _propTypes2=_interopRequireDefault(_propTypes);var _eui=__webpack_require__(2);var _react3=__webpack_require__(10);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function Footer(_ref){var url=_ref.url,label=_ref.label;return _react2.default.createElement("div",null,_react2.default.createElement(_eui.EuiHorizontalRule,null),_react2.default.createElement(_eui.EuiFlexGroup,{justifyContent:"spaceBetween",alignItems:"center"},_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiText,null,_react2.default.createElement("p",null,_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.home.exploreYourDataDescription",defaultMessage:"When all steps are complete, you're ready to explore your data."})))),_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiButton,{fill:true,href:url},label))))}Footer.propTypes={url:_propTypes2.default.string.isRequired,label:_propTypes2.default.string.isRequired}},7628:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Introduction=Introduction;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(6);var _propTypes2=_interopRequireDefault(_propTypes);var _content=__webpack_require__(1279);var _eui=__webpack_require__(2);var _react3=__webpack_require__(10);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function Introduction(_ref){var description=_ref.description,previewUrl=_ref.previewUrl,title=_ref.title,exportedFieldsUrl=_ref.exportedFieldsUrl,iconType=_ref.iconType,isBeta=_ref.isBeta;var img=void 0;previewUrl&&(img=_react2.default.createElement(_eui.EuiImage,{size:"l",hasShadow:true,allowFullScreen:true,fullScreenIconColor:"dark",alt:"screenshot of primary dashboard.",url:previewUrl}));var exportedFields=void 0;exportedFieldsUrl&&(exportedFields=_react2.default.createElement("div",null,_react2.default.createElement(_eui.EuiSpacer,null),_react2.default.createElement(_eui.EuiButton,{href:exportedFieldsUrl,target:"_blank",rel:"noopener noreferrer"},_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.home.tutorial.introduction.viewButtonLabel",defaultMessage:"View exported fields"}))));var icon=void 0;iconType&&(icon=_react2.default.createElement(_eui.EuiIcon,{type:iconType,size:"xl",style:{marginRight:16}}));var betaBadge=void 0;isBeta&&(betaBadge=_react2.default.createElement(_eui.EuiBetaBadge,{label:"Beta"}));return _react2.default.createElement(_eui.EuiFlexGroup,null,_react2.default.createElement(_eui.EuiFlexItem,null,_react2.default.createElement(_eui.EuiFlexGroup,{gutterSize:"s",alignItems:"center"},_react2.default.createElement(_eui.EuiFlexItem,{grow:false},icon),_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiTitle,{size:"l"},_react2.default.createElement("h2",null,title," ",betaBadge)))),_react2.default.createElement(_content.Content,{text:description}),exportedFields),_react2.default.createElement(_eui.EuiFlexItem,{grow:false},img))}Introduction.propTypes={description:_propTypes2.default.string.isRequired,title:_propTypes2.default.string.isRequired,previewUrl:_propTypes2.default.string,exportedFieldsUrl:_propTypes2.default.string,iconType:_propTypes2.default.string,isBeta:_propTypes2.default.bool};Introduction.defaultProps={isBeta:false}},7629:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.InstructionSet=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _classnames=__webpack_require__(7);var _classnames2=_interopRequireDefault(_classnames);var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(6);var _propTypes2=_interopRequireDefault(_propTypes);var _components=__webpack_require__(67);var _instruction=__webpack_require__(7630);var _parameter_form=__webpack_require__(7631);var _content=__webpack_require__(1279);var _instruction_variant=__webpack_require__(7634);var _eui=__webpack_require__(2);var _status_check_states=__webpack_require__(2276);var StatusCheckStates=_interopRequireWildcard(_status_check_states);var _react3=__webpack_require__(10);function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);newObj.default=obj;return newObj}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var InstructionSetUi=function(_React$Component){_inherits(InstructionSetUi,_React$Component);function InstructionSetUi(props){_classCallCheck(this,InstructionSetUi);var _this=_possibleConstructorReturn(this,(InstructionSetUi.__proto__||Object.getPrototypeOf(InstructionSetUi)).call(this,props));_this.handleToggleVisibility=function(){_this.setState(function(prevState){return{isParamFormVisible:!prevState.isParamFormVisible}})};_this.onSelectedTabChanged=function(id){_this.setState({selectedTabId:id})};_this.renderTabs=function(){return _this.tabs.map(function(tab,index){return _react2.default.createElement(_eui.EuiTab,{onClick:function onClick(){return _this.onSelectedTabChanged(tab.id)},isSelected:tab.id===_this.state.selectedTabId,key:index},tab.name)})};_this.renderInstructions=function(){var instructionVariant=_this.props.instructionVariants.find(function(variant){return variant.id===_this.state.selectedTabId});if(!instructionVariant)return;var steps=instructionVariant.instructions.map(function(instruction,index){var step=_react2.default.createElement(_instruction.Instruction,{commands:instruction.commands,paramValues:_this.props.paramValues,textPre:instruction.textPre,textPost:instruction.textPost,replaceTemplateStrings:_this.props.replaceTemplateStrings});return{title:instruction.title,children:step,key:index}});_this.props.statusCheckConfig&&steps.push(_this.renderStatusCheck());return _react2.default.createElement(_eui.EuiSteps,{steps:steps,firstStepNumber:_this.props.offset})};_this.renderHeader=function(){var paramsVisibilityToggle=void 0;if(_this.props.params){var visibilityToggleClasses=(0,_classnames2.default)("kuiIcon kuiSideBarCollapsibleTitle__caret",{"fa-caret-right":!_this.state.isParamFormVisible,"fa-caret-down":_this.state.isParamFormVisible});var ariaLabel=_this.props.intl.formatMessage({id:"kbn.home.tutorial.instractionSet.toggleAriaLabel",defaultMessage:"toggle command parameters visibility"});paramsVisibilityToggle=_react2.default.createElement("div",{className:"kuiSideBarCollapsibleTitle",style:{cursor:"pointer"}},_react2.default.createElement("div",{"aria-label":ariaLabel,className:"kuiSideBarCollapsibleTitle__label",onClick:_this.handleToggleVisibility},_react2.default.createElement("span",{className:visibilityToggleClasses}),_react2.default.createElement("span",{className:"kuiSideBarCollapsibleTitle__text"},_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.home.tutorial.instractionSet.customizeLabel",defaultMessage:"Customize your code snippets"}))))}return _react2.default.createElement(_components.KuiBar,{className:"kuiVerticalRhythm"},_react2.default.createElement(_components.KuiBarSection,null,_react2.default.createElement("div",{className:"kuiTitle"},_this.props.title)),_react2.default.createElement(_components.KuiBarSection,null,paramsVisibilityToggle))};_this.tabs=props.instructionVariants.map(function(variant){return{id:variant.id,name:(0,_instruction_variant.getDisplayText)(variant.id)}});_this.state={isParamFormVisible:false};_this.tabs.length>0&&(_this.state.selectedTabId=_this.tabs[0].id);return _this}_createClass(InstructionSetUi,[{key:"renderStatusCheckMessage",value:function renderStatusCheckMessage(){var message=void 0;var color=void 0;switch(this.props.statusCheckState){case StatusCheckStates.NOT_CHECKED:case StatusCheckStates.FETCHING:return null;case StatusCheckStates.HAS_DATA:message=this.props.statusCheckConfig.success?this.props.statusCheckConfig.success:this.props.intl.formatMessage({id:"kbn.home.tutorial.instractionSet.successLabel",defaultMessage:"Success"});color="success";break;case StatusCheckStates.ERROR:case StatusCheckStates.NO_DATA:message=this.props.statusCheckConfig.error?this.props.statusCheckConfig.error:this.props.intl.formatMessage({id:"kbn.home.tutorial.instractionSet.noDataLabel",defaultMessage:"No data found"});color="warning"}return _react2.default.createElement(_eui.EuiCallOut,{title:message,color:color})}},{key:"getStepStatus",value:function getStepStatus(statusCheckState){switch(statusCheckState){case void 0:case StatusCheckStates.NOT_CHECKED:case StatusCheckStates.FETCHING:return"incomplete";case StatusCheckStates.HAS_DATA:return"complete";case StatusCheckStates.NO_DATA:return"warning";case StatusCheckStates.ERROR:return"danger";default:throw new Error("Unexpected status check state "+statusCheckState)}}},{key:"renderStatusCheck",value:function renderStatusCheck(){var _props=this.props,statusCheckState=_props.statusCheckState,statusCheckConfig=_props.statusCheckConfig,onStatusCheck=_props.onStatusCheck;var checkStatusStep=_react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_eui.EuiFlexGroup,{justifyContent:"spaceBetween",alignItems:"center"},_react2.default.createElement(_eui.EuiFlexItem,null,_react2.default.createElement(_content.Content,{text:statusCheckConfig.text})),_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiButton,{onClick:onStatusCheck,isLoading:statusCheckState===StatusCheckStates.FETCHING},statusCheckConfig.btnLabel||_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.home.tutorial.instractionSet.checkStatusButtonLabel",defaultMessage:"Check status"})))),_react2.default.createElement(_eui.EuiSpacer,{size:"s"}),this.renderStatusCheckMessage());return{title:statusCheckConfig.title||this.props.intl.formatMessage({id:"kbn.home.tutorial.instractionSet.statusCheckTitle",defaultMessage:"Status Check"}),status:this.getStepStatus(statusCheckState),children:checkStatusStep,key:"checkStatusStep"}}},{key:"render",value:function render(){var paramsForm=void 0;this.props.params&&this.state.isParamFormVisible&&(paramsForm=_react2.default.createElement(_parameter_form.ParameterForm,{params:this.props.params,paramValues:this.props.paramValues,setParameter:this.props.setParameter}));return _react2.default.createElement("div",{className:"kuiVerticalRhythmLarge"},this.renderHeader(),paramsForm,_react2.default.createElement(_eui.EuiTabs,{className:"kuiVerticalRhythm"},this.renderTabs()),_react2.default.createElement(_eui.EuiSpacer,{size:"m"}),this.renderInstructions())}}]);return InstructionSetUi}(_react2.default.Component);var instructionShape=_propTypes2.default.shape({title:_propTypes2.default.string,textPre:_propTypes2.default.string,commands:_propTypes2.default.arrayOf(_propTypes2.default.string),textPost:_propTypes2.default.string});var instructionVariantShape=_propTypes2.default.shape({id:_propTypes2.default.string.isRequired,instructions:_propTypes2.default.arrayOf(instructionShape).isRequired});var statusCheckConfigShape=_propTypes2.default.shape({success:_propTypes2.default.string,error:_propTypes2.default.string,title:_propTypes2.default.string,text:_propTypes2.default.string,btnLabel:_propTypes2.default.string});InstructionSetUi.propTypes={title:_propTypes2.default.string.isRequired,instructionVariants:_propTypes2.default.arrayOf(instructionVariantShape).isRequired,statusCheckConfig:statusCheckConfigShape,statusCheckState:_propTypes2.default.oneOf([StatusCheckStates.FETCHING,StatusCheckStates.NOT_CHECKED,StatusCheckStates.HAS_DATA,StatusCheckStates.NO_DATA,StatusCheckStates.ERROR]),onStatusCheck:_propTypes2.default.func.isRequired,offset:_propTypes2.default.number.isRequired,params:_propTypes2.default.array,paramValues:_propTypes2.default.object.isRequired,setParameter:_propTypes2.default.func,replaceTemplateStrings:_propTypes2.default.func.isRequired};exports.InstructionSet=(0,_react3.injectI18n)(InstructionSetUi)},7630:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Instruction=Instruction;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(6);var _propTypes2=_interopRequireDefault(_propTypes);var _content=__webpack_require__(1279);var _eui=__webpack_require__(2);var _react3=__webpack_require__(10);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function Instruction(_ref){var commands=_ref.commands,paramValues=_ref.paramValues,textPost=_ref.textPost,textPre=_ref.textPre,replaceTemplateStrings=_ref.replaceTemplateStrings;var pre=void 0;textPre&&(pre=_react2.default.createElement(_content.Content,{text:replaceTemplateStrings(textPre)}));var post=void 0;textPost&&(post=_react2.default.createElement("div",null,_react2.default.createElement(_eui.EuiSpacer,{size:"m"}),_react2.default.createElement(_content.Content,{text:replaceTemplateStrings(textPost)})));var copyButton=void 0;var commandBlock=void 0;if(commands){var cmdText=commands.map(function(cmd){return replaceTemplateStrings(cmd,paramValues)}).join("\n");copyButton=_react2.default.createElement(_eui.EuiCopy,{textToCopy:cmdText},function(copy){return _react2.default.createElement(_eui.EuiButton,{size:"s",onClick:copy},_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.home.tutorial.instraction.copyButtonLabel",defaultMessage:"Copy snippet"}))});commandBlock=_react2.default.createElement("div",null,_react2.default.createElement(_eui.EuiSpacer,{size:"m"}),_react2.default.createElement(_eui.EuiCodeBlock,{language:"sh"},cmdText))}return _react2.default.createElement("div",null,_react2.default.createElement(_eui.EuiFlexGroup,{justifyContent:"spaceBetween",alignItems:"flexEnd"},_react2.default.createElement(_eui.EuiFlexItem,{grow:false},pre),_react2.default.createElement(_eui.EuiFlexItem,{style:{minWidth:114},grow:false},copyButton)),commandBlock,post,_react2.default.createElement(_eui.EuiSpacer,null))}Instruction.propTypes={commands:_propTypes2.default.array,paramValues:_propTypes2.default.object.isRequired,textPost:_propTypes2.default.string,textPre:_propTypes2.default.string,replaceTemplateStrings:_propTypes2.default.func.isRequired}},7631:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ParameterForm=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(6);var _propTypes2=_interopRequireDefault(_propTypes);var _number_parameter=__webpack_require__(7632);var _string_parameter=__webpack_require__(7633);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var ParameterForm=exports.ParameterForm=function(_React$Component){_inherits(ParameterForm,_React$Component);function ParameterForm(){var _ref;var _temp,_this,_ret;_classCallCheck(this,ParameterForm);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _ret=(_temp=(_this=_possibleConstructorReturn(this,(_ref=ParameterForm.__proto__||Object.getPrototypeOf(ParameterForm)).call.apply(_ref,[this].concat(args))),_this),_this.renderInputs=function(){return _this.props.params.map(function(param){switch(param.type){case"number":return _react2.default.createElement(_number_parameter.NumberParameter,{key:param.id,id:param.id,label:param.label,value:_this.props.paramValues[param.id],setParameter:_this.props.setParameter});case"string":return _react2.default.createElement(_string_parameter.StringParameter,{key:param.id,id:param.id,label:param.label,value:_this.props.paramValues[param.id],setParameter:_this.props.setParameter});default:throw new Error("Unhandled parameter type "+param.type)}})},_temp),_possibleConstructorReturn(_this,_ret)}_createClass(ParameterForm,[{key:"render",value:function render(){return _react2.default.createElement("div",null,_react2.default.createElement("div",{className:"kuiSideBarSection"},this.renderInputs()))}}]);return ParameterForm}(_react2.default.Component);var paramsShape=_propTypes2.default.shape({id:_propTypes2.default.string.isRequired,label:_propTypes2.default.string.isRequired,type:_propTypes2.default.string.isRequired});ParameterForm.propTypes={params:_propTypes2.default.arrayOf(paramsShape).isRequired,paramValues:_propTypes2.default.object.isRequired,setParameter:_propTypes2.default.func.isRequired}},7632:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.NumberParameter=NumberParameter;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(6);var _propTypes2=_interopRequireDefault(_propTypes);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function NumberParameter(_ref){var id=_ref.id,label=_ref.label,value=_ref.value,setParameter=_ref.setParameter;var handleChange=function handleChange(evt){setParameter(id,parseFloat(evt.target.value))};return _react2.default.createElement("div",{className:"kuiSideBarFormRow"},_react2.default.createElement("label",{className:"kuiSideBarFormRow__label"},label),_react2.default.createElement("div",{className:"kuiSideBarFormRow__control kuiFieldGroupSection--wide"},_react2.default.createElement("input",{className:"kuiTextInput",type:"number",value:value,onChange:handleChange})))}NumberParameter.propTypes={id:_propTypes2.default.string.isRequired,label:_propTypes2.default.string.isRequired,value:_propTypes2.default.number.isRequired,setParameter:_propTypes2.default.func.isRequired}},7633:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.StringParameter=StringParameter;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(6);var _propTypes2=_interopRequireDefault(_propTypes);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function StringParameter(_ref){var id=_ref.id,label=_ref.label,value=_ref.value,setParameter=_ref.setParameter;var handleChange=function handleChange(evt){setParameter(id,evt.target.value)};return _react2.default.createElement("div",{className:"kuiSideBarFormRow"},_react2.default.createElement("label",{className:"kuiSideBarFormRow__label"},label),_react2.default.createElement("div",{className:"kuiSideBarFormRow__control kuiFieldGroupSection--wide"},_react2.default.createElement("input",{className:"kuiTextInput",type:"text",value:value,onChange:handleChange})))}StringParameter.propTypes={id:_propTypes2.default.string.isRequired,label:_propTypes2.default.string.isRequired,value:_propTypes2.default.string.isRequired,setParameter:_propTypes2.default.func.isRequired}},7634:function(module,exports,__webpack_require__){"use strict";var _DISPLAY_MAP;function _defineProperty(obj,key,value){key in obj?Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true}):obj[key]=value;return obj}Object.defineProperty(exports,"__esModule",{value:true});exports.getDisplayText=getDisplayText;var INSTRUCTION_VARIANT=exports.INSTRUCTION_VARIANT={OSX:"osx",DEB:"deb",RPM:"rpm",DOCKER:"docker",WINDOWS:"windows",NODE:"node",DJANGO:"django",FLASK:"flask",RAILS:"rails",RACK:"rack",JS:"js",GO:"go",JAVA:"java"};var DISPLAY_MAP=(_DISPLAY_MAP={},_defineProperty(_DISPLAY_MAP,INSTRUCTION_VARIANT.OSX,"macOS"),_defineProperty(_DISPLAY_MAP,INSTRUCTION_VARIANT.DEB,"DEB"),_defineProperty(_DISPLAY_MAP,INSTRUCTION_VARIANT.RPM,"RPM"),_defineProperty(_DISPLAY_MAP,INSTRUCTION_VARIANT.DOCKER,"Docker"),_defineProperty(_DISPLAY_MAP,INSTRUCTION_VARIANT.WINDOWS,"Windows"),_defineProperty(_DISPLAY_MAP,INSTRUCTION_VARIANT.NODE,"Node.js"),_defineProperty(_DISPLAY_MAP,INSTRUCTION_VARIANT.DJANGO,"Django"),_defineProperty(_DISPLAY_MAP,INSTRUCTION_VARIANT.FLASK,"Flask"),_defineProperty(_DISPLAY_MAP,INSTRUCTION_VARIANT.RAILS,"Ruby on Rails"),_defineProperty(_DISPLAY_MAP,INSTRUCTION_VARIANT.RACK,"Rack"),_defineProperty(_DISPLAY_MAP,INSTRUCTION_VARIANT.JS,"RUM (JS)"),_defineProperty(_DISPLAY_MAP,INSTRUCTION_VARIANT.GO,"Go"),_defineProperty(_DISPLAY_MAP,INSTRUCTION_VARIANT.JAVA,"Java"),_DISPLAY_MAP);function getDisplayText(id){if(id in DISPLAY_MAP)return DISPLAY_MAP[id];return id}},7635:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.SavedObjectsInstaller=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(10);var _react2=__webpack_require__(0);var _react3=_interopRequireDefault(_react2);var _propTypes=__webpack_require__(6);var _propTypes2=_interopRequireDefault(_propTypes);var _eui=__webpack_require__(2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var SavedObjectsInstallerUi=function(_React$Component){_inherits(SavedObjectsInstallerUi,_React$Component);function SavedObjectsInstallerUi(){var _ref,_this2=this;var _temp,_this,_ret;_classCallCheck(this,SavedObjectsInstallerUi);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _ret=(_temp=(_this=_possibleConstructorReturn(this,(_ref=SavedObjectsInstallerUi.__proto__||Object.getPrototypeOf(SavedObjectsInstallerUi)).call.apply(_ref,[this].concat(args))),_this),_this.DEFAULT_BUTTON_LABEL=_this.props.intl.formatMessage({id:"kbn.home.tutorial.savedObject.defaultButtonLabel",defaultMessage:"Load Kibana objects"}),_this.state={isInstalling:false,isInstalled:false,overwrite:false,buttonLabel:_this.DEFAULT_BUTTON_LABEL},_this.installSavedObjects=_asyncToGenerator(regeneratorRuntime.mark(function _callee(){var resp,errors,overwriteErrors,hasErrors,statusMsg;return regeneratorRuntime.wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_this.setState({isInstalling:true});resp=void 0;_context.prev=2;_context.next=5;return _this.props.bulkCreate(_this.props.savedObjects,{overwrite:_this.state.overwrite});case 5:resp=_context.sent;_context.next=14;break;case 8:_context.prev=8;_context.t0=_context["catch"](2);if(_this._isMounted){_context.next=12;break}return _context.abrupt("return");case 12:_this.setState({isInstalling:false,installStatusMsg:_this.props.intl.formatMessage({id:"kbn.home.tutorial.savedObject.requestFailedErrorMessage",defaultMessage:"Request failed, Error: {message}"},{message:_context.t0.message}),isInstalled:false,overwrite:false,buttonLabel:_this.DEFAULT_BUTTON_LABEL});return _context.abrupt("return");case 14:if(_this._isMounted){_context.next=16;break}return _context.abrupt("return");case 16:errors=resp.savedObjects.filter(function(savedObject){return savedObject.hasOwnProperty("error")});overwriteErrors=errors.filter(function(savedObject){return 409===savedObject.error.statusCode});if(!(overwriteErrors.length>0)){_context.next=21;break}_this.setState({isInstalling:false,installStatusMsg:_this.props.intl.formatMessage({id:"kbn.home.tutorial.savedObject.installStatusLabel",defaultMessage:"{overwriteErrorsLength} of {savedObjectsLength} objects already exist. Click 'Confirm overwrite' to import and overwrite existing objects. Any changes to the objects will be lost."},{overwriteErrorsLength:overwriteErrors.length,savedObjectsLength:_this.props.savedObjects.length}),isInstalled:false,overwrite:true,buttonLabel:_this.props.intl.formatMessage({id:"kbn.home.tutorial.savedObject.confirmButtonLabel",defaultMessage:"Confirm overwrite"})});return _context.abrupt("return");case 21:hasErrors=errors.length>0;statusMsg=hasErrors?_this.props.intl.formatMessage({id:"kbn.home.tutorial.savedObject.unableToAddErrorMessage",defaultMessage:"Unable to add {errorsLength} of {savedObjectsLength} kibana objects, Error: {errorMessage}"},{errorsLength:errors.length,savedObjectsLength:_this.props.savedObjects.length,errorMessage:errors[0].error.message}):_this.props.intl.formatMessage({id:"kbn.home.tutorial.savedObject.addedLabel",defaultMessage:"{savedObjectsLength} saved objects successfully added"},{savedObjectsLength:_this.props.savedObjects.length});_this.setState({isInstalling:false,installStatusMsg:statusMsg,isInstalled:!hasErrors,overwrite:false,buttonLabel:_this.DEFAULT_BUTTON_LABEL});case 24:case"end":return _context.stop()}},_callee,_this2,[[2,8]])})),_this.renderInstallStep=function(){var installMsg=_this.props.installMsg?_this.props.installMsg:_this.props.intl.formatMessage({id:"kbn.home.tutorial.savedObject.installLabel",defaultMessage:"Imports index pattern, visualizations and pre-defined dashboards."});var installStep=_react3.default.createElement(_react2.Fragment,null,_react3.default.createElement(_eui.EuiFlexGroup,{justifyContent:"spaceBetween",alignItems:"center"},_react3.default.createElement(_eui.EuiFlexItem,null,_react3.default.createElement(_eui.EuiText,null,_react3.default.createElement("p",null,installMsg))),_react3.default.createElement(_eui.EuiFlexItem,{grow:false},_react3.default.createElement(_eui.EuiButton,{onClick:_this.installSavedObjects,isLoading:_this.state.isInstalling,"data-test-subj":"loadSavedObjects"},_this.state.buttonLabel))),_react3.default.createElement(_eui.EuiSpacer,{size:"s"}),_this.renderInstallMessage());return{title:_this.props.intl.formatMessage({id:"kbn.home.tutorial.savedObject.loadTitle",defaultMessage:"Load Kibana objects"}),status:_this.state.isInstalled?"complete":"incomplete",children:installStep,key:"installStep"}},_temp),_possibleConstructorReturn(_this,_ret)}_createClass(SavedObjectsInstallerUi,[{key:"componentDidMount",value:function componentDidMount(){this._isMounted=true}},{key:"componentWillUnmount",value:function componentWillUnmount(){this._isMounted=false}},{key:"renderInstallMessage",value:function renderInstallMessage(){if(!this.state.installStatusMsg)return;return _react3.default.createElement(_eui.EuiCallOut,{title:this.state.installStatusMsg,color:this.state.isInstalled?"success":"warning","data-test-subj":this.state.isInstalled?"loadSavedObjects_success":"loadSavedObjects_failed"})}},{key:"render",value:function render(){return _react3.default.createElement(_eui.EuiSteps,{steps:[this.renderInstallStep()]})}}]);return SavedObjectsInstallerUi}(_react3.default.Component);var savedObjectShape=_propTypes2.default.shape({id:_propTypes2.default.string.isRequired,type:_propTypes2.default.string.isRequired,attributes:_propTypes2.default.object.isRequired});SavedObjectsInstallerUi.propTypes={bulkCreate:_propTypes2.default.func.isRequired,savedObjects:_propTypes2.default.arrayOf(savedObjectShape).isRequired,installMsg:_propTypes2.default.string};exports.SavedObjectsInstaller=(0,_react.injectI18n)(SavedObjectsInstallerUi)},7636:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.replaceTemplateStrings=replaceTemplateStrings;var _mustache=__webpack_require__(2103);var _chrome=__webpack_require__(9);var _chrome2=_interopRequireDefault(_chrome);var _metadata=__webpack_require__(239);var _documentation_links=__webpack_require__(591);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var TEMPLATE_TAGS=["{","}"];var mustacheWriter=new _mustache.Writer;mustacheWriter.escapedValue=function escapedValue(token,context){var value=context.lookup(token[1]);if(null!=value)return value};function replaceTemplateStrings(text){var params=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var variables={curlyOpen:"{",curlyClose:"}",config:{cloud:{id:_chrome2.default.getInjected("cloudId")},docs:{base_url:_documentation_links.ELASTIC_WEBSITE_URL,beats:{filebeat:_documentation_links.documentationLinks.filebeat.base,metricbeat:_documentation_links.documentationLinks.metricbeat.base,heartbeat:_documentation_links.documentationLinks.heartbeat.base},logstash:_documentation_links.documentationLinks.logstash.base,version:_documentation_links.DOC_LINK_VERSION},kibana:{version:_metadata.metadata.version}},params:params};mustacheWriter.parse(text,TEMPLATE_TAGS);return mustacheWriter.render(text,variables)}},7637:function(module,exports,__webpack_require__){"use strict";__webpack_require__(1015);__webpack_require__(7638);__webpack_require__(2277);__webpack_require__(7644);__webpack_require__(7650);__webpack_require__(1924);var _feature_catalogue=__webpack_require__(62);_feature_catalogue.FeatureCatalogueRegistryProvider.register(function(){return{id:"discover",title:"Discover",description:"Interactively explore your data by querying and filtering raw documents.",icon:"discoverApp",path:"/app/kibana#/discover",showOnHomePage:true,category:_feature_catalogue.FeatureCatalogueCategory.DATA}})},7638:function(module,exports,__webpack_require__){"use strict";__webpack_require__(93);var _modules=__webpack_require__(3);var _no_results=__webpack_require__(7639);var _unsupported_index_pattern=__webpack_require__(7640);__webpack_require__(7641);var app=_modules.uiModules.get("apps/discover",["react"]);app.directive("discoverNoResults",function(reactDirective){return reactDirective(_no_results.DiscoverNoResults)});app.directive("discoverUnsupportedIndexPattern",function(reactDirective){return reactDirective(_unsupported_index_pattern.DiscoverUnsupportedIndexPattern,["unsupportedType"])})},7639:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.DiscoverNoResults=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(6);var _propTypes2=_interopRequireDefault(_propTypes);var _eui=__webpack_require__(2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var DiscoverNoResults=exports.DiscoverNoResults=function(_Component){_inherits(DiscoverNoResults,_Component);function DiscoverNoResults(){var _ref;var _temp,_this,_ret;_classCallCheck(this,DiscoverNoResults);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _ret=(_temp=(_this=_possibleConstructorReturn(this,(_ref=DiscoverNoResults.__proto__||Object.getPrototypeOf(DiscoverNoResults)).call.apply(_ref,[this].concat(args))),_this),_this.onClickTimePickerButton=function(){_this.props.topNavToggle("filter")},_temp),_possibleConstructorReturn(_this,_ret)}_createClass(DiscoverNoResults,[{key:"render",value:function render(){var _props=this.props,shardFailures=_props.shardFailures,timeFieldName=_props.timeFieldName,queryLanguage=_props.queryLanguage,getDocLink=_props.getDocLink,isTimePickerOpen=_props.isTimePickerOpen;var shardFailuresMessage=void 0;if(shardFailures&&shardFailures.length){var failures=shardFailures.map(function(failure,index){return _react2.default.createElement("div",{key:""+failure.index+failure.shard+failure.reason},_react2.default.createElement(_eui.EuiText,{size:"xs"},_react2.default.createElement("strong",null,"Index ",failure.index,""),", shard ",failure.shard,""),_react2.default.createElement(_eui.EuiSpacer,{size:"s"}),_react2.default.createElement(_eui.EuiCodeBlock,{paddingSize:"s"},JSON.stringify(failure.reason)),index<shardFailures.length-1?_react2.default.createElement(_eui.EuiSpacer,{size:"l"}):void 0)});shardFailuresMessage=_react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_eui.EuiSpacer,{size:"xl"}),_react2.default.createElement(_eui.EuiText,null,_react2.default.createElement("h3",null,"Address shard failures"),_react2.default.createElement("p",null,"The following shard failures occurred:"),failures))}var timeFieldMessage=void 0;timeFieldName&&(timeFieldMessage=_react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_eui.EuiSpacer,{size:"xl"}),_react2.default.createElement(_eui.EuiText,null,_react2.default.createElement("h3",null,"Expand your time range"),_react2.default.createElement("p",null,"One or more of the indices youre looking at contains a date field. Your query may not match anything in the current time range, or there may not be any data at all in the currently selected time range. You can try ",_react2.default.createElement(_eui.EuiLink,{"data-test-subj":"discoverNoResultsTimefilter",onClick:this.onClickTimePickerButton,"aria-expanded":isTimePickerOpen},"opening the time picker")," and changing the time range to one which contains data."))));var luceneQueryMessage=void 0;if("lucene"===queryLanguage){var searchExamples=[{description:_react2.default.createElement(_eui.EuiCode,null,"200"),title:_react2.default.createElement(_eui.EuiText,null,_react2.default.createElement("strong",null,"Find requests that contain the number 200, in any field"))},{description:_react2.default.createElement(_eui.EuiCode,null,"status:200"),title:_react2.default.createElement(_eui.EuiText,null,_react2.default.createElement("strong",null,"Find 200 in the status field"))},{description:_react2.default.createElement(_eui.EuiCode,null,"status:[400 TO 499]"),title:_react2.default.createElement(_eui.EuiText,null,_react2.default.createElement("strong",null,"Find all status codes between 400-499"))},{description:_react2.default.createElement(_eui.EuiCode,null,"status:[400 TO 499] AND extension:PHP"),title:_react2.default.createElement(_eui.EuiText,null,_react2.default.createElement("strong",null,"Find status codes 400-499 with the extension php"))},{description:_react2.default.createElement(_eui.EuiCode,null,"status:[400 TO 499] AND (extension:php OR extension:html)"),title:_react2.default.createElement(_eui.EuiText,null,_react2.default.createElement("strong",null,"Find status codes 400-499 with the extension php or html"))}];luceneQueryMessage=_react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_eui.EuiSpacer,{size:"xl"}),_react2.default.createElement(_eui.EuiText,null,_react2.default.createElement("h3",null,"Refine your query"),_react2.default.createElement("p",null,"The search bar at the top uses Elasticsearchs support for Lucene ",_react2.default.createElement(_eui.EuiLink,{target:"_blank",href:getDocLink("query.luceneQuerySyntax")},"Query String syntax"),". Here are some examples of how you can search for web server logs that have been parsed into a few fields.")),_react2.default.createElement(_eui.EuiSpacer,{size:"m"}),_react2.default.createElement(_eui.EuiDescriptionList,{type:"column",listItems:searchExamples}),_react2.default.createElement(_eui.EuiSpacer,{size:"xl"}))}return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_eui.EuiSpacer,{size:"xl"}),_react2.default.createElement(_eui.EuiFlexGroup,{justifyContent:"center"},_react2.default.createElement(_eui.EuiFlexItem,{grow:false,className:"dscNoResults"},_react2.default.createElement(_eui.EuiCallOut,{title:"No results match your search criteria",color:"warning",iconType:"help","data-test-subj":"discoverNoResults"}),shardFailuresMessage,timeFieldMessage,luceneQueryMessage)))}}]);return DiscoverNoResults}(_react.Component);DiscoverNoResults.propTypes={shardFailures:_propTypes2.default.array,timeFieldName:_propTypes2.default.string,queryLanguage:_propTypes2.default.string,isTimePickerOpen:_propTypes2.default.bool.isRequired,getDocLink:_propTypes2.default.func.isRequired,topNavToggle:_propTypes2.default.func.isRequired}},7640:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.DiscoverUnsupportedIndexPattern=void 0;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _eui=__webpack_require__(2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}exports.DiscoverUnsupportedIndexPattern=function DiscoverUnsupportedIndexPattern(_ref){var unsupportedType=_ref.unsupportedType;var message="Index patterns based on "+unsupportedType+" indices require the "+unsupportedType+" plugin from X-Pack, which is not installed or disabled";return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_eui.EuiSpacer,{size:"xl"}),_react2.default.createElement(_eui.EuiFlexGroup,{justifyContent:"center"},_react2.default.createElement(_eui.EuiFlexItem,{grow:false,className:"dscNoResults"},_react2.default.createElement(_eui.EuiCallOut,{title:message,color:"danger",iconType:"alert"}))))}},7641:function(module,exports,__webpack_require__){"use strict";var _vislib=__webpack_require__(764);var _vislib2=_interopRequireDefault(_vislib);var _modules=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}_modules.uiModules.get("apps/discover").directive("discoverTimechart",function(Private){var vislib=Private(_vislib2.default);return{restrict:"E",scope:{data:"="},link:function link($scope,elem){var init=function init(){var myChart=new vislib.Chart(elem[0],{addLegend:false});$scope.$watch("data",function(data){null!=data&&myChart.render(data)})};init()}}})},7642:function(module,exports,__webpack_require__){"use strict";__webpack_require__(7643);var _lodash=__webpack_require__(1);var _lodash2=_interopRequireDefault(_lodash);var _jquery=__webpack_require__(16);var _jquery2=_interopRequireDefault(_jquery);var _modules=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}_modules.uiModules.get("kibana").directive("collapsibleSidebar",function(){var listOfWidthClasses=_lodash2.default.times(11,function(i){return"col-md-"+i});return{restrict:"C",link:function link($scope,$elem){var isCollapsed=false;var $collapser=(0,_jquery2.default)('<button\n          data-test-subj="collapseSideBarButton"\n          type="button"\n          aria-expanded="true"\n          aria-label="Toggle sidebar"\n          class="kuiCollapseButton sidebar-collapser"\n        ></button>');$elem.attr("id")&&$collapser.attr("aria-controls",$elem.attr("id"));var $icon=(0,_jquery2.default)('<span class="kuiIcon fa-chevron-circle-left"></span>');$collapser.append($icon);var $siblings=$elem.siblings();var siblingsClass=listOfWidthClasses.reduce(function(prev,className){if(prev)return prev;return $siblings.hasClass(className)&&className},false);var hasSingleSibling=1===$siblings.length&&siblingsClass;$collapser.on("click",function(){if(isCollapsed){isCollapsed=false;$elem.removeClass("closed");$icon.addClass("fa-chevron-circle-left");$icon.removeClass("fa-chevron-circle-right");$collapser.attr("aria-expanded","true")}else{isCollapsed=true;$elem.addClass("closed");$icon.removeClass("fa-chevron-circle-left");$icon.addClass("fa-chevron-circle-right");$collapser.attr("aria-expanded","false")}hasSingleSibling&&$siblings.toggleClass(siblingsClass+" col-md-12");$scope.toggleSidebar&&$scope.toggleSidebar()});$collapser.appendTo($elem)}}})},7643:function(module,exports){},7644:function(module,exports,__webpack_require__){"use strict";var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};__webpack_require__(1045);__webpack_require__(1046);__webpack_require__(1735);__webpack_require__(7645);__webpack_require__(497);var _lodash=__webpack_require__(1);var _lodash2=_interopRequireDefault(_lodash);var _jquery=__webpack_require__(16);var _jquery2=_interopRequireDefault(_jquery);var _risonNode=__webpack_require__(326);var _risonNode2=_interopRequireDefault(_risonNode);var _field_calculator=__webpack_require__(7648);var _field_list=__webpack_require__(1650);var _modules=__webpack_require__(3);var _field_chooser=__webpack_require__(7649);var _field_chooser2=_interopRequireDefault(_field_chooser);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var app=_modules.uiModules.get("apps/discover");app.directive("discFieldChooser",function($location,globalState,config,$route){return{restrict:"E",scope:{columns:"=",hits:"=",fieldCounts:"=",state:"=",indexPattern:"=",indexPatternList:"=",onAddField:"=",onAddFilter:"=",onRemoveField:"="},template:_field_chooser2.default,link:function link($scope){$scope.selectedIndexPattern=$scope.indexPatternList.find(function(pattern){return pattern.id===$scope.indexPattern.id});$scope.indexPatternList=_lodash2.default.sortBy($scope.indexPatternList,function(o){return o.get("title")});$scope.setIndexPattern=function(pattern){$scope.state.index=pattern.id;$scope.state.save()};$scope.$watch("state.index",function(id,previousId){if(null==previousId||previousId===id)return;$route.reload()});var filter=$scope.filter={props:["type","aggregatable","searchable","missing","name"],defaults:{missing:true,type:"any"},boolOpts:[{label:"any",value:void 0},{label:"yes",value:true},{label:"no",value:false}],toggleVal:function toggleVal(name,def){filter.vals[name]!==def?filter.vals[name]=def:filter.vals[name]=void 0},reset:function reset(){filter.vals=_lodash2.default.clone(filter.defaults)},isFieldSelected:function isFieldSelected(field){return field.display},isFieldFiltered:function isFieldFiltered(field){var matchFilter="any"===filter.vals.type||field.type===filter.vals.type;var isAggregatable=null==filter.vals.aggregatable||field.aggregatable===filter.vals.aggregatable;var isSearchable=null==filter.vals.searchable||field.searchable===filter.vals.searchable;var scriptedOrMissing=!filter.vals.missing||field.scripted||field.rowCount>0;var matchName=!filter.vals.name||-1!==field.name.indexOf(filter.vals.name);return!field.display&&matchFilter&&isAggregatable&&isSearchable&&scriptedOrMissing&&matchName},popularity:function popularity(field){return field.count>0},getActive:function getActive(){return _lodash2.default.some(filter.props,function(prop){return filter.vals[prop]!==filter.defaults[prop]})}};filter.reset();$scope.$watchCollection("filter.vals",function(){filter.active=filter.getActive()});$scope.$watchMulti(["[]fieldCounts","[]columns","[]hits"],function(cur,prev){var newHits=cur[2]!==prev[2];var fields=$scope.fields;var columns=$scope.columns||[];var fieldCounts=$scope.fieldCounts;fields&&!newHits||($scope.fields=fields=getFields());if(!fields)return;_lodash2.default.chain(fields).each(function(field){field.displayOrder=_lodash2.default.indexOf(columns,field.name)+1;field.display=!!field.displayOrder;field.rowCount=fieldCounts[field.name]}).sortBy(function(field){return-1*(field.count||0)}).groupBy(function(field){if(field.display)return"selected";return field.count>0?"popular":"unpopular"}).tap(function(groups){groups.selected=_lodash2.default.sortBy(groups.selected||[],"displayOrder");groups.popular=groups.popular||[];groups.unpopular=groups.unpopular||[];var extras=groups.popular.splice(config.get("fields:popularLimit"));groups.unpopular=extras.concat(groups.unpopular)}).each(function(group,name){$scope[name+"Fields"]=_lodash2.default.sortBy(group,"selected"===name?"display":"name")}).commit();$scope.fieldTypes=_lodash2.default.union(["any"],_lodash2.default.pluck(fields,"type"))});$scope.increaseFieldCounter=function(fieldName){$scope.indexPattern.popularizeField(fieldName,1)};function getVisualizeUrl(field){if(!$scope.state)return"";var agg={};var isGeoPoint="geo_point"===field.type;var type=isGeoPoint?"tile_map":"histogram";agg="date"===field.type&&$scope.indexPattern.timeFieldName===field.name?{type:"date_histogram",schema:"segment",params:{field:field.name,interval:"auto"}}:isGeoPoint?{type:"geohash_grid",schema:"segment",params:{field:field.name,precision:3}}:{type:"terms",schema:"segment",params:{field:field.name,size:parseInt(config.get("discover:aggs:terms:size"),10),orderBy:"2"}};return"#/visualize/create?"+_jquery2.default.param(_lodash2.default.assign(_lodash2.default.clone($location.search()),{indexPattern:$scope.state.index,type:type,_a:_risonNode2.default.encode({filters:$scope.state.filters||[],query:$scope.state.query||void 0,vis:{type:type,aggs:[{schema:"metric",type:"count",id:"2"},agg]}})}))}$scope.computeDetails=function(field,recompute){if(_lodash2.default.isUndefined(field.details)||recompute){field.details=_extends({visualizeUrl:field.visualizable?getVisualizeUrl(field):null},_field_calculator.fieldCalculator.getFieldValueCounts({hits:$scope.hits,field:field,count:5,grouped:false}));_lodash2.default.each(field.details.buckets,function(bucket){bucket.display=field.format.convert(bucket.value)});$scope.increaseFieldCounter(field,1)}else delete field.details};function getFields(){var prevFields=$scope.fields;var indexPattern=$scope.indexPattern;var hits=$scope.hits;var fieldCounts=$scope.fieldCounts;if(!indexPattern||!hits||!fieldCounts)return;var fieldSpecs=indexPattern.fields.slice(0);var fieldNamesInDocs=_lodash2.default.keys(fieldCounts);var fieldNamesInIndexPattern=_lodash2.default.keys(indexPattern.fields.byName);_lodash2.default.difference(fieldNamesInDocs,fieldNamesInIndexPattern).forEach(function(unknownFieldName){fieldSpecs.push({name:unknownFieldName,type:"unknown"})});var fields=new _field_list.FieldList(indexPattern,fieldSpecs);prevFields&&fields.forEach(function(field){field.details=_lodash2.default.get(prevFields,["byName",field.name,"details"])});return fields}}}})},7645:function(module,exports,__webpack_require__){"use strict";var _jquery=__webpack_require__(16);var _jquery2=_interopRequireDefault(_jquery);var _discover_field=__webpack_require__(7646);var _discover_field2=_interopRequireDefault(_discover_field);var _lodash=__webpack_require__(1);var _lodash2=_interopRequireDefault(_lodash);__webpack_require__(1045);__webpack_require__(1046);var _string=__webpack_require__(7647);var _string2=_interopRequireDefault(_string);var _modules=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var app=_modules.uiModules.get("apps/discover");app.directive("discoverField",function($compile){return{restrict:"E",template:_discover_field2.default,replace:true,scope:{field:"=",onAddField:"=",onAddFilter:"=",onRemoveField:"=",onShowDetails:"="},link:function link($scope,$elem){var detailsElem=void 0;var detailScope=void 0;var init=function init(){$scope.field.details&&$scope.toggleDetails($scope.field,true)};var getWarnings=function getWarnings(field){var warnings=[];field.scripted&&warnings.push("Scripted fields can take a long time to execute.");warnings.length>1&&(warnings=warnings.map(function(warning,i){return(i>0?"\n":"")+(i+1)+" - "+warning}));return warnings};$scope.toggleDisplay=function(field){field.display?$scope.onRemoveField(field.name):$scope.onAddField(field.name);field.details&&$scope.toggleDetails(field)};$scope.onClickToggleDetails=function onClickToggleDetails($event,field){$event.currentTarget!==$event.target&&$event.preventDefault();$scope.toggleDetails(field)};$scope.toggleDetails=function(field,recompute){if(_lodash2.default.isUndefined(field.details)||recompute){$scope.onShowDetails(field,recompute);detailScope=$scope.$new();detailScope.warnings=getWarnings(field);detailsElem=(0,_jquery2.default)(_string2.default);$compile(detailsElem)(detailScope);$elem.append(detailsElem).addClass("active");$elem.find(".dscSidebarItem").addClass("dscSidebarItem--active")}else{delete field.details;detailScope.$destroy();detailsElem.remove();$elem.removeClass("active");$elem.find(".dscSidebarItem").removeClass("dscSidebarItem--active")}};init()}}})},7646:function(module,exports){module.exports='<li\n  class="sidebar-item"\n  attr-field="{{::field.name}}"\n>\n  <div\n    data-test-subj="field-{{::field.name}}"\n    ng-click="onClickToggleDetails($event, field)"\n    kbn-accessible-click\n    class="sidebar-item-title dscSidebarItem"\n  >\n    <field-name\n      class="dscField dscSidebarItem__label"\n      field="field"\n    ></field-name>\n\n    <button\n      ng-if="field.name !== \'_source\'"\n      ng-click="toggleDisplay(field)"\n      ng-class="::field.display ? \'kuiButton--danger\' : \'kuiButton--primary\'"\n      ng-bind="::field.display ? \'remove\' : \'add\'"\n      class="dscSidebarItem__action kuiButton kuiButton--small"\n      data-test-subj="fieldToggle-{{::field.name}}"\n    ></button>\n  </div>\n</li>\n'},7647:function(module,exports){module.exports='<div class="dscFieldDetails">\n  <div class="kuiVerticalRhythmSmall">\n    <p class="euiText euiText--extraSmall euiTextColor--subdued" ng-show="!field.details.error">\n      Top 5 values in\n      <span ng-if="!field.details.error">\n        <a\n          class="kuiLink"\n          kbn-accessible-click\n          ng-show="!field.indexPattern.metaFields.includes(field.name) && !field.scripted"\n          ng-click="onAddFilter(\'_exists_\', field.name, \'+\')">\n          {{::field.details.exists}}\n        </a>\n        <span\n          ng-show="field.indexPattern.metaFields.includes(field.name) || field.scripted">\n          {{::field.details.exists}}\n        </span>\n        / {{::field.details.total}} records\n      </span>\n    </p>\n\n    <div class="clearfix"></div>\n\n    <div ng-if="field.details.error" class="euiText euiText--extraSmall euiTextColor--subdued">{{field.details.error}}</div>\n\n    <div ng-if="!field.details.error">\n      <div ng-repeat="bucket in ::field.details.buckets" class="dscFieldDetailsItem">\n        <div class="dscFieldDetailsItem__title">\n          \x3c!-- Field value --\x3e\n          <div\n            css-truncate\n            css-truncate-expandable="true"\n            class="dscFieldDetails__value"\n            aria-label="Value: {{:: bucket.display === \'\' ? \'Empty string\' : bucket.display }}"\n          >\n            {{::bucket.display}} <em ng-show="bucket.display === \'\'">Empty string</em>\n          </div>\n\n          \x3c!-- Add/remove filter buttons --\x3e\n          <div\n            class="dscFieldDetailsItem__buttonGroup"\n            ng-show="field.filterable"\n          >\n            <button\n              class="dscFieldDetailsItem__button"\n              ng-click="onAddFilter(field, bucket.value, \'+\')"\n              aria-label="Filter for this value"\n              data-test-subj="plus-{{::field.name}}-{{::bucket.display}}"\n            >\n              <span\n                aria-hidden="true"\n                class="kuiIcon fa-search-plus dscFieldDetails__filter"\n              ></span>\n            </button>\n\n            <button\n              class="dscFieldDetailsItem__button"\n              ng-click="onAddFilter(field, bucket.value, \'-\')"\n              aria-label="Filter out this value"\n              data-test-subj="minus-{{::field.name}}-{{::bucket.display}}"\n            >\n              <span\n                aria-hidden="true"\n                class="kuiIcon fa-search-minus dscFieldDetails__filter"\n              ></span>\n            </button>\n          </div>\n        </div>\n        <kbn-tooltip text="{{::bucket.count}}" placement="right" append-to-body="1">\n          <progressbar\n            value="bucket.percent"\n            max="100"\n            animate="false"\n          >\n            <span class="dscFieldDetails__progress">{{bucket.percent}}%</span>\n          </progressbar>\n        </kbn-tooltip>\n      </div>\n    </div>\n  </div>\n\n  <a\n    ng-href="{{field.details.visualizeUrl}}"\n    ng-show="field.visualizable"\n    class="kuiButton kuiButton--secondary kuiButton--small kuiButton--fullWidth kuiVerticalRhythmSmall"\n    data-test-subj="fieldVisualize-{{::field.name}}"\n  >\n    Visualize\n    <span class="discover-field-vis-warning" ng-show="warnings.length" tooltip="{{warnings.join(\' \')}}">\n    ( {{::warnings.length}} <ng-pluralize count="warnings.length" when="{\'1\':\'warning\', \'other\':\'warnings\'}"></ng-pluralize> <i aria-hidden="true" class="fa fa-warning"></i> )\n    </span>\n  </a>\n</div>\n'},7648:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.fieldCalculator=void 0;var _lodash=__webpack_require__(1);var _lodash2=_interopRequireDefault(_lodash);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function getFieldValues(hits,field){var name=field.name;var flattenHit=field.indexPattern.flattenHit;return _lodash2.default.map(hits,function(hit){return flattenHit(hit)[name]})}function getFieldValueCounts(params){params=_lodash2.default.defaults(params,{count:5,grouped:false});if("geo_point"===params.field.type||"geo_shape"===params.field.type||"attachment"===params.field.type)return{error:"Analysis is not available for geo fields."};var allValues=getFieldValues(params.hits,params.field);var counts=void 0;var missing=_countMissing(allValues);try{var groups=_groupValues(allValues,params);counts=_lodash2.default.map(_lodash2.default.sortBy(groups,"count").reverse().slice(0,params.count),function(bucket){return{value:bucket.value,count:bucket.count,percent:(bucket.count/(params.hits.length-missing)*100).toFixed(1)}});if(params.hits.length-missing===0)return{error:"This field is present in your Elasticsearch mapping but not in the "+params.hits.length+" documents shown in the doc table. You may still be able to visualize or search on it."};return{total:params.hits.length,exists:params.hits.length-missing,missing:missing,buckets:counts}}catch(e){return{error:e.message}}}function _countMissing(array){return array.length-_lodash2.default.without(array,void 0,null).length}function _groupValues(allValues,params){var groups={};var k=void 0;allValues.forEach(function(value){if(_lodash2.default.isObject(value)&&!Array.isArray(value))throw new Error("Analysis is not available for object fields");k=Array.isArray(value)&&!params.grouped?value:null==value?void 0:[value];_lodash2.default.each(k,function(key){groups.hasOwnProperty(key)?groups[key].count++:groups[key]={value:params.grouped?value:key,count:1}})});return groups}exports.fieldCalculator={_groupValues:_groupValues,_countMissing:_countMissing,getFieldValues:getFieldValues,getFieldValueCounts:getFieldValueCounts}},7649:function(module,exports){module.exports='<section class="sidebar-list" aria-label="Index and fields">\n  <div ng-show="indexPatternList.length > 1">\n    <ui-select\n      class="index-pattern-selection"\n      ng-model="selectedIndexPattern"\n      on-select="setIndexPattern($item)"\n    >\n      <ui-select-match>\n        <span\n          class="uiSelectMatch--ellipsis"\n          tooltip="{{$select.selected.get(\'title\')}}"\n          tooltip-append-to-body="true"\n        >\n          {{$select.selected.get(\'title\')}}\n        </span>\n      </ui-select-match>\n      <ui-select-choices repeat="pattern in indexPatternList | filter:$select.search">\n        <div ng-bind-html="pattern.get(\'title\') | highlight: $select.search"></div>\n      </ui-select-choices>\n    </ui-select>\n  </div>\n  <div ng-hide="indexPatternList.length > 1">\n    <div class="index-pattern">\n      <h2\n        class="index-pattern-label"\n        id="index_pattern_id"\n        tabindex="0"\n        css-truncate>\n\n        {{ indexPattern.title }}</h2>\n    </div>\n  </div>\n\n  <div class="dscSidebar__listHeader sidebar-list-header" ng-if="fields.length">\n    <h3 class="sidebar-list-header-label" id="selected_fields" tabindex="0">\n      Selected fields\n    </h3>\n  </div>\n  <ul class="list-unstyled dscFieldList--selected" >\n    <discover-field\n      ng-repeat="field in fields.raw|filter:{display:true}"\n      field="field"\n      on-add-field="onAddField"\n      on-add-filter="onAddFilter"\n      on-remove-field="onRemoveField"\n      on-show-details="computeDetails"\n    >\n    </discover-field>\n  </ul>\n\n  <div class="sidebar-list-header sidebar-item euiFlexGroup euiFlexGroup--gutterMedium" ng-if="fields.length">\n    <h3 class="euiFlexItem sidebar-list-header-label" id="available_fields" tabindex="0">\n      Available fields\n    </h3>\n\n    <div class="euiFlexItem euiFlexItem--flexGrowZero">\n      <button\n        ng-click="$parent.showFields = !$parent.showFields"\n        aria-hidden="true"\n        class="kuiButton kuiButton--small visible-xs visible-sm pull-right field-collapse-toggle"\n      >\n        <span\n          aria-hidden="true"\n          class="kuiIcon"\n          ng-class="{ \'fa-chevron-right\': !$parent.showFields, \'fa-chevron-down\': $parent.showFields }"\n        ></span>\n      </button>\n    </div>\n    <div class="euiFlexItem euiFlexItem--flexGrowZero">\n      <button\n        type="button"\n        ng-class="{ \'kuiButton--basic\': !filter.active, \'kuiButton--primary\': filter.active, \'hidden-xs\': !$parent.showFields, \'hidden-sm\': !$parent.showFields }"\n        class="kuiButton kuiButton--small pull-right discover-field-filter-toggle"\n        ng-click="$parent.showFilter = !$parent.showFilter"\n        aria-label="{{$parent.showFilter ? \'Hide\' : \'Show\'}} field settings"\n        aria-expanded="{{!!$parent.showFilter}}"\n        aria-controls="discoverFieldFilter"\n        data-test-subj="toggleFieldFilterButton"\n      >\n        <span aria-hidden="true" class="kuiIcon fa-gear"></span>\n      </button>\n    </div>\n  </div>\n\n  <div class="sidebar-item dscFieldDetails" ng-show="showFilter" id="discoverFieldFilter" data-test-subj="discoverFieldFilter">\n    <form role="form">\n      <div class="form-group">\n        <label for="discoverFieldChooserFilterAggregatable">\n          Aggregatable\n        </label>\n        <select\n          id="discoverFieldChooserFilterAggregatable"\n          ng-options="opt.value as opt.label for opt in filter.boolOpts"\n          ng-model="filter.vals.aggregatable"\n          class="form-control">\n        </select>\n      </div>\n      <div class="form-group">\n        <label for="discoverFieldChooserFilterSearchable">\n          Searchable\n        </label>\n        <select\n          id="discoverFieldChooserFilterSearchable"\n          ng-options="opt.value as opt.label for opt in filter.boolOpts"\n          ng-model="filter.vals.searchable"\n          class="form-control">\n        </select>\n      </div>\n      <div class="form-group">\n        <label for="discoverFieldChooserFilterType">\n          Type\n        </label>\n        <select\n          id="discoverFieldChooserFilterType"\n          ng-options="field as field for field in fieldTypes"\n          ng-model="filter.vals.type"\n          class="form-control">\n        </select>\n      </div>\n      <div class="form-group">\n        <label for="discoverFieldChooserFilterFieldName">\n          Field name\n        </label>\n        <input\n          id="discoverFieldChooserFilterFieldName"\n          type="text"\n          class="form-control"\n          ng-model="filter.vals.name"\n        >\n      </div>\n      <div class="form-group">\n        <label for="discoverFieldChooserHideMissingFields">\n          <input id="discoverFieldChooserHideMissingFields" type="checkbox" ng-model="filter.vals.missing">\n          Hide missing fields\n        </label>\n      </div>\n      <button\n        ng-click="filter.reset()"\n        ng-disabled="!filter.active"\n        class="kuiButton kuiButton--danger kuiButton--fullWidth"\n      >\n        Reset filters\n      </button>\n    </form>\n  </div>\n\n  <ul\n    ng-show="(popularFields | filter:filter.isFieldFiltered).length > 0"\n    ng-class="{ \'hidden-sm\': !showFields, \'hidden-xs\': !showFields }"\n    class="list-unstyled sidebar-well dscFieldList--popular">\n    <li class="sidebar-item sidebar-list-header">\n      <h6>Popular</h6>\n    </li>\n    <discover-field\n      ng-repeat="field in popularFields | filter:filter.isFieldFiltered"\n      field="field"\n      on-add-field="onAddField"\n      on-add-filter="onAddFilter"\n      on-remove-field="onRemoveField"\n      on-show-details="computeDetails"\n    >\n    </discover-field>\n  </ul>\n\n  <ul\n    ng-class="{ \'hidden-sm\': !showFields, \'hidden-xs\': !showFields  }"\n    class="list-unstyled dscFieldList--unpopular">\n    <discover-field\n      ng-repeat="field in unpopularFields | filter:filter.isFieldFiltered"\n      field="field"\n      on-add-field="onAddField"\n      on-add-filter="onAddFilter"\n      on-remove-field="onRemoveField"\n      on-show-details="computeDetails"\n    >\n    </discover-field>\n  </ul>\n\n</section>\n'},7650:function(module,exports,__webpack_require__){"use strict";var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};var _lodash=__webpack_require__(1);var _lodash2=_interopRequireDefault(_lodash);var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _angular=__webpack_require__(22);var _angular2=_interopRequireDefault(_angular);var _get_sort=__webpack_require__(1923);var _columns=__webpack_require__(1926);var columnActions=_interopRequireWildcard(_columns);var _filter=__webpack_require__(1966);var filterActions=_interopRequireWildcard(_filter);var _datemath=__webpack_require__(83);var _datemath2=_interopRequireDefault(_datemath);__webpack_require__(1922);__webpack_require__(2278);__webpack_require__(7651);__webpack_require__(1731);__webpack_require__(498);__webpack_require__(331);__webpack_require__(584);var _timefilter=__webpack_require__(17);__webpack_require__(1122);var _courier=__webpack_require__(101);var _notify=__webpack_require__(11);var _vis=__webpack_require__(1657);var _vislib=__webpack_require__(1913);var _doc_title=__webpack_require__(421);var _hit_sort_fn=__webpack_require__(7652);var _hit_sort_fn2=_interopRequireDefault(_hit_sort_fn);var _query_filter=__webpack_require__(308);var _interval_options=__webpack_require__(1670);var _state_monitor_factory=__webpack_require__(1132);var _routes=__webpack_require__(13);var _routes2=_interopRequireDefault(_routes);var _modules=__webpack_require__(3);var _index=__webpack_require__(7653);var _index2=_interopRequireDefault(_index);var _state=__webpack_require__(976);var _migrateLegacyQuery=__webpack_require__(736);var _filter_manager=__webpack_require__(745);var _saved_objects=__webpack_require__(72);var _visualization_loader=__webpack_require__(1865);var _persisted_log=__webpack_require__(241);var _documentation_links=__webpack_require__(242);__webpack_require__(7654);var _get_painless_error=__webpack_require__(7656);var _share=__webpack_require__(1136);var _state_hashing=__webpack_require__(418);var _inspector=__webpack_require__(494);var _adapters=__webpack_require__(495);var _courier_inspector_utils=__webpack_require__(742);var _show_open_search_panel=__webpack_require__(7657);var _tabify=__webpack_require__(7659);var _show_saved_object_save_modal=__webpack_require__(1134);var _saved_object_save_modal=__webpack_require__(1135);function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);newObj.default=obj;return newObj}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}return Array.from(arr)}function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}var app=_modules.uiModules.get("apps/discover",["kibana/notify","kibana/courier","kibana/url","kibana/index_patterns"]);_routes2.default.defaults(/discover/,{requireDefaultIndex:true}).when("/discover/:id?",{template:_index2.default,reloadOnSearch:false,resolve:{ip:function ip(Promise,indexPatterns,config,$location,Private){var State=Private(_state.StateProvider);var savedObjectsClient=Private(_saved_objects.SavedObjectsClientProvider);return savedObjectsClient.find({type:"index-pattern",fields:["title"],perPage:1e4}).then(function(_ref){var savedObjects=_ref.savedObjects;var state=new State("_a",{});var specified=!!state.index;var exists=_lodash2.default.findIndex(savedObjects,function(o){return o.id===state.index})>-1;var id=exists?state.index:config.get("defaultIndex");state.destroy();return Promise.props({list:savedObjects,loaded:indexPatterns.get(id),stateVal:state.index,stateValFound:specified&&exists})})},savedSearch:function savedSearch(redirectWhenMissing,savedSearches,$route){var savedSearchId=$route.current.params.id;return savedSearches.get(savedSearchId).then(function(savedSearch){savedSearchId&&_persisted_log.recentlyAccessed.add(savedSearch.getFullPath(),savedSearch.title,savedSearchId);return savedSearch}).catch(redirectWhenMissing({search:"/discover","index-pattern":"/management/kibana/objects/savedSearches/"+$route.current.params.id}))}}});app.directive("discoverApp",function(){return{restrict:"E",controllerAs:"discoverApp",controller:discoverController}});function discoverController($element,$route,$scope,$timeout,$window,AppState,Notifier,Private,Promise,config,courier,kbnUrl,localStorage,breadcrumbState){var _this=this;var saveDataSource=(_ref10=_asyncToGenerator(regeneratorRuntime.mark(function _callee6(saveOptions){var id;return regeneratorRuntime.wrap(function _callee6$(_context6){while(1)switch(_context6.prev=_context6.next){case 0:_context6.next=2;return $scope.updateDataSource();case 2:savedSearch.columns=$scope.state.columns;savedSearch.sort=$scope.state.sort;_context6.prev=4;_context6.next=7;return savedSearch.save(saveOptions);case 7:id=_context6.sent;$scope.$evalAsync(function(){stateMonitor.setInitialState($state.toJSON());if(id){_notify.toastNotifications.addSuccess({title:"Search '"+savedSearch.title+"' was saved","data-test-subj":"saveSearchSuccess"});if(savedSearch.id!==$route.current.params.id)kbnUrl.change("/discover/{{id}}",{id:savedSearch.id});else{$state.setDefaults(getStateDefaults());docTitle.change(savedSearch.lastSavedTitle)}}});return _context6.abrupt("return",{id:id});case 12:_context6.prev=12;_context6.t0=_context6["catch"](4);_notify.toastNotifications.addDanger({title:"Search '"+savedSearch.title+"' was not saved.",text:_context6.t0.message});return _context6.abrupt("return",{error:_context6.t0});case 16:case"end":return _context6.stop()}},_callee6,this,[[4,12]])})),function saveDataSource(_x4){return _ref10.apply(this,arguments)});var _ref10;var Vis=Private(_vis.VisProvider);var docTitle=Private(_doc_title.DocTitleProvider);var HitSortFn=Private(_hit_sort_fn2.default);var queryFilter=Private(_query_filter.FilterBarQueryFilterProvider);var responseHandler=Private(_vislib.VislibSeriesResponseHandlerProvider).handler;var filterManager=Private(_filter_manager.FilterManagerProvider);var notify=new Notifier({location:"Discover"});var getUnhashableStates=Private(_state_hashing.getUnhashableStatesProvider);var shareContextMenuExtensions=Private(_share.ShareContextMenuExtensionsRegistryProvider);var inspectorAdapters={requests:new _adapters.RequestAdapter};$scope.getDocLink=_documentation_links.getDocLink;$scope.intervalOptions=_interval_options.intervalOptions;$scope.showInterval=false;$scope.minimumVisibleRows=50;$scope.intervalEnabled=function(interval){return"custom"!==interval.val};var savedSearch=$route.current.locals.savedSearch;$scope.$on("$destroy",savedSearch.destroy);var $appStatus=$scope.appStatus=this.appStatus={dirty:!savedSearch.id};$scope.topNavMenu=[{key:"new",description:"New Search",run:function run(){kbnUrl.change("/discover")},testId:"discoverNewButton"},{key:"save",description:"Save Search",testId:"discoverSaveButton",run:function(){var _ref2=_asyncToGenerator(regeneratorRuntime.mark(function _callee(){var onSave,saveModal;return regeneratorRuntime.wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:onSave=function onSave(_ref3){var newTitle=_ref3.newTitle,newCopyOnSave=_ref3.newCopyOnSave,isTitleDuplicateConfirmed=_ref3.isTitleDuplicateConfirmed,onTitleDuplicate=_ref3.onTitleDuplicate;var currentTitle=savedSearch.title;savedSearch.title=newTitle;savedSearch.copyOnSave=newCopyOnSave;var saveOptions={confirmOverwrite:false,isTitleDuplicateConfirmed:isTitleDuplicateConfirmed,onTitleDuplicate:onTitleDuplicate};return saveDataSource(saveOptions).then(function(_ref4){var id=_ref4.id,error=_ref4.error;id&&!error||(savedSearch.title=currentTitle);return{id:id,error:error}})};saveModal=_react2.default.createElement(_saved_object_save_modal.SavedObjectSaveModal,{onSave:onSave,onClose:function onClose(){},title:savedSearch.title,showCopyOnSave:!!savedSearch.id,objectType:"search"});(0,_show_saved_object_save_modal.showSaveModal)(saveModal);case 3:case"end":return _context.stop()}},_callee,_this)}));function run(){return _ref2.apply(this,arguments)}return run}()},{key:"open",description:"Open Saved Search",testId:"discoverOpenButton",run:function run(){(0,_show_open_search_panel.showOpenSearchPanel)({makeUrl:function makeUrl(searchId){return kbnUrl.eval("#/discover/{{id}}",{id:searchId})}})}},{key:"share",description:"Share Search",testId:"shareTopNavButton",run:function(){var _ref5=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(menuItem,navController,anchorElement){var sharingData;return regeneratorRuntime.wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.next=2;return _this.getSharingData();case 2:sharingData=_context2.sent;(0,_share.showShareContextMenu)({anchorElement:anchorElement,allowEmbed:false,getUnhashableStates:getUnhashableStates,objectId:savedSearch.id,objectType:"search",shareContextMenuExtensions:shareContextMenuExtensions,sharingData:_extends({},sharingData,{title:savedSearch.title}),isDirty:$appStatus.dirty});case 4:case"end":return _context2.stop()}},_callee2,_this)}));function run(_x,_x2,_x3){return _ref5.apply(this,arguments)}return run}()},{key:"inspect",description:"Open Inspector for search",testId:"openInspectorButton",run:function run(){_inspector.Inspector.open(inspectorAdapters,{title:savedSearch.title})}}];$scope.searchSource=savedSearch.searchSource;$scope.indexPattern=resolveIndexPatternLoading();$scope.searchSource.setField("index",$scope.indexPattern).setField("highlightAll",true).setField("version",true);$scope.searchSource.setPreferredSearchStrategyId("default");var timeRangeSearchSource=savedSearch.searchSource.create();(0,_courier.isDefaultTypeIndexPattern)($scope.indexPattern)&&timeRangeSearchSource.setField("filter",function(){return _timefilter.timefilter.createFilter($scope.indexPattern)});$scope.searchSource.setParent(timeRangeSearchSource);var pageTitleSuffix=savedSearch.id&&savedSearch.title?": "+savedSearch.title:"";docTitle.change("Discover"+pageTitleSuffix);savedSearch.id&&savedSearch.title?breadcrumbState.set([{text:"Discover",href:"#/discover"},{text:savedSearch.title}]):breadcrumbState.set([{text:"Discover"}]);var stateMonitor=void 0;var $state=$scope.state=new AppState(getStateDefaults());var getFieldCounts=(_ref6=_asyncToGenerator(regeneratorRuntime.mark(function _callee3(){return regeneratorRuntime.wrap(function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:if($scope.fetchStatus){_context3.next=2;break}return _context3.abrupt("return",$scope.fieldCounts);case 2:_context3.next=4;return new Promise(function(resolve){var unwatch=$scope.$watch("fetchStatus",function(newValue){if(newValue)return;unwatch();resolve($scope.fieldCounts)})});case 4:return _context3.abrupt("return",_context3.sent);case 5:case"end":return _context3.stop()}},_callee3,_this)})),function getFieldCounts(){return _ref6.apply(this,arguments)});var _ref6;var getSharingDataFields=(_ref7=_asyncToGenerator(regeneratorRuntime.mark(function _callee4(){var selectedFields,fieldCounts,timeFieldName,fields;return regeneratorRuntime.wrap(function _callee4$(_context4){while(1)switch(_context4.prev=_context4.next){case 0:selectedFields=$state.columns;if(!(1===selectedFields.length&&"_source"===selectedFields[0])){_context4.next=6;break}_context4.next=4;return getFieldCounts();case 4:fieldCounts=_context4.sent;return _context4.abrupt("return",{searchFields:null,selectFields:_lodash2.default.keys(fieldCounts).sort()});case 6:timeFieldName=$scope.indexPattern.timeFieldName;fields=timeFieldName?[timeFieldName].concat(_toConsumableArray(selectedFields)):selectedFields;return _context4.abrupt("return",{searchFields:fields,selectFields:fields});case 9:case"end":return _context4.stop()}},_callee4,_this)})),function getSharingDataFields(){return _ref7.apply(this,arguments)});var _ref7;this.getSharingData=_asyncToGenerator(regeneratorRuntime.mark(function _callee5(){var searchSource,_ref9,searchFields,selectFields,body;return regeneratorRuntime.wrap(function _callee5$(_context5){while(1)switch(_context5.prev=_context5.next){case 0:searchSource=$scope.searchSource.createCopy();_context5.next=3;return getSharingDataFields();case 3:_ref9=_context5.sent;searchFields=_ref9.searchFields;selectFields=_ref9.selectFields;searchSource.setField("fields",searchFields);searchSource.setField("sort",(0,_get_sort.getSort)($state.sort,$scope.indexPattern));searchSource.setField("highlight",null);searchSource.setField("highlightAll",null);searchSource.setField("aggs",null);searchSource.setField("size",null);_context5.next=14;return searchSource.getSearchRequestBody();case 14:body=_context5.sent;return _context5.abrupt("return",{searchRequest:{index:searchSource.getField("index").title,body:body},fields:selectFields,metaFields:$scope.indexPattern.metaFields,conflictedTypesFields:$scope.indexPattern.fields.filter(function(f){return"conflict"===f.type}).map(function(f){return f.name}),indexPatternId:searchSource.getField("index").id});case 16:case"end":return _context5.stop()}},_callee5,_this)}));$scope.uiState=$state.makeStateful("uiState");function getStateDefaults(){return{query:$scope.searchSource.getField("query")||{query:"",language:localStorage.get("kibana.userQueryLanguage")||config.get("search:queryLanguage")},sort:_get_sort.getSort.array(savedSearch.sort,$scope.indexPattern,config.get("discover:sort:defaultOrder")),columns:savedSearch.columns.length>0?savedSearch.columns:config.get("defaultColumns").slice(),index:$scope.indexPattern.id,interval:"auto",filters:_lodash2.default.cloneDeep($scope.searchSource.getOwnField("filter"))}}$state.index=$scope.indexPattern.id;$state.sort=_get_sort.getSort.array($state.sort,$scope.indexPattern);$scope.getBucketIntervalToolTipText=function(){return"This interval creates "+($scope.bucketInterval.scale>1?"buckets that are too large":"too many buckets")+"\n      to show in the selected time range, so it has been scaled to "+$scope.bucketInterval.description};$scope.$watchCollection("state.columns",function(){$state.save()});$scope.opts={sampleSize:config.get("discover:sampleSize"),timefield:(0,_courier.isDefaultTypeIndexPattern)($scope.indexPattern)&&$scope.indexPattern.timeFieldName,savedSearch:savedSearch,indexPatternList:$route.current.locals.ip.list};var init=_lodash2.default.once(function(){stateMonitor=_state_monitor_factory.stateMonitorFactory.create($state,getStateDefaults());stateMonitor.onChange(function(status){$appStatus.dirty=status.dirty||!savedSearch.id});$scope.$on("$destroy",function(){return stateMonitor.destroy()});$scope.updateDataSource().then(function(){$scope.$listen(_timefilter.timefilter,"fetch",function(){$scope.fetch()});$scope.$watchCollection("state.sort",function(sort){if(!sort)return;var currentSort=_lodash2.default.pairs($scope.searchSource.getField("sort")).pop();_angular2.default.equals(sort,currentSort)||$scope.fetch()});$scope.$listen(queryFilter,"update",function(){return $scope.updateDataSource().then(function(){$state.save()})});$scope.$listen($state,"fetch_with_changes",function(diff){diff.indexOf("query")>=0&&$scope.fetch()});$scope.$listen(queryFilter,"fetch",$scope.fetch);_timefilter.timefilter.enableAutoRefreshSelector();$scope.$watch("opts.timefield",function(timefield){timefield?_timefilter.timefilter.enableTimeRangeSelector():_timefilter.timefilter.disableTimeRangeSelector()});$scope.$watch("state.interval",function(){$scope.fetch()});$scope.$watch("vis.aggs",function(){if(!$scope.opts.timefield)return;var buckets=$scope.vis.getAggConfig().bySchemaGroup.buckets;buckets&&1===buckets.length&&($scope.bucketInterval=buckets[0].buckets.getInterval())});$scope.$watch("state.query",$scope.updateQueryAndFetch);$scope.$watchMulti(["rows","fetchStatus"],function updateResultState(){var prev={};var status={LOADING:"loading",READY:"ready",NO_RESULTS:"none"};function pick(rows,oldRows,fetchStatus){if(null==rows&&null==oldRows)return status.LOADING;var rowsEmpty=_lodash2.default.isEmpty(rows);var preparingForFetch=_lodash2.default.isUndefined(fetchStatus);return preparingForFetch?status.LOADING:rowsEmpty&&fetchStatus?status.LOADING:rowsEmpty?status.NO_RESULTS:status.READY}return function(){var current={rows:$scope.rows,fetchStatus:$scope.fetchStatus};$scope.resultState=pick(current.rows,prev.rows,current.fetchStatus,prev.fetchStatus);prev=current}}());if($scope.opts.timefield){setupVisualization();$scope.updateTime()}init.complete=true;$state.replace()})});$scope.opts.fetch=$scope.fetch=function(){if(!init.complete)return;$scope.fetchError=void 0;$scope.updateTime();$scope.updateDataSource().then(setupVisualization).then(function(){$state.save();return courier.fetch()}).catch(notify.error)};$scope.updateQueryAndFetch=function(query){$state.query=(0,_migrateLegacyQuery.migrateLegacyQuery)(query);$scope.fetch()};function handleSegmentedFetch(segmented){function flushResponseData(){$scope.fetchError=void 0;$scope.hits=0;$scope.failures=[];$scope.rows=[];$scope.fieldCounts={}}$scope.rows||flushResponseData();var sort=$state.sort;var timeField=$scope.indexPattern.timeFieldName;var sortBy=Array.isArray(sort)?"_score"===sort[0]?"implicit":sort[0]===timeField?"time":"non-time":"implicit";var sortFn=null;"implicit"!==sortBy&&(sortFn=new HitSortFn(sort[1]));$scope.updateTime();"_score"===sort[0]&&segmented.setMaxSegments(1);segmented.setDirection("time"===sortBy&&sort[1]||"desc");segmented.setSortFn(sortFn);segmented.setSize($scope.opts.sampleSize);var inspectorRequests=[];function logResponseInInspector(resp){if(inspectorRequests.length>0){var inspectorRequest=inspectorRequests.shift();inspectorRequest.stats((0,_courier_inspector_utils.getResponseInspectorStats)($scope.searchSource,resp)).ok({json:resp})}}segmented.on("status",function(status){$scope.fetchStatus=status;if(0===status.complete){inspectorAdapters.requests.reset();inspectorRequests=[]}if(status.remaining>0){var inspectorRequest=inspectorAdapters.requests.start("Segment "+$scope.fetchStatus.complete,{description:"This request queries Elasticsearch to fetch the data for the search."});inspectorRequest.stats((0,_courier_inspector_utils.getRequestInspectorStats)($scope.searchSource));$scope.searchSource.getSearchRequestBody().then(function(body){inspectorRequest.json(body)});inspectorRequests.push(inspectorRequest)}});segmented.on("first",function(){flushResponseData()});segmented.on("segment",function(resp){logResponseInInspector(resp);if(resp._shards.failed>0){$scope.failures=_lodash2.default.union($scope.failures,resp._shards.failures);$scope.failures=_lodash2.default.uniq($scope.failures,false,function(failure){return failure.index+failure.shard+failure.reason})}});segmented.on("emptySegment",function(resp){logResponseInInspector(resp)});segmented.on("mergedSegment",function(merged){$scope.mergedEsResp=merged;if($scope.opts.timefield){var tabifiedData=(0,_tabify.tabifyAggResponse)($scope.vis.aggs,merged);$scope.searchSource.rawResponse=merged;Promise.resolve(responseHandler(tabifiedData)).then(function(resp){$scope.visData=resp;var visEl=$element.find("#discoverHistogram")[0];_visualization_loader.visualizationLoader.render(visEl,$scope.vis,$scope.visData,$scope.uiState,{listenOnChange:true})})}$scope.hits=merged.hits.total;var indexPattern=$scope.searchSource.getField("index");$scope.rows=merged.hits.hits.slice();var counts=$scope.fieldCounts;counts&&!sortFn||(counts=$scope.fieldCounts={});$scope.rows.forEach(function(hit){if(hit.$$_counted)return;sortFn||(hit.$$_counted=true);var fields=_lodash2.default.keys(indexPattern.flattenHit(hit));var n=fields.length;var field=void 0;while(field=fields[--n])counts[field]?counts[field]+=1:counts[field]=1})});segmented.on("complete",function(){0===$scope.fetchStatus.hitCount&&flushResponseData();$scope.fetchStatus=null})}function beginSegmentedFetch(){$scope.searchSource.onBeginSegmentedFetch(handleSegmentedFetch).catch(function(error){var fetchError=(0,_get_painless_error.getPainlessError)(error);fetchError?$scope.fetchError=fetchError:notify.error(error);beginSegmentedFetch()})}beginSegmentedFetch();$scope.updateTime=function(){$scope.timeRange={from:_datemath2.default.parse(_timefilter.timefilter.getTime().from),to:_datemath2.default.parse(_timefilter.timefilter.getTime().to,{roundUp:true})}};$scope.resetQuery=function(){kbnUrl.change("/discover/{{id}}",{id:$route.current.params.id})};$scope.newQuery=function(){kbnUrl.change("/discover")};$scope.updateDataSource=Promise.method(function updateDataSource(){$scope.searchSource.setField("size",$scope.opts.sampleSize).setField("sort",(0,_get_sort.getSort)($state.sort,$scope.indexPattern)).setField("query",$state.query?$state.query:null).setField("filter",queryFilter.getFilters())});$scope.setSortOrder=function setSortOrder(columnName,direction){$scope.state.sort=[columnName,direction]};$scope.filterQuery=function(field,values,operation){$scope.indexPattern.popularizeField(field,1);filterActions.addFilter(field,values,operation,$scope.indexPattern.id,$scope.state,filterManager)};$scope.addColumn=function addColumn(columnName){$scope.indexPattern.popularizeField(columnName,1);columnActions.addColumn($scope.state.columns,columnName)};$scope.removeColumn=function removeColumn(columnName){$scope.indexPattern.popularizeField(columnName,1);columnActions.removeColumn($scope.state.columns,columnName)};$scope.moveColumn=function moveColumn(columnName,newIndex){columnActions.moveColumn($scope.state.columns,columnName,newIndex)};$scope.scrollToTop=function(){$window.scrollTo(0,0)};$scope.scrollToBottom=function(){$timeout(function(){$element.find("#discoverBottomMarker").focus()},0)};$scope.showAllRows=function(){$scope.minimumVisibleRows=$scope.hits};function setupVisualization(){if(!$scope.opts.timefield)return;var visStateAggs=[{type:"count",schema:"metric"},{type:"date_histogram",schema:"segment",params:{field:$scope.opts.timefield,interval:$state.interval,timeRange:_timefilter.timefilter.getTime()}}];if($scope.vis){var visState=$scope.vis.getEnabledState();visState.aggs=visStateAggs;$scope.vis.setState(visState)}else{$scope.vis=new Vis($scope.indexPattern,{title:savedSearch.title,type:"histogram",params:{addLegend:false,addTimeMarker:true},aggs:visStateAggs});$scope.searchSource.onRequestStart(function(searchSource,searchRequest){return $scope.vis.getAggConfig().onSearchRequestStart(searchSource,searchRequest)});$scope.searchSource.setField("aggs",function(){return $scope.vis.getAggConfig().toDsl()})}$scope.vis.filters={timeRange:_timefilter.timefilter.getTime()}}function resolveIndexPatternLoading(){var _$route$current$local=$route.current.locals.ip,loadedIndexPattern=_$route$current$local.loaded,stateVal=_$route$current$local.stateVal,stateValFound=_$route$current$local.stateValFound;var ownIndexPattern=$scope.searchSource.getOwnField("index");if(ownIndexPattern&&!stateVal)return ownIndexPattern;if(stateVal&&!stateValFound){var warningTitle='"'+stateVal+'" is not a configured index pattern ID';if(ownIndexPattern){_notify.toastNotifications.addWarning({title:warningTitle,text:'Showing the saved index pattern: "'+ownIndexPattern.title+'" ('+ownIndexPattern.id+")"});return ownIndexPattern}_notify.toastNotifications.addWarning({title:warningTitle,text:'Showing the default index pattern: "'+loadedIndexPattern.title+'" ('+loadedIndexPattern.id+")"})}return loadedIndexPattern}$scope.isUnsupportedIndexPattern=!(0,_courier.isDefaultTypeIndexPattern)($route.current.locals.ip.loaded)&&!(0,_courier.hasSearchStategyForIndexPattern)($route.current.locals.ip.loaded);if($scope.isUnsupportedIndexPattern){$scope.unsupportedIndexPatternType=$route.current.locals.ip.loaded.type;return}init()}},7651:function(module,exports,__webpack_require__){"use strict";var _jquery=__webpack_require__(16);var _jquery2=_interopRequireDefault(_jquery);var _lodash=__webpack_require__(1);var _lodash2=_interopRequireDefault(_lodash);var _modules=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var SCROLLER_HEIGHT=20;_modules.uiModules.get("kibana").directive("fixedScroll",function(debounce){return{restrict:"A",link:function link($scope,$el){var $window=(0,_jquery2.default)(window);var $scroller=(0,_jquery2.default)('<div class="fixed-scroll-scroller">').height(SCROLLER_HEIGHT);var unlisten=_lodash2.default.noop;function listen(){if(unlisten!==_lodash2.default.noop)throw new Error("fixedScroll listeners were not cleaned up properly before re-listening!");var blockTo=void 0;function bind($from,$to){function handler(){if(blockTo===$to)return blockTo=null;$to.scrollLeft((blockTo=$from).scrollLeft())}$from.on("scroll",handler);return function(){$from.off("scroll",handler)}}unlisten=_lodash2.default.flow(bind($el,$scroller),bind($scroller,$el),function(){unlisten=_lodash2.default.noop})}function cleanUp(){unlisten();$scroller.detach();$el.css("padding-bottom",0)}function setup(){cleanUp();var containerWidth=$el.width();var contentWidth=$el.prop("scrollWidth");var containerHorizOverflow=contentWidth-containerWidth;var elTop=$el.offset().top-$window.scrollTop();var elBottom=elTop+$el.height();var windowVertOverflow=elBottom-$window.height();var requireScroller=containerHorizOverflow>0&&windowVertOverflow>0;if(!requireScroller)return;$el.css("padding-bottom",SCROLLER_HEIGHT);$scroller.width(containerWidth).html((0,_jquery2.default)("<div>").css({width:contentWidth,height:SCROLLER_HEIGHT})).insertAfter($el);listen()}var width=void 0;var scrollWidth=void 0;function checkWidth(){var newScrollWidth=$el.prop("scrollWidth");var newWidth=$el.width();if(scrollWidth!==newScrollWidth||width!==newWidth){$scope.$apply(setup);scrollWidth=newScrollWidth;width=newWidth}}var debouncedCheckWidth=debounce(checkWidth,100,{invokeApply:false});$scope.$watch(debouncedCheckWidth);$scope.$on("$destroy",function(){cleanUp();debouncedCheckWidth.cancel();$scroller=$window=null})}}})},7652:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default=HitSortFnFactory;function HitSortFnFactory(){return function createHitSortFn(direction){var descending="desc"===direction;return function sortHits(hitA,hitB){var bBelowa=null;var aSorts=hitA.sort||[];var bSorts=hitB.sort||[];for(var i=0;i<bSorts.length;i++){var a=aSorts[i];var b=bSorts[i];if(null==a||b>a){bBelowa=!descending;break}if(b<a){bBelowa=descending;break}}return null!==bBelowa?bBelowa?-1:1:0}}}module.exports=exports["default"]},7653:function(module,exports){module.exports='<discover-app class="app-container">\n  \x3c!-- Local nav. --\x3e\n  <kbn-top-nav name="discover" config="topNavMenu">\n    \x3c!-- Transcluded elements. --\x3e\n    <div data-transclude-slots>\n      \x3c!-- Breadcrumbs. --\x3e\n      <div data-transclude-slot="topLeftCorner" class="kuiLocalBreadcrumbs">\n        <h1 tabindex="0" id="kui_local_breadcrumb" class="kuiLocalBreadcrumb">\n          <span ng-show="opts.savedSearch.id" class="kuiLocalBreadcrumb__emphasis">\n            <span data-test-subj="discoverCurrentQuery" ng-bind="opts.savedSearch.lastSavedTitle"></span>\n            <span\n              id="reload_saved_search"\n              aria-label="Reload Saved Search"\n              tooltip="Reload Saved Search"\n              ng-click="resetQuery()"\n              kbn-accessible-click\n              class="kuiIcon fa-undo small"\n            ></span>&nbsp;\n          </span>\n          <span data-test-subj="discoverQueryHits" class="kuiLocalBreadcrumb__emphasis">{{(hits || 0) | number:0}}</span>\n          <ng-pluralize count="hits" when="{\'1\':\'hit\', \'other\':\'hits\'}"></ng-pluralize>\n        </h1>\n      </div>\n\n      \x3c!-- Search. --\x3e\n      <div data-transclude-slot="bottomRow" class="fullWidth">\n        <query-bar\n          query="state.query"\n          on-submit="updateQueryAndFetch"\n          app-name="\'discover\'"\n          index-patterns="[indexPattern]"\n        ></query-bar>\n      </div>\n    </div>\n  </kbn-top-nav>\n\n  <main class="container-fluid">\n    <div class="row">\n      <filter-bar\n        state="state"\n        index-patterns="[indexPattern]"\n      ></filter-bar>\n    </div>\n    <div class="row">\n      <div class="col-md-2 sidebar-container collapsible-sidebar" id="discover-sidebar">\n        <disc-field-chooser\n          class="dscFieldChooser"\n          columns="state.columns"\n          hits="rows"\n          field-counts="fieldCounts"\n          index-pattern="searchSource.getField(\'index\')"\n          index-pattern-list="opts.indexPatternList"\n          state="state"\n          on-add-field="addColumn"\n          on-add-filter="filterQuery"\n          on-remove-field="removeColumn"\n        >\n        </disc-field-chooser>\n      </div>\n\n      <div class="dscWrapper col-md-10">\n        <div class="dscWrapper__content">\n          <discover-unsupported-index-pattern\n            ng-if="isUnsupportedIndexPattern"\n            unsupported-type="unsupportedIndexPatternType"\n          ></discover-unsupported-index-pattern>\n\n          <discover-no-results\n            ng-show="resultState === \'none\'"\n            top-nav-toggle="kbnTopNav.toggle"\n            is-time-picker-open="kbnTopNav.isCurrent(\'filter\')"\n            shard-failures="failures"\n            time-field-name="opts.timefield"\n            query-language="state.query.language"\n            get-doc-link="getDocLink"\n          ></discover-no-results>\n\n          \x3c!-- loading --\x3e\n          <div ng-show="resultState === \'loading\'">\n            <discover-fetch-error\n              ng-show="fetchError"\n              fetch-error="fetchError"\n            ></discover-fetch-error>\n\n            <div\n              ng-hide="fetchError"\n              class="dscOverlay"\n            >\n              <div class="euiTitle" >\n                <h2>Searching</h2>\n              </div>\n              <div class="euiSpacer euiSpacer--m"></div>\n              <div ng-show="fetchStatus">{{fetchStatus.complete}}/{{fetchStatus.total}}</div>\n            </div>\n          </div>\n\n          \x3c!-- result --\x3e\n          <div class="dscResults" ng-show="resultState === \'ready\'">\n            <button\n              class="kuiButton kuiButton--basic kuiButton--iconText dscSkipButton"\n              ng-click="showAllRows(); scrollToBottom()"\n            >\n              <span class="kuiButton__inner">\n                <span aria-hidden="true" class="kuiButton__icon kuiIcon fa-chevron-down"></span>\n                <span>Skip to bottom</span>\n              </span>\n            </button>\n\n            <section aria-label="Histogram of found documents" class="dscTimechart" ng-if="opts.timefield">\n              <header class="dscTimechart__header">\n                <div class="small">\n                  <span tooltip="To change the time, click the clock icon in the navigation bar">{{timeRange.from | moment}} - {{timeRange.to | moment}}</span>\n\n                  &mdash;\n\n                  <span class="form-inline">\n                    <select\n                      class="dscResults__interval form-control"\n                      ng-model="state.interval"\n                      ng-options="interval.val as interval.display for interval in intervalOptions | filter: intervalEnabled"\n                      ng-blur="toggleInterval()"\n                      data-test-subj="discoverIntervalSelect"\n                      >\n                    </select>\n                    <span ng-if="bucketInterval.scaled">\n                      <icon-tip\n                        content="getBucketIntervalToolTipText()"\n                        position="\'top\'"\n                      ></icon-tip>\n                      Scaled to {{ bucketInterval.description }}\n                    </span>\n                  </span>\n                </div>\n\n              </header>\n\n              <div id="discoverHistogram"\n                 ng-if="vis && rows.length !== 0"\n                 style="display: flex; height: 200px"\n                >\n              </div>\n            </section>\n\n            <section class="dscTable" fixed-scroll aria-label="Documents">\n              <doc-table\n                hits="rows"\n                index-pattern="indexPattern"\n                sorting="state.sort"\n                columns="state.columns"\n                infinite-scroll="true"\n                filter="filterQuery"\n                filters="state.filters"\n                data-shared-item\n                data-title="{{opts.savedSearch.lastSavedTitle}}"\n                data-description="{{opts.savedSearch.description}}"\n                minimum-visible-rows="minimumVisibleRows"\n                render-complete\n                on-add-column="addColumn"\n                on-change-sort-order="setSortOrder"\n                on-move-column="moveColumn"\n                on-remove-column="removeColumn"\n              ></doc-table>\n\n              <a tabindex="0" id="discoverBottomMarker"></a>\n\n              <div ng-if="rows.length == opts.sampleSize" class="dscTable__footer">\n                These are the first {{opts.sampleSize}} documents matching\n                your search, refine your search to see others.\n                <a kbn-accessible-click ng-click="scrollToTop()">Back to top.</a>\n              </div>\n            </section>\n          </div>\n        </div>\n      </div>\n    </div>\n  </main>\n</discover-app>\n'},7654:function(module,exports,__webpack_require__){"use strict";__webpack_require__(7655)},7655:function(module,exports,__webpack_require__){"use strict";__webpack_require__(93);var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _modules=__webpack_require__(3);var _chrome=__webpack_require__(9);var _chrome2=_interopRequireDefault(_chrome);var _eui=__webpack_require__(2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var DiscoverFetchError=function DiscoverFetchError(_ref){var fetchError=_ref.fetchError;if(!fetchError)return null;var body=void 0;if("painless"===fetchError.lang){var managementUrl=_chrome2.default.getNavLinkById("kibana:management").url;var url=managementUrl+"/kibana/indices";body=_react2.default.createElement("p",null,"You can address this error by editing the ",fetchError.script," field in ",_react2.default.createElement("a",{href:url},"Management > Index Patterns"),", under the Scripted fields tab.")}return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_eui.EuiSpacer,{size:"xl"}),_react2.default.createElement(_eui.EuiFlexGroup,{justifyContent:"center","data-test-subj":"discoverFetchError"},_react2.default.createElement(_eui.EuiFlexItem,{grow:false,className:"discoverFetchError"},_react2.default.createElement(_eui.EuiCallOut,{title:fetchError.message,color:"danger",iconType:"cross"},body,_react2.default.createElement(_eui.EuiCodeBlock,null,fetchError.error)))),_react2.default.createElement(_eui.EuiSpacer,{size:"xl"}))};var app=_modules.uiModules.get("apps/discover",["react"]);app.directive("discoverFetchError",function(reactDirective){return reactDirective(DiscoverFetchError)})},7656:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getPainlessError=getPainlessError;var _tslib=__webpack_require__(5);var tslib_1=_interopRequireWildcard(_tslib);var _lodash=__webpack_require__(1);function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);newObj.default=obj;return newObj}function getPainlessError(error){var rootCause=(0,_lodash.get)(error,"resp.error.root_cause");if(!rootCause)return;var _a=tslib_1.__read(rootCause,1),_b=_a[0],lang=_b.lang,script=_b.script;if("painless"!==lang)return;return{lang:lang,script:script,message:"Error with Painless scripted field '"+script+"'",error:error.message}}},7657:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.showOpenSearchPanel=showOpenSearchPanel;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _reactDom=__webpack_require__(14);var _reactDom2=_interopRequireDefault(_reactDom);var _open_search_panel=__webpack_require__(7658);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var isOpen=false;function showOpenSearchPanel(_ref){var makeUrl=_ref.makeUrl;if(isOpen)return;isOpen=true;var container=document.createElement("div");var onClose=function onClose(){_reactDom2.default.unmountComponentAtNode(container);document.body.removeChild(container);isOpen=false};document.body.appendChild(container);var element=_react2.default.createElement(_open_search_panel.OpenSearchPanel,{onClose:onClose,makeUrl:makeUrl});_reactDom2.default.render(element,container)}},7658:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.OpenSearchPanel=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(6);var _propTypes2=_interopRequireDefault(_propTypes);var _saved_object_finder=__webpack_require__(1965);var _risonNode=__webpack_require__(326);var _risonNode2=_interopRequireDefault(_risonNode);var _eui=__webpack_require__(2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var SEARCH_OBJECT_TYPE="search";var OpenSearchPanel=exports.OpenSearchPanel=function(_React$Component){_inherits(OpenSearchPanel,_React$Component);function OpenSearchPanel(){_classCallCheck(this,OpenSearchPanel);return _possibleConstructorReturn(this,(OpenSearchPanel.__proto__||Object.getPrototypeOf(OpenSearchPanel)).apply(this,arguments))}_createClass(OpenSearchPanel,[{key:"renderMangageSearchesButton",value:function renderMangageSearchesButton(){return _react2.default.createElement(_eui.EuiButton,{onClick:this.props.onClose,href:"#/management/kibana/objects?_a="+_risonNode2.default.encode({tab:SEARCH_OBJECT_TYPE})},"Manage searches")}},{key:"render",value:function render(){return _react2.default.createElement(_eui.EuiFlyout,{ownFocus:true,onClose:this.props.onClose,"data-test-subj":"loadSearchForm"},_react2.default.createElement(_eui.EuiFlyoutBody,null,_react2.default.createElement(_eui.EuiTitle,{size:"s"},_react2.default.createElement("h1",null,"Open Search")),_react2.default.createElement(_eui.EuiSpacer,{size:"m"}),_react2.default.createElement(_saved_object_finder.SavedObjectFinder,{noItemsMessage:"No matching searches found.",savedObjectType:SEARCH_OBJECT_TYPE,makeUrl:this.props.makeUrl,onChoose:this.props.onClose,callToActionButton:this.renderMangageSearchesButton()})))}}]);return OpenSearchPanel}(_react2.default.Component);OpenSearchPanel.propTypes={onClose:_propTypes2.default.func.isRequired,makeUrl:_propTypes2.default.func.isRequired}},7659:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _tabify=__webpack_require__(1116);Object.defineProperty(exports,"tabifyAggResponse",{enumerable:true,get:function get(){return _tabify.tabifyAggResponse}})},7660:function(module,exports,__webpack_require__){"use strict";__webpack_require__(7661);__webpack_require__(7664);__webpack_require__(7667);__webpack_require__(7677);__webpack_require__(7678);__webpack_require__(1656);__webpack_require__(738);__webpack_require__(1034);__webpack_require__(596);var _routes=__webpack_require__(13);var _routes2=_interopRequireDefault(_routes);var _visualize_listing=__webpack_require__(7679);var _visualize_listing2=_interopRequireDefault(_visualize_listing);var _visualize_listing3=__webpack_require__(7680);var _visualize_constants=__webpack_require__(594);var _feature_catalogue=__webpack_require__(62);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}_routes2.default.defaults(/visualize/,{requireDefaultIndex:true}).when(_visualize_constants.VisualizeConstants.LANDING_PAGE_PATH,{template:_visualize_listing2.default,controller:_visualize_listing3.VisualizeListingController,controllerAs:"listingController"});_feature_catalogue.FeatureCatalogueRegistryProvider.register(function(){return{id:"visualize",title:"Visualize",description:"Create visualizations and aggregate data stores in your Elasticsearch indices.",icon:"visualizeApp",path:"/app/kibana#"+_visualize_constants.VisualizeConstants.LANDING_PAGE_PATH,showOnHomePage:true,category:_feature_catalogue.FeatureCatalogueCategory.DATA}})},7661:function(module,exports,__webpack_require__){"use strict";var _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[];var _n=true;var _d=false;var _e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{!_n&&_i["return"]&&_i["return"]()}finally{if(_d)throw _e}}return _arr}return function(arr,i){if(Array.isArray(arr))return arr;if(Symbol.iterator in Object(arr))return sliceIterator(arr,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();var _lodash=__webpack_require__(1);var _lodash2=_interopRequireDefault(_lodash);__webpack_require__(738);__webpack_require__(7662);__webpack_require__(1915);__webpack_require__(2278);__webpack_require__(2277);__webpack_require__(1122);var _chrome=__webpack_require__(9);var _chrome2=_interopRequireDefault(_chrome);var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _angular=__webpack_require__(22);var _angular2=_interopRequireDefault(_angular);var _notify=__webpack_require__(11);var _vis_types=__webpack_require__(114);var _doc_title=__webpack_require__(421);var _query_filter=__webpack_require__(308);var _state_monitor_factory=__webpack_require__(1132);var _routes=__webpack_require__(13);var _routes2=_interopRequireDefault(_routes);var _modules=__webpack_require__(3);var _editor=__webpack_require__(7663);var _editor2=_interopRequireDefault(_editor);var _dashboard_constants=__webpack_require__(305);var _visualize_constants=__webpack_require__(594);var _kibana_parsed_url=__webpack_require__(993);var _absolute_to_parsed_url=__webpack_require__(992);var _migrateLegacyQuery=__webpack_require__(736);var _persisted_log=__webpack_require__(241);var _timefilter=__webpack_require__(17);var _loader=__webpack_require__(1120);var _share=__webpack_require__(1136);var _state_hashing=__webpack_require__(418);var _show_saved_object_save_modal=__webpack_require__(1134);var _saved_object_save_modal=__webpack_require__(1135);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}_routes2.default.when(_visualize_constants.VisualizeConstants.CREATE_PATH,{template:_editor2.default,resolve:{savedVis:function savedVis(savedVisualizations,redirectWhenMissing,$route,Private){var visTypes=Private(_vis_types.VisTypesRegistryProvider);var visType=_lodash2.default.find(visTypes,{name:$route.current.params.type});var shouldHaveIndex=visType.requiresSearch&&visType.options.showIndexSelection;var hasIndex=$route.current.params.indexPattern||$route.current.params.savedSearchId;if(shouldHaveIndex&&!hasIndex)throw new Error("You must provide either an indexPattern or a savedSearchId");return savedVisualizations.get($route.current.params).catch(redirectWhenMissing({"*":"/visualize"}))}}}).when(_visualize_constants.VisualizeConstants.EDIT_PATH+"/:id",{template:_editor2.default,resolve:{savedVis:function savedVis(savedVisualizations,redirectWhenMissing,$route){return savedVisualizations.get($route.current.params.id).then(function(savedVis){_persisted_log.recentlyAccessed.add(savedVis.getFullPath(),savedVis.title,savedVis.id);return savedVis}).catch(redirectWhenMissing({visualization:"/visualize",search:"/management/kibana/objects/savedVisualizations/"+$route.current.params.id,"index-pattern":"/management/kibana/objects/savedVisualizations/"+$route.current.params.id,"index-pattern-field":"/management/kibana/objects/savedVisualizations/"+$route.current.params.id}))}}});_modules.uiModules.get("app/visualize",["kibana/notify","kibana/url"]).directive("visualizeApp",function(){return{restrict:"E",controllerAs:"visualizeApp",controller:VisEditor}});function VisEditor($scope,$element,$route,AppState,$window,kbnUrl,redirectWhenMissing,Private,Promise,config,kbnBaseUrl,localStorage){var _this=this;var docTitle=Private(_doc_title.DocTitleProvider);var queryFilter=Private(_query_filter.FilterBarQueryFilterProvider);var getUnhashableStates=Private(_state_hashing.getUnhashableStatesProvider);var shareContextMenuExtensions=Private(_share.ShareContextMenuExtensionsRegistryProvider);var savedVis=$route.current.locals.savedVis;var vis=savedVis.vis,searchSource=savedVis.searchSource;var getTopLevelSearchSource=function getTopLevelSearchSource(searchSource){if(searchSource.getParent())return getTopLevelSearchSource(searchSource.getParent());return searchSource};var topLevelSearchSource=getTopLevelSearchSource(searchSource);var globalFiltersSearchSource=searchSource.create();globalFiltersSearchSource.setField("index",searchSource.getField("index"));topLevelSearchSource.setParent(globalFiltersSearchSource);$scope.vis=vis;var $appStatus=this.appStatus={dirty:!savedVis.id};$scope.topNavMenu=[{key:"save",description:"Save Visualization",testId:"visualizeSaveButton",disableButton:function disableButton(){return Boolean(vis.dirty)},tooltip:function tooltip(){if(vis.dirty)return"Apply or Discard your changes before saving"},run:function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee(){var onSave,saveModal;return regeneratorRuntime.wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:onSave=function onSave(_ref2){var newTitle=_ref2.newTitle,newCopyOnSave=_ref2.newCopyOnSave,isTitleDuplicateConfirmed=_ref2.isTitleDuplicateConfirmed,onTitleDuplicate=_ref2.onTitleDuplicate;var currentTitle=savedVis.title;savedVis.title=newTitle;savedVis.copyOnSave=newCopyOnSave;var saveOptions={confirmOverwrite:false,isTitleDuplicateConfirmed:isTitleDuplicateConfirmed,onTitleDuplicate:onTitleDuplicate};return doSave(saveOptions).then(function(_ref3){var id=_ref3.id,error=_ref3.error;id&&!error||(savedVis.title=currentTitle);return{id:id,error:error}})};saveModal=_react2.default.createElement(_saved_object_save_modal.SavedObjectSaveModal,{onSave:onSave,onClose:function onClose(){},title:savedVis.title,showCopyOnSave:!!savedVis.id,objectType:"visualization"});(0,_show_saved_object_save_modal.showSaveModal)(saveModal);case 3:case"end":return _context.stop()}},_callee,_this)}));function run(){return _ref.apply(this,arguments)}return run}()},{key:"share",description:"Share Visualization",testId:"shareTopNavButton",run:function run(menuItem,navController,anchorElement){var hasUnappliedChanges=vis.dirty;var hasUnsavedChanges=$appStatus.dirty;(0,_share.showShareContextMenu)({anchorElement:anchorElement,allowEmbed:true,getUnhashableStates:getUnhashableStates,objectId:savedVis.id,objectType:"visualization",shareContextMenuExtensions:shareContextMenuExtensions,sharingData:{title:savedVis.title},isDirty:hasUnappliedChanges||hasUnsavedChanges})}},{key:"inspect",description:"Open Inspector for visualization",testId:"openInspectorButton",disableButton:function disableButton(){return!vis.hasInspector()},run:function run(){vis.openInspector().bindToAngularScope($scope)},tooltip:function tooltip(){if(!vis.hasInspector())return"This visualization doesn't support any inspectors."}},{key:"refresh",description:"Refresh",run:function run(){vis.forceReload()},testId:"visualizeRefreshButton"}];var stateMonitor=void 0;savedVis.id&&docTitle.change(savedVis.title);var savedVisState=vis.getState();var stateDefaults={uiState:savedVis.uiStateJSON?JSON.parse(savedVis.uiStateJSON):{},linked:!!savedVis.savedSearchId,query:searchSource.getOwnField("query")||{query:"",language:localStorage.get("kibana.userQueryLanguage")||config.get("search:queryLanguage")},filters:searchSource.getOwnField("filter")||[],vis:savedVisState};var $state=function initState(){var appState=new AppState(stateDefaults);_angular2.default.equals(appState.vis,savedVisState)||Promise.try(function(){vis.setState(appState.vis)}).catch(redirectWhenMissing({"index-pattern-field":"/visualize"}));return appState}();function init(){$scope.savedVis=savedVis;$scope.indexPattern=vis.indexPattern;$scope.searchSource=searchSource;$scope.state=$state;$scope.uiState=$state.makeStateful("uiState");$scope.appStatus=$appStatus;var addToDashMode=$route.current.params[_dashboard_constants.DashboardConstants.ADD_VISUALIZATION_TO_DASHBOARD_MODE_PARAM];kbnUrl.removeParam(_dashboard_constants.DashboardConstants.ADD_VISUALIZATION_TO_DASHBOARD_MODE_PARAM);$scope.isAddToDashMode=function(){return addToDashMode};$scope.timeRange=_timefilter.timefilter.getTime();$scope.opts=_lodash2.default.pick($scope,"savedVis","isAddToDashMode");stateMonitor=_state_monitor_factory.stateMonitorFactory.create($state,stateDefaults);stateMonitor.ignoreProps(["vis.listeners"]).onChange(function(status){$appStatus.dirty=status.dirty||!savedVis.id});$scope.$watch("state.query",$scope.updateQueryAndFetch);$state.replace();$scope.getVisualizationTitle=function getVisualizationTitle(){return savedVis.lastSavedTitle||savedVis.title+" (unsaved)"};$scope.$watchMulti(['searchSource.getField("index")',"vis.type.options.showTimePicker"],function(_ref4){var _ref5=_slicedToArray(_ref4,2),index=_ref5[0],requiresTimePicker=_ref5[1];var showTimeFilter=Boolean((!index||index.timeFieldName)&&requiresTimePicker);showTimeFilter?_timefilter.timefilter.enableTimeRangeSelector():_timefilter.timefilter.disableTimeRangeSelector()});var updateTimeRange=function updateTimeRange(){$scope.timeRange=_timefilter.timefilter.getTime();$scope._handler&&$scope._handler.update({timeRange:$scope.timeRange})};_timefilter.timefilter.enableAutoRefreshSelector();$scope.$listenAndDigestAsync(_timefilter.timefilter,"timeUpdate",updateTimeRange);$scope.$listen(queryFilter,"update",function(){$scope.fetch()});$scope.fetch=function(){$state.save();var globalFilters=queryFilter.getGlobalFilters();savedVis.searchSource.setField("query",$state.query);savedVis.searchSource.setField("filter",$state.filters);globalFiltersSearchSource.setField("filter",globalFilters);$scope.vis.forceReload()};$scope.$on("$destroy",function(){$scope._handler&&$scope._handler.destroy();savedVis.destroy();stateMonitor.destroy()});$scope.chrome.getVisible()||(0,_loader.getVisualizeLoader)().then(function(loader){$scope._handler=loader.embedVisualizationWithSavedObject($element.find(".visualize")[0],savedVis,{timeRange:$scope.timeRange,uiState:$scope.uiState,appState:$state,listenOnChange:false})})}$scope.updateQueryAndFetch=function(query){$state.query=(0,_migrateLegacyQuery.migrateLegacyQuery)(query);$scope.fetch()};function doSave(saveOptions){$state.vis.title=savedVis.title;$state.vis.type=savedVis.type||$state.vis.type;savedVis.visState=$state.vis;savedVis.uiStateJSON=_angular2.default.toJson($scope.uiState.getChanges());return savedVis.save(saveOptions).then(function(id){$scope.$evalAsync(function(){stateMonitor.setInitialState($state.toJSON());if(id){_notify.toastNotifications.addSuccess({title:"Saved '"+savedVis.title+"'","data-test-subj":"saveVisualizationSuccess"});if($scope.isAddToDashMode()){var savedVisualizationParsedUrl=new _kibana_parsed_url.KibanaParsedUrl({basePath:_chrome2.default.getBasePath(),appId:kbnBaseUrl.slice("/app/".length),appPath:kbnUrl.eval(_visualize_constants.VisualizeConstants.EDIT_PATH+"/{{id}}",{id:savedVis.id})});$window.history.pushState({},"",savedVisualizationParsedUrl.getRootRelativePath());_chrome2.default.trackSubUrlForApp("kibana:visualize",savedVisualizationParsedUrl);var lastDashboardAbsoluteUrl=_chrome2.default.getNavLinkById("kibana:dashboard").lastSubUrl;var dashboardParsedUrl=(0,_absolute_to_parsed_url.absoluteToParsedUrl)(lastDashboardAbsoluteUrl,_chrome2.default.getBasePath());dashboardParsedUrl.addQueryParameter(_dashboard_constants.DashboardConstants.NEW_VISUALIZATION_ID_PARAM,savedVis.id);kbnUrl.change(dashboardParsedUrl.appPath)}else savedVis.id===$route.current.params.id?docTitle.change(savedVis.lastSavedTitle):kbnUrl.change(_visualize_constants.VisualizeConstants.EDIT_PATH+"/{{id}}",{id:savedVis.id})}});return{id:id}},function(error){console.error(error);_notify.toastNotifications.addDanger({title:"Error on saving '"+savedVis.title+"'",text:error.message,"data-test-subj":"saveVisualizationError"});return{error:error}})}$scope.unlink=function(){if(!$state.linked)return;$state.linked=false;var searchSourceParent=searchSource.getParent();var searchSourceGrandparent=searchSourceParent.getParent();delete savedVis.savedSearchId;searchSourceParent.setField("filter",_lodash2.default.union(searchSource.getOwnField("filter"),searchSourceParent.getOwnField("filter")));$state.query=searchSourceParent.getField("query");$state.filters=searchSourceParent.getField("filter");searchSource.setField("index",searchSourceParent.getField("index"));searchSource.setParent(searchSourceGrandparent);_notify.toastNotifications.addSuccess("Unlinked from saved search '"+savedVis.savedSearch.title+"'");$scope.fetch()};$scope.getAdditionalMessage=function(){return'<i class="kuiIcon fa-flask"></i> This visualization is marked as experimental. '+vis.type.feedbackMessage};init()}},7662:function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(3);__webpack_require__(722);var _vis_editor_types=__webpack_require__(1919);_modules.uiModules.get("kibana/directive",["ngSanitize"]).directive("visualizationEditor",function(Private,$timeout,getAppState){var editorTypes=Private(_vis_editor_types.VisEditorTypesRegistryProvider);return{restrict:"E",scope:{savedObj:"=",uiState:"=?",timeRange:"="},link:function link($scope,element){var editorType=$scope.savedObj.vis.type.editor;var Editor="function"===typeof editorType?editorType:editorTypes.find(function(editor){return editor.key===editorType});var editor=new Editor(element[0],$scope.savedObj);$scope.renderFunction=function(){editor.render({uiState:$scope.uiState,timeRange:$scope.timeRange,appState:getAppState()})};$scope.$on("render",function(event){event.preventDefault();$timeout(function(){$scope.renderFunction()})});$scope.$on("$destroy",function(){editor.destroy()});$scope.$watch("timeRange",$scope.renderFunction)}}})},7663:function(module,exports){module.exports='<visualize-app class="app-container visEditor visEditor--{{ vis.type.name }}">\n  \x3c!-- Local nav. --\x3e\n  <kbn-top-nav name="visualize" config="topNavMenu">\n    \x3c!-- Transcluded elements. --\x3e\n    <div data-transclude-slots>\n      \x3c!-- Breadcrumbs. --\x3e\n      <bread-crumbs\n        data-transclude-slot="topLeftCorner"\n        page-title="getVisualizationTitle()"\n        use-links="true"\n        omit-current-page="true"\n        omit-pages="[\'edit\']"\n      ></bread-crumbs>\n\n      \x3c!-- Search. --\x3e\n      <div\n        data-transclude-slot="bottomRow"\n        ng-show="chrome.getVisible()"\n        class="fullWidth"\n      >\n        <div ng-if="vis.type.requiresSearch && state.linked">\n          Linked to Saved Search\n          <a\n            href="#/discover/{{savedVis.savedSearch.id}}"\n          >\n            {{ savedVis.savedSearch.title }}\n          </a>\n          &nbsp;\n          <a\n            data-test-subj="unlinkSavedSearch"\n            href=""\n            ng-dblclick="unlink()"\n            tooltip="Double click to unlink from Saved Search"\n          >\n            <span aria-hidden="true" class="kuiIcon fa-chain-broken"></span>\n          </a>\n        </div>\n\n        <div ng-if="vis.type.requiresSearch && vis.type.options.showQueryBar" class="fullWidth">\n          <query-bar\n            query="state.query"\n            app-name="\'visualize\'"\n            on-submit="updateQueryAndFetch"\n            disable-auto-focus="true"\n            index-patterns="[indexPattern]"\n          ></query-bar>\n        </div>\n      </div>\n    </div>\n  </kbn-top-nav>\n\n  \x3c!-- Filters. --\x3e\n  <filter-bar\n    ng-if="vis.type.options.showFilterBar"\n    state="state"\n    index-patterns="[indexPattern]"\n  ></filter-bar>\n\n  <div\n    class="euiCallOut euiCallOut--primary euiCallOut--small hide-for-sharing"\n    ng-if="vis.type.shouldMarkAsExperimentalInUI()"\n    data-test-subj="experimentalVisInfo"\n  >\n    <div class="euiText">\n      <p ng-bind-html="getAdditionalMessage()"></p>\n    </div>\n  </div>\n\n  <div class="visualize" ng-if="!chrome.getVisible()"/>\n\n  <visualization-editor\n    ng-if="chrome.getVisible()"\n    saved-obj="savedVis"\n    ui-state="uiState"\n    time-range="timeRange"\n    class="visEditor__content"\n  />\n\n</visualize-app>\n'},7664:function(module,exports,__webpack_require__){"use strict";__webpack_require__(738);__webpack_require__(1048);__webpack_require__(1730);__webpack_require__(1015);var _lodash=__webpack_require__(1);var _lodash2=_interopRequireDefault(_lodash);var _vis_category=__webpack_require__(86);var _dashboard_constants=__webpack_require__(305);var _visualize_constants=__webpack_require__(594);var _routes=__webpack_require__(13);var _routes2=_interopRequireDefault(_routes);var _vis_types=__webpack_require__(114);var _modules=__webpack_require__(3);var _step_=__webpack_require__(7665);var _step_2=_interopRequireDefault(_step_);var _step_3=__webpack_require__(7666);var _step_4=_interopRequireDefault(_step_3);var _saved_objects=__webpack_require__(72);var _timefilter=__webpack_require__(17);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _module=_modules.uiModules.get("app/visualize",["kibana/courier"]);_routes2.default.when("/visualize/step/1",{redirectTo:_visualize_constants.VisualizeConstants.WIZARD_STEP_1_PAGE_PATH});_routes2.default.when(_visualize_constants.VisualizeConstants.WIZARD_STEP_1_PAGE_PATH,{template:_step_2.default,controller:"VisualizeWizardStep1"});_module.controller("VisualizeWizardStep1",function($scope,$route,kbnUrl,Private,config){_timefilter.timefilter.disableAutoRefreshSelector();_timefilter.timefilter.disableTimeRangeSelector();var addToDashMode=$route.current.params[_dashboard_constants.DashboardConstants.ADD_VISUALIZATION_TO_DASHBOARD_MODE_PARAM];kbnUrl.removeParam(_dashboard_constants.DashboardConstants.ADD_VISUALIZATION_TO_DASHBOARD_MODE_PARAM);var visTypes=Private(_vis_types.VisTypesRegistryProvider);var isLabsEnabled=config.get("visualize:enableLabs");$scope.toggleLabView=function(){$route.current.params.lab=!$route.current.params.lab;$route.updateParams($route.current.params);$route.reload()};var categoryToVisTypesMap={};visTypes.forEach(function(visType){var categoryName=visType.category;if(categoryName===_vis_category.CATEGORY.HIDDEN)return;if(!isLabsEnabled&&"lab"===visType.stage)return;_vis_category.CATEGORY_DISPLAY_NAMES[categoryName]||(categoryName=_vis_category.CATEGORY.OTHER);categoryToVisTypesMap[categoryName]||(categoryToVisTypesMap[categoryName]={label:_vis_category.CATEGORY_DISPLAY_NAMES[categoryName],list:[]});var categoryVisTypes=categoryToVisTypesMap[categoryName];categoryVisTypes.list=_lodash2.default.sortBy(categoryVisTypes.list.concat(visType),function(type){return type.title})});var sortedVisTypeCategories=Object.values(categoryToVisTypesMap).sort(function(a,b){var other=_vis_category.CATEGORY.OTHER.toLowerCase();var labelA=a.label.toLowerCase();if(labelA===other)return 1;var labelB=b.label.toLowerCase();if(labelB===other)return-1;if(labelA<labelB)return-1;if(labelA>labelB)return 1;return 0});$scope.searchTerm="";$scope.filteredVisTypeCategories=[];$scope.$watch("searchTerm",function(){function getVisTypeCategories(){var normalizedSearchTerm=$scope.searchTerm.toLowerCase().trim();var filteredVisTypeCategories=sortedVisTypeCategories.map(function(category){if(category.label.toLowerCase().includes(normalizedSearchTerm))return category;var filteredVisTypes=category.list.filter(function(visType){return visType.title.toLowerCase().includes(normalizedSearchTerm)});return{label:category.label,list:filteredVisTypes}});return filteredVisTypeCategories.filter(function(category){return category.list.length})}$scope.filteredVisTypeCategories=getVisTypeCategories()});$scope.getVisTypeId=function(type){return _lodash2.default.camelCase(type.name)};$scope.getVisTypeTooltip=function(type){var prefix="";"lab"===type.stage?prefix="(Lab)":"experimental"===type.stage&&(prefix="(Experimental)");return prefix+" "+type.description};$scope.getVisTypeTooltipPosition=function(index){if(index===$scope.filteredVisTypeCategories.length-1)return"top";return"bottom"};$scope.getVisTypeUrl=function(visType){var baseUrl=visType.requiresSearch&&visType.options.showIndexSelection?"#"+_visualize_constants.VisualizeConstants.WIZARD_STEP_2_PAGE_PATH+"?":"#"+_visualize_constants.VisualizeConstants.CREATE_PATH+"?";var params=["type="+encodeURIComponent(visType.name)];addToDashMode&&params.push(_dashboard_constants.DashboardConstants.ADD_VISUALIZATION_TO_DASHBOARD_MODE_PARAM);return baseUrl+params.join("&")}});_routes2.default.when("/visualize/step/2",{redirectTo:_visualize_constants.VisualizeConstants.WIZARD_STEP_1_PAGE_PATH});_routes2.default.when(_visualize_constants.VisualizeConstants.WIZARD_STEP_2_PAGE_PATH,{template:_step_4.default,controller:"VisualizeWizardStep2",resolve:{indexPatterns:function indexPatterns(Private){var savedObjectsClient=Private(_saved_objects.SavedObjectsClientProvider);return savedObjectsClient.find({type:"index-pattern",fields:["title"],perPage:1e4}).then(function(response){return response.savedObjects})}}});_module.controller("VisualizeWizardStep2",function($route,$scope,kbnUrl){var type=$route.current.params.type;var addToDashMode=$route.current.params[_dashboard_constants.DashboardConstants.ADD_VISUALIZATION_TO_DASHBOARD_MODE_PARAM];kbnUrl.removeParam(_dashboard_constants.DashboardConstants.ADD_VISUALIZATION_TO_DASHBOARD_MODE_PARAM);$scope.step2WithSearchUrl=function(hit){if(addToDashMode)return kbnUrl.eval("#"+_visualize_constants.VisualizeConstants.CREATE_PATH+"?type={{type}}&savedSearchId={{id}}&"+_dashboard_constants.DashboardConstants.ADD_VISUALIZATION_TO_DASHBOARD_MODE_PARAM,{type:type,id:hit.id});return kbnUrl.eval("#"+_visualize_constants.VisualizeConstants.CREATE_PATH+"?type={{type}}&savedSearchId={{id}}",{type:type,id:hit.id})};_timefilter.timefilter.disableAutoRefreshSelector();_timefilter.timefilter.disableTimeRangeSelector();$scope.indexPattern={selection:null,list:$route.current.locals.indexPatterns};$scope.makeUrl=function(pattern){if(!pattern)return;if(addToDashMode)return"#"+_visualize_constants.VisualizeConstants.CREATE_PATH+"?"+_dashboard_constants.DashboardConstants.ADD_VISUALIZATION_TO_DASHBOARD_MODE_PARAM+"&type="+type+"&indexPattern="+pattern.id;return"#"+_visualize_constants.VisualizeConstants.CREATE_PATH+"?type="+type+"&indexPattern="+pattern.id}})},7665:function(module,exports){module.exports='\x3c!-- Local nav. --\x3e\n<kbn-top-nav name="visualize">\n  \x3c!-- Transcluded elements. --\x3e\n  <div data-transclude-slots>\n    \x3c!-- Breadcrumbs. --\x3e\n    <bread-crumbs\n      data-transclude-slot="topLeftCorner"\n      use-links="true"\n      omit-current-page="true"\n      page-title="\'New\'"\n    ></bread-crumbs>\n  </div>\n</kbn-top-nav>\n\n<div class="kuiViewContent kuiViewContent--constrainedWidth kuiViewContentItem" data-test-subj="visualizeSelectTypePage">\n  <div class="kuiViewContentItem">\n    \x3c!-- Header --\x3e\n    <div class="visualizeViewContentHeader kuiVerticalRhythm kuiVerticalRhythm--medium">\n      <h1 class="kuiTitle">\n        Select visualization type\n      </h1>\n    </div>\n\n    \x3c!-- Search --\x3e\n    <div class="kuiSearchInput kuiVerticalRhythm kuiVerticalRhythm--medium fullWidth" role="search">\n      <icon class="kuiSearchInput__icon kuiIcon fa-search"></icon>\n      <input\n        class="kuiSearchInput__input"\n        type="text"\n        placeholder="Search visualization types..."\n        ng-model="searchTerm"\n      >\n    </div>\n    <div\n      class="kuiVerticalRhythm kuiVerticalRhythm--medium"\n      ng-repeat="category in filteredVisTypeCategories"\n    >\n\n      \x3c!-- Title for each category --\x3e\n      <h2 class="kuiSubTitle kuiVerticalRhythm">\n        {{ category.label }}\n      </h2>\n\n      \x3c!-- Gallery of buttons for each vis type --\x3e\n      <div class="kuiGallery kuiVerticalRhythm">\n        <a\n          class="kuiGalleryItem"\n          ng-repeat="type in category.list"\n          ng-href="{{ getVisTypeUrl(type) }}"\n          tooltip="{{ getVisTypeTooltip(type) }}"\n          tooltip-placement="{{ getVisTypeTooltipPosition($parent.$index) }}"\n          aria-describedby="visDescription_{{ ::getVisTypeId(type) }}"\n          data-test-subj="visType-{{::type.name}}"\n        >\n          <div class="kuiGalleryItem__image">\n            <img\n              class="visWizard__visTypeImage"\n              ng-if="type.image"\n              aria-hidden="true"\n              ng-src="{{ type.image }}"\n            />\n\n            \x3c!-- Allowing legacyIcon to hold a CSS name, will be removed in 7.0 --\x3e\n            <span\n              ng-if="!type.image && !type.icon"\n              aria-hidden="true"\n              class="kuiIcon visWizard__visTypeIcon"\n              ng-class="type.legacyIcon"\n            ></span>\n\n            \x3c!-- If there\'s no image, default to an icon, for BWC. --\x3e\n            <icon\n              ng-if="!type.image && type.icon"\n              aria-hidden="true"\n              class="kuiIcon visWizard__visTypeIcon"\n              type="type.icon"\n              size="\'xxl\'"\n            ></icon>\n          </div>\n\n          <div\n            class="kuiGalleryItem__label"\n            data-test-subj="visualizeWizardChartTypeTitle"\n          >\n            {{ type.title }}\n          </div>\n\n          <div\n            class="kuiGalleryItem__icon kuiIcon fa-flask"\n            ng-if="type.shouldMarkAsExperimentalInUI()"\n          ></div>\n\n          <span\n            class="euiScreenReaderOnly"\n            aria-hidden="true"\n            id="visDescription_{{ ::getVisTypeId(type) }}"\n          >{{::getVisTypeTooltip(type)}}</span>\n        </a>\n      </div>\n    </div>\n  </div>\n</div>\n'},7666:function(module,exports){module.exports='\x3c!-- Local nav. --\x3e\n<kbn-top-nav name="visualize">\n  \x3c!-- Transcluded elements. --\x3e\n  <div data-transclude-slots>\n    \x3c!-- Breadcrumbs. --\x3e\n    <bread-crumbs\n      data-transclude-slot="topLeftCorner"\n      use-links="true"\n      omit-current-page="true"\n      page-title="\'Choose search source\'"\n    ></bread-crumbs>\n  </div>\n</kbn-top-nav>\n\n<div class="kuiViewContent kuiViewContent--constrainedWidth kuiViewContentItem" data-test-subj="visualizeSelectSearch">\n  <div class="visWizard kuiViewContentItem">\n    <div class="visWizard__column visWizard__column--small">\n      <h2 class="kuiTitle kuiVerticalRhythm">\n        From a New Search, Select Index\n      </h2>\n\n      <paginated-selectable-list\n        per-page="20"\n        list="indexPattern.list"\n        list-property="attributes.title"\n        user-make-url="makeUrl"\n        class="visWizard__row visWizard__list--paginated--selectable kuiVerticalRhythm"\n        disable-auto-focus="true"\n      ></paginated-selectable-list>\n    </div>\n\n    <div class="visWizard__column visWizard__column--large">\n      <h2 class="kuiTitle kuiVerticalRhythm">\n        Or, From a Saved Search\n      </h2>\n\n      \x3c!-- Saved searches --\x3e\n      <saved-object-finder\n        type="searches"\n        class="visWizard__row visWizard__savedObjectFinder kuiVerticalRhythm"\n        make-url="step2WithSearchUrl"\n        disable-auto-focus="true"\n      ></saved-object-finder>\n    </div>\n  </div>\n</div>\n'},7667:function(module,exports,__webpack_require__){"use strict";var _dragula=__webpack_require__(7668);var _dragula2=_interopRequireDefault(_dragula);var _modules=__webpack_require__(3);var _collection=__webpack_require__(485);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}_modules.uiModules.get("kibana").directive("draggableContainer",function(){var $scopes=new WeakMap;return{restrict:"A",scope:true,controllerAs:"draggableContainerCtrl",controller:function controller($scope,$attrs,$parse,$element){$scopes.set($element.get(0),$scope);this.linkDraggableItem=function(el,$scope){$scopes.set(el,$scope)};this.getList=function(){return $parse($attrs.draggableContainer)($scope)}},link:function link($scope,$el){var drake=(0,_dragula2.default)({containers:$el.toArray(),moves:function moves(el,source,handle){var itemScope=$scopes.get(el);if(!itemScope||!("draggableItemCtrl"in itemScope))return;return itemScope.draggableItemCtrl.moves(handle)}});var drakeEvents=["cancel","cloned","drag","dragend","drop","out","over","remove","shadow"];var prettifiedDrakeEvents={drag:"start",dragend:"end"};drakeEvents.forEach(function(type){drake.on(type,function(el){for(var _len=arguments.length,args=Array(_len>1?_len-1:0),_key=1;_key<_len;_key++)args[_key-1]=arguments[_key];return forwardEvent.apply(void 0,[type,el].concat(args))})});drake.on("drag",markDragging(true));drake.on("dragend",markDragging(false));drake.on("drop",drop);$scope.$on("$destroy",drake.destroy);$scope.drake=drake;function markDragging(isDragging){return function(el){var scope=$scopes.get(el);if(!scope)return;scope.isDragging=isDragging;scope.$apply()}}function forwardEvent(type,el){var name="drag-"+(prettifiedDrakeEvents[type]||type);var scope=$scopes.get(el);if(!scope)return;for(var _len2=arguments.length,args=Array(_len2>2?_len2-2:0),_key2=2;_key2<_len2;_key2++)args[_key2-2]=arguments[_key2];scope.$broadcast.apply(scope,[name,el].concat(args))}function drop(el,target,source,sibling){var list=$scope.draggableContainerCtrl.getList();var itemScope=$scopes.get(el);if(!itemScope)return;var item=itemScope.draggableItemCtrl.getItem();var fromIndex=list.indexOf(item);var siblingIndex=getItemIndexFromElement(list,sibling);var toIndex=getTargetIndex(list,fromIndex,siblingIndex);(0,_collection.move)(list,item,toIndex)}function getTargetIndex(list,fromIndex,siblingIndex){if(-1===siblingIndex)return list.length-1;if(fromIndex<siblingIndex)return siblingIndex-1;return siblingIndex}function getItemIndexFromElement(list,element){if(!element)return-1;var scope=$scopes.get(element);if(!scope)return;var item=scope.draggableItemCtrl.getItem();var index=list.indexOf(item);return index}}}})},7668:function(module,exports,__webpack_require__){"use strict";(function(global){var emitter=__webpack_require__(7669);var crossvent=__webpack_require__(7673);var classes=__webpack_require__(7676);var doc=document;var documentElement=doc.documentElement;function dragula(initialContainers,options){var len=arguments.length;if(1===len&&false===Array.isArray(initialContainers)){options=initialContainers;initialContainers=[]}var _mirror;var _source;var _item;var _offsetX;var _offsetY;var _moveX;var _moveY;var _initialSibling;var _currentSibling;var _copy;var _renderTimer;var _lastDropTarget=null;var _grabbed;var o=options||{};void 0===o.moves&&(o.moves=always);void 0===o.accepts&&(o.accepts=always);void 0===o.invalid&&(o.invalid=invalidTarget);void 0===o.containers&&(o.containers=initialContainers||[]);void 0===o.isContainer&&(o.isContainer=never);void 0===o.copy&&(o.copy=false);void 0===o.copySortSource&&(o.copySortSource=false);void 0===o.revertOnSpill&&(o.revertOnSpill=false);void 0===o.removeOnSpill&&(o.removeOnSpill=false);void 0===o.direction&&(o.direction="vertical");void 0===o.ignoreInputTextSelection&&(o.ignoreInputTextSelection=true);void 0===o.mirrorContainer&&(o.mirrorContainer=doc.body);var drake=emitter({containers:o.containers,start:manualStart,end:end,cancel:cancel,remove:remove,destroy:destroy,canMove:canMove,dragging:false});true===o.removeOnSpill&&drake.on("over",spillOver).on("out",spillOut);events();return drake;function isContainer(el){return-1!==drake.containers.indexOf(el)||o.isContainer(el)}function events(remove){var op=remove?"remove":"add";touchy(documentElement,op,"mousedown",grab);touchy(documentElement,op,"mouseup",release)}function eventualMovements(remove){var op=remove?"remove":"add";touchy(documentElement,op,"mousemove",startBecauseMouseMoved)}function movements(remove){var op=remove?"remove":"add";crossvent[op](documentElement,"selectstart",preventGrabbed);crossvent[op](documentElement,"click",preventGrabbed)}function destroy(){events(true);release({})}function preventGrabbed(e){_grabbed&&e.preventDefault()}function grab(e){_moveX=e.clientX;_moveY=e.clientY;var ignore=1!==whichMouseButton(e)||e.metaKey||e.ctrlKey;if(ignore)return;var item=e.target;var context=canStart(item);if(!context)return;_grabbed=context;eventualMovements();"mousedown"===e.type&&(isInput(item)?item.focus():e.preventDefault())}function startBecauseMouseMoved(e){if(!_grabbed)return;if(0===whichMouseButton(e)){release({});return}if(void 0!==e.clientX&&e.clientX===_moveX&&void 0!==e.clientY&&e.clientY===_moveY)return;if(o.ignoreInputTextSelection){var clientX=getCoord("clientX",e);var clientY=getCoord("clientY",e);var elementBehindCursor=doc.elementFromPoint(clientX,clientY);if(isInput(elementBehindCursor))return}var grabbed=_grabbed;eventualMovements(true);movements();end();start(grabbed);var offset=getOffset(_item);_offsetX=getCoord("pageX",e)-offset.left;_offsetY=getCoord("pageY",e)-offset.top;classes.add(_copy||_item,"gu-transit");renderMirrorImage();drag(e)}function canStart(item){if(drake.dragging&&_mirror)return;if(isContainer(item))return;var handle=item;while(getParent(item)&&false===isContainer(getParent(item))){if(o.invalid(item,handle))return;item=getParent(item);if(!item)return}var source=getParent(item);if(!source)return;if(o.invalid(item,handle))return;var movable=o.moves(item,source,handle,nextEl(item));if(!movable)return;return{item:item,source:source}}function canMove(item){return!!canStart(item)}function manualStart(item){var context=canStart(item);context&&start(context)}function start(context){if(isCopy(context.item,context.source)){_copy=context.item.cloneNode(true);drake.emit("cloned",_copy,context.item,"copy")}_source=context.source;_item=context.item;_initialSibling=_currentSibling=nextEl(context.item);drake.dragging=true;drake.emit("drag",_item,_source)}function invalidTarget(){return false}function end(){if(!drake.dragging)return;var item=_copy||_item;drop(item,getParent(item))}function ungrab(){_grabbed=false;eventualMovements(true);movements(true)}function release(e){ungrab();if(!drake.dragging)return;var item=_copy||_item;var clientX=getCoord("clientX",e);var clientY=getCoord("clientY",e);var elementBehindCursor=getElementBehindPoint(_mirror,clientX,clientY);var dropTarget=findDropTarget(elementBehindCursor,clientX,clientY);dropTarget&&(_copy&&o.copySortSource||!_copy||dropTarget!==_source)?drop(item,dropTarget):o.removeOnSpill?remove():cancel()}function drop(item,target){var parent=getParent(item);_copy&&o.copySortSource&&target===_source&&parent.removeChild(_item);isInitialPlacement(target)?drake.emit("cancel",item,_source,_source):drake.emit("drop",item,target,_source,_currentSibling);cleanup()}function remove(){if(!drake.dragging)return;var item=_copy||_item;var parent=getParent(item);parent&&parent.removeChild(item);drake.emit(_copy?"cancel":"remove",item,parent,_source);cleanup()}function cancel(revert){if(!drake.dragging)return;var reverts=arguments.length>0?revert:o.revertOnSpill;var item=_copy||_item;var parent=getParent(item);var initial=isInitialPlacement(parent);false===initial&&reverts&&(_copy?parent.removeChild(_copy):_source.insertBefore(item,_initialSibling));initial||reverts?drake.emit("cancel",item,_source,_source):drake.emit("drop",item,parent,_source,_currentSibling);cleanup()}function cleanup(){var item=_copy||_item;ungrab();removeMirrorImage();item&&classes.rm(item,"gu-transit");_renderTimer&&clearTimeout(_renderTimer);drake.dragging=false;_lastDropTarget&&drake.emit("out",item,_lastDropTarget,_source);drake.emit("dragend",item);_source=_item=_copy=_initialSibling=_currentSibling=_renderTimer=_lastDropTarget=null}function isInitialPlacement(target,s){var sibling;sibling=void 0!==s?s:_mirror?_currentSibling:nextEl(_copy||_item);return target===_source&&sibling===_initialSibling}function findDropTarget(elementBehindCursor,clientX,clientY){var target=elementBehindCursor;while(target&&!accepted())target=getParent(target);return target;function accepted(){var droppable=isContainer(target);if(false===droppable)return false;var immediate=getImmediateChild(target,elementBehindCursor);var reference=getReference(target,immediate,clientX,clientY);var initial=isInitialPlacement(target,reference);if(initial)return true;return o.accepts(_item,target,_source,reference)}}function drag(e){if(!_mirror)return;e.preventDefault();var clientX=getCoord("clientX",e);var clientY=getCoord("clientY",e);var x=clientX-_offsetX;var y=clientY-_offsetY;_mirror.style.left=x+"px";_mirror.style.top=y+"px";var item=_copy||_item;var elementBehindCursor=getElementBehindPoint(_mirror,clientX,clientY);var dropTarget=findDropTarget(elementBehindCursor,clientX,clientY);var changed=null!==dropTarget&&dropTarget!==_lastDropTarget;if(changed||null===dropTarget){out();_lastDropTarget=dropTarget;over()}var parent=getParent(item);if(dropTarget===_source&&_copy&&!o.copySortSource){parent&&parent.removeChild(item);return}var reference;var immediate=getImmediateChild(dropTarget,elementBehindCursor);if(null!==immediate)reference=getReference(dropTarget,immediate,clientX,clientY);else{if(true!==o.revertOnSpill||_copy){_copy&&parent&&parent.removeChild(item);return}reference=_initialSibling;dropTarget=_source}if(null===reference&&changed||reference!==item&&reference!==nextEl(item)){_currentSibling=reference;dropTarget.insertBefore(item,reference);drake.emit("shadow",item,dropTarget,_source)}function moved(type){drake.emit(type,item,_lastDropTarget,_source)}function over(){changed&&moved("over")}function out(){_lastDropTarget&&moved("out")}}function spillOver(el){classes.rm(el,"gu-hide")}function spillOut(el){drake.dragging&&classes.add(el,"gu-hide")}function renderMirrorImage(){if(_mirror)return;var rect=_item.getBoundingClientRect();_mirror=_item.cloneNode(true);_mirror.style.width=getRectWidth(rect)+"px";_mirror.style.height=getRectHeight(rect)+"px";classes.rm(_mirror,"gu-transit");classes.add(_mirror,"gu-mirror");o.mirrorContainer.appendChild(_mirror);touchy(documentElement,"add","mousemove",drag);classes.add(o.mirrorContainer,"gu-unselectable");drake.emit("cloned",_mirror,_item,"mirror")}function removeMirrorImage(){if(_mirror){classes.rm(o.mirrorContainer,"gu-unselectable");touchy(documentElement,"remove","mousemove",drag);getParent(_mirror).removeChild(_mirror);_mirror=null}}function getImmediateChild(dropTarget,target){var immediate=target;while(immediate!==dropTarget&&getParent(immediate)!==dropTarget)immediate=getParent(immediate);if(immediate===documentElement)return null;return immediate}function getReference(dropTarget,target,x,y){var horizontal="horizontal"===o.direction;var reference=target!==dropTarget?inside():outside();return reference;function outside(){var len=dropTarget.children.length;var i;var el;var rect;for(i=0;i<len;i++){el=dropTarget.children[i];rect=el.getBoundingClientRect();if(horizontal&&rect.left+rect.width/2>x)return el;if(!horizontal&&rect.top+rect.height/2>y)return el}return null}function inside(){var rect=target.getBoundingClientRect();if(horizontal)return resolve(x>rect.left+getRectWidth(rect)/2);return resolve(y>rect.top+getRectHeight(rect)/2)}function resolve(after){return after?nextEl(target):target}}function isCopy(item,container){return"boolean"===typeof o.copy?o.copy:o.copy(item,container)}}function touchy(el,op,type,fn){var touch={mouseup:"touchend",mousedown:"touchstart",mousemove:"touchmove"};var pointers={mouseup:"pointerup",mousedown:"pointerdown",mousemove:"pointermove"};var microsoft={mouseup:"MSPointerUp",mousedown:"MSPointerDown",mousemove:"MSPointerMove"};if(global.navigator.pointerEnabled)crossvent[op](el,pointers[type],fn);else if(global.navigator.msPointerEnabled)crossvent[op](el,microsoft[type],fn);else{crossvent[op](el,touch[type],fn);crossvent[op](el,type,fn)}}function whichMouseButton(e){if(void 0!==e.touches)return e.touches.length;if(void 0!==e.which&&0!==e.which)return e.which;if(void 0!==e.buttons)return e.buttons;var button=e.button;if(void 0!==button)return 1&button?1:2&button?3:4&button?2:0}function getOffset(el){var rect=el.getBoundingClientRect();return{left:rect.left+getScroll("scrollLeft","pageXOffset"),top:rect.top+getScroll("scrollTop","pageYOffset")}}function getScroll(scrollProp,offsetProp){if("undefined"!==typeof global[offsetProp])return global[offsetProp];if(documentElement.clientHeight)return documentElement[scrollProp];return doc.body[scrollProp]}function getElementBehindPoint(point,x,y){var p=point||{};var state=p.className;var el;p.className+=" gu-hide";el=doc.elementFromPoint(x,y);p.className=state;return el}function never(){return false}function always(){return true}function getRectWidth(rect){return rect.width||rect.right-rect.left}function getRectHeight(rect){return rect.height||rect.bottom-rect.top}function getParent(el){return el.parentNode===doc?null:el.parentNode}function isInput(el){return"INPUT"===el.tagName||"TEXTAREA"===el.tagName||"SELECT"===el.tagName||isEditable(el)}function isEditable(el){if(!el)return false;if("false"===el.contentEditable)return false;if("true"===el.contentEditable)return true;return isEditable(getParent(el))}function nextEl(el){return el.nextElementSibling||manually();function manually(){var sibling=el;do{sibling=sibling.nextSibling}while(sibling&&1!==sibling.nodeType);return sibling}}function getEventHost(e){if(e.targetTouches&&e.targetTouches.length)return e.targetTouches[0];if(e.changedTouches&&e.changedTouches.length)return e.changedTouches[0];return e}function getCoord(coord,e){var host=getEventHost(e);var missMap={pageX:"clientX",pageY:"clientY"};coord in missMap&&!(coord in host)&&missMap[coord]in host&&(coord=missMap[coord]);return host[coord]}module.exports=dragula}).call(exports,__webpack_require__(23))},7669:function(module,exports,__webpack_require__){"use strict";var atoa=__webpack_require__(7670);var debounce=__webpack_require__(7671);module.exports=function emitter(thing,options){var opts=options||{};var evt={};void 0===thing&&(thing={});thing.on=function(type,fn){evt[type]?evt[type].push(fn):evt[type]=[fn];return thing};thing.once=function(type,fn){fn._once=true;thing.on(type,fn);return thing};thing.off=function(type,fn){var c=arguments.length;if(1===c)delete evt[type];else if(0===c)evt={};else{var et=evt[type];if(!et)return thing;et.splice(et.indexOf(fn),1)}return thing};thing.emit=function(){var args=atoa(arguments);return thing.emitterSnapshot(args.shift()).apply(this,args)};thing.emitterSnapshot=function(type){var et=(evt[type]||[]).slice(0);return function(){var args=atoa(arguments);var ctx=this||thing;if("error"===type&&false!==opts.throws&&!et.length)throw 1===args.length?args[0]:args;et.forEach(function emitter(listen){opts.async?debounce(listen,args,ctx):listen.apply(ctx,args);listen._once&&thing.off(type,listen)});return thing}};return thing}},7670:function(module,exports){module.exports=function atoa(a,n){return Array.prototype.slice.call(a,n)}},7671:function(module,exports,__webpack_require__){"use strict";var ticky=__webpack_require__(7672);module.exports=function debounce(fn,args,ctx){if(!fn)return;ticky(function run(){fn.apply(ctx||null,args||[])})}},7672:function(module,exports,__webpack_require__){(function(setImmediate){var tick,si="function"===typeof setImmediate;tick=si?function(fn){setImmediate(fn)}:function(fn){setTimeout(fn,0)};module.exports=tick}).call(exports,__webpack_require__(719).setImmediate)},7673:function(module,exports,__webpack_require__){"use strict";(function(global){var customEvent=__webpack_require__(7674);var eventmap=__webpack_require__(7675);var doc=global.document;var addEvent=addEventEasy;var removeEvent=removeEventEasy;var hardCache=[];if(!global.addEventListener){addEvent=addEventHard;removeEvent=removeEventHard}module.exports={add:addEvent,remove:removeEvent,fabricate:fabricateEvent};function addEventEasy(el,type,fn,capturing){return el.addEventListener(type,fn,capturing)}function addEventHard(el,type,fn){return el.attachEvent("on"+type,wrap(el,type,fn))}function removeEventEasy(el,type,fn,capturing){return el.removeEventListener(type,fn,capturing)}function removeEventHard(el,type,fn){var listener=unwrap(el,type,fn);if(listener)return el.detachEvent("on"+type,listener)}function fabricateEvent(el,type,model){var e=-1===eventmap.indexOf(type)?makeCustomEvent():makeClassicEvent();el.dispatchEvent?el.dispatchEvent(e):el.fireEvent("on"+type,e);function makeClassicEvent(){var e;if(doc.createEvent){e=doc.createEvent("Event");e.initEvent(type,true,true)}else doc.createEventObject&&(e=doc.createEventObject());return e}function makeCustomEvent(){return new customEvent(type,{detail:model})}}function wrapperFactory(el,type,fn){return function wrapper(originalEvent){var e=originalEvent||global.event;e.target=e.target||e.srcElement;e.preventDefault=e.preventDefault||function preventDefault(){e.returnValue=false};e.stopPropagation=e.stopPropagation||function stopPropagation(){e.cancelBubble=true};e.which=e.which||e.keyCode;fn.call(el,e)}}function wrap(el,type,fn){var wrapper=unwrap(el,type,fn)||wrapperFactory(el,type,fn);hardCache.push({wrapper:wrapper,element:el,type:type,fn:fn});return wrapper}function unwrap(el,type,fn){var i=find(el,type,fn);if(i){var wrapper=hardCache[i].wrapper;hardCache.splice(i,1);return wrapper}}function find(el,type,fn){var i,item;for(i=0;i<hardCache.length;i++){item=hardCache[i];if(item.element===el&&item.type===type&&item.fn===fn)return i}}}).call(exports,__webpack_require__(23))},7674:function(module,exports,__webpack_require__){(function(global){var NativeCustomEvent=global.CustomEvent;function useNative(){try{var p=new NativeCustomEvent("cat",{detail:{foo:"bar"}});return"cat"===p.type&&"bar"===p.detail.foo}catch(e){}return false}module.exports=useNative()?NativeCustomEvent:"function"===typeof document.createEvent?function CustomEvent(type,params){var e=document.createEvent("CustomEvent");params?e.initCustomEvent(type,params.bubbles,params.cancelable,params.detail):e.initCustomEvent(type,false,false,void 0);return e}:function CustomEvent(type,params){var e=document.createEventObject();e.type=type;if(params){e.bubbles=Boolean(params.bubbles);e.cancelable=Boolean(params.cancelable);e.detail=params.detail}else{e.bubbles=false;e.cancelable=false;e.detail=void 0}return e}}).call(exports,__webpack_require__(23))},7675:function(module,exports,__webpack_require__){"use strict";(function(global){var eventmap=[];var eventname="";var ron=/^on/;for(eventname in global)ron.test(eventname)&&eventmap.push(eventname.slice(2));module.exports=eventmap}).call(exports,__webpack_require__(23))},7676:function(module,exports,__webpack_require__){"use strict";var cache={};var start="(?:^|\\s)";var end="(?:\\s|$)";function lookupClass(className){var cached=cache[className];cached?cached.lastIndex=0:cache[className]=cached=new RegExp(start+className+end,"g");return cached}function addClass(el,className){var current=el.className;current.length?lookupClass(className).test(current)||(el.className+=" "+className):el.className=className}function rmClass(el,className){el.className=el.className.replace(lookupClass(className)," ").trim()}module.exports={add:addClass,rm:rmClass}},7677:function(module,exports,__webpack_require__){"use strict";var _jquery=__webpack_require__(16);var _jquery2=_interopRequireDefault(_jquery);var _modules=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}return Array.from(arr)}_modules.uiModules.get("kibana").directive("draggableItem",function(){return{restrict:"A",require:"^draggableContainer",scope:true,controllerAs:"draggableItemCtrl",controller:function controller($scope,$attrs,$parse){var dragHandles=(0,_jquery2.default)();this.getItem=function(){return $parse($attrs.draggableItem)($scope)};this.registerHandle=function($el){dragHandles.push.apply(dragHandles,_toConsumableArray($el))};this.moves=function(handle){var $handle=(0,_jquery2.default)(handle);var $anywhereInParentChain=$handle.parents().addBack();var movable=dragHandles.is($anywhereInParentChain);return movable}},link:function link($scope,$el,attr,draggableController){draggableController.linkDraggableItem($el.get(0),$scope)}}})},7678:function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(3);_modules.uiModules.get("kibana").directive("draggableHandle",function(){return{restrict:"A",require:"^draggableItem",link:function link($scope,$el,attr,ctrl){ctrl.registerHandle($el);$el.addClass("gu-handle")}}})},7679:function(module,exports){module.exports='\x3c!-- Local nav. --\x3e\n<kbn-top-nav name="visualize">\n  \x3c!-- Transcluded elements. --\x3e\n  <div data-transclude-slots>\n    \x3c!-- Title. --\x3e\n    <div\n      data-transclude-slot="topLeftCorner"\n    >\n      <div\n        class="kuiLocalTitle"\n        role="heading"\n        aria-level="1"\n        ng-if="listingController.showPluginBreadcrumbs">\n        Visualize\n      </div>\n    </div>\n  </div>\n</kbn-top-nav>\n\n<div class="kuiViewContent kuiViewContent--constrainedWidth kuiViewContentItem"\n     data-test-subj="visualizeLandingPage"\n>\n  <div class="kuiViewContentItem kuiVerticalRhythm" ng-if="listingController.showLimitError">\n    <div class="kuiInfoPanel kuiInfoPanel--warning">\n      <div class="kuiInfoPanelBody">\n        <div class="kuiInfoPanelBody__message">\n          You have {{ listingController.totalItems }} visualizations, but your "listingLimit" setting prevents the table below from displaying more than {{ listingController.listingLimit }}. You can change this setting under <a kbn-href="#/management/kibana/settings" class="kuiLink">Advanced Settings</a>.\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <visualize-listing-table\n    fetch-items="listingController.fetchItems"\n    delete-selected-items="listingController.deleteSelectedItems"\n  ></visualize-listing-table>\n\n</div>\n'},7680:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.VisualizeListingController=VisualizeListingController;var _saved_object_registry=__webpack_require__(328);__webpack_require__(607);__webpack_require__(505);var _modules=__webpack_require__(3);var _timefilter=__webpack_require__(17);var _visualize_listing_table=__webpack_require__(7681);var app=_modules.uiModules.get("app/visualize",["ngRoute","react"]);app.directive("visualizeListingTable",function(reactDirective){return reactDirective(_visualize_listing_table.VisualizeListingTable)});function VisualizeListingController($injector){var _this=this;var Notifier=$injector.get("Notifier");var Private=$injector.get("Private");var config=$injector.get("config");var breadcrumbState=$injector.get("breadcrumbState");_timefilter.timefilter.disableAutoRefreshSelector();_timefilter.timefilter.disableTimeRangeSelector();var services=Private(_saved_object_registry.SavedObjectRegistryProvider).byLoaderPropertiesName;var visualizationService=services.visualizations;var notify=new Notifier({location:"Visualize"});this.fetchItems=function(filter){var isLabsEnabled=config.get("visualize:enableLabs");return visualizationService.find(filter,config.get("savedObjects:listingLimit")).then(function(result){_this.totalItems=result.total;_this.showLimitError=result.total>config.get("savedObjects:listingLimit");_this.listingLimit=config.get("savedObjects:listingLimit");return result.hits.filter(function(result){return isLabsEnabled||"lab"!==result.type.stage})})};this.deleteSelectedItems=function deleteSelectedItems(selectedIds){return visualizationService.delete(selectedIds).catch(function(error){return notify.error(error)})};breadcrumbState.set([{text:"Visualize"}]);config.watch("k7design",function(val){return _this.showPluginBreadcrumbs=!val})}},7681:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.VisualizeListingTable=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(6);var _propTypes2=_interopRequireDefault(_propTypes);var _lodash=__webpack_require__(1);var _lodash2=_interopRequireDefault(_lodash);var _pager=__webpack_require__(505);var _no_visualizations_prompt=__webpack_require__(7682);var _components=__webpack_require__(67);var _eui=__webpack_require__(2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var VisualizeListingTable=exports.VisualizeListingTable=function(_Component){_inherits(VisualizeListingTable,_Component);function VisualizeListingTable(props){_classCallCheck(this,VisualizeListingTable);var _this=_possibleConstructorReturn(this,(VisualizeListingTable.__proto__||Object.getPrototypeOf(VisualizeListingTable)).call(this,props));_this.calculateItemsOnPage=function(){_this.items=_this.sortableProperties.sortItems(_this.items);_this.pager.setTotalItems(_this.items.length);var pageOfItems=_this.items.slice(_this.pager.startIndex,_this.pager.startIndex+_this.pager.pageSize);_this.setState({pageOfItems:pageOfItems,pageStartNumber:_this.pager.startItem})};_this.deselectAll=function(){_this.setState({selectedRowIds:[]})};_this.isAscending=function(name){return _this.sortableProperties.isAscendingByName(name)};_this.getSortedProperty=function(){return _this.sortableProperties.getSortedProperty()};_this.sortOn=function sortOn(propertyName){this.sortableProperties.sortOn(propertyName);this.setState({selectedRowIds:[],sortedColumn:this.sortableProperties.getSortedProperty().name});this.calculateItemsOnPage()};_this.fetchItems=function(filter){_this.setState({isFetchingItems:true,filter:filter});_this.debouncedFetch(filter)};_this.onNextPage=function(){_this.deselectAll();_this.pager.nextPage();_this.calculateItemsOnPage()};_this.onPreviousPage=function(){_this.deselectAll();_this.pager.previousPage();_this.calculateItemsOnPage()};_this.sortByTitle=function(){return _this.sortOn("title")};_this.sortByType=function(){return _this.sortOn("type")};_this.closeModal=function(){_this.setState({showDeleteModal:false})};_this.onDelete=function(){_this.setState({showDeleteModal:true})};_this.deleteSelectedItems=function(){_this.props.deleteSelectedItems(_this.state.selectedRowIds).then(function(){return _this.fetchItems(_this.state.filter)}).catch(function(){}).then(function(){return _this.deselectAll()}).then(function(){return _this.closeModal()})};_this.onItemSelectionChanged=function(newSelectedIds){_this.setState({selectedRowIds:newSelectedIds})};_this.state={selectedRowIds:[],pageOfItems:[],showDeleteModal:false,filter:"",sortedColumn:"title",pageStartNumber:1,isFetchingItems:false};_this.sortableProperties=new _eui.SortableProperties([{name:"title",getValue:function getValue(item){return item.title.toLowerCase()},isAscending:true},{name:"type",getValue:function getValue(item){return item.type.title.toLowerCase()},isAscending:true}],_this.state.sortedColumn);_this.items=[];_this.pager=new _pager.Pager(_this.items.length,20,1);_this.debouncedFetch=_lodash2.default.debounce(function(filter){_this.props.fetchItems(filter).then(function(items){if(filter===_this.state.filter){_this.setState({isFetchingItems:false,selectedRowIds:[]});_this.items=items;_this.calculateItemsOnPage()}})},300);return _this}_createClass(VisualizeListingTable,[{key:"componentWillUnmount",value:function componentWillUnmount(){this.debouncedFetch.cancel()}},{key:"componentDidMount",value:function componentDidMount(){this.fetchItems(this.state.filter)}},{key:"getUrlForItem",value:function getUrlForItem(item){return"#/visualize/edit/"+item.id}},{key:"renderItemTypeIcon",value:function renderItemTypeIcon(item){var icon=void 0;icon=item.type.image?_react2.default.createElement("img",{className:"visListingTable__typeImage","aria-hidden":"true",src:item.type.image}):item.type.image||item.type.icon?_react2.default.createElement(_eui.EuiIcon,{className:"visListingTable__typeIcon","aria-hidden":"true",type:item.icon,size:"m"}):_react2.default.createElement("span",{"aria-hidden":"true",className:"kuiStatusText__icon kuiIcon "+item.type.legacyIcon});return icon}},{key:"renderHeader",value:function renderHeader(){return[{content:"Title",onSort:this.sortByTitle,isSorted:"title"===this.state.sortedColumn,isSortAscending:this.sortableProperties.isAscendingByName("title")},{content:"Type",onSort:this.sortByType,isSorted:"type"===this.state.sortedColumn,isSortAscending:this.sortableProperties.isAscendingByName("type")}]}},{key:"renderRowCells",value:function renderRowCells(item){var flaskHolder=void 0;flaskHolder=item.type.shouldMarkAsExperimentalInUI()?_react2.default.createElement("span",{className:"kuiIcon fa-flask ng-scope"},""):_react2.default.createElement("span",null);return[_react2.default.createElement("span",null,flaskHolder,_react2.default.createElement("a",{className:"kuiLink",href:this.getUrlForItem(item)},item.title)),_react2.default.createElement("span",{className:"kuiStatusText"},this.renderItemTypeIcon(item),item.type.title)]}},{key:"createRows",value:function createRows(){var _this2=this;return this.state.pageOfItems.map(function(item){return{id:item.id,cells:_this2.renderRowCells(item)}})}},{key:"renderConfirmDeleteModal",value:function renderConfirmDeleteModal(){return _react2.default.createElement(_eui.EuiOverlayMask,null,_react2.default.createElement(_eui.EuiConfirmModal,{title:"Delete selected visualizations?",onCancel:this.closeModal,onConfirm:this.deleteSelectedItems,cancelButtonText:"Cancel",confirmButtonText:"Delete"},_react2.default.createElement("p",null,"You can't recover deleted visualizations.")))}},{key:"onCreate",value:function onCreate(){window.location="#/visualize/new"}},{key:"renderToolBarActions",value:function renderToolBarActions(){return this.state.selectedRowIds.length>0?_react2.default.createElement(_components.KuiListingTableDeleteButton,{onDelete:this.onDelete,"aria-label":"Delete selected visualizations"}):_react2.default.createElement(_components.KuiListingTableCreateButton,{onCreate:this.onCreate,"aria-label":"Create new visualization"})}},{key:"renderPager",value:function renderPager(){return _react2.default.createElement(_components.KuiPager,{startNumber:this.state.pageStartNumber,hasNextPage:this.pager.hasNextPage,hasPreviousPage:this.pager.hasPreviousPage,endNumber:this.pager.endItem,totalItems:this.items.length,onNextPage:this.onNextPage,onPreviousPage:this.onPreviousPage})}},{key:"renderPrompt",value:function renderPrompt(){if(this.state.isFetchingItems)return _react2.default.createElement(_components.KuiListingTableLoadingPrompt,null);if(0===this.items.length){if(this.state.filter)return _react2.default.createElement(_components.KuiListingTableNoMatchesPrompt,null);return _react2.default.createElement(_no_visualizations_prompt.NoVisualizationsPrompt,null)}return null}},{key:"render",value:function render(){return _react2.default.createElement("div",null,this.state.showDeleteModal&&this.renderConfirmDeleteModal(),_react2.default.createElement(_components.KuiListingTable,{pager:this.renderPager(),toolBarActions:this.renderToolBarActions(),selectedRowIds:this.state.selectedRowIds,rows:this.createRows(),header:this.renderHeader(),onFilter:this.fetchItems,filter:this.state.filter,prompt:this.renderPrompt(),onItemSelectionChanged:this.onItemSelectionChanged}))}}]);return VisualizeListingTable}(_react.Component);VisualizeListingTable.propTypes={deleteSelectedItems:_propTypes2.default.func,fetchItems:_propTypes2.default.func}},7682:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.NoVisualizationsPrompt=NoVisualizationsPrompt;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _components=__webpack_require__(67);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function NoVisualizationsPrompt(){return _react2.default.createElement(_components.KuiEmptyTablePromptPanel,null,_react2.default.createElement(_components.KuiEmptyTablePrompt,{actions:_react2.default.createElement(_components.KuiLinkButton,{href:"#/visualize/new",buttonType:"primary",icon:_react2.default.createElement(_components.KuiButtonIcon,{type:"create"})},"Create a visualization"),message:"Looks like you don't have any visualizations. Let's create some!"}))}},7683:function(module,exports,__webpack_require__){"use strict";__webpack_require__(7684);__webpack_require__(1733);__webpack_require__(2283);var _routes=__webpack_require__(13);var _routes2=_interopRequireDefault(_routes);var _modules=__webpack_require__(3);var _app=__webpack_require__(7812);var _app2=_interopRequireDefault(_app);var _landing=__webpack_require__(7813);var _landing2=_interopRequireDefault(_landing);var _management=__webpack_require__(84);var _feature_catalogue=__webpack_require__(62);var _timefilter=__webpack_require__(17);__webpack_require__(1031);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}_routes2.default.when("/management",{template:_landing2.default});_routes2.default.when("/management/:section",{redirectTo:"/management"});__webpack_require__(7814)({whenMissingRedirectTo:"/management/kibana/index"});_modules.uiModules.get("apps/management").directive("kbnManagementApp",function(Private,$location){return{restrict:"E",template:_app2.default,transclude:true,scope:{sectionName:"@section",omitPages:"@omitBreadcrumbPages",pageTitle:"="},link:function link($scope){_timefilter.timefilter.disableAutoRefreshSelector();_timefilter.timefilter.disableTimeRangeSelector();$scope.sections=_management.management.items.inOrder;$scope.section=_management.management.getSection($scope.sectionName)||_management.management;$scope.section&&$scope.section.items.forEach(function(item){item.active=("#"+$location.path()).indexOf(item.url)>-1})}}});_modules.uiModules.get("apps/management").directive("kbnManagementLanding",function(kbnVersion){return{restrict:"E",link:function link($scope){$scope.sections=_management.management.items.inOrder;$scope.kbnVersion=kbnVersion}}});_feature_catalogue.FeatureCatalogueRegistryProvider.register(function(){return{id:"management",title:"Management",description:"Your center console for managing the Elastic Stack.",icon:"managementApp",path:"/app/kibana#/management",showOnHomePage:false,category:_feature_catalogue.FeatureCatalogueCategory.ADMIN}})},7684:function(module,exports,__webpack_require__){"use strict";__webpack_require__(7685);__webpack_require__(7695);__webpack_require__(7717)},7685:function(module,exports,__webpack_require__){"use strict";var _management=__webpack_require__(84);var _routes=__webpack_require__(13);var _routes2=_interopRequireDefault(_routes);var _modules=__webpack_require__(3);var _index=__webpack_require__(7686);var _index2=_interopRequireDefault(_index);var _feature_catalogue=__webpack_require__(62);var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _reactDom=__webpack_require__(14);var _advanced_settings=__webpack_require__(7687);var _i18n=__webpack_require__(18);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var REACT_ADVANCED_SETTINGS_DOM_ELEMENT_ID="reactAdvancedSettings";function updateAdvancedSettings($scope,config,query){$scope.$$postDigest(function(){var node=document.getElementById(REACT_ADVANCED_SETTINGS_DOM_ELEMENT_ID);if(!node)return;(0,_reactDom.render)(_react2.default.createElement(_advanced_settings.AdvancedSettings,{config:config,query:query}),node)})}function destroyAdvancedSettings(){var node=document.getElementById(REACT_ADVANCED_SETTINGS_DOM_ELEMENT_ID);node&&(0,_reactDom.unmountComponentAtNode)(node)}_routes2.default.when("/management/kibana/settings/:setting?",{template:_index2.default});_modules.uiModules.get("apps/management").directive("kbnManagementAdvanced",function(config,$route){return{restrict:"E",link:function link($scope){config.watchAll(function(){updateAdvancedSettings($scope,config,$route.current.params.setting||"")},$scope);$scope.$on("$destroy",function(){destroyAdvancedSettings()});$route.updateParams({setting:null})}}});_management.management.getSection("kibana").register("settings",{display:_i18n.i18n.translate("kbn.management.settings.sectionLabel",{defaultMessage:"Advanced Settings"}),order:20,url:"#/management/kibana/settings"});_feature_catalogue.FeatureCatalogueRegistryProvider.register(function(){return{id:"advanced_settings",title:"Advanced Settings",description:"Directly edit settings that control behavior in Kibana.",icon:"advancedSettingsApp",path:"/app/kibana#/management/kibana/settings",showOnHomePage:false,category:_feature_catalogue.FeatureCatalogueCategory.ADMIN}})},7686:function(module,exports){module.exports='<kbn-management-app section="kibana">\n  <kbn-management-advanced>\n    <div id="reactAdvancedSettings"></div>\n  </kbn-management-advanced>\n</kbn-management-app>\n'},7687:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.AdvancedSettings=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(6);var _propTypes2=_interopRequireDefault(_propTypes);var _eui=__webpack_require__(2);var _call_outs=__webpack_require__(7688);var _search=__webpack_require__(7690);var _form=__webpack_require__(7692);var _lib=__webpack_require__(731);var _default_component_registry=__webpack_require__(1614);var _component_registry=__webpack_require__(1003);var _react3=__webpack_require__(10);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var AdvancedSettings=exports.AdvancedSettings=function(_Component){_inherits(AdvancedSettings,_Component);function AdvancedSettings(props){_classCallCheck(this,AdvancedSettings);var _this=_possibleConstructorReturn(this,(AdvancedSettings.__proto__||Object.getPrototypeOf(AdvancedSettings)).call(this,props));_initialiseProps.call(_this);var _this$props=_this.props,config=_this$props.config,query=_this$props.query;var parsedQuery=_eui.Query.parse(query?'ariaName:"'+(0,_lib.getAriaName)(query)+'"':"");_this.init(config);_this.state={query:parsedQuery,footerQueryMatched:false,filteredSettings:_this.mapSettings(_eui.Query.execute(parsedQuery,_this.settings))};(0,_default_component_registry.registerDefaultComponents)();return _this}_createClass(AdvancedSettings,[{key:"init",value:function init(config){var _this2=this;this.settings=this.mapConfig(config);this.groupedSettings=this.mapSettings(this.settings);this.categories=Object.keys(this.groupedSettings).sort(function(a,b){if(a===_lib.DEFAULT_CATEGORY)return-1;if(b===_lib.DEFAULT_CATEGORY)return 1;if(a>b)return 1;return a===b?0:-1});this.categoryCounts=Object.keys(this.groupedSettings).reduce(function(counts,category){counts[category]=_this2.groupedSettings[category].length;return counts},{})}},{key:"componentWillReceiveProps",value:function componentWillReceiveProps(nextProps){var config=nextProps.config;var query=this.state.query;this.init(config);this.setState({filteredSettings:this.mapSettings(_eui.Query.execute(query,this.settings))})}},{key:"mapConfig",value:function mapConfig(config){var all=config.getAll();return Object.entries(all).map(function(setting){return(0,_lib.toEditableConfig)({def:setting[1],name:setting[0],value:setting[1].userValue,isCustom:config.isCustom(setting[0]),isOverridden:config.isOverridden(setting[0])})}).filter(function(c){return!c.readonly}).sort(_eui.Comparators.property("name",_eui.Comparators.default("asc")))}},{key:"mapSettings",value:function mapSettings(settings){return settings.reduce(function(groupedSettings,setting){var category=setting.category[0];(groupedSettings[category]=groupedSettings[category]||[]).push(setting);return groupedSettings},{})}},{key:"render",value:function render(){var _state=this.state,filteredSettings=_state.filteredSettings,query=_state.query,footerQueryMatched=_state.footerQueryMatched;var PageTitle=(0,_component_registry.getSettingsComponent)(_default_component_registry.PAGE_TITLE_COMPONENT);var PageSubtitle=(0,_component_registry.getSettingsComponent)(_default_component_registry.PAGE_SUBTITLE_COMPONENT);var PageFooter=(0,_component_registry.getSettingsComponent)(_default_component_registry.PAGE_FOOTER_COMPONENT);return _react2.default.createElement(_react3.I18nProvider,null,_react2.default.createElement(_eui.EuiPage,{restrictWidth:true},_react2.default.createElement("div",{className:"mgtAdvancedSettings"},_react2.default.createElement(_eui.EuiFlexGroup,{gutterSize:"none"},_react2.default.createElement(_eui.EuiFlexItem,null,_react2.default.createElement(PageTitle,null)),_react2.default.createElement(_eui.EuiFlexItem,null,_react2.default.createElement(_search.Search,{query:query,categories:this.categories,onQueryChange:this.onQueryChange}))),_react2.default.createElement(PageSubtitle,null),_react2.default.createElement(_eui.EuiSpacer,{size:"m"}),_react2.default.createElement(_call_outs.CallOuts,null),_react2.default.createElement(_eui.EuiSpacer,{size:"m"}),_react2.default.createElement(_form.Form,{settings:filteredSettings,categories:this.categories,categoryCounts:this.categoryCounts,clearQuery:this.clearQuery,save:this.saveConfig,clear:this.clearConfig,showNoResultsMessage:!footerQueryMatched}),_react2.default.createElement(PageFooter,{query:query,onQueryMatchChange:this.onFooterQueryMatchChange}))))}}]);return AdvancedSettings}(_react.Component);AdvancedSettings.propTypes={config:_propTypes2.default.object.isRequired,query:_propTypes2.default.string};var _initialiseProps=function _initialiseProps(){var _this3=this;this.saveConfig=function(name,value){return _this3.props.config.set(name,value)};this.clearConfig=function(name){return _this3.props.config.remove(name)};this.onQueryChange=function(_ref){var query=_ref.query;_this3.setState({query:query,filteredSettings:_this3.mapSettings(_eui.Query.execute(query,_this3.settings))})};this.clearQuery=function(){_this3.setState({query:_eui.Query.parse(""),footerQueryMatched:false,filteredSettings:_this3.groupedSettings})};this.onFooterQueryMatchChange=function(matched){_this3.setState({footerQueryMatched:matched})}}},7688:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _call_outs=__webpack_require__(7689);Object.defineProperty(exports,"CallOuts",{enumerable:true,get:function get(){return _call_outs.CallOuts}})},7689:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.CallOuts=void 0;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _eui=__webpack_require__(2);var _react3=__webpack_require__(10);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}exports.CallOuts=function CallOuts(){return _react2.default.createElement("div",null,_react2.default.createElement(_eui.EuiCallOut,{title:_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.management.settings.callOutCautionTitle",defaultMessage:"Caution: You can break stuff here"}),color:"warning",iconType:"bolt"},_react2.default.createElement("p",null,_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.management.settings.callOutCautionDescription",defaultMessage:"Be careful in here, these settings are for very advanced users only. Tweaks you make here can break large portions of Kibana. Some of these settings may be undocumented, unsupported or experimental. If a field has a default value, blanking the field will reset it to its default which may be unacceptable given other configuration directives. Deleting a custom setting will permanently remove it from Kibana's config."}))))}},7690:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _search=__webpack_require__(7691);Object.defineProperty(exports,"Search",{enumerable:true,get:function get(){return _search.Search}})},7691:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Search=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(6);var _propTypes2=_interopRequireDefault(_propTypes);var _react3=__webpack_require__(10);var _eui=__webpack_require__(2);var _lib=__webpack_require__(731);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var SearchUI=function(_PureComponent){_inherits(SearchUI,_PureComponent);function SearchUI(props){_classCallCheck(this,SearchUI);var _this=_possibleConstructorReturn(this,(SearchUI.__proto__||Object.getPrototypeOf(SearchUI)).call(this,props));_this.state={isSearchTextValid:true,parseErrorMessage:null};_this.onChange=function(_ref){var query=_ref.query,error=_ref.error;if(error){_this.setState({isSearchTextValid:false,parseErrorMessage:error.message});return}_this.setState({isSearchTextValid:true,parseErrorMessage:null});_this.props.onQueryChange({query:query})};var categories=props.categories;_this.categories=categories.map(function(category){return{value:category,name:(0,_lib.getCategoryName)(category)}});return _this}_createClass(SearchUI,[{key:"render",value:function render(){var _props=this.props,query=_props.query,intl=_props.intl;var box={incremental:true,"data-test-subj":"settingsSearchBar","aria-label":intl.formatMessage({id:"kbn.management.settings.searchBarAriaLabel",defaultMessage:"Search advanced settings"})};var filters=[{type:"field_value_selection",field:"category",name:intl.formatMessage({id:"kbn.management.settings.categorySearchLabel",defaultMessage:"Category"}),multiSelect:"or",options:this.categories}];var queryParseError=void 0;if(!this.state.isSearchTextValid){var parseErrorMsg=intl.formatMessage({id:"kbn.management.settings.searchBar.unableToParseQueryErrorMessage",defaultMessage:"Unable to parse query"});queryParseError=_react2.default.createElement(_eui.EuiFormErrorText,null,parseErrorMsg+". "+this.state.parseErrorMessage)}return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_eui.EuiSearchBar,{box:box,filters:filters,onChange:this.onChange,query:query}),queryParseError)}}]);return SearchUI}(_react.PureComponent);SearchUI.propTypes={categories:_propTypes2.default.array.isRequired,query:_propTypes2.default.object.isRequired,onQueryChange:_propTypes2.default.func.isRequired};exports.Search=(0,_react3.injectI18n)(SearchUI)},7692:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _form=__webpack_require__(7693);Object.defineProperty(exports,"Form",{enumerable:true,get:function get(){return _form.Form}})},7693:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Form=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(6);var _propTypes2=_interopRequireDefault(_propTypes);var _eui=__webpack_require__(2);var _lib=__webpack_require__(731);var _field=__webpack_require__(7694);var _react3=__webpack_require__(10);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var FormUI=function(_PureComponent){_inherits(FormUI,_PureComponent);function FormUI(){_classCallCheck(this,FormUI);return _possibleConstructorReturn(this,(FormUI.__proto__||Object.getPrototypeOf(FormUI)).apply(this,arguments))}_createClass(FormUI,[{key:"renderClearQueryLink",value:function renderClearQueryLink(totalSettings,currentSettings){var clearQuery=this.props.clearQuery;if(totalSettings!==currentSettings)return _react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement("em",null,_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.management.settings.form.searchResultText",defaultMessage:"Search terms are hiding {settingsCount} settings {clearSearch}",values:{settingsCount:totalSettings-currentSettings,clearSearch:_react2.default.createElement(_eui.EuiLink,{onClick:clearQuery},_react2.default.createElement("em",null,_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.management.settings.form.clearSearchResultText",defaultMessage:"(clear search)"})))}})));return null}},{key:"renderCategory",value:function renderCategory(category,settings,totalSettings){var _this2=this;return _react2.default.createElement(_react.Fragment,{key:category},_react2.default.createElement(_eui.EuiPanel,{paddingSize:"l"},_react2.default.createElement(_eui.EuiForm,null,_react2.default.createElement(_eui.EuiText,null,_react2.default.createElement(_eui.EuiFlexGroup,{alignItems:"baseline"},_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement("h2",null,(0,_lib.getCategoryName)(category))),this.renderClearQueryLink(totalSettings,settings.length))),_react2.default.createElement(_eui.EuiSpacer,{size:"m"}),settings.map(function(setting){return _react2.default.createElement(_field.Field,{key:setting.name,setting:setting,save:_this2.props.save,clear:_this2.props.clear})}))),_react2.default.createElement(_eui.EuiSpacer,{size:"l"}))}},{key:"maybeRenderNoSettings",value:function maybeRenderNoSettings(clearQuery){if(this.props.showNoResultsMessage)return _react2.default.createElement(_eui.EuiPanel,{paddingSize:"l"},_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.management.settings.form.noSearchResultText",defaultMessage:"No settings found {clearSearch}",values:{clearSearch:_react2.default.createElement(_eui.EuiLink,{onClick:clearQuery},_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.management.settings.form.clearNoSearchResultText",defaultMessage:"(clear search)"}))}}));return null}},{key:"render",value:function render(){var _this3=this;var _props=this.props,settings=_props.settings,categories=_props.categories,categoryCounts=_props.categoryCounts,clearQuery=_props.clearQuery;var currentCategories=[];categories.forEach(function(category){settings[category]&&settings[category].length&&currentCategories.push(category)});return _react2.default.createElement(_react.Fragment,null,currentCategories.length?currentCategories.map(function(category){return _this3.renderCategory(category,settings[category],categoryCounts[category])}):this.maybeRenderNoSettings(clearQuery))}}]);return FormUI}(_react.PureComponent);FormUI.propTypes={settings:_propTypes2.default.object.isRequired,categories:_propTypes2.default.array.isRequired,categoryCounts:_propTypes2.default.object.isRequired,clearQuery:_propTypes2.default.func.isRequired,save:_propTypes2.default.func.isRequired,clear:_propTypes2.default.func.isRequired,showNoResultsMessage:_propTypes2.default.bool.isRequired};exports.Form=(0,_react3.injectI18n)(FormUI)},7694:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _field=__webpack_require__(1617);Object.defineProperty(exports,"Field",{enumerable:true,get:function get(){return _field.Field}})},7695:function(module,exports,__webpack_require__){"use strict";var _i18n=__webpack_require__(18);var _management=__webpack_require__(84);__webpack_require__(7696);__webpack_require__(7698);__webpack_require__(230);__webpack_require__(1044);var _modules=__webpack_require__(3);var _feature_catalogue=__webpack_require__(62);_modules.uiModules.get("apps/management");_management.management.getSection("kibana").register("objects",{display:_i18n.i18n.translate("kbn.management.objects.savedObjectsSectionLabel",{defaultMessage:"Saved Objects"}),order:10,url:"#/management/kibana/objects"});_feature_catalogue.FeatureCatalogueRegistryProvider.register(function(){return{id:"saved_objects",title:_i18n.i18n.translate("kbn.management.objects.savedObjectsTitle",{defaultMessage:"Saved Objects"}),description:_i18n.i18n.translate("kbn.management.objects.savedObjectsDescription",{defaultMessage:"Import, export, and manage your saved searches, visualizations, and dashboards."}),icon:"savedObjectsApp",path:"/app/kibana#/management/kibana/objects",showOnHomePage:true,category:_feature_catalogue.FeatureCatalogueCategory.ADMIN}})},7696:function(module,exports,__webpack_require__){"use strict";var _lodash=__webpack_require__(1);var _lodash2=_interopRequireDefault(_lodash);var _angular=__webpack_require__(22);var _angular2=_interopRequireDefault(_angular);var _risonNode=__webpack_require__(326);var _risonNode2=_interopRequireDefault(_risonNode);var _saved_object_registry=__webpack_require__(491);var _view=__webpack_require__(7697);var _view2=_interopRequireDefault(_view);var _routes=__webpack_require__(13);var _routes2=_interopRequireDefault(_routes);var _modules=__webpack_require__(3);var _notify=__webpack_require__(11);__webpack_require__(1032);var _utils=__webpack_require__(577);var _saved_objects=__webpack_require__(72);var _numeric=__webpack_require__(1014);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var location="SavedObject view";_routes2.default.when("/management/kibana/objects/:service/:id",{template:_view2.default});_modules.uiModules.get("apps/management").directive("kbnManagementObjectsView",function(kbnIndex,confirmModal,i18n){return{restrict:"E",controller:function controller($scope,$injector,$routeParams,$location,$window,$rootScope,Private){var serviceObj=_saved_object_registry.savedObjectManagementRegistry.get($routeParams.service);var service=$injector.get(serviceObj.service);var savedObjectsClient=Private(_saved_objects.SavedObjectsClientProvider);var createField=function createField(memo,val,key,collection,parents){Array.isArray(parents)?parents.push(key):parents=[key];var field={type:"text",name:parents.join("."),value:val};if(_lodash2.default.isString(field.value))try{field.value=_angular2.default.toJson(JSON.parse(field.value),true);field.type="json"}catch(err){field.value=field.value}else if((0,_numeric.isNumeric)(field.value))field.type="number";else if(Array.isArray(field.value)){field.type="array";field.value=_angular2.default.toJson(field.value,true)}else if(_lodash2.default.isBoolean(field.value)){field.type="boolean";field.value=field.value}else if(_lodash2.default.isPlainObject(field.value))return _lodash2.default.reduce(field.value,_lodash2.default.partialRight(createField,parents),memo);memo.push(field);parents.pop();return memo};var readObjectClass=function readObjectClass(fields,Class){var fieldMap=_lodash2.default.indexBy(fields,"name");_lodash2.default.forOwn(Class.mapping,function(esType,name){if(fieldMap[name])return;fields.push({name:name,type:function(){switch((0,_utils.castEsToKbnFieldTypeName)(esType)){case"string":return"text";case"number":return"number";case"boolean":return"boolean";default:return"json"}}()})});Class.searchSource&&!fieldMap["kibanaSavedObjectMeta.searchSourceJSON"]&&fields.push({name:"kibanaSavedObjectMeta.searchSourceJSON",type:"json",value:"{}"})};$scope.notFound=$routeParams.notFound;$scope.title=service.type;savedObjectsClient.get(service.type,$routeParams.id).then(function(obj){$scope.obj=obj;$scope.link=service.urlFor(obj.id);var fields=_lodash2.default.reduce(obj.attributes,createField,[]);service.Class&&readObjectClass(fields,service.Class);var nameSortedFields=_lodash2.default.sortBy(fields,"name");$scope.fields=_lodash2.default.sortBy(nameSortedFields,function(field){var orderIndex=service.Class.fieldOrder?service.Class.fieldOrder.indexOf(field.name):-1;return orderIndex>-1?orderIndex:Infinity})}).catch(function(error){return(0,_notify.fatalError)(error,location)});var loadedEditors=[];$scope.aceInvalidEditors=[];$scope.aceLoaded=function(editor){if(_lodash2.default.contains(loadedEditors,editor))return;loadedEditors.push(editor);editor.$blockScrolling=Infinity;var session=editor.getSession();var fieldName=editor.container.id;session.setTabSize(2);session.setUseSoftTabs(true);session.on("changeAnnotation",function(){var annotations=session.getAnnotations();_lodash2.default.some(annotations,{type:"error"})?_lodash2.default.contains($scope.aceInvalidEditors,fieldName)||$scope.aceInvalidEditors.push(fieldName):$scope.aceInvalidEditors=_lodash2.default.without($scope.aceInvalidEditors,fieldName);$rootScope.$$phase||$scope.$apply()})};$scope.cancel=function(){$window.history.back();return false};$scope.delete=function(){function doDelete(){savedObjectsClient.delete(service.type,$routeParams.id).then(function(){return redirectHandler("deleted")}).catch(function(error){return(0,_notify.fatalError)(error,location)})}var confirmModalOptions={onConfirm:doDelete,confirmButtonText:i18n("kbn.management.objects.confirmModalOptions.deleteButtonLabel",{defaultMessage:"Delete"}),title:i18n("kbn.management.objects.confirmModalOptions.modalTitle",{defaultMessage:"Delete saved Kibana object?"})};confirmModal(i18n("kbn.management.objects.confirmModalOptions.modalDescription",{defaultMessage:"You can't recover deleted objects"}),confirmModalOptions)};$scope.submit=function(){var source=_lodash2.default.cloneDeep($scope.obj.attributes);_lodash2.default.each($scope.fields,function(field){var value=field.value;"number"===field.type&&(value=Number(field.value));"array"===field.type&&(value=JSON.parse(field.value));_lodash2.default.set(source,field.name,value)});savedObjectsClient.update(service.type,$routeParams.id,source).then(function(){return redirectHandler("updated")}).catch(function(error){return(0,_notify.fatalError)(error,location)})};function redirectHandler(action){$location.path("/management/kibana/objects").search({_a:_risonNode2.default.encode({tab:serviceObj.title})});_notify.toastNotifications.addSuccess(_lodash2.default.capitalize(action)+" '"+$scope.obj.attributes.title+"' "+$scope.title.toLowerCase()+" object")}}}})},7697:function(module,exports){module.exports='<kbn-management-app section="kibana" class="kuiView">\n  <kbn-management-objects-view class="kuiViewContent kuiViewContent--constrainedWidth">\n    \x3c!-- Header --\x3e\n    <div class="kuiViewContentItem kuiBar kuiVerticalRhythm">\n      <div class="kuiBarSection">\n        <h1\n          class="kuiTitle"\n          i18n-id="kbn.management.objects.view.editItemTitle"\n          i18n-default-message="Edit {title}"\n          i18n-values="{ title }"\n        ></h1>\n      </div>\n\n      <div class="kuiBarSection">\n        <a\n          class="kuiButton kuiButton--basic kuiButton--iconText"\n          href="{{ link }}"\n        >\n          <span class="kuiButton__inner">\n            <span class="kuiButton__icon kuiIcon fa-eye"></span>\n            <span\n              i18n-id="kbn.management.objects.view.viewItemButtonLabel"\n              i18n-default-message="View {title}"\n              i18n-values="{ title }"\n            ></span>\n          </span>\n        </a>\n\n        <button\n          class="kuiButton kuiButton--danger kuiButton--iconText"\n          ng-click="delete()"\n        >\n          <span class="kuiButton__inner">\n            <span class="kuiButton__icon kuiIcon fa-trash-o"></span>\n            <span\n              i18n-id="kbn.management.objects.view.deleteItemButtonLabel"\n              i18n-default-message="Delete {title}"\n              i18n-values="{ title }"\n              ></span>\n          </span>\n        </button>\n      </div>\n    </div>\n\n    \x3c!-- Errors --\x3e\n    <div\n      class="kuiViewContentItem kuiVerticalRhythm"\n      ng-if="notFound"\n    >\n      <div class="kuiInfoPanel kuiInfoPanel--error">\n        <div class="kuiInfoPanelHeader">\n          <span class="kuiInfoPanelHeader__icon kuiIcon kuiIcon--error fa-warning"></span>\n          <span\n            class="kuiInfoPanelHeader__title"\n            i18n-id="kbn.management.objects.view.savedObjectProblemErrorMessage"\n            i18n-default-message="There is a problem with this saved object"\n            ></span>\n        </div>\n\n        <div class="kuiInfoPanelBody">\n          <div\n            class="kuiInfoPanelBody__message"\n            ng-if="notFound === \'search\'"\n            i18n-id="kbn.management.objects.view.savedSearchDoesNotExistErrorMessage"\n            i18n-default-message="The saved search associated with this object no longer exists."\n          ></div>\n\n          <div\n            class="kuiInfoPanelBody__message"\n            ng-if="notFound === \'index-pattern\'"\n            i18n-id="kbn.management.objects.view.indexPatternDoesNotExistErrorMessage"\n            i18n-default-message="The index pattern associated with this object no longer exists."\n          ></div>\n\n          <div\n            class="kuiInfoPanelBody__message"\n            ng-if="notFound === \'index-pattern-field\'"\n            i18n-id="kbn.management.objects.view.fieldDoesNotExistErrorMessage"\n            i18n-default-message="A field associated with this object no longer exists in the index pattern."\n          ></div>\n\n          <div\n            class="kuiInfoPanelBody__message"\n            i18n-id="kbn.management.objects.view.howToFixErrorDescription"\n            i18n-default-message="If you know what this error means, go ahead and fix it &mdash; otherwise click the delete button above."\n          ></div>\n        </div>\n      </div>\n    </div>\n\n    \x3c!-- Intro --\x3e\n    <div class="kuiViewContentItem kuiVerticalRhythm">\n      <div class="kuiInfoPanel kuiInfoPanel--warning">\n        <div class="kuiInfoPanelHeader">\n          <span class="kuiInfoPanelHeader__icon kuiIcon kuiIcon--warning fa-bolt"></span>\n          <span\n            class="kuiInfoPanelHeader__title"\n            i18n-id="kbn.management.objects.view.howToModifyObjectTitle"\n            i18n-default-message="Proceed with caution!"\n          ></span>\n        </div>\n\n        <div class="kuiInfoPanelBody">\n          <div\n            class="kuiInfoPanelBody__message"\n            i18n-id="kbn.management.objects.view.howToModifyObjectDescription"\n            i18n-default-message=" Modifying objects is for advanced users only. Object properties are not validated and invalid objects could cause errors, data loss, or worse. Unless someone with intimate knowledge of the code told you to be in here, you probably shouldn&rsquo;t be."\n          >\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <div class="kuiViewContentItem kuiVerticalRhythm">\n      \x3c!-- Form --\x3e\n      <form\n        role="form"\n        name="objectForm"\n        ng-submit="submit()"\n      >\n        <div class="kuiFormSection" ng-repeat="field in fields">\n          <label for="{{ field.name }}" class="kuiFormLabel">\n            {{ field.name }}\n          </label>\n\n          <input\n            id="{{ field.name }}"\n            ng-if="field.type === \'number\'"\n            class="kuiTextInput"\n            type="number"\n            ng-model="field.value"\n          >\n\n          <textarea\n            id="{{ field.name }}"\n            ng-if="field.type === \'text\'"\n            class="kuiTextArea"\n            rows="1"\n            msd-elastic=" "\n            ng-model="field.value"\n          ></textarea>\n\n          <input\n            ng-if="field.type === \'boolean\'"\n            class="kuiCheckBox"\n            type="checkbox"\n            ng-model="field.value"\n            ng-checked="field.value"\n          >\n\n          <div\n            ng-if="field.type === \'json\' || field.type === \'array\'"\n            kbn-ui-ace-keyboard-mode\n            ui-ace="{ onLoad: aceLoaded, mode: \'json\' }"\n            id="{{field.name}}"\n            ng-model="field.value"\n            class="form-control"\n          ></div>\n        </div>\n      </form>\n\n      \x3c!-- Actions --\x3e\n      <div class="kuiButtonGroup">\n        <button\n          class="kuiButton kuiButton--primary"\n          aria-label="{{ \'kbn.management.objects.view.saveButtonAriaLabel\' | i18n: { defaultMessage: \'Save { title } Object\', values: { title } } }}"\n          ng-click="submit()"\n          ng-disabled="objectForm.$invalid || aceInvalidEditors.length !==0"\n          i18n-id="kbn.management.objects.view.saveButtonLabel"\n          i18n-default-message="Save { title } Object"\n          i18n-values="{ title }"\n        ></button>\n\n        <button\n          class="kuiButton kuiButton--basic"\n          aria-label="{{ \'kbn.management.objects.view.cancelButtonAriaLabel\' | i18n: { defaultMessage: \'Cancel\'} }}"\n          ng-click="cancel()"\n          i18n-id="kbn.management.objects.view.cancelButtonLabel"\n          i18n-default-message="Cancel"\n        ></button>\n      </div>\n    </div>\n  </kbn-management-objects-view>\n</kbn-management-app>\n'},7698:function(module,exports,__webpack_require__){"use strict";var _saved_object_registry=__webpack_require__(491);var _objects=__webpack_require__(7699);var _objects2=_interopRequireDefault(_objects);var _routes=__webpack_require__(13);var _routes2=_interopRequireDefault(_routes);var _chrome=__webpack_require__(9);var _chrome2=_interopRequireDefault(_chrome);var _notify=__webpack_require__(11);var _saved_objects=__webpack_require__(72);var _modules=__webpack_require__(3);var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _reactDom=__webpack_require__(14);var _objects_table=__webpack_require__(7700);var _get_in_app_url=__webpack_require__(2282);var _react3=__webpack_require__(10);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var REACT_OBJECTS_TABLE_DOM_ELEMENT_ID="reactSavedObjectsTable";function updateObjectsTable($scope,$injector){var Private=$injector.get("Private");var indexPatterns=$injector.get("indexPatterns");var $http=$injector.get("$http");var kbnUrl=$injector.get("kbnUrl");var config=$injector.get("config");var savedObjectsClient=Private(_saved_objects.SavedObjectsClientProvider);var services=_saved_object_registry.savedObjectManagementRegistry.all().map(function(obj){return $injector.get(obj.service)});var allServices=_saved_object_registry.savedObjectManagementRegistry.all();var typeToServiceName=function typeToServiceName(type){return allServices.reduce(function(serviceName,service){return service.title.includes(type)?service.service:serviceName},null)};$scope.$$postDigest(function(){var node=document.getElementById(REACT_OBJECTS_TABLE_DOM_ELEMENT_ID);if(!node)return;(0,_reactDom.render)(_react2.default.createElement(_react3.I18nProvider,null,_react2.default.createElement(_objects_table.ObjectsTable,{savedObjectsClient:savedObjectsClient,services:services,indexPatterns:indexPatterns,$http:$http,perPageConfig:config.get("savedObjects:perPage"),basePath:_chrome2.default.getBasePath(),newIndexPatternUrl:kbnUrl.eval("#/management/kibana/index"),getEditUrl:function getEditUrl(id,type){if("index-pattern"===type||"indexPatterns"===type)return kbnUrl.eval("#/management/kibana/indices/"+id);var serviceName=typeToServiceName(type);if(!serviceName){_notify.toastNotifications.addWarning("Unknown saved object type: "+type);return null}return kbnUrl.eval("#/management/kibana/objects/"+serviceName+"/"+id)},goInApp:function goInApp(id,type){kbnUrl.change((0,_get_in_app_url.getInAppUrl)(id,type));$scope.$apply()}})),node)})}function destroyObjectsTable(){var node=document.getElementById(REACT_OBJECTS_TABLE_DOM_ELEMENT_ID);node&&(0,_reactDom.unmountComponentAtNode)(node)}_routes2.default.when("/management/kibana/objects",{template:_objects2.default}).when("/management/kibana/objects/:service",{redirectTo:"/management/kibana/objects"});_modules.uiModules.get("apps/management").directive("kbnManagementObjects",function(){return{restrict:"E",controllerAs:"managementObjectsController",controller:function controller($scope,$injector){updateObjectsTable($scope,$injector);$scope.$on("$destroy",destroyObjectsTable)}}})},7699:function(module,exports){module.exports='<kbn-management-app section="kibana" class="kuiView">\n  <kbn-management-objects>\n    <div id="reactSavedObjectsTable"></div>\n  </kbn-management-objects>\n</kbn-management-app>\n'},7700:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _objects_table=__webpack_require__(2279);Object.defineProperty(exports,"ObjectsTable",{enumerable:true,get:function get(){return _objects_table.ObjectsTable}})},7701:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _header=__webpack_require__(7702);Object.defineProperty(exports,"Header",{enumerable:true,get:function get(){return _header.Header}})},7702:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Header=void 0;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(6);var _propTypes2=_interopRequireDefault(_propTypes);var _eui=__webpack_require__(2);var _react3=__webpack_require__(10);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var Header=exports.Header=function Header(_ref){var onExportAll=_ref.onExportAll,onImport=_ref.onImport,onRefresh=_ref.onRefresh,filteredCount=_ref.filteredCount;return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_eui.EuiFlexGroup,{justifyContent:"spaceBetween",alignItems:"baseline"},_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiTitle,null,_react2.default.createElement("h1",null,_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.management.objects.objectsTable.header.savedObjectsTitle",defaultMessage:"Saved Objects"})))),_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiFlexGroup,{alignItems:"baseline",gutterSize:"m",responsive:false},_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiButtonEmpty,{size:"s",iconType:"exportAction","data-test-subj":"exportAllObjects",onClick:onExportAll},_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.management.objects.objectsTable.header.exportButtonLabel",defaultMessage:"Export {filteredCount, plural, one{# object} other {# objects}}",values:{filteredCount:filteredCount}}))),_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiButtonEmpty,{size:"s",iconType:"importAction","data-test-subj":"importObjects",onClick:onImport},_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.management.objects.objectsTable.header.importButtonLabel",defaultMessage:"Import"}))),_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiButtonEmpty,{size:"s",iconType:"refresh",onClick:onRefresh},_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.management.objects.objectsTable.header.refreshButtonLabel",defaultMessage:"Refresh"})))))),_react2.default.createElement(_eui.EuiSpacer,{size:"m"}),_react2.default.createElement(_eui.EuiText,null,_react2.default.createElement("p",null,_react2.default.createElement(_eui.EuiTextColor,{color:"subdued"},_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.management.objects.objectsTable.howToDeleteSavedObjectsDescription",defaultMessage:"From here you can delete saved objects, such as saved searches. You can also edit the raw data of saved objects. Typically objects are only modified via their associated application, which is probably what you should use instead of this screen."})))),_react2.default.createElement(_eui.EuiSpacer,{size:"m"}))};Header.propTypes={onExportAll:_propTypes2.default.func.isRequired,onImport:_propTypes2.default.func.isRequired,onRefresh:_propTypes2.default.func.isRequired,filteredCount:_propTypes2.default.number.isRequired}},7703:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _flyout=__webpack_require__(7704);Object.defineProperty(exports,"Flyout",{enumerable:true,get:function get(){return _flyout.Flyout}})},7704:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Flyout=void 0;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};var _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[];var _n=true;var _d=false;var _e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{!_n&&_i["return"]&&_i["return"]()}finally{if(_d)throw _e}}return _arr}return function(arr,i){if(Array.isArray(arr))return arr;if(Symbol.iterator in Object(arr))return sliceIterator(arr,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(6);var _propTypes2=_interopRequireDefault(_propTypes);var _lodash=__webpack_require__(1);var _eui=__webpack_require__(2);var _import_file=__webpack_require__(2280);var _resolve_saved_objects=__webpack_require__(2281);var _objects_table=__webpack_require__(2279);var _react3=__webpack_require__(10);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _defineProperty(obj,key,value){key in obj?Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true}):obj[key]=value;return obj}function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}return Array.from(arr)}function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var FlyoutUI=function(_Component){_inherits(FlyoutUI,_Component);function FlyoutUI(props){var _this2=this;_classCallCheck(this,FlyoutUI);var _this=_possibleConstructorReturn(this,(FlyoutUI.__proto__||Object.getPrototypeOf(FlyoutUI)).call(this,props));_this.fetchIndexPatterns=_asyncToGenerator(regeneratorRuntime.mark(function _callee(){var indexPatterns;return regeneratorRuntime.wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return _this.props.indexPatterns.getFields(["id","title"]);case 2:indexPatterns=_context.sent;_this.setState({indexPatterns:indexPatterns});case 4:case"end":return _context.stop()}},_callee,_this2)}));_this.changeOverwriteAll=function(){_this.setState(function(state){return{isOverwriteAllChecked:!state.isOverwriteAllChecked}})};_this.setImportFile=function(_ref2){var _ref3=_slicedToArray(_ref2,1),file=_ref3[0];_this.setState({file:file})};_this.import=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(){var _this$props,services,indexPatterns,intl,_this$state,file,isOverwriteAllChecked,contents,_ref5,conflictedIndexPatterns,conflictedSavedObjectsLinkedToSavedSearches,conflictedSearchDocs,importedObjectCount,failedImports,byId,conflicts;return regeneratorRuntime.wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_this$props=_this.props,services=_this$props.services,indexPatterns=_this$props.indexPatterns,intl=_this$props.intl;_this$state=_this.state,file=_this$state.file,isOverwriteAllChecked=_this$state.isOverwriteAllChecked;_this.setState({isLoading:true,error:void 0});contents=void 0;_context2.prev=4;_context2.next=7;return(0,_import_file.importFile)(file);case 7:contents=_context2.sent;_context2.next=14;break;case 10:_context2.prev=10;_context2.t0=_context2["catch"](4);_this.setState({isLoading:false,error:intl.formatMessage({id:"kbn.management.objects.objectsTable.flyout.importFileErrorMessage",defaultMessage:"The file could not be processed."})});return _context2.abrupt("return");case 14:if(Array.isArray(contents)){_context2.next=17;break}_this.setState({isLoading:false,error:intl.formatMessage({id:"kbn.management.objects.objectsTable.flyout.invalidFormatOfImportedFileErrorMessage",defaultMessage:"Saved objects file format is invalid and cannot be imported."})});return _context2.abrupt("return");case 17:contents=contents.filter(function(content){return _objects_table.INCLUDED_TYPES.includes(content._type)}).map(function(doc){return _extends({},doc,{_migrationVersion:doc._migrationVersion||{}})});_context2.next=20;return(0,_resolve_saved_objects.resolveSavedObjects)(contents,isOverwriteAllChecked,services,indexPatterns);case 20:_ref5=_context2.sent;conflictedIndexPatterns=_ref5.conflictedIndexPatterns;conflictedSavedObjectsLinkedToSavedSearches=_ref5.conflictedSavedObjectsLinkedToSavedSearches;conflictedSearchDocs=_ref5.conflictedSearchDocs;importedObjectCount=_ref5.importedObjectCount;failedImports=_ref5.failedImports;byId=(0,_lodash.groupBy)(conflictedIndexPatterns,function(_ref6){var obj=_ref6.obj;return obj.searchSource.getOwnField("index")});conflicts=Object.entries(byId).reduce(function(accum,_ref7){var _ref8=_slicedToArray(_ref7,2),existingIndexPatternId=_ref8[0],list=_ref8[1];accum.push({existingIndexPatternId:existingIndexPatternId,newIndexPatternId:void 0,list:list.map(function(_ref9){var doc=_ref9.doc;return{id:existingIndexPatternId,type:doc._type,name:doc._source.title}})});return accum},[]);_this.setState({conflictedIndexPatterns:conflictedIndexPatterns,conflictedSavedObjectsLinkedToSavedSearches:conflictedSavedObjectsLinkedToSavedSearches,conflictedSearchDocs:conflictedSearchDocs,failedImports:failedImports,conflicts:conflicts,importCount:importedObjectCount,isLoading:false,wasImportSuccessful:0===conflicts.length});case 29:case"end":return _context2.stop()}},_callee2,_this2,[[4,10]])}));_this.confirmImport=_asyncToGenerator(regeneratorRuntime.mark(function _callee3(){var _this$state2,conflictedIndexPatterns,isOverwriteAllChecked,conflictedSavedObjectsLinkedToSavedSearches,conflictedSearchDocs,failedImports,_this$props2,services,indexPatterns,intl,importCount,resolutions;return regeneratorRuntime.wrap(function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:_this$state2=_this.state,conflictedIndexPatterns=_this$state2.conflictedIndexPatterns,isOverwriteAllChecked=_this$state2.isOverwriteAllChecked,conflictedSavedObjectsLinkedToSavedSearches=_this$state2.conflictedSavedObjectsLinkedToSavedSearches,conflictedSearchDocs=_this$state2.conflictedSearchDocs,failedImports=_this$state2.failedImports;_this$props2=_this.props,services=_this$props2.services,indexPatterns=_this$props2.indexPatterns,intl=_this$props2.intl;_this.setState({error:void 0,isLoading:true,loadingMessage:void 0});importCount=_this.state.importCount;if(!_this.hasConflicts){_context3.next=30;break}_context3.prev=5;resolutions=_this.resolutions;_this.setState({loadingMessage:intl.formatMessage({id:"kbn.management.objects.objectsTable.flyout.confirmImport.resolvingConflictsLoadingMessage",defaultMessage:"Resolving conflicts"})});if(!resolutions.length){_context3.next=12;break}_context3.next=11;return(0,_resolve_saved_objects.resolveIndexPatternConflicts)(resolutions,conflictedIndexPatterns,isOverwriteAllChecked);case 11:importCount+=_context3.sent;case 12:_this.setState({loadingMessage:intl.formatMessage({id:"kbn.management.objects.objectsTable.flyout.confirmImport.savingConflictsLoadingMessage",defaultMessage:"Saving conflicts"})});_context3.next=15;return(0,_resolve_saved_objects.saveObjects)(conflictedSavedObjectsLinkedToSavedSearches,isOverwriteAllChecked);case 15:importCount+=_context3.sent;_this.setState({loadingMessage:intl.formatMessage({id:"kbn.management.objects.objectsTable.flyout.confirmImport.savedSearchAreLinkedProperlyLoadingMessage",defaultMessage:"Ensure saved searches are linked properly"})});_context3.next=19;return(0,_resolve_saved_objects.resolveSavedSearches)(conflictedSearchDocs,services,indexPatterns,isOverwriteAllChecked);case 19:importCount+=_context3.sent;_this.setState({loadingMessage:intl.formatMessage({id:"kbn.management.objects.objectsTable.flyout.confirmImport.retryingFailedObjectsLoadingMessage",defaultMessage:"Retrying failed objects"})});_context3.next=23;return(0,_resolve_saved_objects.saveObjects)(failedImports.map(function(_ref11){var obj=_ref11.obj;return obj}),isOverwriteAllChecked);case 23:importCount+=_context3.sent;_context3.next=30;break;case 26:_context3.prev=26;_context3.t0=_context3["catch"](5);_this.setState({error:_context3.t0.message,isLoading:false,loadingMessage:void 0});return _context3.abrupt("return");case 30:_this.setState({isLoading:false,wasImportSuccessful:true,importCount:importCount});case 31:case"end":return _context3.stop()}},_callee3,_this2,[[5,26]])}));_this.onIndexChanged=function(id,e){var value=e.target.value;_this.setState(function(state){var conflictIndex=state.conflicts.findIndex(function(conflict){return conflict.existingIndexPatternId===id});if(-1===conflictIndex)return state;return{conflicts:[].concat(_toConsumableArray(state.conflicts.slice(0,conflictIndex)),[_extends({},state.conflicts[conflictIndex],{newIndexPatternId:value})],_toConsumableArray(state.conflicts.slice(conflictIndex+1)))}})};_this.state={conflictedIndexPatterns:void 0,conflictedSavedObjectsLinkedToSavedSearches:void 0,conflictedSearchDocs:void 0,conflicts:void 0,error:void 0,file:void 0,importCount:0,indexPatterns:void 0,isOverwriteAllChecked:true,isLoading:false,loadingMessage:void 0,wasImportSuccessful:false};return _this}_createClass(FlyoutUI,[{key:"componentDidMount",value:function componentDidMount(){this.fetchIndexPatterns()}},{key:"renderConflicts",value:function renderConflicts(){var _this3=this;var conflicts=this.state.conflicts;var intl=this.props.intl;if(!conflicts)return null;var columns=[{field:"existingIndexPatternId",name:intl.formatMessage({id:"kbn.management.objects.objectsTable.flyout.renderConflicts.columnIdName",defaultMessage:"ID"}),description:intl.formatMessage({id:"kbn.management.objects.objectsTable.flyout.renderConflicts.columnIdDescription",defaultMessage:"ID of the index pattern"}),sortable:true},{field:"list",name:intl.formatMessage({id:"kbn.management.objects.objectsTable.flyout.renderConflicts.columnCountName",defaultMessage:"Count"}),description:intl.formatMessage({id:"kbn.management.objects.objectsTable.flyout.renderConflicts.columnCountDescription",defaultMessage:"How many affected objects"}),render:function render(list){return _react2.default.createElement(_react.Fragment,null,list.length)}},{field:"list",name:intl.formatMessage({id:"kbn.management.objects.objectsTable.flyout.renderConflicts.columnSampleOfAffectedObjectsName",defaultMessage:"Sample of affected objects"}),description:intl.formatMessage({id:"kbn.management.objects.objectsTable.flyout.renderConflicts.columnSampleOfAffectedObjectsDescription",defaultMessage:"Sample of affected objects"}),render:function render(list){return _react2.default.createElement("ul",{style:{listStyle:"none"}},(0,_lodash.take)(list,3).map(function(obj,key){return _react2.default.createElement("li",{key:key},obj.name)}))}},{field:"existingIndexPatternId",name:intl.formatMessage({id:"kbn.management.objects.objectsTable.flyout.renderConflicts.columnNewIndexPatternName",defaultMessage:"New index pattern"}),render:function render(id){var options=_this3.state.indexPatterns.map(function(indexPattern){return _defineProperty({text:indexPattern.get("title"),value:indexPattern.id},"data-test-subj","indexPatternOption-"+indexPattern.get("title"))});options.unshift({text:"-- Skip Import --",value:""});return _react2.default.createElement(_eui.EuiSelect,{"data-test-subj":"managementChangeIndexSelection-"+id,onChange:function onChange(e){return _this3.onIndexChanged(id,e)},options:options})}}];var pagination={pageSizeOptions:[5,10,25]};return _react2.default.createElement(_eui.EuiInMemoryTable,{items:conflicts,columns:columns,pagination:pagination})}},{key:"renderError",value:function renderError(){var error=this.state.error;if(!error)return null;return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_eui.EuiCallOut,{title:_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.management.objects.objectsTable.flyout.errorCalloutTitle",defaultMessage:"Sorry, there was an error"}),color:"danger",iconType:"cross"},_react2.default.createElement("p",null,error)),_react2.default.createElement(_eui.EuiSpacer,{size:"s"}))}},{key:"renderBody",value:function renderBody(){var _state=this.state,isLoading=_state.isLoading,loadingMessage=_state.loadingMessage,isOverwriteAllChecked=_state.isOverwriteAllChecked,wasImportSuccessful=_state.wasImportSuccessful,importCount=_state.importCount,_state$failedImports=_state.failedImports,failedImports=void 0===_state$failedImports?[]:_state$failedImports;if(isLoading)return _react2.default.createElement(_eui.EuiFlexGroup,{justifyContent:"spaceAround"},_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiLoadingKibana,{size:"xl"}),_react2.default.createElement(_eui.EuiSpacer,{size:"m"}),_react2.default.createElement(_eui.EuiText,null,_react2.default.createElement("p",null,loadingMessage))));if(failedImports.length&&!this.hasConflicts)return _react2.default.createElement(_eui.EuiCallOut,{title:_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.management.objects.objectsTable.flyout.importFailedTitle",defaultMessage:"Import failed"}),color:"warning",iconType:"help"},_react2.default.createElement("p",null,_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.management.objects.objectsTable.flyout.importFailedDescription",defaultMessage:"Failed to import {failedImportCount} of {totalImportCount} objects.Import failed",values:{failedImportCount:failedImports.length,totalImportCount:importCount+failedImports.length}})),_react2.default.createElement("p",null,failedImports.map(function(_ref13){var error=_ref13.error;return(0,_lodash.get)(error,"body.message",error.message||"")}).join(" ")));if(wasImportSuccessful){if(0===importCount)return _react2.default.createElement(_eui.EuiCallOut,{"data-test-subj":"importSavedObjectsSuccessNoneImported",title:_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.management.objects.objectsTable.flyout.importSuccessfulCallout.noObjectsImportedTitle",defaultMessage:"No objects imported"}),color:"primary"});return _react2.default.createElement(_eui.EuiCallOut,{"data-test-subj":"importSavedObjectsSuccess",title:_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.management.objects.objectsTable.flyout.importSuccessfulTitle",defaultMessage:"Import successful"}),color:"success",iconType:"check"},_react2.default.createElement("p",null,_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.management.objects.objectsTable.flyout.importSuccessfulDescription",defaultMessage:"Successfully imported {importCount} objects.",values:{importCount:importCount}})))}if(this.hasConflicts)return this.renderConflicts();return _react2.default.createElement(_eui.EuiForm,null,_react2.default.createElement(_eui.EuiFormRow,{label:_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.management.objects.objectsTable.flyout.selectFileToImportFormRowLabel",defaultMessage:"Please select a JSON file to import"})},_react2.default.createElement(_eui.EuiFilePicker,{initialPromptText:_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.management.objects.objectsTable.flyout.importPromptText",defaultMessage:"Import"}),onChange:this.setImportFile})),_react2.default.createElement(_eui.EuiFormRow,null,_react2.default.createElement(_eui.EuiSwitch,{name:"overwriteAll",label:_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.management.objects.objectsTable.flyout.overwriteSavedObjectsLabel",defaultMessage:"Automatically overwrite all saved objects?"}),"data-test-subj":"importSavedObjectsOverwriteToggle",checked:isOverwriteAllChecked,onChange:this.changeOverwriteAll})))}},{key:"renderFooter",value:function renderFooter(){var _state2=this.state,isLoading=_state2.isLoading,wasImportSuccessful=_state2.wasImportSuccessful;var _props=this.props,done=_props.done,close=_props.close;var confirmButton=void 0;confirmButton=wasImportSuccessful?_react2.default.createElement(_eui.EuiButton,{onClick:done,size:"s",fill:true,"data-test-subj":"importSavedObjectsDoneBtn"},_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.management.objects.objectsTable.flyout.importSuccessful.confirmButtonLabel",defaultMessage:"Done"})):this.hasConflicts?_react2.default.createElement(_eui.EuiButton,{onClick:this.confirmImport,size:"s",fill:true,isLoading:isLoading,"data-test-subj":"importSavedObjectsConfirmBtn"},_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.management.objects.objectsTable.flyout.importSuccessful.confirmAllChangesButtonLabel",defaultMessage:"Confirm all changes"})):_react2.default.createElement(_eui.EuiButton,{onClick:this.import,size:"s",fill:true,isLoading:isLoading,"data-test-subj":"importSavedObjectsImportBtn"},_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.management.objects.objectsTable.flyout.import.confirmButtonLabel",defaultMessage:"Import"}));return _react2.default.createElement(_eui.EuiFlexGroup,{justifyContent:"spaceBetween"},_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiButtonEmpty,{onClick:close,size:"s"},_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.management.objects.objectsTable.flyout.import.cancelButtonLabel",defaultMessage:"Cancel"}))),_react2.default.createElement(_eui.EuiFlexItem,{grow:false},confirmButton))}},{key:"renderSubheader",value:function renderSubheader(){if(!this.hasConflicts||this.state.isLoading||this.state.wasImportSuccessful)return null;return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_eui.EuiSpacer,{size:"s"}),_react2.default.createElement(_eui.EuiCallOut,{title:_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.management.objects.objectsTable.flyout.indexPatternConflictsTitle",defaultMessage:"Index Pattern Conflicts"}),color:"warning",iconType:"help"},_react2.default.createElement("p",null,_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.management.objects.objectsTable.flyout.indexPatternConflictsDescription",defaultMessage:"The following saved objects use index patterns that do not exist. Please select the index patterns you'd like re-associated with them. You can {indexPatternLink} if necessary.",values:{indexPatternLink:_react2.default.createElement(_eui.EuiLink,{href:this.props.newIndexPatternUrl},_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.management.objects.objectsTable.flyout.indexPatternConflictsCalloutLinkText",defaultMessage:"create a new index pattern"}))}}))))}},{key:"render",value:function render(){var close=this.props.close;return _react2.default.createElement(_eui.EuiFlyout,{onClose:close,size:"s"},_react2.default.createElement(_eui.EuiFlyoutHeader,null,_react2.default.createElement(_eui.EuiTitle,null,_react2.default.createElement("h2",null,_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.management.objects.objectsTable.flyout.importSavedObjectTitle",defaultMessage:"Import saved objects"}))),this.renderSubheader()),_react2.default.createElement(_eui.EuiFlyoutBody,null,this.renderError(),this.renderBody()),_react2.default.createElement(_eui.EuiFlyoutFooter,null,this.renderFooter()))}},{key:"hasConflicts",get:function get(){return this.state.conflicts&&this.state.conflicts.length>0}},{key:"resolutions",get:function get(){return this.state.conflicts.reduce(function(accum,_ref14){var existingIndexPatternId=_ref14.existingIndexPatternId,newIndexPatternId=_ref14.newIndexPatternId;newIndexPatternId&&accum.push({oldId:existingIndexPatternId,newId:newIndexPatternId});return accum},[])}}]);return FlyoutUI}(_react.Component);FlyoutUI.propTypes={close:_propTypes2.default.func.isRequired,done:_propTypes2.default.func.isRequired,services:_propTypes2.default.array.isRequired,newIndexPatternUrl:_propTypes2.default.string.isRequired,indexPatterns:_propTypes2.default.object.isRequired};exports.Flyout=(0,_react3.injectI18n)(FlyoutUI)},7705:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _relationships=__webpack_require__(7706);Object.defineProperty(exports,"Relationships",{enumerable:true,get:function get(){return _relationships.Relationships}})},7706:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Relationships=void 0;var _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[];var _n=true;var _d=false;var _e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{!_n&&_i["return"]&&_i["return"]()}finally{if(_d)throw _e}}return _arr}return function(arr,i){if(Array.isArray(arr))return arr;if(Symbol.iterator in Object(arr))return sliceIterator(arr,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(6);var _propTypes2=_interopRequireDefault(_propTypes);var _eui=__webpack_require__(2);var _react3=__webpack_require__(10);var _lib=__webpack_require__(856);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var RelationshipsUI=function(_Component){_inherits(RelationshipsUI,_Component);function RelationshipsUI(props){_classCallCheck(this,RelationshipsUI);var _this=_possibleConstructorReturn(this,(RelationshipsUI.__proto__||Object.getPrototypeOf(RelationshipsUI)).call(this,props));_this.state={relationships:void 0,isLoading:false,error:void 0};return _this}_createClass(RelationshipsUI,[{key:"componentWillMount",value:function componentWillMount(){this.getRelationshipData()}},{key:"componentWillReceiveProps",value:function componentWillReceiveProps(nextProps){nextProps.id!==this.props.id&&this.getRelationshipData()}},{key:"getRelationshipData",value:function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee(){var _props,id,type,getRelationships,relationships;return regeneratorRuntime.wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_props=this.props,id=_props.id,type=_props.type,getRelationships=_props.getRelationships;this.setState({isLoading:true});_context.prev=2;_context.next=5;return getRelationships(type,id);case 5:relationships=_context.sent;this.setState({relationships:relationships,isLoading:false,error:void 0});_context.next=12;break;case 9:_context.prev=9;_context.t0=_context["catch"](2);this.setState({error:_context.t0.message,isLoading:false});case 12:case"end":return _context.stop()}},_callee,this,[[2,9]])}));function getRelationshipData(){return _ref.apply(this,arguments)}return getRelationshipData}()},{key:"renderError",value:function renderError(){var error=this.state.error;if(!error)return null;return _react2.default.createElement(_eui.EuiCallOut,{title:_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.management.objects.objectsTable.relationships.renderErrorMessage",defaultMessage:"Error"}),color:"danger"},error)}},{key:"renderRelationships",value:function renderRelationships(){var _this2=this;var _props2=this.props,getEditUrl=_props2.getEditUrl,goInApp=_props2.goInApp,intl=_props2.intl;var _state=this.state,relationships=_state.relationships,isLoading=_state.isLoading,error=_state.error;if(error)return this.renderError();if(isLoading)return _react2.default.createElement(_eui.EuiLoadingKibana,{size:"xl"});var items=[];var _loop=function _loop(type,list){if(0===list.length)items.push(_react2.default.createElement(_eui.EuiDescriptionListTitle,{key:type+"_not_found"},_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.management.objects.objectsTable.relationships.itemNotFoundText",defaultMessage:"No {type} found.",values:{type:type}})));else{var calloutTitle=_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.management.objects.objectsTable.relationships.warningTitle",defaultMessage:"Warning"});var calloutColor="warning";var calloutText=void 0;switch(_this2.props.type){case"dashboard":calloutColor="success";calloutTitle=_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.management.objects.objectsTable.relationships.dashboard.calloutTitle",defaultMessage:"Dashboard"});calloutText=_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.management.objects.objectsTable.relationships.dashboard.calloutText",defaultMessage:"Here are some visualizations used on this dashboard. You can safely delete this dashboard and the visualizations will still work properly."});break;case"search":if("visualizations"===type)calloutText=_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.management.objects.objectsTable.relationships.search.visualizations.calloutText",defaultMessage:"Here are some visualizations that use this saved search. If you delete this saved search, these visualizations will not longer work properly."});else{calloutColor="success";calloutTitle=_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.management.objects.objectsTable.relationships.search.calloutTitle",defaultMessage:"Saved Search"});calloutText=_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.management.objects.objectsTable.relationships.search.calloutText",defaultMessage:"Here is the index pattern tied to this saved search."})}break;case"visualization":calloutText=_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.management.objects.objectsTable.relationships.visualization.calloutText",defaultMessage:"Here are some dashboards which contain this visualization. If you delete this visualization, these dashboards will no longer show them."});break;case"index-pattern":"visualizations"===type?calloutText=_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.management.objects.objectsTable.relationships.indexPattern.visualizations.calloutText",defaultMessage:"Here are some visualizations that use this index pattern. If you delete this index pattern, these visualizations will not longer work properly."}):"searches"===type&&(calloutText=_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.management.objects.objectsTable.relationships.indexPattern.searches.calloutText",defaultMessage:"Here are some saved searches that use this index pattern. If you delete this index pattern, these saved searches will not longer work properly."}))}items.push(_react2.default.createElement(_react.Fragment,{key:type},_react2.default.createElement(_eui.EuiDescriptionListTitle,{style:{marginBottom:"1rem"}},_react2.default.createElement(_eui.EuiCallOut,{color:calloutColor,title:calloutTitle},_react2.default.createElement("p",null,calloutText))),_react2.default.createElement(_eui.EuiInMemoryTable,{items:list,columns:[{width:24,render:function render(){return _react2.default.createElement(_eui.EuiToolTip,{position:"top",content:(0,_lib.getSavedObjectLabel)(type)},_react2.default.createElement(_eui.EuiIcon,{"aria-label":(0,_lib.getSavedObjectLabel)(type),size:"s",type:(0,_lib.getSavedObjectIcon)(type)}))}},{name:intl.formatMessage({id:"kbn.management.objects.objectsTable.relationships.columnTitleName",defaultMessage:"Title"}),field:"title",render:function render(title,item){return _react2.default.createElement(_eui.EuiLink,{href:""+getEditUrl(item.id,type)},title)}},{name:intl.formatMessage({id:"kbn.management.objects.objectsTable.relationships.columnActionsName",defaultMessage:"Actions"}),actions:[{name:intl.formatMessage({id:"kbn.management.objects.objectsTable.relationships.columnActions.inAppName",defaultMessage:"In app"}),description:intl.formatMessage({id:"kbn.management.objects.objectsTable.relationships.columnActions.inAppDescription",defaultMessage:"View this saved object within Kibana"}),icon:"eye",onClick:function onClick(object){return goInApp(object.id,type)}}]}],pagination:true})))}};var _iteratorNormalCompletion=true;var _didIteratorError=false;var _iteratorError=void 0;try{for(var _step,_iterator=Object.entries(relationships)[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=true){var _ref2=_step.value;var _ref3=_slicedToArray(_ref2,2);var type=_ref3[0];var list=_ref3[1];_loop(type,list)}}catch(err){_didIteratorError=true;_iteratorError=err}finally{try{!_iteratorNormalCompletion&&_iterator.return&&_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}return _react2.default.createElement(_eui.EuiDescriptionList,null,items)}},{key:"render",value:function render(){var _props3=this.props,close=_props3.close,title=_props3.title,type=_props3.type;return _react2.default.createElement(_eui.EuiFlyout,{onClose:close},_react2.default.createElement(_eui.EuiFlyoutHeader,null,_react2.default.createElement(_eui.EuiTitle,null,_react2.default.createElement("h2",null,_react2.default.createElement(_eui.EuiToolTip,{position:"top",content:(0,_lib.getSavedObjectLabel)(type)},_react2.default.createElement(_eui.EuiIcon,{"aria-label":(0,_lib.getSavedObjectLabel)(type),size:"m",type:(0,_lib.getSavedObjectIcon)(type)})),"",title))),_react2.default.createElement(_eui.EuiFlyoutBody,null,this.renderRelationships()))}}]);return RelationshipsUI}(_react.Component);RelationshipsUI.propTypes={getRelationships:_propTypes2.default.func.isRequired,id:_propTypes2.default.string.isRequired,type:_propTypes2.default.string.isRequired,title:_propTypes2.default.string.isRequired,close:_propTypes2.default.func.isRequired,getEditUrl:_propTypes2.default.func.isRequired,goInApp:_propTypes2.default.func.isRequired};exports.Relationships=(0,_react3.injectI18n)(RelationshipsUI)},7707:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getRelationships=void 0;exports.getRelationships=(_ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee(type,id,$http,basePath){var url,options,response,respBody,err;return regeneratorRuntime.wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:url=basePath+"/api/kibana/management/saved_objects/relationships/"+type+"/"+id;options={method:"GET",url:url};_context.prev=2;_context.next=5;return $http(options);case 5:response=_context.sent;return _context.abrupt("return",response?response.data:void 0);case 9:_context.prev=9;_context.t0=_context["catch"](2);respBody=(0,_lodash.get)(_context.t0,"data",{});err=new Error(respBody.message||respBody.error||_context.t0.status+" Response");err.statusCode=respBody.statusCode||_context.t0.status;err.body=respBody;throw err;case 16:case"end":return _context.stop()}},_callee,this,[[2,9]])})),function getRelationships(_x,_x2,_x3,_x4){return _ref.apply(this,arguments)});var _ref;var _lodash=__webpack_require__(1);function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}},7708:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getSavedObjectCounts=void 0;exports.getSavedObjectCounts=(_ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee($http,typesToInclude,searchString){var results;return regeneratorRuntime.wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return $http.post(apiBase+"/counts",{typesToInclude:typesToInclude,searchString:searchString});case 2:results=_context.sent;return _context.abrupt("return",results.data);case 4:case"end":return _context.stop()}},_callee,this)})),function getSavedObjectCounts(_x,_x2,_x3){return _ref.apply(this,arguments)});var _ref;var _chrome=__webpack_require__(9);var _chrome2=_interopRequireDefault(_chrome);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}var apiBase=_chrome2.default.addBasePath("/api/kibana/management/saved_objects/scroll")},7709:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getSavedObjectIcon=getSavedObjectIcon;function getSavedObjectIcon(type){switch(type){case"search":case"searches":return"search";case"visualization":case"visualizations":return"visualizeApp";case"dashboard":case"dashboards":return"dashboardApp";case"index-pattern":case"index-patterns":case"indexPatterns":return"indexPatternApp";default:return"apps"}}},7710:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getSavedObjectLabel=getSavedObjectLabel;function getSavedObjectLabel(type){switch(type){case"index-pattern":case"index-patterns":case"indexPatterns":return"index patterns";default:return type}}},7711:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.parseQuery=parseQuery;function parseQuery(query){var queryText=void 0;var visibleTypes=void 0;if(query){query.ast.getTermClauses().length&&(queryText=query.ast.getTermClauses().map(function(clause){return clause.value}).join(" "));query.ast.getFieldClauses("type")&&(visibleTypes=query.ast.getFieldClauses("type")[0].value)}return{queryText:queryText,visibleTypes:visibleTypes}}},7712:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.retrieveAndExportDocs=void 0;exports.retrieveAndExportDocs=(_ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee(objs,savedObjectsClient){var response,objects;return regeneratorRuntime.wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return savedObjectsClient.bulkGet(objs);case 2:response=_context.sent;objects=response.savedObjects.map(function(obj){return{_id:obj.id,_type:obj.type,_source:obj.attributes,_migrationVersion:obj.migrationVersion}});(0,_.saveToFile)(JSON.stringify(objects,null,2));case 5:case"end":return _context.stop()}},_callee,this)})),function retrieveAndExportDocs(_x,_x2){return _ref.apply(this,arguments)});var _ref;var _=__webpack_require__(856);function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}},7713:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.saveToFile=saveToFile;var _filesaver=__webpack_require__(1110);function saveToFile(resultsJson){var blob=new Blob([resultsJson],{type:"application/json"});(0,_filesaver.saveAs)(blob,"export.json")}},7714:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.scanAllTypes=void 0;exports.scanAllTypes=(_ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee($http,typesToInclude){var results;return regeneratorRuntime.wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return $http.post(apiBase+"/export",{typesToInclude:typesToInclude});case 2:results=_context.sent;return _context.abrupt("return",results.data);case 4:case"end":return _context.stop()}},_callee,this)})),function scanAllTypes(_x,_x2){return _ref.apply(this,arguments)});var _ref;var _chrome=__webpack_require__(9);var _chrome2=_interopRequireDefault(_chrome);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}var apiBase=_chrome2.default.addBasePath("/api/kibana/management/saved_objects/scroll")},7715:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _table=__webpack_require__(7716);Object.defineProperty(exports,"Table",{enumerable:true,get:function get(){return _table.Table}})},7716:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Table=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(6);var _propTypes2=_interopRequireDefault(_propTypes);var _eui=__webpack_require__(2);var _lib=__webpack_require__(856);var _react3=__webpack_require__(10);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var TableUI=function(_PureComponent){_inherits(TableUI,_PureComponent);function TableUI(){var _ref;var _temp,_this,_ret;_classCallCheck(this,TableUI);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _ret=(_temp=(_this=_possibleConstructorReturn(this,(_ref=TableUI.__proto__||Object.getPrototypeOf(TableUI)).call.apply(_ref,[this].concat(args))),_this),_this.state={isSearchTextValid:true,parseErrorMessage:null},_this.onChange=function(_ref2){var query=_ref2.query,error=_ref2.error;if(error){_this.setState({isSearchTextValid:false,parseErrorMessage:error.message});return}_this.setState({isSearchTextValid:true,parseErrorMessage:null});_this.props.onQueryChange({query:query})},_temp),_possibleConstructorReturn(_this,_ret)}_createClass(TableUI,[{key:"render",value:function render(){var _props=this.props,pageIndex=_props.pageIndex,pageSize=_props.pageSize,itemId=_props.itemId,items=_props.items,totalItemCount=_props.totalItemCount,isSearching=_props.isSearching,filterOptions=_props.filterOptions,selection=_props.selectionConfig,onDelete=_props.onDelete,onExport=_props.onExport,selectedSavedObjects=_props.selectedSavedObjects,onTableChange=_props.onTableChange,goInApp=_props.goInApp,getEditUrl=_props.getEditUrl,onShowRelationships=_props.onShowRelationships,intl=_props.intl;var pagination={pageIndex:pageIndex,pageSize:pageSize,totalItemCount:totalItemCount,pageSizeOptions:[5,10,20,50]};var filters=[{type:"field_value_selection",field:"type",name:intl.formatMessage({id:"kbn.management.objects.objectsTable.table.typeFilterName",defaultMessage:"Type"}),multiSelect:"or",options:filterOptions}];var columns=[{field:"type",name:intl.formatMessage({id:"kbn.management.objects.objectsTable.table.columnTypeName",defaultMessage:"Type"}),width:"50px",align:"center",description:intl.formatMessage({id:"kbn.management.objects.objectsTable.table.columnTypeDescription",defaultMessage:"Type of the saved object"}),sortable:false,render:function render(type){return _react2.default.createElement(_eui.EuiToolTip,{position:"top",content:(0,_lib.getSavedObjectLabel)(type)},_react2.default.createElement(_eui.EuiIcon,{"aria-label":(0,_lib.getSavedObjectLabel)(type),type:(0,_lib.getSavedObjectIcon)(type),size:"s"}))}},{field:"title",name:intl.formatMessage({id:"kbn.management.objects.objectsTable.table.columnTitleName",defaultMessage:"Title"}),description:intl.formatMessage({id:"kbn.management.objects.objectsTable.table.columnTitleDescription",defaultMessage:"Title of the saved object"}),dataType:"string",sortable:false,render:function render(title,object){return _react2.default.createElement(_eui.EuiLink,{href:getEditUrl(object.id,object.type)},title)}},{name:intl.formatMessage({id:"kbn.management.objects.objectsTable.table.columnActionsName",defaultMessage:"Actions"}),actions:[{name:intl.formatMessage({id:"kbn.management.objects.objectsTable.table.columnActions.viewInAppActionName",defaultMessage:"In app"}),description:intl.formatMessage({id:"kbn.management.objects.objectsTable.table.columnActions.viewInAppActionDescription",defaultMessage:"View this saved object within Kibana"}),type:"icon",icon:"eye",onClick:function onClick(object){return goInApp(object.id,object.type)}},{name:intl.formatMessage({id:"kbn.management.objects.objectsTable.table.columnActions.viewRelationshipsActionName",defaultMessage:"Relationships"}),description:intl.formatMessage({id:"kbn.management.objects.objectsTable.table.columnActions.viewRelationshipsActionDescription",defaultMessage:"View the relationships this saved object has to other saved objects"}),type:"icon",icon:"kqlSelector",onClick:function onClick(object){return onShowRelationships(object.id,object.type,object.title)}}]}];var queryParseError=void 0;if(!this.state.isSearchTextValid){var parseErrorMsg=intl.formatMessage({id:"kbn.management.objects.objectsTable.searchBar.unableToParseQueryErrorMessage",defaultMessage:"Unable to parse query"});queryParseError=_react2.default.createElement(_eui.EuiFormErrorText,null,parseErrorMsg+". "+this.state.parseErrorMessage)}return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_eui.EuiSearchBar,{box:{"data-test-subj":"savedObjectSearchBar"},filters:filters,onChange:this.onChange,toolsRight:[_react2.default.createElement(_eui.EuiButton,{key:"deleteSO",iconType:"trash",color:"danger",onClick:onDelete,isDisabled:0===selectedSavedObjects.length},_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.management.objects.objectsTable.table.deleteButtonLabel",defaultMessage:"Delete"})),_react2.default.createElement(_eui.EuiButton,{key:"exportSO",iconType:"exportAction",onClick:onExport,isDisabled:0===selectedSavedObjects.length},_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.management.objects.objectsTable.table.exportButtonLabel",defaultMessage:"Export"}))]}),queryParseError,_react2.default.createElement(_eui.EuiSpacer,{size:"s"}),_react2.default.createElement("div",{"data-test-subj":"savedObjectsTable"},_react2.default.createElement(_eui.EuiBasicTable,{loading:isSearching,itemId:itemId,items:items,columns:columns,pagination:pagination,selection:selection,onChange:onTableChange})))}}]);return TableUI}(_react.PureComponent);TableUI.propTypes={selectedSavedObjects:_propTypes2.default.array.isRequired,selectionConfig:_propTypes2.default.shape({selectable:_propTypes2.default.func,selectableMessage:_propTypes2.default.func,onSelectionChange:_propTypes2.default.func.isRequired}).isRequired,filterOptions:_propTypes2.default.array.isRequired,onDelete:_propTypes2.default.func.isRequired,onExport:_propTypes2.default.func.isRequired,getEditUrl:_propTypes2.default.func.isRequired,goInApp:_propTypes2.default.func.isRequired,pageIndex:_propTypes2.default.number.isRequired,pageSize:_propTypes2.default.number.isRequired,items:_propTypes2.default.array.isRequired,itemId:_propTypes2.default.oneOfType([_propTypes2.default.string,_propTypes2.default.func]),totalItemCount:_propTypes2.default.number.isRequired,onQueryChange:_propTypes2.default.func.isRequired,onTableChange:_propTypes2.default.func.isRequired,isSearching:_propTypes2.default.bool.isRequired,onShowRelationships:_propTypes2.default.func.isRequired};exports.Table=(0,_react3.injectI18n)(TableUI)},7717:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.destroyIndexPatternList=void 0;exports.updateIndexPatternList=updateIndexPatternList;var _management=__webpack_require__(84);var _index_pattern_list=__webpack_require__(854);var _index_pattern_creation=__webpack_require__(853);__webpack_require__(7718);__webpack_require__(7755);var _routes=__webpack_require__(13);var _routes2=_interopRequireDefault(_routes);var _modules=__webpack_require__(3);var _index=__webpack_require__(7803);var _index2=_interopRequireDefault(_index);var _saved_objects=__webpack_require__(72);var _feature_catalogue=__webpack_require__(62);var _i18n=__webpack_require__(18);var _react=__webpack_require__(10);var _react2=__webpack_require__(0);var _react3=_interopRequireDefault(_react2);var _reactDom=__webpack_require__(14);var _index_pattern_list2=__webpack_require__(7804);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}var INDEX_PATTERN_LIST_DOM_ELEMENT_ID="indexPatternListReact";function updateIndexPatternList($scope,indexPatternCreationOptions,defaultIndex,indexPatterns){var node=document.getElementById(INDEX_PATTERN_LIST_DOM_ELEMENT_ID);if(!node)return;(0,_reactDom.render)(_react3.default.createElement(_react.I18nProvider,null,_react3.default.createElement(_index_pattern_list2.IndexPatternList,{indexPatternCreationOptions:indexPatternCreationOptions,defaultIndex:defaultIndex,indexPatterns:indexPatterns})),node)}var destroyIndexPatternList=exports.destroyIndexPatternList=function destroyIndexPatternList(){var node=document.getElementById(INDEX_PATTERN_LIST_DOM_ELEMENT_ID);node&&(0,_reactDom.unmountComponentAtNode)(node)};var indexPatternsResolutions={indexPatterns:function indexPatterns(Private){var savedObjectsClient=Private(_saved_objects.SavedObjectsClientProvider);return savedObjectsClient.find({type:"index-pattern",fields:["title","type"],perPage:1e4}).then(function(response){return response.savedObjects})}};_routes2.default.defaults(/management\/kibana\/indices/,{resolve:indexPatternsResolutions});_routes2.default.defaults(/management\/kibana\/index/,{resolve:indexPatternsResolutions});_modules.uiModules.get("apps/management").directive("kbnManagementIndices",function($route,config,kbnUrl,Private){return{restrict:"E",transclude:true,template:_index2.default,link:function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee($scope){var indexPatternListProvider,indexPatternCreationProvider,indexPatternCreationOptions,renderList;return regeneratorRuntime.wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:indexPatternListProvider=Private(_index_pattern_list.IndexPatternListFactory)();indexPatternCreationProvider=Private(_index_pattern_creation.IndexPatternCreationFactory)();_context.next=4;return indexPatternCreationProvider.getIndexPatternCreationOptions(function(url){$scope.$evalAsync(function(){return kbnUrl.change(url)})});case 4:indexPatternCreationOptions=_context.sent;renderList=function renderList(){$scope.indexPatternList=$route.current.locals.indexPatterns.map(function(pattern){var id=pattern.id;var tags=indexPatternListProvider.getIndexPatternTags(pattern,$scope.defaultIndex===id);return{id:id,title:pattern.get("title"),url:kbnUrl.eval("#/management/kibana/indices/{{id}}",{id:id}),active:$scope.editingId===id,default:$scope.defaultIndex===id,tag:tags&&tags.length?tags[0]:null}}).sort(function(a,b){if(a.default)return-1;if(b.default)return 1;if(a.title<b.title)return-1;if(a.title>b.title)return 1;return 0})||[];updateIndexPatternList($scope,indexPatternCreationOptions,$scope.defaultIndex,$scope.indexPatternList)};$scope.$on("$destroy",destroyIndexPatternList);$scope.editingId=$route.current.params.indexPatternId;$scope.$watch("defaultIndex",function(){return renderList()});config.bindToScope($scope,"defaultIndex");$scope.$apply();case 11:case"end":return _context.stop()}},_callee,this)}));function link(_x){return _ref.apply(this,arguments)}return link}()}});_management.management.getSection("kibana").register("indices",{display:_i18n.i18n.translate("kbn.management.indexPattern.sectionsHeader",{defaultMessage:"Index Patterns"}),order:0,url:"#/management/kibana/indices/"});_feature_catalogue.FeatureCatalogueRegistryProvider.register(function(){return{id:"index_patterns",title:_i18n.i18n.translate("kbn.management.indexPatternHeader",{defaultMessage:"Index Patterns"}),description:_i18n.i18n.translate("kbn.management.indexPatternLabel",{defaultMessage:"Manage the index patterns that help retrieve your data from Elasticsearch."}),icon:"indexPatternApp",path:"/app/kibana#/management/kibana/indices",showOnHomePage:true,category:_feature_catalogue.FeatureCatalogueCategory.ADMIN}})},7718:function(module,exports,__webpack_require__){"use strict";var _saved_objects=__webpack_require__(72);var _routes=__webpack_require__(13);var _routes2=_interopRequireDefault(_routes);var _angular_template=__webpack_require__(7719);var _angular_template2=_interopRequireDefault(_angular_template);__webpack_require__(331);var _index_pattern_creation=__webpack_require__(853);var _render=__webpack_require__(7720);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}_routes2.default.when("/management/kibana/index",{template:_angular_template2.default,controller:function controller($scope,$injector){var kbnUrl=$injector.get("kbnUrl");var Private=$injector.get("Private");$scope.$$postDigest(function(){var $routeParams=$injector.get("$routeParams");var indexPatternCreationProvider=Private(_index_pattern_creation.IndexPatternCreationFactory)($routeParams.type);var indexPatternCreationType=indexPatternCreationProvider.getType();var services={config:$injector.get("config"),es:$injector.get("es"),indexPatterns:$injector.get("indexPatterns"),savedObjectsClient:Private(_saved_objects.SavedObjectsClientProvider),indexPatternCreationType:indexPatternCreationType,changeUrl:function changeUrl(url){$scope.$evalAsync(function(){return kbnUrl.changePath(url)})}};var initialQuery=$routeParams.id?decodeURIComponent($routeParams.id):void 0;(0,_render.renderCreateIndexPatternWizard)(initialQuery,services)});$scope.$on("$destroy",_render.destroyCreateIndexPatternWizard)}})},7719:function(module,exports){module.exports='<kbn-management-app section="kibana">\n  <kbn-management-indices>\n    <div id="createIndexPatternReact"></div>\n  </kbn-management-indices>\n</kbn-management-app>\n'},7720:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.renderCreateIndexPatternWizard=renderCreateIndexPatternWizard;exports.destroyCreateIndexPatternWizard=destroyCreateIndexPatternWizard;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _reactDom=__webpack_require__(14);var _create_index_pattern_wizard=__webpack_require__(7721);var _react3=__webpack_require__(10);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var CREATE_INDEX_PATTERN_DOM_ELEMENT_ID="createIndexPatternReact";function renderCreateIndexPatternWizard(initialQuery,services){var node=document.getElementById(CREATE_INDEX_PATTERN_DOM_ELEMENT_ID);if(!node)return;(0,_reactDom.render)(_react2.default.createElement(_react3.I18nProvider,null,_react2.default.createElement(_create_index_pattern_wizard.CreateIndexPatternWizard,{initialQuery:initialQuery,services:services})),node)}function destroyCreateIndexPatternWizard(){var node=document.getElementById(CREATE_INDEX_PATTERN_DOM_ELEMENT_ID);node&&(0,_reactDom.unmountComponentAtNode)(node)}},7721:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.CreateIndexPatternWizard=void 0;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(6);var _propTypes2=_interopRequireDefault(_propTypes);var _step_index_pattern=__webpack_require__(7722);var _step_time_field=__webpack_require__(7738);var _header=__webpack_require__(7749);var _loading_state=__webpack_require__(7751);var _empty_state=__webpack_require__(7753);var _constants=__webpack_require__(857);var _lib=__webpack_require__(1280);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var CreateIndexPatternWizard=exports.CreateIndexPatternWizard=function(_Component){_inherits(CreateIndexPatternWizard,_Component);function CreateIndexPatternWizard(props){var _this2=this;_classCallCheck(this,CreateIndexPatternWizard);var _this=_possibleConstructorReturn(this,(CreateIndexPatternWizard.__proto__||Object.getPrototypeOf(CreateIndexPatternWizard)).call(this,props));_this.fetchIndices=_asyncToGenerator(regeneratorRuntime.mark(function _callee(){var services,allIndices;return regeneratorRuntime.wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_this.setState({allIndices:[],isInitiallyLoadingIndices:true});services=_this.props.services;_context.next=4;return(0,_lib.ensureMinimumTime)((0,_lib.getIndices)(services.es,_this.indexPatternCreationType,"*",_constants.MAX_SEARCH_SIZE));case 4:allIndices=_context.sent;_this.setState({allIndices:allIndices,isInitiallyLoadingIndices:false});case 6:case"end":return _context.stop()}},_callee,_this2)}));_this.createIndexPattern=(_ref2=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(timeFieldName,indexPatternId){var services,indexPattern,emptyPattern,createdId;return regeneratorRuntime.wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:services=_this.props.services;indexPattern=_this.state.indexPattern;_context2.next=4;return services.indexPatterns.get();case 4:emptyPattern=_context2.sent;Object.assign(emptyPattern,_extends({id:indexPatternId,title:indexPattern,timeFieldName:timeFieldName},_this.indexPatternCreationType.getIndexPatternMappings()));_context2.next=8;return emptyPattern.create();case 8:createdId=_context2.sent;if(services.config.get("defaultIndex")){_context2.next=12;break}_context2.next=12;return services.config.set("defaultIndex",createdId);case 12:services.indexPatterns.cache.clear(createdId);services.changeUrl("/management/kibana/indices/"+createdId);case 14:case"end":return _context2.stop()}},_callee2,_this2)})),function(_x,_x2){return _ref2.apply(this,arguments)});var _ref2;_this.goToTimeFieldStep=function(indexPattern){_this.setState({step:2,indexPattern:indexPattern})};_this.goToIndexPatternStep=function(){_this.setState({step:1})};_this.onChangeIncludingSystemIndices=function(){_this.setState(function(state){return{isIncludingSystemIndices:!state.isIncludingSystemIndices}})};_this.indexPatternCreationType=_this.props.services.indexPatternCreationType;_this.state={step:1,indexPattern:"",allIndices:[],isInitiallyLoadingIndices:true,isIncludingSystemIndices:false};return _this}_createClass(CreateIndexPatternWizard,[{key:"componentWillMount",value:function(){var _ref3=_asyncToGenerator(regeneratorRuntime.mark(function _callee3(){return regeneratorRuntime.wrap(function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:this.fetchIndices();case 1:case"end":return _context3.stop()}},_callee3,this)}));function componentWillMount(){return _ref3.apply(this,arguments)}return componentWillMount}()},{key:"renderHeader",value:function renderHeader(){var isIncludingSystemIndices=this.state.isIncludingSystemIndices;return _react2.default.createElement(_header.Header,{prompt:this.indexPatternCreationType.renderPrompt(),showSystemIndices:this.indexPatternCreationType.getShowSystemIndices(),isIncludingSystemIndices:isIncludingSystemIndices,onChangeIncludingSystemIndices:this.onChangeIncludingSystemIndices,indexPatternName:this.indexPatternCreationType.getIndexPatternName(),isBeta:this.indexPatternCreationType.getIsBeta()})}},{key:"renderContent",value:function renderContent(){var _state=this.state,allIndices=_state.allIndices,isInitiallyLoadingIndices=_state.isInitiallyLoadingIndices,isIncludingSystemIndices=_state.isIncludingSystemIndices,step=_state.step,indexPattern=_state.indexPattern;if(isInitiallyLoadingIndices)return _react2.default.createElement(_loading_state.LoadingState,null);var hasDataIndices=allIndices.some(function(_ref4){var name=_ref4.name;return!name.startsWith(".")});if(!hasDataIndices&&!isIncludingSystemIndices)return _react2.default.createElement(_empty_state.EmptyState,{onRefresh:this.fetchIndices});if(1===step){var _props=this.props,services=_props.services,initialQuery=_props.initialQuery;return _react2.default.createElement(_step_index_pattern.StepIndexPattern,{allIndices:allIndices,initialQuery:indexPattern||initialQuery,isIncludingSystemIndices:isIncludingSystemIndices,esService:services.es,savedObjectsClient:services.savedObjectsClient,indexPatternCreationType:this.indexPatternCreationType,goToNextStep:this.goToTimeFieldStep})}if(2===step){var _services=this.props.services;return _react2.default.createElement(_step_time_field.StepTimeField,{indexPattern:indexPattern,indexPatternsService:_services.indexPatterns,goToPreviousStep:this.goToIndexPatternStep,createIndexPattern:this.createIndexPattern,indexPatternCreationType:this.indexPatternCreationType})}return null}},{key:"render",value:function render(){var header=this.renderHeader();var content=this.renderContent();return _react2.default.createElement("div",null,header,content)}}]);return CreateIndexPatternWizard}(_react.Component);CreateIndexPatternWizard.propTypes={initialQuery:_propTypes2.default.string,services:_propTypes2.default.shape({es:_propTypes2.default.object.isRequired,indexPatterns:_propTypes2.default.object.isRequired,savedObjectsClient:_propTypes2.default.object.isRequired,indexPatternCreationType:_propTypes2.default.object.isRequired,config:_propTypes2.default.object.isRequired,changeUrl:_propTypes2.default.func.isRequired}).isRequired}},7722:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _step_index_pattern=__webpack_require__(7723);Object.defineProperty(exports,"StepIndexPattern",{enumerable:true,get:function get(){return _step_index_pattern.StepIndexPattern}})},7723:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.StepIndexPattern=exports.StepIndexPatternComponent=void 0;var _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[];var _n=true;var _d=false;var _e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{!_n&&_i["return"]&&_i["return"]()}finally{if(_d)throw _e}}return _arr}return function(arr,i){if(Array.isArray(arr))return arr;if(Symbol.iterator in Object(arr))return sliceIterator(arr,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(6);var _propTypes2=_interopRequireDefault(_propTypes);var _index_patterns=__webpack_require__(331);var _constants=__webpack_require__(857);var _lib=__webpack_require__(1280);var _loading_indices=__webpack_require__(7730);var _status_message=__webpack_require__(7732);var _indices_list=__webpack_require__(7734);var _header=__webpack_require__(7736);var _eui=__webpack_require__(2);var _react3=__webpack_require__(10);var _chrome=__webpack_require__(9);var _chrome2=_interopRequireDefault(_chrome);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}return Array.from(arr)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var uiSettings=_chrome2.default.getUiSettingsClient();var StepIndexPatternComponent=exports.StepIndexPatternComponent=function(_Component){_inherits(StepIndexPatternComponent,_Component);function StepIndexPatternComponent(props){_classCallCheck(this,StepIndexPatternComponent);var _this=_possibleConstructorReturn(this,(StepIndexPatternComponent.__proto__||Object.getPrototypeOf(StepIndexPatternComponent)).call(this,props));_initialiseProps.call(_this);var indexPatternCreationType=_this.props.indexPatternCreationType;_this.state={partialMatchedIndices:[],exactMatchedIndices:[],isLoadingIndices:false,existingIndexPatterns:[],indexPatternExists:false,query:props.initialQuery,appendedWildcard:false,showingIndexPatternQueryErrors:false,indexPatternName:indexPatternCreationType.getIndexPatternName()};_this.ILLEGAL_CHARACTERS=[].concat(_toConsumableArray(_index_patterns.INDEX_PATTERN_ILLEGAL_CHARACTERS));_this.lastQuery=null;return _this}_createClass(StepIndexPatternComponent,[{key:"componentWillMount",value:function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee(){return regeneratorRuntime.wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:this.fetchExistingIndexPatterns();if(this.state.query){this.lastQuery=this.state.query;this.fetchIndices(this.state.query)}case 2:case"end":return _context.stop()}},_callee,this)}));function componentWillMount(){return _ref.apply(this,arguments)}return componentWillMount}()},{key:"renderLoadingState",value:function renderLoadingState(){var isLoadingIndices=this.state.isLoadingIndices;if(!isLoadingIndices)return null;return _react2.default.createElement(_loading_indices.LoadingIndices,{"data-test-subj":"createIndexPatternStep1Loading"})}},{key:"renderStatusMessage",value:function renderStatusMessage(matchedIndices){var indexPatternCreationType=this.props.indexPatternCreationType;var _state=this.state,query=_state.query,isLoadingIndices=_state.isLoadingIndices,indexPatternExists=_state.indexPatternExists,isIncludingSystemIndices=_state.isIncludingSystemIndices;if(isLoadingIndices||indexPatternExists)return null;return _react2.default.createElement(_status_message.StatusMessage,{matchedIndices:matchedIndices,showSystemIndices:indexPatternCreationType.getShowSystemIndices(),isIncludingSystemIndices:isIncludingSystemIndices,query:query})}},{key:"renderList",value:function renderList(_ref2){var visibleIndices=_ref2.visibleIndices,allIndices=_ref2.allIndices;var _state2=this.state,query=_state2.query,isLoadingIndices=_state2.isLoadingIndices,indexPatternExists=_state2.indexPatternExists;if(isLoadingIndices||indexPatternExists)return null;var indicesToList=query.length?visibleIndices:allIndices;return _react2.default.createElement(_indices_list.IndicesList,{"data-test-subj":"createIndexPatternStep1IndicesList",query:query,indices:indicesToList})}},{key:"renderIndexPatternExists",value:function renderIndexPatternExists(){var _state3=this.state,indexPatternExists=_state3.indexPatternExists,query=_state3.query;if(!indexPatternExists)return null;return _react2.default.createElement(_eui.EuiCallOut,{title:_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.management.createIndexPattern.step.warningHeader",defaultMessage:"There's already an index pattern called {query}",values:{query:query}}),iconType:"help",color:"warning"})}},{key:"renderHeader",value:function renderHeader(_ref3){var indices=_ref3.exactMatchedIndices;var _props=this.props,goToNextStep=_props.goToNextStep,indexPatternCreationType=_props.indexPatternCreationType,intl=_props.intl;var _state4=this.state,query=_state4.query,showingIndexPatternQueryErrors=_state4.showingIndexPatternQueryErrors,indexPatternExists=_state4.indexPatternExists,indexPatternName=_state4.indexPatternName;var containsErrors=false;var errors=[];var characterList=this.ILLEGAL_CHARACTERS.slice(0,this.ILLEGAL_CHARACTERS.length-1).join(", ");var checkIndices=indexPatternCreationType.checkIndicesForErrors(indices);if(query&&query.length&&"."!==query&&".."!==query){if((0,_lib.containsIllegalCharacters)(query,_index_patterns.INDEX_PATTERN_ILLEGAL_CHARACTERS)){var errorMessage=intl.formatMessage({id:"kbn.management.createIndexPattern.step.invalidCharactersErrorMessage",defaultMessage:"A {indexPatternName} cannot contain spaces or the characters: {characterList}"},{characterList:characterList,indexPatternName:indexPatternName});errors.push(errorMessage);containsErrors=true}else if(checkIndices){errors.push.apply(errors,_toConsumableArray(checkIndices));containsErrors=true}}else containsErrors=true;var isInputInvalid=showingIndexPatternQueryErrors&&containsErrors&&errors.length>0;var isNextStepDisabled=containsErrors||0===indices.length||indexPatternExists;return _react2.default.createElement(_header.Header,{"data-test-subj":"createIndexPatternStep1Header",isInputInvalid:isInputInvalid,errors:errors,characterList:characterList,query:query,onQueryChanged:this.onQueryChanged,goToNextStep:goToNextStep,isNextStepDisabled:isNextStepDisabled})}},{key:"render",value:function render(){var _props2=this.props,isIncludingSystemIndices=_props2.isIncludingSystemIndices,allIndices=_props2.allIndices;var _state5=this.state,query=_state5.query,partialMatchedIndices=_state5.partialMatchedIndices,exactMatchedIndices=_state5.exactMatchedIndices;var matchedIndices=(0,_lib.getMatchedIndices)(allIndices,partialMatchedIndices,exactMatchedIndices,query,isIncludingSystemIndices);return _react2.default.createElement(_eui.EuiPanel,{paddingSize:"l"},this.renderHeader(matchedIndices),_react2.default.createElement(_eui.EuiSpacer,{size:"s"}),this.renderLoadingState(matchedIndices),this.renderIndexPatternExists(),this.renderStatusMessage(matchedIndices),_react2.default.createElement(_eui.EuiSpacer,{size:"s"}),this.renderList(matchedIndices))}}]);return StepIndexPatternComponent}(_react.Component);StepIndexPatternComponent.propTypes={allIndices:_propTypes2.default.array.isRequired,isIncludingSystemIndices:_propTypes2.default.bool.isRequired,esService:_propTypes2.default.object.isRequired,savedObjectsClient:_propTypes2.default.object.isRequired,indexPatternCreationType:_propTypes2.default.object.isRequired,goToNextStep:_propTypes2.default.func.isRequired,initialQuery:_propTypes2.default.string};StepIndexPatternComponent.defaultProps={initialQuery:uiSettings.get("indexPattern:placeholder")};var _initialiseProps=function _initialiseProps(){var _this2=this;this.fetchExistingIndexPatterns=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(){var _ref5,savedObjects,existingIndexPatterns;return regeneratorRuntime.wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.next=2;return _this2.props.savedObjectsClient.find({type:"index-pattern",fields:["title"],perPage:1e4});case 2:_ref5=_context2.sent;savedObjects=_ref5.savedObjects;existingIndexPatterns=savedObjects.map(function(obj){return obj&&obj.attributes?obj.attributes.title:""});_this2.setState({existingIndexPatterns:existingIndexPatterns});case 6:case"end":return _context2.stop()}},_callee2,_this2)}));this.fetchIndices=(_ref6=_asyncToGenerator(regeneratorRuntime.mark(function _callee3(query){var _props3,esService,indexPatternCreationType,existingIndexPatterns,_exactMatchedIndices,_ref7,_ref8,partialMatchedIndices,exactMatchedIndices;return regeneratorRuntime.wrap(function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:_props3=_this2.props,esService=_props3.esService,indexPatternCreationType=_props3.indexPatternCreationType;existingIndexPatterns=_this2.state.existingIndexPatterns;if(!existingIndexPatterns.includes(query)){_context3.next=5;break}_this2.setState({indexPatternExists:true});return _context3.abrupt("return");case 5:_this2.setState({isLoadingIndices:true,indexPatternExists:false});if(!query.endsWith("*")){_context3.next=14;break}_context3.next=9;return(0,_lib.ensureMinimumTime)((0,_lib.getIndices)(esService,indexPatternCreationType,query,_constants.MAX_SEARCH_SIZE));case 9:_exactMatchedIndices=_context3.sent;if(!(query!==_this2.lastQuery)){_context3.next=12;break}return _context3.abrupt("return");case 12:_this2.setState({exactMatchedIndices:_exactMatchedIndices,isLoadingIndices:false});return _context3.abrupt("return");case 14:_context3.next=16;return(0,_lib.ensureMinimumTime)([(0,_lib.getIndices)(esService,indexPatternCreationType,query+"*",_constants.MAX_SEARCH_SIZE),(0,_lib.getIndices)(esService,indexPatternCreationType,query,_constants.MAX_SEARCH_SIZE)]);case 16:_ref7=_context3.sent;_ref8=_slicedToArray(_ref7,2);partialMatchedIndices=_ref8[0];exactMatchedIndices=_ref8[1];if(!(query!==_this2.lastQuery)){_context3.next=22;break}return _context3.abrupt("return");case 22:_this2.setState({partialMatchedIndices:partialMatchedIndices,exactMatchedIndices:exactMatchedIndices,isLoadingIndices:false});case 23:case"end":return _context3.stop()}},_callee3,_this2)})),function(_x){return _ref6.apply(this,arguments)});var _ref6;this.onQueryChanged=function(e){var appendedWildcard=_this2.state.appendedWildcard;var target=e.target;var query=target.value;if(1===query.length&&(0,_lib.canAppendWildcard)(query)){query+="*";_this2.setState({appendedWildcard:true});setTimeout(function(){return target.setSelectionRange(1,1)})}else if("*"===query&&appendedWildcard){query="";_this2.setState({appendedWildcard:false})}_this2.lastQuery=query;_this2.setState({query:query,showingIndexPatternQueryErrors:!!query.length});_this2.fetchIndices(query)}};exports.StepIndexPattern=(0,_react3.injectI18n)(StepIndexPatternComponent)},7724:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.canAppendWildcard=function canAppendWildcard(keyPressed){if(!keyPressed||!/[a-z0-9]/i.test(keyPressed)||1!==keyPressed.length)return false;return true}},7725:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ensureMinimumTime=(_ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee(promiseOrPromises){var minimumTimeMs=arguments.length>1&&void 0!==arguments[1]?arguments[1]:DEFAULT_MINIMUM_TIME_MS;var returnValue,bufferedMinimumTimeMs,asyncActionStartTime,asyncActionCompletionTime,asyncActionDuration,additionalWaitingTime;return regeneratorRuntime.wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:returnValue=void 0;bufferedMinimumTimeMs=minimumTimeMs+5;asyncActionStartTime=(new Date).getTime();if(!Array.isArray(promiseOrPromises)){_context.next=9;break}_context.next=6;return Promise.all(promiseOrPromises);case 6:returnValue=_context.sent;_context.next=12;break;case 9:_context.next=11;return promiseOrPromises;case 11:returnValue=_context.sent;case 12:asyncActionCompletionTime=(new Date).getTime();asyncActionDuration=asyncActionCompletionTime-asyncActionStartTime;if(!(asyncActionDuration<bufferedMinimumTimeMs)){_context.next=18;break}additionalWaitingTime=bufferedMinimumTimeMs-(asyncActionCompletionTime-asyncActionStartTime);_context.next=18;return new Promise(function(resolve){return setTimeout(resolve,additionalWaitingTime)});case 18:return _context.abrupt("return",returnValue);case 19:case"end":return _context.stop()}},_callee,this)})),function ensureMinimumTime(_x2){return _ref.apply(this,arguments)});var _ref;function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}var DEFAULT_MINIMUM_TIME_MS=exports.DEFAULT_MINIMUM_TIME_MS=300},7726:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getIndices=void 0;exports.getIndices=(_ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee(es,indexPatternCreationType,rawPattern,limit){var pattern,params,response,type;return regeneratorRuntime.wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:pattern=rawPattern.trim();if(!("*:"===pattern)){_context.next=3;break}return _context.abrupt("return",[]);case 3:if(!(""===pattern)){_context.next=5;break}return _context.abrupt("return",[]);case 5:if(!pattern.startsWith(",")){_context.next=7;break}return _context.abrupt("return",[]);case 7:if(limit){_context.next=9;break}throw new Error("`getIndices()` was called without the required `limit` parameter.");case 9:params={index:pattern,ignore:[404],body:{size:0,aggs:{indices:{terms:{field:"_index",size:limit}}}}};_context.prev=10;_context.next=13;return es.search(params);case 13:response=_context.sent;if(!(!response||response.error||!response.aggregations)){_context.next=16;break}return _context.abrupt("return",[]);case 16:return _context.abrupt("return",(0,_lodash.sortBy)(response.aggregations.indices.buckets.map(function(bucket){return bucket.key}).map(function(indexName){return{name:indexName,tags:indexPatternCreationType.getIndexTags(indexName)}}),"name"));case 19:_context.prev=19;_context.t0=_context["catch"](10);type=(0,_lodash.get)(_context.t0,"body.error.caused_by.type");if(!("index_not_found_exception"===type)){_context.next=24;break}return _context.abrupt("return",[]);case 24:throw _context.t0;case 25:case"end":return _context.stop()}},_callee,this,[[10,19]])})),function getIndices(_x,_x2,_x3,_x4){return _ref.apply(this,arguments)});var _ref;var _lodash=__webpack_require__(1);function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}},7727:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getMatchedIndices=getMatchedIndices;var _constants=__webpack_require__(857);function isSystemIndex(index){if(index.startsWith("."))return true;if(index.includes(":"))return index.split(":").reduce(function(isSystem,index){return isSystem||isSystemIndex(index)},false);return false}function filterSystemIndices(indices,isIncludingSystemIndices){if(!indices)return indices;var acceptableIndices=isIncludingSystemIndices?indices:indices.filter(function(index){return!isSystemIndex(index.name)});return acceptableIndices.slice(0,_constants.MAX_NUMBER_OF_MATCHING_INDICES)}function getMatchedIndices(unfilteredAllIndices,unfilteredPartialMatchedIndices,unfilteredExactMatchedIndices,query,isIncludingSystemIndices){var allIndices=filterSystemIndices(unfilteredAllIndices,isIncludingSystemIndices);var partialMatchedIndices=filterSystemIndices(unfilteredPartialMatchedIndices,isIncludingSystemIndices);var exactMatchedIndices=filterSystemIndices(unfilteredExactMatchedIndices,isIncludingSystemIndices);var visibleIndices=void 0;visibleIndices=exactMatchedIndices.length?exactMatchedIndices:partialMatchedIndices.length?partialMatchedIndices:allIndices;return{allIndices:allIndices,exactMatchedIndices:exactMatchedIndices,partialMatchedIndices:partialMatchedIndices,visibleIndices:visibleIndices}}},7728:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.containsIllegalCharacters=containsIllegalCharacters;function containsIllegalCharacters(pattern,illegalCharacters){return illegalCharacters.some(function(char){return pattern.includes(char)})}},7729:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.extractTimeFields=extractTimeFields;var _i18n=__webpack_require__(18);function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}return Array.from(arr)}function extractTimeFields(fields){var dateFields=fields.filter(function(field){return"date"===field.type});var label=_i18n.i18n.translate("kbn.management.createIndexPattern.stepTime.noTimeFieldsLabel",{defaultMessage:"The indices which match this index pattern don't contain any time fields."});if(0===dateFields.length)return[{display:label}];var disabledDividerOption={isDisabled:true,display:"",fieldName:""};var noTimeFieldLabel=_i18n.i18n.translate("kbn.management.createIndexPattern.stepTime.noTimeFieldOptionLabel",{defaultMessage:"I don't want to use the Time Filter"});var noTimeFieldOption={display:noTimeFieldLabel,fieldName:void 0};return[].concat(_toConsumableArray(dateFields.map(function(field){return{display:field.name,fieldName:field.name}})),[disabledDividerOption,noTimeFieldOption])}},7730:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _loading_indices=__webpack_require__(7731);Object.defineProperty(exports,"LoadingIndices",{enumerable:true,get:function get(){return _loading_indices.LoadingIndices}})},7731:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.LoadingIndices=void 0;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _eui=__webpack_require__(2);var _react3=__webpack_require__(10);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _objectWithoutProperties(obj,keys){var target={};for(var i in obj){if(keys.indexOf(i)>=0)continue;if(!Object.prototype.hasOwnProperty.call(obj,i))continue;target[i]=obj[i]}return target}var LoadingIndices=function LoadingIndices(_ref){var rest=_objectWithoutProperties(_ref,[]);return _react2.default.createElement(_eui.EuiFlexGroup,_extends({justifyContent:"center",alignItems:"center"},rest),_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiLoadingSpinner,{size:"m"})),_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiText,null,_react2.default.createElement(_eui.EuiTextColor,{color:"subdued"},_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.management.createIndexPattern.step.loadingHeader",defaultMessage:"Looking for matching indices..."}))),_react2.default.createElement(_eui.EuiText,{size:"s",style:{textAlign:"center"}},_react2.default.createElement(_eui.EuiTextColor,{color:"subdued"},_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.management.createIndexPattern.step.loadingLabel",defaultMessage:"Just a sec..."})))))};exports.LoadingIndices=LoadingIndices},7732:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _status_message=__webpack_require__(7733);Object.defineProperty(exports,"StatusMessage",{enumerable:true,get:function get(){return _status_message.StatusMessage}})},7733:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.StatusMessage=void 0;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _eui=__webpack_require__(2);var _react3=__webpack_require__(10);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}exports.StatusMessage=function StatusMessage(_ref){var _ref$matchedIndices=_ref.matchedIndices,_ref$matchedIndices$a=_ref$matchedIndices.allIndices,allIndices=void 0===_ref$matchedIndices$a?[]:_ref$matchedIndices$a,_ref$matchedIndices$e=_ref$matchedIndices.exactMatchedIndices,exactMatchedIndices=void 0===_ref$matchedIndices$e?[]:_ref$matchedIndices$e,_ref$matchedIndices$p=_ref$matchedIndices.partialMatchedIndices,partialMatchedIndices=void 0===_ref$matchedIndices$p?[]:_ref$matchedIndices$p,isIncludingSystemIndices=_ref.isIncludingSystemIndices,query=_ref.query,showSystemIndicies=_ref.showSystemIndicies;var statusIcon=void 0;var statusMessage=void 0;var statusColor=void 0;var allIndicesLength=allIndices.length;if(0===query.length){statusIcon=null;statusColor="default";statusMessage=allIndicesLength>1?_react2.default.createElement("span",null,_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.management.createIndexPattern.step.status.matchAnyLabel.matchAnyDetail",defaultMessage:"Your index pattern can match any of your {strongIndices}, below.",values:{strongIndices:_react2.default.createElement("strong",null,allIndicesLength," indices")}})):!isIncludingSystemIndices&&showSystemIndicies?_react2.default.createElement("span",null,_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.management.createIndexPattern.step.status.noSystemIndicesWithPromptLabel",defaultMessage:"No Elasticsearch indices match your pattern. To view the matching system indices, toggle the switch in the upper right."})):_react2.default.createElement("span",null,_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.management.createIndexPattern.step.status.noSystemIndicesLabel",defaultMessage:"No Elasticsearch indices match your pattern."}))}else if(exactMatchedIndices.length){statusIcon="check";statusColor="secondary";statusMessage=_react2.default.createElement("span",null,"",_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.management.createIndexPattern.step.status.successLabel.successDetail",defaultMessage:"{strongSuccess} Your index pattern matches {strongIndices}.",values:{strongSuccess:_react2.default.createElement("strong",null,_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.management.createIndexPattern.step.status.successLabel.strongSuccessLabel",defaultMessage:"Success!"})),strongIndices:_react2.default.createElement("strong",null,_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.management.createIndexPattern.step.status.successLabel.strongIndicesLabel",defaultMessage:"{indicesLength, plural, one {# index} other {# indices}}",values:{indicesLength:exactMatchedIndices.length}}))}}))}else if(partialMatchedIndices.length){statusIcon=null;statusColor="default";statusMessage=_react2.default.createElement("span",null,_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.management.createIndexPattern.step.status.partialMatchLabel.partialMatchDetail",defaultMessage:"Your index pattern doesn't match any indices, but you have {strongIndices} which {matchedIndicesLength, plural, one {looks} other {look}} similar.",values:{matchedIndicesLength:partialMatchedIndices.length,strongIndices:_react2.default.createElement("strong",null,_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.management.createIndexPattern.step.status.partialMatchLabel.strongIndicesLabel",defaultMessage:"{matchedIndicesLength, plural, one {# index} other {# indices}}",values:{matchedIndicesLength:partialMatchedIndices.length}}))}}))}else if(allIndicesLength){statusIcon=null;statusColor="default";statusMessage=_react2.default.createElement("span",null,_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.management.createIndexPattern.step.status.notMatchLabel.notMatchDetail",defaultMessage:"The index pattern you've entered doesn't match any indices. You can match {indicesLength, plural, one {your} other {any of your}} {strongIndices}, below.",values:{strongIndices:_react2.default.createElement("strong",null,_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.management.createIndexPattern.step.status.notMatchLabel.allIndicesLabel",defaultMessage:"{indicesLength, plural, one {# index} other {# indices}}",values:{indicesLength:allIndicesLength}})),indicesLength:allIndicesLength}}))}return _react2.default.createElement(_eui.EuiText,{size:"s"},_react2.default.createElement(_eui.EuiTextColor,{color:statusColor},statusIcon?_react2.default.createElement(_eui.EuiIcon,{type:statusIcon}):null,statusMessage))}},7734:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _indices_list=__webpack_require__(7735);Object.defineProperty(exports,"IndicesList",{enumerable:true,get:function get(){return _indices_list.IndicesList}})},7735:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.IndicesList=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(6);var _propTypes2=_interopRequireDefault(_propTypes);var _constants=__webpack_require__(857);var _eui=__webpack_require__(2);var _services=__webpack_require__(46);var _react3=__webpack_require__(10);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _objectWithoutProperties(obj,keys){var target={};for(var i in obj){if(keys.indexOf(i)>=0)continue;if(!Object.prototype.hasOwnProperty.call(obj,i))continue;target[i]=obj[i]}return target}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var IndicesList=exports.IndicesList=function(_Component){_inherits(IndicesList,_Component);function IndicesList(props){_classCallCheck(this,IndicesList);var _this=_possibleConstructorReturn(this,(IndicesList.__proto__||Object.getPrototypeOf(IndicesList)).call(this,props));_this.resetPageTo0=function(){return _this.onChangePage(0)};_this.onChangePage=function(page){_this.pager.goToPageIndex(page);_this.setState({page:page})};_this.onChangePerPage=function(perPage){_this.pager.setItemsPerPage(perPage);_this.setState({perPage:perPage});_this.resetPageTo0();_this.closePerPageControl()};_this.openPerPageControl=function(){_this.setState({isPerPageControlOpen:true})};_this.closePerPageControl=function(){_this.setState({isPerPageControlOpen:false})};_this.state={page:0,perPage:_constants.PER_PAGE_INCREMENTS[1],isPerPageControlOpen:false};_this.pager=new _services.Pager(props.indices.length,_this.state.perPage,_this.state.page);return _this}_createClass(IndicesList,[{key:"componentWillReceiveProps",value:function componentWillReceiveProps(nextProps){if(nextProps.indices.length!==this.props.indices.length){this.pager.setTotalItems(nextProps.indices.length);this.resetPageTo0()}}},{key:"renderPagination",value:function renderPagination(){var _this2=this;var _state=this.state,perPage=_state.perPage,page=_state.page,isPerPageControlOpen=_state.isPerPageControlOpen;var button=_react2.default.createElement(_eui.EuiButtonEmpty,{size:"s",color:"text",iconType:"arrowDown",iconSide:"right",onClick:this.openPerPageControl},_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.management.createIndexPattern.step.pagingLabel",defaultMessage:"Rows per page: {perPage}",values:{perPage:perPage}}));var items=_constants.PER_PAGE_INCREMENTS.map(function(increment){return _react2.default.createElement(_eui.EuiContextMenuItem,{key:increment,icon:"empty",onClick:function onClick(){return _this2.onChangePerPage(increment)}},increment)});var pageCount=this.pager.getTotalPages();var paginationControls=pageCount>1?_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiPagination,{pageCount:pageCount,activePage:page,onPageClick:this.onChangePage})):null;return _react2.default.createElement(_eui.EuiFlexGroup,{justifyContent:"spaceBetween",alignItems:"center"},_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiPopover,{id:"customizablePagination",button:button,isOpen:isPerPageControlOpen,closePopover:this.closePerPageControl,panelPaddingSize:"none",withTitle:true},_react2.default.createElement(_eui.EuiContextMenuPanel,{items:items}))),paginationControls)}},{key:"highlightIndexName",value:function highlightIndexName(indexName,query){var queryIdx=indexName.indexOf(query);if(!query||-1===queryIdx)return indexName;var preStr=indexName.substr(0,queryIdx);var postStr=indexName.substr(queryIdx+query.length);return _react2.default.createElement("span",null,preStr,_react2.default.createElement("strong",null,query),postStr)}},{key:"render",value:function render(){var _this3=this;var _props=this.props,indices=_props.indices,query=_props.query,rest=_objectWithoutProperties(_props,["indices","query"]);var queryWithoutWildcard=query.endsWith("*")?query.substr(0,query.length-1):query;var paginatedIndices=indices.slice(this.pager.firstItemIndex,this.pager.lastItemIndex+1);var rows=paginatedIndices.map(function(index,key){return _react2.default.createElement(_eui.EuiTableRow,{key:key},_react2.default.createElement(_eui.EuiTableRowCell,null,_this3.highlightIndexName(index.name,queryWithoutWildcard)),_react2.default.createElement(_eui.EuiTableRowCell,null,index.tags.map(function(tag){return _react2.default.createElement(_eui.EuiBadge,{key:"index_"+key+"_tag_"+tag.key,color:"primary"},tag.name)})))});return _react2.default.createElement("div",rest,_react2.default.createElement(_eui.EuiTable,null,_react2.default.createElement(_eui.EuiTableBody,null,rows)),_react2.default.createElement(_eui.EuiSpacer,{size:"m"}),this.renderPagination())}}]);return IndicesList}(_react.Component);IndicesList.propTypes={indices:_propTypes2.default.array.isRequired,query:_propTypes2.default.string.isRequired}},7736:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _header=__webpack_require__(7737);Object.defineProperty(exports,"Header",{enumerable:true,get:function get(){return _header.Header}})},7737:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Header=exports.HeaderComponent=void 0;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _eui=__webpack_require__(2);var _react3=__webpack_require__(10);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _objectWithoutProperties(obj,keys){var target={};for(var i in obj){if(keys.indexOf(i)>=0)continue;if(!Object.prototype.hasOwnProperty.call(obj,i))continue;target[i]=obj[i]}return target}var HeaderComponent=function HeaderComponent(_ref){var isInputInvalid=_ref.isInputInvalid,errors=_ref.errors,characterList=_ref.characterList,query=_ref.query,onQueryChanged=_ref.onQueryChanged,goToNextStep=_ref.goToNextStep,isNextStepDisabled=_ref.isNextStepDisabled,intl=_ref.intl,rest=_objectWithoutProperties(_ref,["isInputInvalid","errors","characterList","query","onQueryChanged","goToNextStep","isNextStepDisabled","intl"]);return _react2.default.createElement("div",rest,_react2.default.createElement(_eui.EuiTitle,{size:"s"},_react2.default.createElement("h2",null,_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.management.createIndexPattern.stepHeader",defaultMessage:"Step 1 of 2: Define index pattern"}))),_react2.default.createElement(_eui.EuiSpacer,{size:"m"}),_react2.default.createElement(_eui.EuiFlexGroup,{justifyContent:"spaceBetween",alignItems:"flexEnd"},_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiForm,{isInvalid:isInputInvalid},_react2.default.createElement(_eui.EuiFormRow,{label:_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.management.createIndexPattern.step.indexPatternLabel",defaultMessage:"Index pattern"}),isInvalid:isInputInvalid,error:errors,helpText:_react2.default.createElement("div",null,_react2.default.createElement("p",null,_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.management.createIndexPattern.step.indexPattern.allowLabel",defaultMessage:"You can use a {asterisk} as a wildcard in your index pattern.",values:{asterisk:_react2.default.createElement("strong",null,"*")}})),_react2.default.createElement("p",null,_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.management.createIndexPattern.step.indexPattern.disallowLabel",defaultMessage:"You can't use spaces or the characters {characterList}.",values:{characterList:_react2.default.createElement("strong",null,characterList)}})))},_react2.default.createElement(_eui.EuiFieldText,{name:"indexPattern",placeholder:intl.formatMessage({id:"kbn.management.createIndexPattern.step.indexPatternPlaceholder",defaultMessage:"index-name-*"}),value:query,isInvalid:isInputInvalid,onChange:onQueryChanged,"data-test-subj":"createIndexPatternNameInput"})))),_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiButton,{iconType:"arrowRight",onClick:function onClick(){return goToNextStep(query)},isDisabled:isNextStepDisabled,"data-test-subj":"createIndexPatternGoToStep2Button"},_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.management.createIndexPattern.step.nextStepButton",defaultMessage:"Next step"})))))};exports.HeaderComponent=HeaderComponent;exports.Header=(0,_react3.injectI18n)(HeaderComponent)},7738:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _step_time_field=__webpack_require__(7739);Object.defineProperty(exports,"StepTimeField",{enumerable:true,get:function get(){return _step_time_field.StepTimeField}})},7739:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.StepTimeField=exports.StepTimeFieldComponent=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(6);var _propTypes2=_interopRequireDefault(_propTypes);var _lib=__webpack_require__(1280);var _header=__webpack_require__(7740);var _time_field=__webpack_require__(7742);var _advanced_options=__webpack_require__(7745);var _action_buttons=__webpack_require__(7747);var _eui=__webpack_require__(2);var _react3=__webpack_require__(10);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}return Array.from(arr)}function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var StepTimeFieldComponent=exports.StepTimeFieldComponent=function(_Component){_inherits(StepTimeFieldComponent,_Component);function StepTimeFieldComponent(props){var _this2=this;_classCallCheck(this,StepTimeFieldComponent);var _this=_possibleConstructorReturn(this,(StepTimeFieldComponent.__proto__||Object.getPrototypeOf(StepTimeFieldComponent)).call(this,props));_this.fetchTimeFields=_asyncToGenerator(regeneratorRuntime.mark(function _callee(){var _this$props,indexPatternsService,indexPattern,getFetchForWildcardOptions,fields,timeFields;return regeneratorRuntime.wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_this$props=_this.props,indexPatternsService=_this$props.indexPatternsService,indexPattern=_this$props.indexPattern;getFetchForWildcardOptions=_this.props.indexPatternCreationType.getFetchForWildcardOptions;_this.setState({isFetchingTimeFields:true});_context.next=5;return(0,_lib.ensureMinimumTime)(indexPatternsService.fieldsFetcher.fetchForWildcard(indexPattern,getFetchForWildcardOptions()));case 5:fields=_context.sent;timeFields=(0,_lib.extractTimeFields)(fields);_this.setState({timeFields:timeFields,isFetchingTimeFields:false});case 8:case"end":return _context.stop()}},_callee,_this2)}));_this.onTimeFieldChanged=function(e){var value=e.target.value;var timeField=_this.state.timeFields.find(function(timeField){return timeField.fieldName===value});var validSelection=""!==value;_this.setState({selectedTimeField:timeField?timeField.fieldName:void 0,timeFieldSet:validSelection})};_this.onChangeIndexPatternId=function(e){_this.setState({indexPatternId:e.target.value})};_this.toggleAdvancedOptions=function(){_this.setState(function(state){return{isAdvancedOptionsVisible:!state.isAdvancedOptionsVisible}})};_this.createIndexPattern=function(){var _this$state=_this.state,selectedTimeField=_this$state.selectedTimeField,indexPatternId=_this$state.indexPatternId;_this.setState({isCreating:true});_this.props.createIndexPattern(selectedTimeField,indexPatternId)};var _props$indexPatternCr=props.indexPatternCreationType,getIndexPatternType=_props$indexPatternCr.getIndexPatternType,getIndexPatternName=_props$indexPatternCr.getIndexPatternName;_this.state={timeFields:[],selectedTimeField:void 0,timeFieldSet:false,isAdvancedOptionsVisible:false,isFetchingTimeFields:false,isCreating:false,indexPatternId:"",indexPatternType:getIndexPatternType(),indexPatternName:getIndexPatternName()};return _this}_createClass(StepTimeFieldComponent,[{key:"componentWillMount",value:function componentWillMount(){this.fetchTimeFields()}},{key:"render",value:function render(){var _state=this.state,timeFields=_state.timeFields,selectedTimeField=_state.selectedTimeField,timeFieldSet=_state.timeFieldSet,isAdvancedOptionsVisible=_state.isAdvancedOptionsVisible,indexPatternId=_state.indexPatternId,isCreating=_state.isCreating,isFetchingTimeFields=_state.isFetchingTimeFields,indexPatternName=_state.indexPatternName;if(isCreating)return _react2.default.createElement(_eui.EuiPanel,null,_react2.default.createElement(_eui.EuiFlexGroup,{alignItems:"center"},_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiLoadingSpinner,null)),_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiText,null,_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.management.createIndexPattern.stepTime.creatingLabel",defaultMessage:"Creating index pattern..."})))));var _props=this.props,indexPattern=_props.indexPattern,goToPreviousStep=_props.goToPreviousStep;var timeFieldOptions=timeFields?[{text:"",value:""}].concat(_toConsumableArray(timeFields.map(function(timeField){return{text:timeField.display,value:timeField.fieldName,disabled:timeFields.isDisabled}}))):[];var showTimeField=!timeFields||timeFields.length>1;var submittable=!showTimeField||timeFieldSet;return _react2.default.createElement(_eui.EuiPanel,{paddingSize:"l"},_react2.default.createElement(_header.Header,{indexPattern:indexPattern,indexPatternName:indexPatternName}),_react2.default.createElement(_eui.EuiSpacer,{size:"m"}),_react2.default.createElement(_time_field.TimeField,{isVisible:showTimeField,fetchTimeFields:this.fetchTimeFields,timeFieldOptions:timeFieldOptions,isLoading:isFetchingTimeFields,selectedTimeField:selectedTimeField,onTimeFieldChanged:this.onTimeFieldChanged}),_react2.default.createElement(_eui.EuiSpacer,{size:"s"}),_react2.default.createElement(_advanced_options.AdvancedOptions,{isVisible:isAdvancedOptionsVisible,indexPatternId:indexPatternId,toggleAdvancedOptions:this.toggleAdvancedOptions,onChangeIndexPatternId:this.onChangeIndexPatternId}),_react2.default.createElement(_eui.EuiSpacer,{size:"m"}),_react2.default.createElement(_action_buttons.ActionButtons,{goToPreviousStep:goToPreviousStep,submittable:submittable,createIndexPattern:this.createIndexPattern}))}}]);return StepTimeFieldComponent}(_react.Component);StepTimeFieldComponent.propTypes={indexPattern:_propTypes2.default.string.isRequired,indexPatternsService:_propTypes2.default.object.isRequired,goToPreviousStep:_propTypes2.default.func.isRequired,createIndexPattern:_propTypes2.default.func.isRequired,indexPatternCreationType:_propTypes2.default.object.isRequired};exports.StepTimeField=(0,_react3.injectI18n)(StepTimeFieldComponent)},7740:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _header=__webpack_require__(7741);Object.defineProperty(exports,"Header",{enumerable:true,get:function get(){return _header.Header}})},7741:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Header=void 0;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _eui=__webpack_require__(2);var _react3=__webpack_require__(10);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}exports.Header=function Header(_ref){var indexPattern=_ref.indexPattern,indexPatternName=_ref.indexPatternName;return _react2.default.createElement("div",null,_react2.default.createElement(_eui.EuiTitle,{size:"s"},_react2.default.createElement("h2",null,_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.management.createIndexPattern.stepTimeHeader",defaultMessage:"Step 2 of 2: Configure settings"}))),_react2.default.createElement(_eui.EuiSpacer,{size:"m"}),_react2.default.createElement(_eui.EuiText,{color:"subdued"},_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.management.createIndexPattern.stepTimeLabel",defaultMessage:"You've defined {indexPattern} as your {indexPatternName}. Now you can specify some settings before we create it.",values:{indexPattern:_react2.default.createElement("strong",null,indexPattern),indexPatternName:indexPatternName}})))}},7742:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _time_field=__webpack_require__(7743);Object.defineProperty(exports,"TimeField",{enumerable:true,get:function get(){return _time_field.TimeField}})},7743:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.TimeField=exports.TimeFieldComponent=void 0;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);__webpack_require__(7744);var _eui=__webpack_require__(2);var _react3=__webpack_require__(10);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var TimeFieldComponent=exports.TimeFieldComponent=function TimeFieldComponent(_ref){var isVisible=_ref.isVisible,fetchTimeFields=_ref.fetchTimeFields,timeFieldOptions=_ref.timeFieldOptions,isLoading=_ref.isLoading,selectedTimeField=_ref.selectedTimeField,onTimeFieldChanged=_ref.onTimeFieldChanged,intl=_ref.intl;return _react2.default.createElement(_eui.EuiForm,null,isVisible?_react2.default.createElement(_eui.EuiFormRow,{label:_react2.default.createElement(_eui.EuiFlexGroup,{gutterSize:"xs",justifyContent:"spaceBetween",alignItems:"center"},_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement("span",null,_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.management.createIndexPattern.stepTime.fieldHeader",defaultMessage:"Time Filter field name"}))),_react2.default.createElement(_eui.EuiFlexItem,{grow:false},isLoading?_react2.default.createElement(_eui.EuiLoadingSpinner,{size:"s"}):_react2.default.createElement(_eui.EuiLink,{className:"timeFieldRefreshButton",onClick:fetchTimeFields},_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.management.createIndexPattern.stepTime.refreshButton",defaultMessage:"Refresh"})))),helpText:_react2.default.createElement("div",null,_react2.default.createElement("p",null,_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.management.createIndexPattern.stepTime.fieldLabel",defaultMessage:"The Time Filter will use this field to filter your data by time."})),_react2.default.createElement("p",null,_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.management.createIndexPattern.stepTime.fieldWarningLabel",defaultMessage:"You can choose not to have a time field, but you will not be able to narrow down your data by a time range."})))},isLoading?_react2.default.createElement(_eui.EuiSelect,{name:"timeField","data-test-subj":"createIndexPatternTimeFieldSelect",options:[{text:intl.formatMessage({id:"kbn.management.createIndexPattern.stepTime.field.loadingDropDown",defaultMessage:"Loading..."}),value:""}],disabled:true}):_react2.default.createElement(_eui.EuiSelect,{name:"timeField","data-test-subj":"createIndexPatternTimeFieldSelect",options:timeFieldOptions,isLoading:isLoading,disabled:isLoading,value:selectedTimeField,onChange:onTimeFieldChanged})):_react2.default.createElement(_eui.EuiText,null,_react2.default.createElement("p",null,_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.management.createIndexPattern.stepTime.field.noTimeFieldsLabel",defaultMessage:"The indices which match this index pattern don't contain any time fields."}))))};exports.TimeField=(0,_react3.injectI18n)(TimeFieldComponent)},7744:function(module,exports){},7745:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _advanced_options=__webpack_require__(7746);Object.defineProperty(exports,"AdvancedOptions",{enumerable:true,get:function get(){return _advanced_options.AdvancedOptions}})},7746:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.AdvancedOptions=exports.AdvancedOptionsComponent=void 0;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _eui=__webpack_require__(2);var _react3=__webpack_require__(10);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var AdvancedOptionsComponent=exports.AdvancedOptionsComponent=function AdvancedOptionsComponent(_ref){var isVisible=_ref.isVisible,indexPatternId=_ref.indexPatternId,toggleAdvancedOptions=_ref.toggleAdvancedOptions,onChangeIndexPatternId=_ref.onChangeIndexPatternId,intl=_ref.intl;return _react2.default.createElement("div",null,_react2.default.createElement(_eui.EuiButtonEmpty,{iconType:isVisible?"arrowDown":"arrowRight",onClick:toggleAdvancedOptions},isVisible?_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.management.createIndexPattern.stepTime.options.hideButton",defaultMessage:"Hide advanced options"}):_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.management.createIndexPattern.stepTime.options.showButton",defaultMessage:"Show advanced options"})),_react2.default.createElement(_eui.EuiSpacer,{size:"xs"}),isVisible?_react2.default.createElement(_eui.EuiForm,null,_react2.default.createElement(_eui.EuiFormRow,{label:_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.management.createIndexPattern.stepTime.options.patternHeader",defaultMessage:"Custom index pattern ID"}),helpText:_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.management.createIndexPattern.stepTime.options.patternLabel",defaultMessage:"Kibana will provide a unique identifier for each index pattern. If you do not want to use this unique ID, enter a custom one."})},_react2.default.createElement(_eui.EuiFieldText,{name:"indexPatternId","data-test-subj":"createIndexPatternIdInput",value:indexPatternId,onChange:onChangeIndexPatternId,placeholder:intl.formatMessage({id:"kbn.management.createIndexPattern.stepTime.options.patternPlaceholder",defaultMessage:"custom-index-pattern-id"})}))):null)};exports.AdvancedOptions=(0,_react3.injectI18n)(AdvancedOptionsComponent)},7747:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _action_buttons=__webpack_require__(7748);Object.defineProperty(exports,"ActionButtons",{enumerable:true,get:function get(){return _action_buttons.ActionButtons}})},7748:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ActionButtons=void 0;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _eui=__webpack_require__(2);var _react3=__webpack_require__(10);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}exports.ActionButtons=function ActionButtons(_ref){var goToPreviousStep=_ref.goToPreviousStep,submittable=_ref.submittable,createIndexPattern=_ref.createIndexPattern;return _react2.default.createElement(_eui.EuiFlexGroup,{justifyContent:"flexEnd"},_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiButtonEmpty,{iconType:"arrowLeft",onClick:goToPreviousStep},_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.management.createIndexPattern.stepTime.backButton",defaultMessage:"Back"}))),_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiButton,{isDisabled:!submittable,"data-test-subj":"createIndexPatternCreateButton",fill:true,onClick:createIndexPattern},_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.management.createIndexPattern.stepTime.createPatternButton",defaultMessage:"Create index pattern"}))))}},7749:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _header=__webpack_require__(7750);Object.defineProperty(exports,"Header",{enumerable:true,get:function get(){return _header.Header}})},7750:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Header=void 0;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _eui=__webpack_require__(2);var _react3=__webpack_require__(10);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}exports.Header=function Header(_ref){var prompt=_ref.prompt,indexPatternName=_ref.indexPatternName,showSystemIndices=_ref.showSystemIndices,isIncludingSystemIndices=_ref.isIncludingSystemIndices,onChangeIncludingSystemIndices=_ref.onChangeIncludingSystemIndices,isBeta=_ref.isBeta;return _react2.default.createElement("div",null,_react2.default.createElement(_eui.EuiTitle,null,_react2.default.createElement("h1",null,_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.management.createIndexPatternHeader",defaultMessage:"Create {indexPatternName}",values:{indexPatternName:indexPatternName}}),isBeta?_react2.default.createElement(_react.Fragment,null," ",_react2.default.createElement(_eui.EuiBetaBadge,{label:"Beta"})):null)),_react2.default.createElement(_eui.EuiFlexGroup,{justifyContent:"spaceBetween",alignItems:"flexEnd"},_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiText,null,_react2.default.createElement("p",null,_react2.default.createElement(_eui.EuiTextColor,{color:"subdued"},_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.management.createIndexPatternLabel",defaultMessage:"Kibana uses index patterns to retrieve data from Elasticsearch indices for things like visualizations."}))))),showSystemIndices?_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiSwitch,{label:_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.management.createIndexPattern.includeSystemIndicesToggleSwitchLabel",defaultMessage:"Include system indices"}),id:"checkboxShowSystemIndices",checked:isIncludingSystemIndices,onChange:onChangeIncludingSystemIndices})):null),prompt?_react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_eui.EuiSpacer,{size:"s"}),prompt):null,_react2.default.createElement(_eui.EuiSpacer,{size:"m"}))}},7751:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _loading_state=__webpack_require__(7752);Object.defineProperty(exports,"LoadingState",{enumerable:true,get:function get(){return _loading_state.LoadingState}})},7752:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.LoadingState=void 0;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _eui=__webpack_require__(2);var _react3=__webpack_require__(10);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}exports.LoadingState=function LoadingState(){return _react2.default.createElement(_eui.EuiPanel,{paddingSize:"l"},_react2.default.createElement(_eui.EuiFlexGroup,{justifyContent:"center",alignItems:"center",direction:"column",gutterSize:"s"},_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiTitle,{size:"s"},_react2.default.createElement(_eui.EuiTextColor,{color:"subdued"},_react2.default.createElement("h2",{style:{textAlign:"center"}},_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.management.createIndexPattern.loadingState.checkingLabel",defaultMessage:"Checking for Elasticsearch data"}))))),_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiLoadingSpinner,{size:"l"}))))}},7753:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _empty_state=__webpack_require__(7754);Object.defineProperty(exports,"EmptyState",{enumerable:true,get:function get(){return _empty_state.EmptyState}})},7754:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.EmptyState=void 0;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(6);var _propTypes2=_interopRequireDefault(_propTypes);var _eui=__webpack_require__(2);var _react3=__webpack_require__(10);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var EmptyState=exports.EmptyState=function EmptyState(_ref){var onRefresh=_ref.onRefresh;return _react2.default.createElement(_eui.EuiPanel,{paddingSize:"l"},_react2.default.createElement(_eui.EuiFlexGroup,{justifyContent:"center",alignItems:"center"},_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiTitle,null,_react2.default.createElement(_eui.EuiTextColor,{color:"subdued"},_react2.default.createElement("h2",{style:{textAlign:"center"}},_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.management.createIndexPattern.emptyStateHeader",defaultMessage:"Couldn't find any Elasticsearch data"})))),_react2.default.createElement(_eui.EuiSpacer,{size:"s"}),_react2.default.createElement(_eui.EuiText,null,_react2.default.createElement("p",null,_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.management.createIndexPattern.emptyStateLabel.emptyStateDetail",defaultMessage:"{needToIndex} {learnHowLink} or {getStartedLink}",values:{needToIndex:_react2.default.createElement(_eui.EuiTextColor,{color:"subdued"},_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.management.createIndexPattern.emptyStateLabel.needToIndexLabel",defaultMessage:"You'll need to index some data into Elasticsearch before you can create an index pattern."})),learnHowLink:_react2.default.createElement(_eui.EuiLink,{href:"#/home/tutorial_directory"},_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.management.createIndexPattern.emptyStateLabel.learnHowLink",defaultMessage:"Learn how"})),getStartedLink:_react2.default.createElement(_eui.EuiLink,{href:"#/home/tutorial_directory/sampleData"},_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.management.createIndexPattern.emptyStateLabel.getStartedLink",defaultMessage:"get started with some sample data sets."}))}}))),_react2.default.createElement(_eui.EuiSpacer,{size:"m"}),_react2.default.createElement(_eui.EuiFlexGroup,{justifyContent:"center",alignItems:"center"},_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiButton,{iconType:"refresh",onClick:onRefresh,"data-test-subj":"refreshIndicesButton"},_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.management.createIndexPattern.emptyState.checkDataButton",defaultMessage:"Check for new data"})))))))};EmptyState.propTypes={onRefresh:_propTypes2.default.func.isRequired}},7755:function(module,exports,__webpack_require__){"use strict";__webpack_require__(7756)},7756:function(module,exports,__webpack_require__){"use strict";var _lodash=__webpack_require__(1);var _lodash2=_interopRequireDefault(_lodash);__webpack_require__(7757);__webpack_require__(7760);var _url=__webpack_require__(240);var _edit_sections=__webpack_require__(7778);var _notify=__webpack_require__(11);var _routes=__webpack_require__(13);var _routes2=_interopRequireDefault(_routes);var _modules=__webpack_require__(3);var _edit_index_pattern=__webpack_require__(7779);var _edit_index_pattern2=_interopRequireDefault(_edit_index_pattern);var _field_wildcard=__webpack_require__(1638);var _index_pattern_list=__webpack_require__(854);var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _reactDom=__webpack_require__(14);var _source_filters_table=__webpack_require__(7780);var _indexed_fields_table=__webpack_require__(7788);var _scripted_fields_table=__webpack_require__(7794);var _react3=__webpack_require__(10);var _i18n=__webpack_require__(18);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}var REACT_SOURCE_FILTERS_DOM_ELEMENT_ID="reactSourceFiltersTable";var REACT_INDEXED_FIELDS_DOM_ELEMENT_ID="reactIndexedFieldsTable";var REACT_SCRIPTED_FIELDS_DOM_ELEMENT_ID="reactScriptedFieldsTable";function updateSourceFiltersTable($scope,$state){"sourceFilters"===$state.tab?$scope.$$postDigest(function(){var node=document.getElementById(REACT_SOURCE_FILTERS_DOM_ELEMENT_ID);if(!node)return;(0,_reactDom.render)(_react2.default.createElement(_react3.I18nProvider,null,_react2.default.createElement(_source_filters_table.SourceFiltersTable,{indexPattern:$scope.indexPattern,filterFilter:$scope.fieldFilter,fieldWildcardMatcher:$scope.fieldWildcardMatcher,onAddOrRemoveFilter:function onAddOrRemoveFilter(){$scope.editSections=$scope.editSectionsProvider($scope.indexPattern,$scope.indexPatternListProvider);$scope.refreshFilters();$scope.$apply()}})),node)}):destroySourceFiltersTable()}function destroySourceFiltersTable(){var node=document.getElementById(REACT_SOURCE_FILTERS_DOM_ELEMENT_ID);node&&(0,_reactDom.unmountComponentAtNode)(node)}function updateScriptedFieldsTable($scope,$state){"scriptedFields"===$state.tab?$scope.$$postDigest(function(){var node=document.getElementById(REACT_SCRIPTED_FIELDS_DOM_ELEMENT_ID);if(!node)return;(0,_reactDom.render)(_react2.default.createElement(_react3.I18nProvider,null,_react2.default.createElement(_scripted_fields_table.ScriptedFieldsTable,{indexPattern:$scope.indexPattern,fieldFilter:$scope.fieldFilter,scriptedFieldLanguageFilter:$scope.scriptedFieldLanguageFilter,helpers:{redirectToRoute:function redirectToRoute(obj,route){$scope.kbnUrl.redirectToRoute(obj,route);$scope.$apply()},getRouteHref:function getRouteHref(obj,route){return $scope.kbnUrl.getRouteHref(obj,route)}},onRemoveField:function onRemoveField(){$scope.editSections=$scope.editSectionsProvider($scope.indexPattern,$scope.indexPatternListProvider);$scope.refreshFilters()}})),node)}):destroyScriptedFieldsTable()}function destroyScriptedFieldsTable(){var node=document.getElementById(REACT_SCRIPTED_FIELDS_DOM_ELEMENT_ID);node&&(0,_reactDom.unmountComponentAtNode)(node)}function updateIndexedFieldsTable($scope,$state){"indexedFields"===$state.tab?$scope.$$postDigest(function(){var node=document.getElementById(REACT_INDEXED_FIELDS_DOM_ELEMENT_ID);if(!node)return;(0,_reactDom.render)(_react2.default.createElement(_react3.I18nProvider,null,_react2.default.createElement(_indexed_fields_table.IndexedFieldsTable,{fields:$scope.fields,indexPattern:$scope.indexPattern,fieldFilter:$scope.fieldFilter,fieldWildcardMatcher:$scope.fieldWildcardMatcher,indexedFieldTypeFilter:$scope.indexedFieldTypeFilter,helpers:{redirectToRoute:function redirectToRoute(obj,route){$scope.kbnUrl.redirectToRoute(obj,route);$scope.$apply()},getFieldInfo:$scope.getFieldInfo}})),node)}):destroyIndexedFieldsTable()}function destroyIndexedFieldsTable(){var node=document.getElementById(REACT_INDEXED_FIELDS_DOM_ELEMENT_ID);node&&(0,_reactDom.unmountComponentAtNode)(node)}_routes2.default.when("/management/kibana/indices/:indexPatternId",{template:_edit_index_pattern2.default,resolve:{indexPattern:function indexPattern($route,redirectWhenMissing,indexPatterns){return indexPatterns.get($route.current.params.indexPatternId).catch(redirectWhenMissing("/management/kibana/index"))}}});_routes2.default.when("/management/kibana/indices",{resolve:{redirect:function redirect($location,config){var defaultIndex=config.get("defaultIndex");var path="/management/kibana/index";defaultIndex&&(path="/management/kibana/indices/"+defaultIndex);$location.path(path).replace()}}});_modules.uiModules.get("apps/management").controller("managementIndicesEdit",function($scope,$location,$route,config,indexPatterns,Private,AppState,docTitle,confirmModal){var $state=$scope.state=new AppState;var _Private=Private(_field_wildcard.FieldWildcardProvider),fieldWildcardMatcher=_Private.fieldWildcardMatcher;var indexPatternListProvider=Private(_index_pattern_list.IndexPatternListFactory)();$scope.fieldWildcardMatcher=fieldWildcardMatcher;$scope.editSectionsProvider=Private(_edit_sections.IndicesEditSectionsProvider);$scope.kbnUrl=Private(_url.KbnUrlProvider);$scope.indexPattern=$route.current.locals.indexPattern;$scope.indexPatternListProvider=indexPatternListProvider;$scope.indexPattern.tags=indexPatternListProvider.getIndexPatternTags($scope.indexPattern);$scope.getFieldInfo=indexPatternListProvider.getFieldInfo;docTitle.change($scope.indexPattern.title);var otherPatterns=_lodash2.default.filter($route.current.locals.indexPatterns,function(pattern){return pattern.id!==$scope.indexPattern.id});$scope.$watch("indexPattern.fields",function(){$scope.editSections=$scope.editSectionsProvider($scope.indexPattern,indexPatternListProvider);$scope.refreshFilters();$scope.fields=$scope.indexPattern.getNonScriptedFields();updateIndexedFieldsTable($scope,$state);updateScriptedFieldsTable($scope,$state)});$scope.refreshFilters=function(){var indexedFieldTypes=[];var scriptedFieldLanguages=[];$scope.indexPattern.fields.forEach(function(field){field.scripted?scriptedFieldLanguages.push(field.lang):indexedFieldTypes.push(field.type)});$scope.indexedFieldTypes=_lodash2.default.unique(indexedFieldTypes);$scope.scriptedFieldLanguages=_lodash2.default.unique(scriptedFieldLanguages)};$scope.changeFilter=function(filter,val){$scope[filter]=val||""};$scope.changeTab=function(obj){$state.tab=obj.index;updateIndexedFieldsTable($scope,$state);updateScriptedFieldsTable($scope,$state);updateSourceFiltersTable($scope,$state);$state.save()};$scope.$watch("state.tab",function(tab){tab||$scope.changeTab($scope.editSections[0])});$scope.$watchCollection("indexPattern.fields",function(){$scope.conflictFields=$scope.indexPattern.fields.filter(function(field){return"conflict"===field.type})});$scope.refreshFields=function(){var _this=this;var confirmMessage=_i18n.i18n.translate("kbn.management.editIndexPattern.refreshLabel",{defaultMessage:"This action resets the popularity counter of each field."});var confirmModalOptions={confirmButtonText:_i18n.i18n.translate("kbn.management.editIndexPattern.refreshButton",{defaultMessage:"Refresh"}),onConfirm:function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee(){return regeneratorRuntime.wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return $scope.indexPattern.init(true);case 2:$scope.fields=$scope.indexPattern.getNonScriptedFields();case 3:case"end":return _context.stop()}},_callee,_this)}));function onConfirm(){return _ref.apply(this,arguments)}return onConfirm}(),title:_i18n.i18n.translate("kbn.management.editIndexPattern.refreshHeader",{defaultMessage:"Refresh field list?"})};confirmModal(confirmMessage,confirmModalOptions)};$scope.removePattern=function(){function doRemove(){if($scope.indexPattern.id===config.get("defaultIndex")){config.remove("defaultIndex");otherPatterns.length&&config.set("defaultIndex",otherPatterns[0].id)}indexPatterns.delete($scope.indexPattern).then(function(){$location.url("/management/kibana/index")}).catch(_notify.fatalError)}var confirmModalOptions={confirmButtonText:_i18n.i18n.translate("kbn.management.editIndexPattern.deleteButton",{defaultMessage:"Delete"}),onConfirm:doRemove,title:_i18n.i18n.translate("kbn.management.editIndexPattern.deleteHeader",{defaultMessage:"Delete index pattern?"})};confirmModal("",confirmModalOptions)};$scope.setDefaultPattern=function(){config.set("defaultIndex",$scope.indexPattern.id)};$scope.setIndexPatternsTimeField=function(field){if("date"!==field.type){var errorMessage=_i18n.i18n.translate("kbn.management.editIndexPattern.notDateErrorMessage",{defaultMessage:"That field is a {fieldType} not a date.",values:{fieldType:field.type}});_notify.toastNotifications.addDanger(errorMessage);return}$scope.indexPattern.timeFieldName=field.name;return $scope.indexPattern.save()};$scope.$watch("fieldFilter",function(){if(void 0===$scope.fieldFilter)return;switch($state.tab){case"indexedFields":updateIndexedFieldsTable($scope,$state);case"scriptedFields":updateScriptedFieldsTable($scope,$state);case"sourceFilters":updateSourceFiltersTable($scope,$state)}});$scope.$watch("indexedFieldTypeFilter",function(){void 0!==$scope.indexedFieldTypeFilter&&"indexedFields"===$state.tab&&updateIndexedFieldsTable($scope,$state)});$scope.$watch("scriptedFieldLanguageFilter",function(){void 0!==$scope.scriptedFieldLanguageFilter&&"scriptedFields"===$state.tab&&updateScriptedFieldsTable($scope,$state)});$scope.$on("$destroy",function(){destroyIndexedFieldsTable();destroyScriptedFieldsTable()});updateScriptedFieldsTable($scope,$state);updateSourceFiltersTable($scope,$state)})},7757:function(module,exports,__webpack_require__){"use strict";__webpack_require__(7758)},7758:function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(3);var _index_header=__webpack_require__(7759);var _index_header2=_interopRequireDefault(_index_header);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}_modules.uiModules.get("apps/management").directive("kbnManagementIndexHeader",function(config){return{restrict:"E",template:_index_header2.default,replace:true,scope:{indexPattern:"=",setDefault:"&",refreshFields:"&",delete:"&"},link:function link($scope,$el,attrs){$scope.delete=attrs.delete?$scope.delete:null;$scope.setDefault=attrs.setDefault?$scope.setDefault:null;$scope.refreshFields=attrs.refreshFields?$scope.refreshFields:null;config.bindToScope($scope,"defaultIndex")}}})},7759:function(module,exports){module.exports='<div class="kuiBar kuiVerticalRhythm">\n  <div class="kuiBarSection">\n    \x3c!-- Index pattern name --\x3e\n    <h1\n      class="kuiTitle kuiVerticalRhythm"\n      data-test-subj="indexPatternTitle"\n    >\n      <span\n        aria-hidden="true"\n        ng-if="defaultIndex === indexPattern.id"\n        class="kuiIcon fa-star"\n      ></span>\n      {{indexPattern.title}}\n    </h1>\n  </div>\n\n  <div class="kuiBarSection">\n    <button\n      ng-if="setDefault"\n      ng-click="setDefault()"\n      aria-label="{{::\'kbn.management.editIndexPattern.setDefaultAria\' | i18n: { defaultMessage: \'Set as default index\' } }}"\n      tooltip="{{::\'kbn.management.editIndexPattern.setDefaultTooltip\' | i18n: { defaultMessage: \'Set as default index\' } }}"\n      class="kuiButton kuiButton--basic"\n      data-test-subj="setDefaultIndexPatternButton"\n    >\n      <span\n        aria-hidden="true"\n        class="kuiIcon fa-star"\n      ></span>\n    </button>\n\n    <button\n      ng-if="refreshFields"\n      ng-click="refreshFields()"\n      aria-label="{{::\'kbn.management.editIndexPattern.refreshAria\' | i18n: { defaultMessage: \'Reload field list\' } }}"\n      tooltip="{{::\'kbn.management.editIndexPattern.refreshTooltip\' | i18n: { defaultMessage: \'Refresh field list\' } }}"\n      class="kuiButton kuiButton--basic"\n    >\n      <span\n        aria-hidden="true"\n        class="kuiIcon fa-refresh"\n      ></span>\n    </button>\n\n    <button\n      ng-if="delete"\n      ng-click="delete()"\n      aria-label="{{::\'kbn.management.editIndexPattern.removeAria\' | i18n: { defaultMessage: \'Remove index pattern\' } }}"\n      tooltip="{{::\'kbn.management.editIndexPattern.removeTooltip\' | i18n: { defaultMessage: \'Remove index pattern\' } }}"\n      class="kuiButton kuiButton--danger"\n      data-test-subj="deleteIndexPatternButton"\n    >\n      <span\n        aria-hidden="true"\n        class="kuiIcon fa-trash"\n      ></span>\n    </button>\n  </div>\n</div>\n'},7760:function(module,exports,__webpack_require__){"use strict";__webpack_require__(7761)},7761:function(module,exports,__webpack_require__){"use strict";var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};var _field=__webpack_require__(1651);var _field_format_editors=__webpack_require__(2185);var _url=__webpack_require__(240);var _routes=__webpack_require__(13);var _routes2=_interopRequireDefault(_routes);var _notify=__webpack_require__(11);var _create_edit_field=__webpack_require__(7762);var _create_edit_field2=_interopRequireDefault(_create_edit_field);var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _reactDom=__webpack_require__(14);var _field_editor=__webpack_require__(2283);var _react3=__webpack_require__(10);var _i18n=__webpack_require__(18);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var REACT_FIELD_EDITOR_ID="reactFieldEditor";var renderFieldEditor=function renderFieldEditor($scope,indexPattern,field,_ref){var Field=_ref.Field,getConfig=_ref.getConfig,$http=_ref.$http,fieldFormatEditors=_ref.fieldFormatEditors,redirectAway=_ref.redirectAway;$scope.$$postDigest(function(){var node=document.getElementById(REACT_FIELD_EDITOR_ID);if(!node)return;(0,_reactDom.render)(_react2.default.createElement(_react3.I18nProvider,null,_react2.default.createElement(_field_editor.FieldEditor,{indexPattern:indexPattern,field:field,helpers:{Field:Field,getConfig:getConfig,$http:$http,fieldFormatEditors:fieldFormatEditors,redirectAway:redirectAway}})),node)})};var destroyFieldEditor=function destroyFieldEditor(){var node=document.getElementById(REACT_FIELD_EDITOR_ID);node&&(0,_reactDom.unmountComponentAtNode)(node)};_routes2.default.when("/management/kibana/indices/:indexPatternId/field/:fieldName*",{mode:"edit"}).when("/management/kibana/indices/:indexPatternId/create-field/",{mode:"create"}).defaults(/management\/kibana\/indices\/[^\/]+\/(field|create-field)(\/|$)/,{template:_create_edit_field2.default,mapBreadcrumbs:function mapBreadcrumbs($route,breadcrumbs){var indexPattern=$route.current.locals.indexPattern;return breadcrumbs.map(function(crumb){if(crumb.id!==indexPattern.id)return crumb;return _extends({},crumb,{display:indexPattern.title})})},resolve:{indexPattern:function indexPattern($route,redirectWhenMissing,indexPatterns){return indexPatterns.get($route.current.params.indexPatternId).catch(redirectWhenMissing("/management/kibana/indices"))}},controllerAs:"fieldSettings",controller:function FieldEditorPageController($scope,$route,$timeout,$http,Private,docTitle,config){var _this=this;var getConfig=function getConfig(){return config.get.apply(config,arguments)};var fieldFormatEditors=Private(_field_format_editors.RegistryFieldFormatEditorsProvider);var kbnUrl=Private(_url.KbnUrlProvider);this.mode=$route.current.mode;this.indexPattern=$route.current.locals.indexPattern;if("edit"===this.mode){var _fieldName=$route.current.params.fieldName;this.field=this.indexPattern.fields.byName[_fieldName];if(!this.field){var message=_i18n.i18n.translate("kbn.management.editIndexPattern.scripted.noFieldLabel",{defaultMessage:"'{indexPatternTitle}' index pattern doesn't have a scripted field called '{fieldName}'",values:{indexPatternTitle:this.indexPattern.title,fieldName:_fieldName}});_notify.toastNotifications.add(message);kbnUrl.redirectToRoute(this.indexPattern,"edit");return}}else{if("create"!==this.mode){var errorMessage=_i18n.i18n.translate("kbn.management.editIndexPattern.scripted.unknownModeErrorMessage",{defaultMessage:"unknown fieldSettings mode {mode}",values:{mode:this.mode}});throw new Error(errorMessage)}this.field=new _field.Field(this.indexPattern,{scripted:true,type:"number"})}var fieldName=this.field.name||_i18n.i18n.translate("kbn.management.editIndexPattern.scripted.newFieldPlaceholder",{defaultMessage:"New Scripted Field"});docTitle.change([fieldName,this.indexPattern.title]);renderFieldEditor($scope,this.indexPattern,this.field,{Field:_field.Field,getConfig:getConfig,$http:$http,fieldFormatEditors:fieldFormatEditors,redirectAway:function redirectAway(){$timeout(function(){kbnUrl.changeToRoute(_this.indexPattern,_this.field.scripted?"scriptedFields":"indexedFields")})}});$scope.$on("$destroy",function(){destroyFieldEditor()})}})},7762:function(module,exports){module.exports='<kbn-management-app section="kibana">\n  <kbn-management-indices>\n    <div class="kuiViewContent">\n      <kbn-management-index-header\n        index-pattern="fieldSettings.indexPattern"\n      ></kbn-management-index-header>\n    </div>\n\n    <div id="reactFieldEditor"></div>\n\n  </kbn-management-indices>\n</kbn-management-app>\n'},7763:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.FieldEditor=exports.FieldEditorComponent=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(6);var _propTypes2=_interopRequireDefault(_propTypes);var _lodash=__webpack_require__(1);var _scripting_languages=__webpack_require__(2284);var _field_formats=__webpack_require__(126);var _documentation_links=__webpack_require__(242);var _notify=__webpack_require__(11);var _eui=__webpack_require__(2);var _scripting_call_outs=__webpack_require__(7764);var _scripting_help=__webpack_require__(7767);var _field_format_editor=__webpack_require__(7771);var _constants=__webpack_require__(7773);var _lib=__webpack_require__(7774);var _react3=__webpack_require__(10);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}return Array.from(arr)}function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var FieldEditorComponent=exports.FieldEditorComponent=function(_PureComponent){_inherits(FieldEditorComponent,_PureComponent);function FieldEditorComponent(props){_classCallCheck(this,FieldEditorComponent);var _this=_possibleConstructorReturn(this,(FieldEditorComponent.__proto__||Object.getPrototypeOf(FieldEditorComponent)).call(this,props));_initialiseProps.call(_this);var field=props.field,indexPattern=props.indexPattern,Field=props.helpers.Field;_this.state={isReady:false,isCreating:false,isDeprecatedLang:false,scriptingLangs:[],fieldTypes:[],fieldTypeFormats:[],existingFieldNames:indexPattern.fields.map(function(f){return f.name}),field:(0,_lib.copyField)(field,indexPattern,Field),fieldFormatId:void 0,fieldFormatParams:{},showScriptingHelp:false,showDeleteModal:false,hasFormatError:false,hasScriptError:false,isSaving:false};_this.supportedLangs=(0,_scripting_languages.getSupportedScriptingLanguages)();_this.deprecatedLangs=(0,_scripting_languages.getDeprecatedScriptingLanguages)();_this.init();return _this}_createClass(FieldEditorComponent,[{key:"init",value:function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee(){var $http,field,indexPattern,getEnabledScriptingLanguages,enabledLangs,scriptingLangs,fieldTypes,DefaultFieldFormat,fieldTypeFormats;return regeneratorRuntime.wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:$http=this.props.helpers.$http;field=this.state.field;indexPattern=this.props.indexPattern;getEnabledScriptingLanguages=new _scripting_languages.GetEnabledScriptingLanguagesProvider($http);_context.next=6;return getEnabledScriptingLanguages();case 6:enabledLangs=_context.sent;scriptingLangs=(0,_lodash.intersection)(enabledLangs,(0,_lodash.union)(this.supportedLangs,this.deprecatedLangs));field.lang=scriptingLangs.includes(field.lang)?field.lang:void 0;fieldTypes=(0,_lodash.get)(_constants.FIELD_TYPES_BY_LANG,field.lang,_constants.DEFAULT_FIELD_TYPES);field.type=fieldTypes.includes(field.type)?field.type:fieldTypes[0];DefaultFieldFormat=_field_formats.fieldFormats.getDefaultType(field.type);fieldTypeFormats=[(0,_lib.getDefaultFormat)(DefaultFieldFormat)].concat(_toConsumableArray(_field_formats.fieldFormats.byFieldType[field.type]));this.setState({isReady:true,isCreating:!indexPattern.fields.byName[field.name],isDeprecatedLang:this.deprecatedLangs.includes(field.lang),errors:[],scriptingLangs:scriptingLangs,fieldTypes:fieldTypes,fieldTypeFormats:fieldTypeFormats,fieldFormatId:(0,_lodash.get)(indexPattern,["fieldFormatMap",field.name,"type","id"]),fieldFormatParams:field.format.params()});case 14:case"end":return _context.stop()}},_callee,this)}));function init(){return _ref.apply(this,arguments)}return init}()},{key:"isDuplicateName",value:function isDuplicateName(){var _state=this.state,isCreating=_state.isCreating,field=_state.field,existingFieldNames=_state.existingFieldNames;return isCreating&&existingFieldNames.includes(field.name)}},{key:"renderName",value:function renderName(){var _this2=this;var _state2=this.state,isCreating=_state2.isCreating,field=_state2.field;var intl=this.props.intl;var isInvalid=!field.name||!field.name.trim();return isCreating?_react2.default.createElement(_eui.EuiFormRow,{label:intl.formatMessage({id:"common.ui.fieldEditor.nameLabel",defaultMessage:"Name"}),helpText:this.isDuplicateName()?_react2.default.createElement("span",null,_react2.default.createElement(_eui.EuiIcon,{type:"alert",color:"warning",size:"s"}),"",_react2.default.createElement(_react3.FormattedMessage,{id:"common.ui.fieldEditor.mappingConflictLabel.mappingConflictDetail",defaultMessage:"{mappingConflict} You already have a field with the name {fieldName}. Naming your scripted field with the same name means you won't be able to query both fields at the same time.",values:{mappingConflict:_react2.default.createElement("strong",null,_react2.default.createElement(_react3.FormattedMessage,{id:"common.ui.fieldEditor.mappingConflictLabel.mappingConflictLabel",defaultMessage:"Mapping Conflict:"})),fieldName:_react2.default.createElement(_eui.EuiCode,null,field.name)}})):null,isInvalid:isInvalid,error:isInvalid?intl.formatMessage({id:"common.ui.fieldEditor.nameErrorMessage",defaultMessage:"Name is required"}):null},_react2.default.createElement(_eui.EuiFieldText,{value:field.name||"",placeholder:intl.formatMessage({id:"common.ui.fieldEditor.namePlaceholder",defaultMessage:"New scripted field"}),"data-test-subj":"editorFieldName",onChange:function onChange(e){_this2.onFieldChange("name",e.target.value)},isInvalid:isInvalid})):null}},{key:"renderLanguage",value:function renderLanguage(){var _this3=this;var _state3=this.state,field=_state3.field,scriptingLangs=_state3.scriptingLangs,isDeprecatedLang=_state3.isDeprecatedLang;var intl=this.props.intl;return field.scripted?_react2.default.createElement(_eui.EuiFormRow,{label:intl.formatMessage({id:"common.ui.fieldEditor.languageLabel",defaultMessage:"Language"}),helpText:isDeprecatedLang?_react2.default.createElement("span",null,_react2.default.createElement(_eui.EuiIcon,{type:"alert",color:"warning",size:"s"}),"",_react2.default.createElement("strong",null,_react2.default.createElement(_react3.FormattedMessage,{id:"common.ui.fieldEditor.warningHeader",defaultMessage:"Deprecation Warning:"})),"",_react2.default.createElement(_react3.FormattedMessage,{id:"common.ui.fieldEditor.warningLabel.warningDetail",defaultMessage:"{language} is deprecated and support will be removed in the next major version of Kibana and Elasticsearch. We recommend using {painlessLink} for new scripted fields.",values:{language:_react2.default.createElement(_eui.EuiCode,null,field.lang),painlessLink:_react2.default.createElement(_eui.EuiLink,{target:"_window",href:(0,_documentation_links.getDocLink)("scriptedFields.painless")},_react2.default.createElement(_react3.FormattedMessage,{id:"common.ui.fieldEditor.warningLabel.painlessLinkLabel",defaultMessage:"Painless"}))}})):null},_react2.default.createElement(_eui.EuiSelect,{value:field.lang,options:scriptingLangs.map(function(lang){return{value:lang,text:lang}}),"data-test-subj":"editorFieldLang",onChange:function onChange(e){_this3.onLangChange(e.target.value)}})):null}},{key:"renderType",value:function renderType(){var _this4=this;var _state4=this.state,field=_state4.field,fieldTypes=_state4.fieldTypes;var intl=this.props.intl;return _react2.default.createElement(_eui.EuiFormRow,{label:intl.formatMessage({id:"common.ui.fieldEditor.typeLabel",defaultMessage:"Type"})},_react2.default.createElement(_eui.EuiSelect,{value:field.type,disabled:!field.scripted,options:fieldTypes.map(function(type){return{value:type,text:type}}),"data-test-subj":"editorFieldType",onChange:function onChange(e){_this4.onTypeChange(e.target.value)}}))}},{key:"renderFormat",value:function renderFormat(){var _this5=this;var _state5=this.state,field=_state5.field,fieldTypeFormats=_state5.fieldTypeFormats,fieldFormatId=_state5.fieldFormatId,fieldFormatParams=_state5.fieldFormatParams;var fieldFormatEditors=this.props.helpers.fieldFormatEditors;var defaultFormat=fieldTypeFormats[0]&&fieldTypeFormats[0].resolvedTitle;var label=defaultFormat?_react2.default.createElement(_react3.FormattedMessage,{id:"common.ui.fieldEditor.defaultFormatHeader",defaultMessage:"Format (Default: {defaultFormat})",values:{defaultFormat:_react2.default.createElement(_eui.EuiCode,null,defaultFormat)}}):_react2.default.createElement(_react3.FormattedMessage,{id:"common.ui.fieldEditor.formatHeader",defaultMessage:"Format"});return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_eui.EuiFormRow,{label:label,helpText:_react2.default.createElement(_react3.FormattedMessage,{id:"common.ui.fieldEditor.formatLabel",defaultMessage:"Formatting allows you to control the way that specific values are displayed. It can also cause values to be completely changed and prevent highlighting in Discover from working."})},_react2.default.createElement(_eui.EuiSelect,{value:fieldFormatId,options:fieldTypeFormats.map(function(format){return{value:format.id||"",text:format.title}}),"data-test-subj":"editorSelectedFormatId",onChange:function onChange(e){_this5.onFormatChange(e.target.value)}})),fieldFormatId?_react2.default.createElement(_field_format_editor.FieldFormatEditor,{fieldType:field.type,fieldFormat:field.format,fieldFormatId:fieldFormatId,fieldFormatParams:fieldFormatParams,fieldFormatEditors:fieldFormatEditors,onChange:this.onFormatParamsChange,onError:this.onFormatParamsError}):null)}},{key:"renderPopularity",value:function renderPopularity(){var _this6=this;var field=this.state.field;var intl=this.props.intl;return _react2.default.createElement(_eui.EuiFormRow,{label:intl.formatMessage({id:"common.ui.fieldEditor.popularityLabel",defaultMessage:"Popularity"})},_react2.default.createElement(_eui.EuiFieldNumber,{value:field.count,"data-test-subj":"editorFieldCount",onChange:function onChange(e){_this6.onFieldChange("count",e.target.value?Number(e.target.value):"")}}))}},{key:"renderScript",value:function renderScript(){var _state6=this.state,field=_state6.field,hasScriptError=_state6.hasScriptError;var intl=this.props.intl;var isInvalid=!field.script||!field.script.trim()||hasScriptError;var errorMsg=hasScriptError?_react2.default.createElement("span",{"data-test-subj":"invalidScriptError"},intl.formatMessage({id:"common.ui.fieldEditor.scriptInvalidErrorMessage",defaultMessage:"Script is invalid. View script preview for details"})):intl.formatMessage({id:"common.ui.fieldEditor.scriptRequiredErrorMessage",defaultMessage:"Script is required"});return field.scripted?_react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_eui.EuiFormRow,{label:intl.formatMessage({id:"common.ui.fieldEditor.scriptLabel",defaultMessage:"Script"}),isInvalid:isInvalid,error:isInvalid?errorMsg:null},_react2.default.createElement(_eui.EuiTextArea,{value:field.script,"data-test-subj":"editorFieldScript",onChange:this.onScriptChange,isInvalid:isInvalid})),_react2.default.createElement(_eui.EuiFormRow,null,_react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_eui.EuiText,null,_react2.default.createElement(_react3.FormattedMessage,{id:"common.ui.fieldEditor.script.accessWithLabel",defaultMessage:"Access fields with {code}.",values:{code:_react2.default.createElement("code",null,"doc['some_field'].value")}})),_react2.default.createElement("br",null),_react2.default.createElement(_eui.EuiLink,{onClick:this.showScriptingHelp,"data-test-subj":"scriptedFieldsHelpLink"},_react2.default.createElement(_react3.FormattedMessage,{id:"common.ui.fieldEditor.script.getHelpLabel",defaultMessage:"Get help with the syntax and preview the results of your script."}))))):null}},{key:"renderActions",value:function renderActions(){var _state7=this.state,isCreating=_state7.isCreating,field=_state7.field,isSaving=_state7.isSaving;var redirectAway=this.props.helpers.redirectAway;return _react2.default.createElement(_eui.EuiFormRow,null,_react2.default.createElement(_eui.EuiFlexGroup,null,_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiButton,{fill:true,onClick:this.saveField,isDisabled:this.isSavingDisabled(),isLoading:isSaving,"data-test-subj":"fieldSaveButton"},isCreating?_react2.default.createElement(_react3.FormattedMessage,{id:"common.ui.fieldEditor.actions.createButton",defaultMessage:"Create field"}):_react2.default.createElement(_react3.FormattedMessage,{id:"common.ui.fieldEditor.actions.saveButton",defaultMessage:"Save field"}))),_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiButtonEmpty,{onClick:redirectAway,"data-test-subj":"fieldCancelButton"},_react2.default.createElement(_react3.FormattedMessage,{id:"common.ui.fieldEditor.actions.cancelButton",defaultMessage:"Cancel"}))),!isCreating&&field.scripted?_react2.default.createElement(_eui.EuiFlexItem,null,_react2.default.createElement(_eui.EuiFlexGroup,{justifyContent:"flexEnd"},_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiButtonEmpty,{color:"danger",onClick:this.showDeleteModal},_react2.default.createElement(_react3.FormattedMessage,{id:"common.ui.fieldEditor.actions.deleteButton",defaultMessage:"Delete"}))))):null))}},{key:"isSavingDisabled",value:function isSavingDisabled(){var _state8=this.state,field=_state8.field,hasFormatError=_state8.hasFormatError,hasScriptError=_state8.hasScriptError;if(hasFormatError||hasScriptError||!field.name||!field.name.trim()||field.scripted&&(!field.script||!field.script.trim()))return true;return false}},{key:"render",value:function render(){var _state9=this.state,isReady=_state9.isReady,isCreating=_state9.isCreating,field=_state9.field;return isReady?_react2.default.createElement("div",null,_react2.default.createElement(_eui.EuiText,null,_react2.default.createElement("h3",null,isCreating?_react2.default.createElement(_react3.FormattedMessage,{id:"common.ui.fieldEditor.createHeader",defaultMessage:"Create scripted field"}):_react2.default.createElement(_react3.FormattedMessage,{id:"common.ui.fieldEditor.editHeader",defaultMessage:"Edit {fieldName}",values:{fieldName:field.name}}))),_react2.default.createElement(_eui.EuiSpacer,{size:"m"}),_react2.default.createElement(_eui.EuiForm,null,this.renderScriptingPanels(),this.renderName(),this.renderLanguage(),this.renderType(),this.renderFormat(),this.renderPopularity(),this.renderScript(),this.renderActions(),this.renderDeleteModal()),_react2.default.createElement(_eui.EuiSpacer,{size:"l"})):null}}]);return FieldEditorComponent}(_react.PureComponent);FieldEditorComponent.propTypes={indexPattern:_propTypes2.default.object.isRequired,field:_propTypes2.default.object.isRequired,helpers:_propTypes2.default.shape({Field:_propTypes2.default.func.isRequired,getConfig:_propTypes2.default.func.isRequired,$http:_propTypes2.default.func.isRequired,fieldFormatEditors:_propTypes2.default.object.isRequired,redirectAway:_propTypes2.default.func.isRequired})};var _initialiseProps=function _initialiseProps(){var _this7=this;this.onFieldChange=function(fieldName,value){var field=_this7.state.field;field[fieldName]=value;_this7.forceUpdate()};this.onTypeChange=function(type){var getConfig=_this7.props.helpers.getConfig;var field=_this7.state.field;var DefaultFieldFormat=_field_formats.fieldFormats.getDefaultType(type);field.type=type;var fieldTypeFormats=[(0,_lib.getDefaultFormat)(DefaultFieldFormat)].concat(_toConsumableArray(_field_formats.fieldFormats.byFieldType[field.type]));var FieldFormat=fieldTypeFormats[0];field.format=new FieldFormat(null,getConfig);_this7.setState({fieldTypeFormats:fieldTypeFormats,fieldFormatId:FieldFormat.id,fieldFormatParams:field.format.params()})};this.onLangChange=function(lang){var field=_this7.state.field;var fieldTypes=(0,_lodash.get)(_constants.FIELD_TYPES_BY_LANG,lang,_constants.DEFAULT_FIELD_TYPES);field.lang=lang;field.type=fieldTypes.includes(field.type)?field.type:fieldTypes[0];_this7.setState({fieldTypes:fieldTypes})};this.onFormatChange=function(formatId,params){var getConfig=_this7.props.helpers.getConfig;var _state10=_this7.state,field=_state10.field,fieldTypeFormats=_state10.fieldTypeFormats;var FieldFormat=fieldTypeFormats.find(function(format){return format.id===formatId})||fieldTypeFormats[0];field.format=new FieldFormat(params,getConfig);_this7.setState({fieldFormatId:FieldFormat.id,fieldFormatParams:field.format.params()})};this.onFormatParamsChange=function(newParams){var fieldFormatId=_this7.state.fieldFormatId;_this7.onFormatChange(fieldFormatId,newParams)};this.onFormatParamsError=function(error){_this7.setState({hasFormatError:!!error})};this.onScriptChange=function(e){_this7.setState({hasScriptError:false});_this7.onFieldChange("script",e.target.value)};this.showScriptingHelp=function(){_this7.setState({showScriptingHelp:true})};this.hideScriptingHelp=function(){_this7.setState({showScriptingHelp:false})};this.renderDeleteModal=function(){var field=_this7.state.field;var intl=_this7.props.intl;return _this7.state.showDeleteModal?_react2.default.createElement(_eui.EuiOverlayMask,null,_react2.default.createElement(_eui.EuiConfirmModal,{title:intl.formatMessage({id:"common.ui.fieldEditor.deleteFieldHeader",defaultMessage:"Delete field '{fieldName}'"},{fieldName:field.name}),onCancel:_this7.hideDeleteModal,onConfirm:function onConfirm(){_this7.hideDeleteModal();_this7.deleteField()},cancelButtonText:intl.formatMessage({id:"common.ui.fieldEditor.deleteField.cancelButton",defaultMessage:"Cancel"}),confirmButtonText:intl.formatMessage({id:"common.ui.fieldEditor.deleteField.deleteButton",defaultMessage:"Delete"}),buttonColor:"danger",defaultFocusedButton:_eui.EUI_MODAL_CONFIRM_BUTTON},_react2.default.createElement("p",null,_react2.default.createElement(_react3.FormattedMessage,{id:"common.ui.fieldEditor.deleteFieldLabel",defaultMessage:"You can't recover a deleted field.{separator}Are you sure you want to do this?",values:{separator:_react2.default.createElement("span",null,_react2.default.createElement("br",null),_react2.default.createElement("br",null))}})))):null};this.showDeleteModal=function(){_this7.setState({showDeleteModal:true})};this.hideDeleteModal=function(){_this7.setState({showDeleteModal:false})};this.renderScriptingPanels=function(){var _state11=_this7.state,scriptingLangs=_state11.scriptingLangs,field=_state11.field,showScriptingHelp=_state11.showScriptingHelp;if(!field.scripted)return;return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_scripting_call_outs.ScriptingDisabledCallOut,{isVisible:!scriptingLangs.length}),_react2.default.createElement(_scripting_call_outs.ScriptingWarningCallOut,{isVisible:true}),_react2.default.createElement(_scripting_help.ScriptingHelpFlyout,{isVisible:showScriptingHelp,onClose:_this7.hideScriptingHelp,indexPattern:_this7.props.indexPattern,lang:field.lang,name:field.name,script:field.script,executeScript:_lib.executeScript}))};this.deleteField=function(){var redirectAway=_this7.props.helpers.redirectAway;var _props=_this7.props,indexPattern=_props.indexPattern,intl=_props.intl;var field=_this7.state.field;var remove=indexPattern.removeScriptedField(field.name);remove?remove.then(function(){var message=intl.formatMessage({id:"common.ui.fieldEditor.deleteField.deletedHeader",defaultMessage:"Deleted '{fieldName}'"},{fieldName:field.name});_notify.toastNotifications.addSuccess(message);redirectAway()}):redirectAway()};this.saveField=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(){var field,_props2,indexPattern,intl,fieldFormatId,isValid,redirectAway,index;return regeneratorRuntime.wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:field=_this7.state.field.toActualField();_props2=_this7.props,indexPattern=_props2.indexPattern,intl=_props2.intl;fieldFormatId=_this7.state.fieldFormatId;if(!field.scripted){_context2.next=11;break}_this7.setState({isSaving:true});_context2.next=7;return(0,_lib.isScriptValid)({name:field.name,lang:field.lang,script:field.script,indexPatternTitle:indexPattern.title});case 7:isValid=_context2.sent;if(isValid){_context2.next=11;break}_this7.setState({hasScriptError:true,isSaving:false});return _context2.abrupt("return");case 11:redirectAway=_this7.props.helpers.redirectAway;index=indexPattern.fields.findIndex(function(f){return f.name===field.name});index>-1?indexPattern.fields.splice(index,1,field):indexPattern.fields.push(field);indexPattern.fieldFormatMap[field.name]=fieldFormatId?field.format:{};return _context2.abrupt("return",indexPattern.save().then(function(){var message=intl.formatMessage({id:"common.ui.fieldEditor.deleteField.savedHeader",defaultMessage:"Saved '{fieldName}'"},{fieldName:field.name});_notify.toastNotifications.addSuccess(message);redirectAway()}));case 16:case"end":return _context2.stop()}},_callee2,_this7)}))};exports.FieldEditor=(0,_react3.injectI18n)(FieldEditorComponent)},7764:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _disabled_call_out=__webpack_require__(7765);Object.defineProperty(exports,"ScriptingDisabledCallOut",{enumerable:true,get:function get(){return _disabled_call_out.ScriptingDisabledCallOut}});var _warning_call_out=__webpack_require__(7766);Object.defineProperty(exports,"ScriptingWarningCallOut",{enumerable:true,get:function get(){return _warning_call_out.ScriptingWarningCallOut}})},7765:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ScriptingDisabledCallOut=void 0;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _eui=__webpack_require__(2);var _react3=__webpack_require__(10);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var ScriptingDisabledCallOut=exports.ScriptingDisabledCallOut=function ScriptingDisabledCallOut(_ref){var _ref$isVisible=_ref.isVisible,isVisible=void 0!==_ref$isVisible&&_ref$isVisible;return isVisible?_react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_eui.EuiCallOut,{title:_react2.default.createElement(_react3.FormattedMessage,{id:"common.ui.fieldEditor.disabledCallOutHeader",defaultMessage:"Scripting disabled"}),color:"danger",iconType:"alert"},_react2.default.createElement("p",null,_react2.default.createElement(_react3.FormattedMessage,{id:"common.ui.fieldEditor.disabledCallOutLabel",defaultMessage:"All inline scripting has been disabled in Elasticsearch. You must enable inline scripting for at least one language in order to use scripted fields in Kibana."}))),_react2.default.createElement(_eui.EuiSpacer,{size:"m"})):null};ScriptingDisabledCallOut.displayName="ScriptingDisabledCallOut"},7766:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ScriptingWarningCallOut=void 0;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _documentation_links=__webpack_require__(242);var _eui=__webpack_require__(2);var _react3=__webpack_require__(10);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var ScriptingWarningCallOut=exports.ScriptingWarningCallOut=function ScriptingWarningCallOut(_ref){var _ref$isVisible=_ref.isVisible,isVisible=void 0!==_ref$isVisible&&_ref$isVisible;return isVisible?_react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_eui.EuiCallOut,{title:_react2.default.createElement(_react3.FormattedMessage,{id:"common.ui.fieldEditor.warningCallOutHeader",defaultMessage:"Proceed with caution"}),color:"warning",iconType:"alert"},_react2.default.createElement("p",null,_react2.default.createElement(_react3.FormattedMessage,{id:"common.ui.fieldEditor.warningCallOutLabel.callOutDetail",defaultMessage:"Please familiarize yourself with {scripFields} and with {scriptsInAggregation} before using scripted fields.",values:{scripFields:_react2.default.createElement(_eui.EuiLink,{target:"_window",href:(0,_documentation_links.getDocLink)("scriptedFields.scriptFields")},_react2.default.createElement(_react3.FormattedMessage,{id:"common.ui.fieldEditor.warningCallOutLabel.scripFieldsLink",defaultMessage:"script fields"}),"",_react2.default.createElement(_eui.EuiIcon,{type:"link"})),scriptsInAggregation:_react2.default.createElement(_eui.EuiLink,{target:"_window",href:(0,_documentation_links.getDocLink)("scriptedFields.scriptAggs")},_react2.default.createElement(_react3.FormattedMessage,{id:"common.ui.fieldEditor.warningCallOutLabel.scriptsInAggregationLink",defaultMessage:"scripts in aggregations"}),"",_react2.default.createElement(_eui.EuiIcon,{type:"link"}))}})),_react2.default.createElement("p",null,_react2.default.createElement(_react3.FormattedMessage,{id:"common.ui.fieldEditor.warningCallOut.descriptionLabel",defaultMessage:"Scripted fields can be used to display and aggregate calculated values. As such, they can be very slow, and if done incorrectly, can cause Kibana to be unusable. There's no safety net here. If you make a typo, unexpected exceptions will be thrown all over the place!"}))),_react2.default.createElement(_eui.EuiSpacer,{size:"m"})):null};ScriptingWarningCallOut.displayName="ScriptingWarningCallOut"},7767:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _help_flyout=__webpack_require__(7768);Object.defineProperty(exports,"ScriptingHelpFlyout",{enumerable:true,get:function get(){return _help_flyout.ScriptingHelpFlyout}})},7768:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ScriptingHelpFlyout=void 0;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(6);var _propTypes2=_interopRequireDefault(_propTypes);var _eui=__webpack_require__(2);var _scripting_syntax=__webpack_require__(7769);var _test_script=__webpack_require__(7770);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _defineProperty(obj,key,value){key in obj?Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true}):obj[key]=value;return obj}var ScriptingHelpFlyout=exports.ScriptingHelpFlyout=function ScriptingHelpFlyout(_ref){var _ref2,_ref3;var _ref$isVisible=_ref.isVisible,isVisible=void 0!==_ref$isVisible&&_ref$isVisible,_ref$onClose=_ref.onClose,onClose=void 0===_ref$onClose?function(){}:_ref$onClose,indexPattern=_ref.indexPattern,lang=_ref.lang,name=_ref.name,script=_ref.script,executeScript=_ref.executeScript;var tabs=[(_ref2={id:"syntax",name:"Syntax"},_defineProperty(_ref2,"data-test-subj","syntaxTab"),_defineProperty(_ref2,"content",_react2.default.createElement(_scripting_syntax.ScriptingSyntax,null)),_ref2),(_ref3={id:"test",name:"Preview results"},_defineProperty(_ref3,"data-test-subj","testTab"),_defineProperty(_ref3,"content",_react2.default.createElement(_test_script.TestScript,{indexPattern:indexPattern,lang:lang,name:name,script:script,executeScript:executeScript})),_ref3)];return isVisible?_react2.default.createElement(_eui.EuiFlyout,{onClose:onClose,"data-test-subj":"scriptedFieldsHelpFlyout"},_react2.default.createElement(_eui.EuiFlyoutBody,null,_react2.default.createElement(_eui.EuiTabbedContent,{tabs:tabs,initialSelectedTab:tabs[0]}))):null};ScriptingHelpFlyout.displayName="ScriptingHelpFlyout";ScriptingHelpFlyout.propTypes={indexPattern:_propTypes2.default.object.isRequired,lang:_propTypes2.default.string.isRequired,name:_propTypes2.default.string,script:_propTypes2.default.string,executeScript:_propTypes2.default.func.isRequired}},7769:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ScriptingSyntax=void 0;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _documentation_links=__webpack_require__(242);var _eui=__webpack_require__(2);var _react3=__webpack_require__(10);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}exports.ScriptingSyntax=function ScriptingSyntax(){return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_eui.EuiSpacer,null),_react2.default.createElement(_eui.EuiText,null,_react2.default.createElement("h3",null,_react2.default.createElement(_react3.FormattedMessage,{id:"common.ui.fieldEditor.syntaxHeader",defaultMessage:"Syntax"})),_react2.default.createElement("p",null,_react2.default.createElement(_react3.FormattedMessage,{id:"common.ui.fieldEditor.syntax.defaultLabel.defaultDetail",defaultMessage:"By default, Kibana scripted fields use {painless}, a simple and secure scripting language designed specifically for use with Elasticsearch, to access values in the document use the following format:",values:{painless:_react2.default.createElement(_eui.EuiLink,{target:"_window",href:(0,_documentation_links.getDocLink)("scriptedFields.painless")},_react2.default.createElement(_react3.FormattedMessage,{id:"common.ui.fieldEditor.syntax.defaultLabel.painlessLink",defaultMessage:"Painless"})," ",_react2.default.createElement(_eui.EuiIcon,{type:"link"}))}})),_react2.default.createElement("p",null,_react2.default.createElement(_eui.EuiCode,null,_react2.default.createElement(_react3.FormattedMessage,{id:"common.ui.fieldEditor.syntax.default.formatLabel",defaultMessage:"doc['some_field'].value"}))),_react2.default.createElement("p",null,_react2.default.createElement(_react3.FormattedMessage,{id:"common.ui.fieldEditor.syntax.painlessLabel.painlessDetail",defaultMessage:"Painless is powerful but easy to use. It provides access to many {javaAPIs}. Read up on its {syntax} and you'll be up to speed in no time!",values:{javaAPIs:_react2.default.createElement(_eui.EuiLink,{target:"_window",href:(0,_documentation_links.getDocLink)("scriptedFields.painlessApi")},_react2.default.createElement(_react3.FormattedMessage,{id:"common.ui.fieldEditor.syntax.painlessLabel.javaAPIsLink",defaultMessage:"native Java APIs"}),"",_react2.default.createElement(_eui.EuiIcon,{type:"link"})),syntax:_react2.default.createElement(_eui.EuiLink,{target:"_window",href:(0,_documentation_links.getDocLink)("scriptedFields.painlessSyntax")},_react2.default.createElement(_react3.FormattedMessage,{id:"common.ui.fieldEditor.syntax.painlessLabel.syntaxLink",defaultMessage:"syntax"}),"",_react2.default.createElement(_eui.EuiIcon,{type:"link"}))}})),_react2.default.createElement("p",null,_react2.default.createElement(_react3.FormattedMessage,{id:"common.ui.fieldEditor.syntax.kibanaLabel",defaultMessage:"Kibana currently imposes one special limitation on the painless scripts you write. They cannot contain named functions."})),_react2.default.createElement("p",null,_react2.default.createElement(_react3.FormattedMessage,{id:"common.ui.fieldEditor.syntax.lucene.commonLabel.commonDetail",defaultMessage:"Coming from an older version of Kibana? The {lucene} you know and love are still available. Lucene expressions are a lot like JavaScript, but limited to basic arithmetic, bitwise and comparison operations.",values:{lucene:_react2.default.createElement(_eui.EuiLink,{target:"_window",href:(0,_documentation_links.getDocLink)("scriptedFields.luceneExpressions")},_react2.default.createElement(_react3.FormattedMessage,{id:"common.ui.fieldEditor.syntax.lucene.commonLabel.luceneLink",defaultMessage:"Lucene Expressions"}),"",_react2.default.createElement(_eui.EuiIcon,{type:"link"}))}})),_react2.default.createElement("p",null,_react2.default.createElement(_react3.FormattedMessage,{id:"common.ui.fieldEditor.syntax.lucene.limitsLabel",defaultMessage:"There are a few limitations when using Lucene Expressions:"})),_react2.default.createElement("ul",null,_react2.default.createElement("li",null,_react2.default.createElement(_react3.FormattedMessage,{id:"common.ui.fieldEditor.syntax.lucene.limits.typesLabel",defaultMessage:"Only numeric, boolean, date, and geo_point fields may be accessed"})),_react2.default.createElement("li",null,_react2.default.createElement(_react3.FormattedMessage,{id:"common.ui.fieldEditor.syntax.lucene.limits.fieldsLabel",defaultMessage:"Stored fields are not available"})),_react2.default.createElement("li",null,_react2.default.createElement(_react3.FormattedMessage,{id:"common.ui.fieldEditor.syntax.lucene.limits.sparseLabel",defaultMessage:"If a field is sparse (only some documents contain a value), documents missing the field will have a value of 0"}))),_react2.default.createElement("p",null,_react2.default.createElement(_react3.FormattedMessage,{id:"common.ui.fieldEditor.syntax.lucene.operationsLabel",defaultMessage:"Here are all the operations available to lucene expressions:"})),_react2.default.createElement("ul",null,_react2.default.createElement("li",null,_react2.default.createElement(_react3.FormattedMessage,{id:"common.ui.fieldEditor.syntax.lucene.operations.arithmeticLabel",defaultMessage:"Arithmetic operators: {operators}",values:{operators:_react2.default.createElement("code",null,"+ - * / %")}})),_react2.default.createElement("li",null,_react2.default.createElement(_react3.FormattedMessage,{id:"common.ui.fieldEditor.syntax.lucene.operations.bitwiseLabel",defaultMessage:"Bitwise operators: {operators}",values:{operators:_react2.default.createElement("code",null,"| & ^ ~ << >> >>>")}})),_react2.default.createElement("li",null,_react2.default.createElement(_react3.FormattedMessage,{id:"common.ui.fieldEditor.syntax.lucene.operations.booleanLabel",defaultMessage:"Boolean operators (including the ternary operator): {operators}",values:{operators:_react2.default.createElement("code",null,"&& || ! ?:")}})),_react2.default.createElement("li",null,_react2.default.createElement(_react3.FormattedMessage,{id:"common.ui.fieldEditor.syntax.lucene.operations.comparisonLabel",defaultMessage:"Comparison operators: {operators}",values:{operators:_react2.default.createElement("code",null,"< <= == >= >")}})),_react2.default.createElement("li",null,_react2.default.createElement(_react3.FormattedMessage,{id:"common.ui.fieldEditor.syntax.lucene.operations.mathLabel",defaultMessage:"Common mathematic functions: {operators}",values:{operators:_react2.default.createElement("code",null,"abs ceil exp floor ln log10 logn max min sqrt pow")}})),_react2.default.createElement("li",null,_react2.default.createElement(_react3.FormattedMessage,{id:"common.ui.fieldEditor.syntax.lucene.operations.trigLabel",defaultMessage:"Trigonometric library functions: {operators}",values:{operators:_react2.default.createElement("code",null,"acosh acos asinh asin atanh atan atan2 cosh cos sinh sin tanh tan")}})),_react2.default.createElement("li",null,_react2.default.createElement(_react3.FormattedMessage,{id:"common.ui.fieldEditor.syntax.lucene.operations.distanceLabel",defaultMessage:"Distance functions: {operators}",values:{operators:_react2.default.createElement("code",null,"haversin")}})),_react2.default.createElement("li",null,_react2.default.createElement(_react3.FormattedMessage,{id:"common.ui.fieldEditor.syntax.lucene.operations.miscellaneousLabel",defaultMessage:"Miscellaneous functions: {operators}",values:{operators:_react2.default.createElement("code",null,"min, max")}})))))}},7770:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.TestScript=void 0;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(6);var _propTypes2=_interopRequireDefault(_propTypes);var _eui=__webpack_require__(2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var TestScript=exports.TestScript=function(_Component){_inherits(TestScript,_Component);function TestScript(){var _ref,_this2=this;var _temp,_this,_ret;_classCallCheck(this,TestScript);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _ret=(_temp=(_this=_possibleConstructorReturn(this,(_ref=TestScript.__proto__||Object.getPrototypeOf(TestScript)).call.apply(_ref,[this].concat(args))),_this),_this.state={isLoading:false,additionalFields:[]},_this.previewScript=_asyncToGenerator(regeneratorRuntime.mark(function _callee(){var _this$props,indexPattern,lang,name,script,executeScript,scriptResponse;return regeneratorRuntime.wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_this$props=_this.props,indexPattern=_this$props.indexPattern,lang=_this$props.lang,name=_this$props.name,script=_this$props.script,executeScript=_this$props.executeScript;if(!(!script||0===script.length)){_context.next=3;break}return _context.abrupt("return");case 3:_this.setState({isLoading:true});_context.next=6;return executeScript({name:name,lang:lang,script:script,indexPatternTitle:indexPattern.title,additionalFields:_this.state.additionalFields.map(function(option){return option.value})});case 6:scriptResponse=_context.sent;if(!(200!==scriptResponse.status)){_context.next=10;break}_this.setState({isLoading:false,previewData:scriptResponse});return _context.abrupt("return");case 10:_this.setState({isLoading:false,previewData:scriptResponse.hits.hits.map(function(hit){return _extends({_id:hit._id},hit._source,hit.fields)})});case 11:case"end":return _context.stop()}},_callee,_this2)})),_this.onAdditionalFieldsChange=function(selectedOptions){_this.setState({additionalFields:selectedOptions})},_temp),_possibleConstructorReturn(_this,_ret)}_createClass(TestScript,[{key:"componentDidMount",value:function componentDidMount(){this.props.script&&this.previewScript()}},{key:"renderPreview",value:function renderPreview(){var previewData=this.state.previewData;if(!previewData)return null;if(previewData.error)return _react2.default.createElement(_eui.EuiCallOut,{title:"There's an error in your script",color:"danger",iconType:"cross"},_react2.default.createElement(_eui.EuiCodeBlock,{language:"json",className:"scriptPreviewCodeBlock","data-test-subj":"scriptedFieldPreview"},JSON.stringify(previewData.error,null," ")));return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_eui.EuiTitle,{size:"xs"},_react2.default.createElement("p",null,"First 10 results")),_react2.default.createElement(_eui.EuiSpacer,{size:"s"}),_react2.default.createElement(_eui.EuiCodeBlock,{language:"json",className:"scriptPreviewCodeBlock","data-test-subj":"scriptedFieldPreview"},JSON.stringify(previewData,null," ")))}},{key:"renderToolbar",value:function renderToolbar(){var fieldsByTypeMap=new Map;var fields=[];this.props.indexPattern.fields.filter(function(field){return!field.name.startsWith("_")}).forEach(function(field){if(fieldsByTypeMap.has(field.type)){var fieldsList=fieldsByTypeMap.get(field.type);fieldsList.push(field.name);fieldsByTypeMap.set(field.type,fieldsList)}else fieldsByTypeMap.set(field.type,[field.name])});fieldsByTypeMap.forEach(function(fieldsList,fieldType){fields.push({label:fieldType,options:fieldsList.sort().map(function(fieldName){return{value:fieldName,label:fieldName}})})});fields.sort(function(a,b){if(a.label<b.label)return-1;if(a.label>b.label)return 1;return 0});return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_eui.EuiFormRow,{label:"Additional fields"},_react2.default.createElement(_eui.EuiComboBox,{placeholder:"Select...",options:fields,selectedOptions:this.state.additionalFields,onChange:this.onAdditionalFieldsChange,"data-test-subj":"additionalFieldsSelect"})),_react2.default.createElement(_eui.EuiButton,{onClick:this.previewScript,disabled:!this.props.script,isLoading:this.state.isLoading,"data-test-subj":"runScriptButton"},"Run script"))}},{key:"render",value:function render(){return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_eui.EuiSpacer,null),_react2.default.createElement(_eui.EuiText,null,_react2.default.createElement("h3",null,"Preview results"),_react2.default.createElement("p",null,"Run your script to preview the first 10 results. You can also select some additional fields to include in your results to gain more context.")),_react2.default.createElement(_eui.EuiSpacer,null),this.renderToolbar(),_react2.default.createElement(_eui.EuiSpacer,null),this.renderPreview())}}]);return TestScript}(_react.Component);TestScript.propTypes={indexPattern:_propTypes2.default.object.isRequired,lang:_propTypes2.default.string.isRequired,name:_propTypes2.default.string,script:_propTypes2.default.string,executeScript:_propTypes2.default.func.isRequired};TestScript.defaultProps={name:"myScriptedField"}},7771:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _field_format_editor=__webpack_require__(7772);Object.defineProperty(exports,"FieldFormatEditor",{enumerable:true,get:function get(){return _field_format_editor.FieldFormatEditor}})},7772:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.FieldFormatEditor=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(6);var _propTypes2=_interopRequireDefault(_propTypes);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var FieldFormatEditor=exports.FieldFormatEditor=function(_PureComponent){_inherits(FieldFormatEditor,_PureComponent);function FieldFormatEditor(props){_classCallCheck(this,FieldFormatEditor);var _this=_possibleConstructorReturn(this,(FieldFormatEditor.__proto__||Object.getPrototypeOf(FieldFormatEditor)).call(this,props));_this.state={EditorComponent:null};return _this}_createClass(FieldFormatEditor,[{key:"render",value:function render(){var EditorComponent=this.state.EditorComponent;var _props=this.props,fieldType=_props.fieldType,fieldFormat=_props.fieldFormat,fieldFormatParams=_props.fieldFormatParams,onChange=_props.onChange,onError=_props.onError;return _react2.default.createElement(_react.Fragment,null,EditorComponent?_react2.default.createElement(EditorComponent,{fieldType:fieldType,format:fieldFormat,formatParams:fieldFormatParams,onChange:onChange,onError:onError}):null)}}],[{key:"getDerivedStateFromProps",value:function getDerivedStateFromProps(nextProps){return{EditorComponent:nextProps.fieldFormatEditors.getEditor(nextProps.fieldFormatId)||null}}}]);return FieldFormatEditor}(_react.PureComponent);FieldFormatEditor.propTypes={fieldType:_propTypes2.default.string.isRequired,fieldFormat:_propTypes2.default.object.isRequired,fieldFormatId:_propTypes2.default.string.isRequired,fieldFormatParams:_propTypes2.default.object.isRequired,fieldFormatEditors:_propTypes2.default.object.isRequired,onChange:_propTypes2.default.func.isRequired,onError:_propTypes2.default.func.isRequired}},7773:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.DEFAULT_FIELD_TYPES=exports.FIELD_TYPES_BY_LANG=void 0;var _utils=__webpack_require__(577);exports.FIELD_TYPES_BY_LANG={painless:["number","string","date","boolean"],expression:["number"]};exports.DEFAULT_FIELD_TYPES=(0,_utils.getKbnTypeNames)()},7774:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _copy_field=__webpack_require__(7775);Object.defineProperty(exports,"copyField",{enumerable:true,get:function get(){return _copy_field.copyField}});var _get_default_format=__webpack_require__(7776);Object.defineProperty(exports,"getDefaultFormat",{enumerable:true,get:function get(){return _get_default_format.getDefaultFormat}});var _validate_script=__webpack_require__(7777);Object.defineProperty(exports,"executeScript",{enumerable:true,get:function get(){return _validate_script.executeScript}});Object.defineProperty(exports,"isScriptValid",{enumerable:true,get:function get(){return _validate_script.isScriptValid}})},7775:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.copyField=void 0;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};var _lodash=__webpack_require__(1);exports.copyField=function copyField(field,indexPattern,Field){var changes={};var newFieldProps={toActualField:{value:function value(){return new Field(indexPattern,_extends({},field.$$spec,changes))}}};Object.getOwnPropertyNames(field).forEach(function(prop){var desc=Object.getOwnPropertyDescriptor(field,prop);newFieldProps[prop]={enumerable:desc.enumerable,get:function get(){return(0,_lodash.has)(changes,prop)?changes[prop]:field[prop]},set:function set(v){changes[prop]=v}}});return Object.create(null,newFieldProps)}},7776:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getDefaultFormat=void 0;var _i18n=__webpack_require__(18);function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}exports.getDefaultFormat=function getDefaultFormat(Format){var DefaultFormat=function(_Format){_inherits(DefaultFormat,_Format);function DefaultFormat(){_classCallCheck(this,DefaultFormat);return _possibleConstructorReturn(this,(DefaultFormat.__proto__||Object.getPrototypeOf(DefaultFormat)).apply(this,arguments))}return DefaultFormat}(Format);DefaultFormat.id="";DefaultFormat.resolvedTitle=Format.title;DefaultFormat.title=_i18n.i18n.translate("common.ui.fieldEditor.defaultFormatDropDown",{defaultMessage:"- Default -"});return DefaultFormat}},7777:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.isScriptValid=exports.executeScript=void 0;var _kfetch=__webpack_require__(282);function _defineProperty(obj,key,value){key in obj?Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true}):obj[key]=value;return obj}function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}var executeScript=exports.executeScript=(_ref2=_asyncToGenerator(regeneratorRuntime.mark(function _callee(_ref){var name=_ref.name,lang=_ref.lang,script=_ref.script,indexPatternTitle=_ref.indexPatternTitle,_ref$additionalFields=_ref.additionalFields,additionalFields=void 0===_ref$additionalFields?[]:_ref$additionalFields;var header,search,body,esResp;return regeneratorRuntime.wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:header={index:indexPatternTitle,ignore_unavailable:true,timeout:3e4};search={query:{match_all:{}},script_fields:_defineProperty({},name,{script:{lang:lang,source:script}}),size:10};additionalFields.length>0&&(search._source=additionalFields);body=JSON.stringify(header)+"\n"+JSON.stringify(search)+"\n";_context.next=6;return(0,_kfetch.kfetch)({method:"POST",pathname:"/elasticsearch/_msearch",body:body});case 6:esResp=_context.sent;return _context.abrupt("return",esResp.responses[0]);case 8:case"end":return _context.stop()}},_callee,void 0)})),function executeScript(_x){return _ref2.apply(this,arguments)});var _ref2;exports.isScriptValid=(_ref4=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(_ref3){var name=_ref3.name,lang=_ref3.lang,script=_ref3.script,indexPatternTitle=_ref3.indexPatternTitle;var scriptResponse;return regeneratorRuntime.wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.next=2;return executeScript({name:name,lang:lang,script:script,indexPatternTitle:indexPatternTitle});case 2:scriptResponse=_context2.sent;if(!(200!==scriptResponse.status)){_context2.next=5;break}return _context2.abrupt("return",false);case 5:return _context2.abrupt("return",true);case 6:case"end":return _context2.stop()}},_callee2,void 0)})),function isScriptValid(_x2){return _ref4.apply(this,arguments)});var _ref4},7778:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.IndicesEditSectionsProvider=IndicesEditSectionsProvider;var _lodash=__webpack_require__(1);var _lodash2=_interopRequireDefault(_lodash);var _i18n=__webpack_require__(18);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function IndicesEditSectionsProvider(){return function(indexPattern,indexPatternListProvider){var fieldCount=_lodash2.default.countBy(indexPattern.fields,function(field){return field.scripted?"scripted":"indexed"});_lodash2.default.defaults(fieldCount,{indexed:0,scripted:0,sourceFilters:indexPattern.sourceFilters?indexPattern.sourceFilters.length:0});var editSections=[];editSections.push({title:_i18n.i18n.translate("kbn.management.editIndexPattern.tabs.fieldsHeader",{defaultMessage:"Fields"}),index:"indexedFields",count:fieldCount.indexed});indexPatternListProvider.areScriptedFieldsEnabled(indexPattern)&&editSections.push({title:_i18n.i18n.translate("kbn.management.editIndexPattern.tabs.scriptedHeader",{defaultMessage:"Scripted fields"}),index:"scriptedFields",count:fieldCount.scripted});editSections.push({title:_i18n.i18n.translate("kbn.management.editIndexPattern.tabs.sourceHeader",{defaultMessage:"Source filters"}),index:"sourceFilters",count:fieldCount.sourceFilters});return editSections}}},7779:function(module,exports){module.exports='<kbn-management-app section="kibana" omit-breadcrumb-pages="[\'indices\']">\n  <kbn-management-indices>\n    <div\n      ng-controller="managementIndicesEdit"\n      data-test-subj="editIndexPattern"\n      role="region"\n      aria-label="{{::\'kbn.management.editIndexPattern.detailsAria\' | i18n: { defaultMessage: \'Index pattern details\' } }}"\n    >\n      \x3c!-- Header --\x3e\n      <kbn-management-index-header\n        index-pattern="indexPattern"\n        set-default="setDefaultPattern()"\n        refresh-fields="refreshFields()"\n        delete="removePattern()"\n      ></kbn-management-index-header>\n\n      <p class="kuiText kuiVerticalRhythm" ng-if="::(indexPattern.timeFieldName || (indexPattern.tags && indexPattern.tags.length))">\n        <span ng-if="::indexPattern.timeFieldName">\n          <span class="label label-success">\n            <span class="kuiIcon fa-clock-o"></span>\n            <span i18n-id="kbn.management.editIndexPattern.timeFilterHeader"\n                  i18n-default-message="Time Filter field name: {timeFieldName}"\n                  i18n-values="{ timeFieldName: indexPattern.timeFieldName }"></span>\n          </span>\n          &nbsp;\n        </span>\n        <span ng-repeat="tag in indexPattern.tags">\n          <span class="label label-info">{{tag.name}}</span>\n        </span>\n      </p>\n\n\n      <p class="kuiText kuiVerticalRhythm">\n        <span i18n-id="kbn.management.editIndexPattern.timeFilterLabel.timeFilterDetail"\n          i18n-default-message="This page lists every field in the {indexPatternTitle} index and the field\'s associated core type as recorded by Elasticsearch. To change a field type, use the Elasticsearch"\n          i18n-values="{ indexPatternTitle: \'<strong>\' + indexPattern.title + \'</strong>\' }"></span>\n        <a target="_window" class="euiLink euiLink--primary" href="http://www.elastic.co/guide/en/elasticsearch/reference/current/mapping.html">\n          <span i18n-id="kbn.management.editIndexPattern.timeFilterLabel.mappingAPILink"\n                i18n-default-message="Mapping API"></span>\n          <i aria-hidden="true" class="fa-link fa"></i>\n        </a>\n      </p>\n\n      \x3c!-- Alerts --\x3e\n      <div\n        ng-if="indexPattern.isUnsupportedTimePattern()"\n        class="kuiInfoPanel kuiInfoPanel--error kuiVerticalRhythm"\n      >\n        <div class="kuiInfoPanelHeader">\n          <span class="kuiInfoPanelHeader__icon kuiIcon kuiIcon--error fa-warning"></span>\n          <span class="kuiInfoPanelHeader__title"\n                i18n-id="kbn.management.editIndexPattern.unsupportedTimePatternHeader"\n                i18n-default-message="Support for repeating index patterns removed">\n          </span>\n        </div>\n\n        <div class="kuiInfoPanelBody">\n          <div class="kuiInfoPanelBody__message">\n            <span i18n-id="kbn.management.editIndexPattern.unsupportedTimePatternLabel"\n                  i18n-default-message="Support for time-interval based index patterns has been removed! In the next major version of Kibana this index patterns will stop working. Migrate saved objects that use this index pattern to a wildcard pattern and delete this one."></span>\n          </div>\n        </div>\n      </div>\n\n      <div\n        ng-if="conflictFields.length"\n        class="kuiInfoPanel kuiInfoPanel--warning kuiVerticalRhythm"\n      >\n        <div class="kuiInfoPanelHeader">\n          <span class="kuiInfoPanelHeader__icon kuiIcon kuiIcon--warning fa-bolt"></span>\n          <span class="kuiInfoPanelHeader__title"\n                i18n-id="kbn.management.editIndexPattern.mappingConflictHeader"\n                i18n-default-message="Mapping conflict"></span>\n        </div>\n\n        <div class="kuiInfoPanelBody">\n          <div class="kuiInfoPanelBody__message">\n            <span i18n-id="kbn.management.editIndexPattern.mappingConflictLabel"\n                  i18n-default-message="{conflictFieldsLength, plural, one {A field is} other {# fields are}} defined as several types (string, integer, etc) across the indices that match this pattern. You may still be able to use these conflict fields in parts of Kibana, but they will be unavailable for functions that require Kibana to know their type. Correcting this issue will require reindexing your data."\n                  i18n-values="{ conflictFieldsLength: conflictFields.length }"></span>\n          </div>\n        </div>\n      </div>\n\n      \x3c!-- Tabs --\x3e\n      <div class="kuiTabs kuiVerticalRhythm">\n        <button\n          class="kuiTab"\n          ng-repeat="editSection in editSections"\n          ng-class="{ \'kuiTab-isSelected\': state.tab === editSection.index }"\n          ng-click="changeTab(editSection)"\n          data-test-subj="tab-{{ editSection.index }}"\n        >\n          {{ editSection.title }}\n          <span\n            data-test-subj="tab-count-{{ editSection.index }}"\n            aria-label="{{:: editSection.count + \' \' + editSection.title}}"\n          >\n            ({{ editSection.count }})\n          </span>\n        </button>\n      </div>\n\n      \x3c!-- Field Filters --\x3e\n      <form role="form" class="kuiFieldGroup kuiVerticalRhythm">\n        <div class="kuiFieldGroupSection kuiFieldGroupSection--wide">\n          <div class="kuiSearchInput">\n            <div class="kuiSearchInput__icon kuiIcon fa-search"></div>\n            <input\n              class="kuiSearchInput__input"\n              type="text"\n              aria-label="{{::\'kbn.management.editIndexPattern.fields.filterAria\' | i18n: {defaultMessage: \'Filter\'} }}"\n              ng-model="fieldFilter"\n              placeholder="{{::\'kbn.management.editIndexPattern.fields.filterPlaceholder\' | i18n: {defaultMessage: \'Filter\'} }}"\n              data-test-subj="indexPatternFieldFilter"\n            >\n          </div>\n        </div>\n\n        <div\n          class="kuiFieldGroupSection"\n          ng-if="state.tab == \'indexedFields\' && indexedFieldTypes.length > 0"\n        >\n          <select\n            data-test-subj="indexedFieldTypeFilterDropdown"\n            class="kuiSelect"\n            ng-model="indexedFieldTypeFilter"\n            ng-change="changeFilter(\'indexedFieldTypeFilter\', indexedFieldTypeFilter)"\n            ng-options="o for o in indexedFieldTypes"\n          >\n            <option value=""\n                    i18n-id="kbn.management.editIndexPattern.fields.allTypesDropDown"\n                    i18n-default-message="All field types"></option>\n          </select>\n        </div>\n\n        <div\n          class="kuiFieldGroupSection"\n          ng-if="state.tab == \'scriptedFields\' && scriptedFieldLanguages.length > 0"\n        >\n          <select\n            data-test-subj="scriptedFieldLanguageFilterDropdown"\n            class="kuiSelect"\n            ng-model="scriptedFieldLanguageFilter"\n            ng-change="changeFilter(\'scriptedFieldLanguageFilter\', scriptedFieldLanguageFilter)"\n            ng-options="o for o in scriptedFieldLanguages"\n          >\n            <option value=""\n                    i18n-id="kbn.management.editIndexPattern.fields.allLangsDropDown"\n                    i18n-default-message="All languages"></option>\n          </select>\n        </div>\n      </form>\n\n      \x3c!-- Tab content --\x3e\n      <div class="kuiVerticalRhythm">\n        <div id="reactIndexedFieldsTable"></div>\n\n        <div id="reactScriptedFieldsTable"></div>\n\n        <div id="reactSourceFiltersTable"></div>\n      </div>\n    </div>\n  </kbn-management-indices>\n</kbn-management-app>\n'},7780:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _source_filters_table=__webpack_require__(7781);Object.defineProperty(exports,"SourceFiltersTable",{enumerable:true,get:function get(){return _source_filters_table.SourceFiltersTable}})},7781:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.SourceFiltersTable=void 0;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(6);var _propTypes2=_interopRequireDefault(_propTypes);var _reselect=__webpack_require__(57);var _eui=__webpack_require__(2);var _table=__webpack_require__(7782);var _header=__webpack_require__(7784);var _add_filter=__webpack_require__(7786);var _react3=__webpack_require__(10);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}return Array.from(arr)}function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var SourceFiltersTable=exports.SourceFiltersTable=function(_Component){_inherits(SourceFiltersTable,_Component);function SourceFiltersTable(props){_classCallCheck(this,SourceFiltersTable);var _this=_possibleConstructorReturn(this,(SourceFiltersTable.__proto__||Object.getPrototypeOf(SourceFiltersTable)).call(this,props));_initialiseProps.call(_this);_this.clientSideId=0;_this.state={filterToDelete:void 0,isDeleteConfirmationModalVisible:false,isSaving:false,filters:[]};return _this}_createClass(SourceFiltersTable,[{key:"componentWillMount",value:function componentWillMount(){this.updateFilters()}},{key:"renderDeleteConfirmationModal",value:function renderDeleteConfirmationModal(){var filterToDelete=this.state.filterToDelete;if(!filterToDelete)return null;return _react2.default.createElement(_eui.EuiOverlayMask,null,_react2.default.createElement(_eui.EuiConfirmModal,{title:_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.management.editIndexPattern.source.deleteSourceFilterLabel",defaultMessage:"Delete source filter '{value}'?",values:{value:filterToDelete.value}}),onCancel:this.hideDeleteConfirmationModal,onConfirm:this.deleteFilter,cancelButtonText:_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.management.editIndexPattern.source.deleteFilter.cancelButtonLabel",defaultMessage:"Cancel"}),confirmButtonText:_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.management.editIndexPattern.source.deleteFilter.deleteButtonLabel",defaultMessage:"Delete"}),defaultFocusedButton:_eui.EUI_MODAL_CONFIRM_BUTTON}))}},{key:"render",value:function render(){var _props=this.props,indexPattern=_props.indexPattern,fieldWildcardMatcher=_props.fieldWildcardMatcher;var isSaving=this.state.isSaving;var filteredFilters=this.getFilteredFilters(this.state,this.props);return _react2.default.createElement("div",null,_react2.default.createElement(_header.Header,null),_react2.default.createElement(_add_filter.AddFilter,{onAddFilter:this.onAddFilter}),_react2.default.createElement(_eui.EuiSpacer,{size:"l"}),_react2.default.createElement(_table.Table,{isSaving:isSaving,indexPattern:indexPattern,items:filteredFilters,fieldWildcardMatcher:fieldWildcardMatcher,deleteFilter:this.startDeleteFilter,saveFilter:this.saveFilter}),this.renderDeleteConfirmationModal())}}]);return SourceFiltersTable}(_react.Component);SourceFiltersTable.propTypes={indexPattern:_propTypes2.default.object.isRequired,filterFilter:_propTypes2.default.string,fieldWildcardMatcher:_propTypes2.default.func.isRequired,onAddOrRemoveFilter:_propTypes2.default.func};var _initialiseProps=function _initialiseProps(){var _this2=this;this.updateFilters=function(){var sourceFilters=_this2.props.indexPattern.sourceFilters||[];var filters=sourceFilters.map(function(filter){return _extends({},filter,{clientId:++_this2.clientSideId})});_this2.setState({filters:filters})};this.getFilteredFilters=(0,_reselect.createSelector)(function(state){return state.filters},function(state,props){return props.filterFilter},function(filters,filterFilter){if(filterFilter){var filterFilterToLowercase=filterFilter.toLowerCase();return filters.filter(function(filter){return filter.value.toLowerCase().includes(filterFilterToLowercase)})}return filters});this.startDeleteFilter=function(filter){_this2.setState({filterToDelete:filter,isDeleteConfirmationModalVisible:true})};this.hideDeleteConfirmationModal=function(){_this2.setState({filterToDelete:void 0,isDeleteConfirmationModalVisible:false})};this.deleteFilter=_asyncToGenerator(regeneratorRuntime.mark(function _callee(){var _props2,indexPattern,onAddOrRemoveFilter,_state,filterToDelete,filters;return regeneratorRuntime.wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_props2=_this2.props,indexPattern=_props2.indexPattern,onAddOrRemoveFilter=_props2.onAddOrRemoveFilter;_state=_this2.state,filterToDelete=_state.filterToDelete,filters=_state.filters;indexPattern.sourceFilters=filters.filter(function(filter){return filter.clientId!==filterToDelete.clientId});_this2.setState({isSaving:true});_context.next=6;return indexPattern.save();case 6:onAddOrRemoveFilter&&onAddOrRemoveFilter();_this2.updateFilters();_this2.setState({isSaving:false});_this2.hideDeleteConfirmationModal();case 10:case"end":return _context.stop()}},_callee,_this2)}));this.onAddFilter=(_ref2=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(value){var _props3,indexPattern,onAddOrRemoveFilter;return regeneratorRuntime.wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_props3=_this2.props,indexPattern=_props3.indexPattern,onAddOrRemoveFilter=_props3.onAddOrRemoveFilter;indexPattern.sourceFilters=[].concat(_toConsumableArray(indexPattern.sourceFilters||[]),[{value:value}]);_this2.setState({isSaving:true});_context2.next=5;return indexPattern.save();case 5:onAddOrRemoveFilter&&onAddOrRemoveFilter();_this2.updateFilters();_this2.setState({isSaving:false});case 8:case"end":return _context2.stop()}},_callee2,_this2)})),function(_x){return _ref2.apply(this,arguments)});var _ref2;this.saveFilter=(_ref4=_asyncToGenerator(regeneratorRuntime.mark(function _callee3(_ref3){var filterId=_ref3.filterId,newFilterValue=_ref3.newFilterValue;var indexPattern,filters;return regeneratorRuntime.wrap(function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:indexPattern=_this2.props.indexPattern;filters=_this2.state.filters;indexPattern.sourceFilters=filters.map(function(filter){if(filter.clientId===filterId)return{value:newFilterValue,clientId:filter.clientId};return filter});_this2.setState({isSaving:true});_context3.next=6;return indexPattern.save();case 6:_this2.updateFilters();_this2.setState({isSaving:false});case 8:case"end":return _context3.stop()}},_callee3,_this2)})),function(_x2){return _ref4.apply(this,arguments)});var _ref4}},7782:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _table=__webpack_require__(7783);Object.defineProperty(exports,"Table",{enumerable:true,get:function get(){return _table.Table}})},7783:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Table=exports.TableComponent=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(6);var _propTypes2=_interopRequireDefault(_propTypes);var _eui=__webpack_require__(2);var _react3=__webpack_require__(10);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var TableComponent=exports.TableComponent=function(_Component){_inherits(TableComponent,_Component);function TableComponent(props){_classCallCheck(this,TableComponent);var _this=_possibleConstructorReturn(this,(TableComponent.__proto__||Object.getPrototypeOf(TableComponent)).call(this,props));_this.startEditingFilter=function(id,value){return _this.setState({editingFilterId:id,editingFilterValue:value})};_this.stopEditingFilter=function(){return _this.setState({editingFilterId:null})};_this.onEditingFilterChange=function(e){return _this.setState({editingFilterValue:e.target.value})};_this.onEditFieldKeyDown=function(_ref){var keyCode=_ref.keyCode;if(_eui.keyCodes.ENTER===keyCode){_this.props.saveFilter({filterId:_this.state.editingFilterId,newFilterValue:_this.state.editingFilterValue});_this.stopEditingFilter()}_eui.keyCodes.ESCAPE===keyCode&&_this.stopEditingFilter()};_this.state={editingFilterId:null,editingFilterValue:null};return _this}_createClass(TableComponent,[{key:"getColumns",value:function getColumns(){var _this2=this;var _props=this.props,deleteFilter=_props.deleteFilter,fieldWildcardMatcher=_props.fieldWildcardMatcher,indexPattern=_props.indexPattern,saveFilter=_props.saveFilter,intl=_props.intl;return[{field:"value",name:intl.formatMessage({id:"kbn.management.editIndexPattern.source.table.filterHeader",defaultMessage:"Filter"}),description:intl.formatMessage({id:"kbn.management.editIndexPattern.source.table.filterDescription",defaultMessage:"Filter name"}),dataType:"string",sortable:true,render:function render(value,filter){if(_this2.state.editingFilterId===filter.clientId)return _react2.default.createElement(_eui.EuiFieldText,{autoFocus:true,value:_this2.state.editingFilterValue,onChange:_this2.onEditingFilterChange,onKeyDown:_this2.onEditFieldKeyDown});return _react2.default.createElement("span",null,value)}},{field:"value",name:intl.formatMessage({id:"kbn.management.editIndexPattern.source.table.matchesHeader",defaultMessage:"Matches"}),description:intl.formatMessage({id:"kbn.management.editIndexPattern.source.table.matchesDescription",defaultMessage:"Language used for the field"}),dataType:"string",sortable:true,render:function render(value,filter){var realtimeValue=_this2.state.editingFilterId===filter.clientId?_this2.state.editingFilterValue:value;var matcher=fieldWildcardMatcher([realtimeValue]);var matches=indexPattern.getNonScriptedFields().map(function(f){return f.name}).filter(matcher).sort();if(matches.length)return _react2.default.createElement("span",null,matches.join(", "));return _react2.default.createElement("em",null,_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.management.editIndexPattern.source.table.notMatchedLabel",defaultMessage:"The source filter doesn't match any known fields."}))}},{name:"",align:_eui.RIGHT_ALIGNMENT,width:"100",render:function render(filter){if(_this2.state.editingFilterId===filter.clientId)return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_eui.EuiButtonIcon,{size:"s",onClick:function onClick(){saveFilter({filterId:_this2.state.editingFilterId,newFilterValue:_this2.state.editingFilterValue});_this2.stopEditingFilter()},iconType:"checkInCircleFilled","aria-label":intl.formatMessage({id:"kbn.management.editIndexPattern.source.table.saveAria",defaultMessage:"Save"})}),_react2.default.createElement(_eui.EuiButtonIcon,{size:"s",onClick:function onClick(){_this2.stopEditingFilter()},iconType:"cross","aria-label":intl.formatMessage({id:"kbn.management.editIndexPattern.source.table.cancelAria",defaultMessage:"Cancel"})}));return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_eui.EuiButtonIcon,{size:"s",color:"danger",onClick:function onClick(){return deleteFilter(filter)},iconType:"trash","aria-label":intl.formatMessage({id:"kbn.management.editIndexPattern.source.table.deleteAria",defaultMessage:"Delete"})}),_react2.default.createElement(_eui.EuiButtonIcon,{size:"s",onClick:function onClick(){return _this2.startEditingFilter(filter.clientId,filter.value)},iconType:"pencil","aria-label":intl.formatMessage({id:"kbn.management.editIndexPattern.source.table.editAria",defaultMessage:"Edit"})}))}}]}},{key:"render",value:function render(){var _props2=this.props,items=_props2.items,isSaving=_props2.isSaving;var columns=this.getColumns();var pagination={initialPageSize:10,pageSizeOptions:[5,10,25,50]};return _react2.default.createElement(_eui.EuiInMemoryTable,{loading:isSaving,items:items,columns:columns,pagination:pagination,sorting:true})}}]);return TableComponent}(_react.Component);TableComponent.propTypes={indexPattern:_propTypes2.default.object.isRequired,items:_propTypes2.default.array.isRequired,deleteFilter:_propTypes2.default.func.isRequired,fieldWildcardMatcher:_propTypes2.default.func.isRequired,saveFilter:_propTypes2.default.func.isRequired,isSaving:_propTypes2.default.bool.isRequired};exports.Table=(0,_react3.injectI18n)(TableComponent)},7784:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _header=__webpack_require__(7785);Object.defineProperty(exports,"Header",{enumerable:true,get:function get(){return _header.Header}})},7785:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Header=void 0;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _eui=__webpack_require__(2);var _react3=__webpack_require__(10);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}exports.Header=function Header(){return _react2.default.createElement("div",null,_react2.default.createElement(_eui.EuiTitle,{size:"s"},_react2.default.createElement("h3",null,_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.management.editIndexPattern.sourceHeader",defaultMessage:"Source filters"}))),_react2.default.createElement(_eui.EuiText,null,_react2.default.createElement("p",null,_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.management.editIndexPattern.sourceLabel",defaultMessage:"Source filters can be used to exclude one or more fields when fetching the document source. This happens when viewing a document in the Discover app, or with a table displaying results from a saved search in the Dashboard app. Each row is built using the source of a single document, and if you have documents with large or unimportant fields you may benefit from filtering those out at this lower level."})),_react2.default.createElement("p",null,_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.management.editIndexPattern.source.noteLabel",defaultMessage:"Note that multi-fields will incorrectly appear as matches in the table below. These filters only actually apply to fields in the original source document, so matching multi-fields are not actually being filtered."}))),_react2.default.createElement(_eui.EuiSpacer,{size:"s"}))}},7786:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _add_filter=__webpack_require__(7787);Object.defineProperty(exports,"AddFilter",{enumerable:true,get:function get(){return _add_filter.AddFilter}})},7787:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.AddFilter=exports.AddFilterComponent=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(6);var _propTypes2=_interopRequireDefault(_propTypes);var _eui=__webpack_require__(2);var _react3=__webpack_require__(10);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var AddFilterComponent=exports.AddFilterComponent=function(_Component){_inherits(AddFilterComponent,_Component);function AddFilterComponent(props){_classCallCheck(this,AddFilterComponent);var _this=_possibleConstructorReturn(this,(AddFilterComponent.__proto__||Object.getPrototypeOf(AddFilterComponent)).call(this,props));_this.onAddFilter=function(){_this.props.onAddFilter(_this.state.filter);_this.setState({filter:""})};_this.state={filter:""};return _this}_createClass(AddFilterComponent,[{key:"render",value:function render(){var _this2=this;var filter=this.state.filter;var intl=this.props.intl;var placeholder=intl.formatMessage({id:"kbn.management.editIndexPattern.sourcePlaceholder",defaultMessage:"source filter, accepts wildcards (e.g., `user*` to filter fields starting with 'user')"});return _react2.default.createElement(_eui.EuiFlexGroup,null,_react2.default.createElement(_eui.EuiFlexItem,{grow:10},_react2.default.createElement(_eui.EuiFieldText,{fullWidth:true,value:filter,onChange:function onChange(e){return _this2.setState({filter:e.target.value.trim()})},placeholder:placeholder})),_react2.default.createElement(_eui.EuiFlexItem,null,_react2.default.createElement(_eui.EuiButton,{isDisabled:0===filter.length,onClick:this.onAddFilter},_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.management.editIndexPattern.source.addButtonLabel",defaultMessage:"Add"}))))}}]);return AddFilterComponent}(_react.Component);AddFilterComponent.propTypes={onAddFilter:_propTypes2.default.func.isRequired};exports.AddFilter=(0,_react3.injectI18n)(AddFilterComponent)},7788:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _indexed_fields_table=__webpack_require__(7789);Object.defineProperty(exports,"IndexedFieldsTable",{enumerable:true,get:function get(){return _indexed_fields_table.IndexedFieldsTable}})},7789:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.IndexedFieldsTable=void 0;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(6);var _propTypes2=_interopRequireDefault(_propTypes);var _reselect=__webpack_require__(57);var _table=__webpack_require__(7790);var _lib=__webpack_require__(7792);var _react3=__webpack_require__(10);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var IndexedFieldsTable=exports.IndexedFieldsTable=function(_Component){_inherits(IndexedFieldsTable,_Component);function IndexedFieldsTable(props){_classCallCheck(this,IndexedFieldsTable);var _this=_possibleConstructorReturn(this,(IndexedFieldsTable.__proto__||Object.getPrototypeOf(IndexedFieldsTable)).call(this,props));_initialiseProps.call(_this);_this.state={fields:_this.mapFields(_this.props.fields)};return _this}_createClass(IndexedFieldsTable,[{key:"componentWillReceiveProps",value:function componentWillReceiveProps(nextProps){nextProps.fields!==this.props.fields&&this.setState({fields:this.mapFields(nextProps.fields)})}},{key:"mapFields",value:function mapFields(fields){var _props=this.props,indexPattern=_props.indexPattern,fieldWildcardMatcher=_props.fieldWildcardMatcher,helpers=_props.helpers;var sourceFilters=indexPattern.sourceFilters&&indexPattern.sourceFilters.map(function(f){return f.value});var fieldWildcardMatch=fieldWildcardMatcher(sourceFilters||[]);return fields&&fields.map(function(field){return _extends({},field,{displayName:field.displayName,routes:field.routes,indexPattern:field.indexPattern,format:(0,_lib.getFieldFormat)(indexPattern,field.name),excluded:!!fieldWildcardMatch&&fieldWildcardMatch(field.name),info:helpers.getFieldInfo&&helpers.getFieldInfo(indexPattern,field.name)})})||[]}},{key:"render",value:function render(){var _this2=this;var indexPattern=this.props.indexPattern;var fields=this.getFilteredFields(this.state,this.props);return _react2.default.createElement(_react3.I18nProvider,null,_react2.default.createElement("div",null,_react2.default.createElement(_table.Table,{indexPattern:indexPattern,items:fields,editField:function editField(field){return _this2.props.helpers.redirectToRoute(field,"edit")}})))}}]);return IndexedFieldsTable}(_react.Component);IndexedFieldsTable.propTypes={fields:_propTypes2.default.array.isRequired,indexPattern:_propTypes2.default.object.isRequired,fieldFilter:_propTypes2.default.string,indexedFieldTypeFilter:_propTypes2.default.string,helpers:_propTypes2.default.shape({redirectToRoute:_propTypes2.default.func.isRequired,getFieldInfo:_propTypes2.default.func}),fieldWildcardMatcher:_propTypes2.default.func.isRequired};var _initialiseProps=function _initialiseProps(){this.getFilteredFields=(0,_reselect.createSelector)(function(state){return state.fields},function(state,props){return props.fieldFilter},function(state,props){return props.indexedFieldTypeFilter},function(fields,fieldFilter,indexedFieldTypeFilter){if(fieldFilter){var normalizedFieldFilter=fieldFilter.toLowerCase();fields=fields.filter(function(field){return field.name.toLowerCase().includes(normalizedFieldFilter)})}indexedFieldTypeFilter&&(fields=fields.filter(function(field){return field.type===indexedFieldTypeFilter}));return fields})}},7790:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _table=__webpack_require__(7791);Object.keys(_table).forEach(function(key){if("default"===key||"__esModule"===key)return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _table[key]}})})},7791:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Table=exports.TableComponent=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(6);var _propTypes2=_interopRequireDefault(_propTypes);var _eui=__webpack_require__(2);var _react3=__webpack_require__(10);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var TableComponent=exports.TableComponent=function(_PureComponent){_inherits(TableComponent,_PureComponent);function TableComponent(){_classCallCheck(this,TableComponent);return _possibleConstructorReturn(this,(TableComponent.__proto__||Object.getPrototypeOf(TableComponent)).apply(this,arguments))}_createClass(TableComponent,[{key:"renderBooleanTemplate",value:function renderBooleanTemplate(value,label){return value?_react2.default.createElement(_eui.EuiIcon,{type:"dot",color:"secondary","aria-label":label}):_react2.default.createElement("span",null)}},{key:"renderFieldName",value:function renderFieldName(name,field){var indexPattern=this.props.indexPattern;var intl=this.props.intl;var infoLabel=intl.formatMessage({id:"kbn.management.editIndexPattern.fields.table.additionalInfoAriaLabel",defaultMessage:"Additional field information"});var timeLabel=intl.formatMessage({id:"kbn.management.editIndexPattern.fields.table.primaryTimeAriaLabel",defaultMessage:"Primary time field"});var timeContent=intl.formatMessage({id:"kbn.management.editIndexPattern.fields.table.primaryTimeTooltip",defaultMessage:"This field represents the time that events occurred."});return _react2.default.createElement("span",null,name,field.info&&field.info.length?_react2.default.createElement("span",null,"",_react2.default.createElement(_eui.EuiIconTip,{type:"questionInCircle",color:"primary","aria-label":infoLabel,content:field.info.map(function(info,i){return _react2.default.createElement("div",{key:i},info)})})):null,indexPattern.timeFieldName===name?_react2.default.createElement("span",null,"",_react2.default.createElement(_eui.EuiIconTip,{type:"clock",color:"primary","aria-label":timeLabel,content:timeContent})):null)}},{key:"renderFieldType",value:function renderFieldType(type,isConflict){var intl=this.props.intl;var label=intl.formatMessage({id:"kbn.management.editIndexPattern.fields.table.multiTypeAria",defaultMessage:"Multiple type field"});var content=intl.formatMessage({id:"kbn.management.editIndexPattern.fields.table.multiTypeTooltip",defaultMessage:"The type of this field changes across indices. It is unavailable for many analysis functions."});return _react2.default.createElement("span",null,type,isConflict?_react2.default.createElement("span",null,"",_react2.default.createElement(_eui.EuiIconTip,{type:"alert",color:"warning","aria-label":label,content:content})):"")}},{key:"render",value:function render(){var _this2=this;var _props=this.props,items=_props.items,editField=_props.editField,intl=_props.intl;var pagination={initialPageSize:10,pageSizeOptions:[5,10,25,50]};var columns=[{field:"displayName",name:intl.formatMessage({id:"kbn.management.editIndexPattern.fields.table.nameHeader",defaultMessage:"Name"}),dataType:"string",sortable:true,render:function render(value,field){return _this2.renderFieldName(value,field)},width:"38%","data-test-subj":"indexedFieldName"},{field:"type",name:intl.formatMessage({id:"kbn.management.editIndexPattern.fields.table.typeHeader",defaultMessage:"Type"}),dataType:"string",sortable:true,render:function render(value){return _this2.renderFieldType(value,"conflict"===value)},"data-test-subj":"indexedFieldType"},{field:"format",name:intl.formatMessage({id:"kbn.management.editIndexPattern.fields.table.formatHeader",defaultMessage:"Format"}),dataType:"string",sortable:true},{field:"searchable",name:intl.formatMessage({id:"kbn.management.editIndexPattern.fields.table.searchableHeader",defaultMessage:"Searchable"}),description:intl.formatMessage({id:"kbn.management.editIndexPattern.fields.table.searchableDescription",defaultMessage:"These fields can be used in the filter bar"}),dataType:"boolean",sortable:true,render:function render(value){return _this2.renderBooleanTemplate(value,intl.formatMessage({id:"kbn.management.editIndexPattern.fields.table.isSearchableAria",defaultMessage:"Is searchable"}))}},{field:"aggregatable",name:intl.formatMessage({id:"kbn.management.editIndexPattern.fields.table.aggregatableLabel",defaultMessage:"Aggregatable"}),description:intl.formatMessage({id:"kbn.management.editIndexPattern.fields.table.aggregatableDescription",defaultMessage:"These fields can be used in visualization aggregations"}),dataType:"boolean",sortable:true,render:function render(value){return _this2.renderBooleanTemplate(value,intl.formatMessage({id:"kbn.management.editIndexPattern.fields.table.isAggregatableAria",defaultMessage:"Is aggregatable"}))}},{field:"excluded",name:intl.formatMessage({id:"kbn.management.editIndexPattern.fields.table.excludedLabel",defaultMessage:"Excluded"}),description:intl.formatMessage({id:"kbn.management.editIndexPattern.fields.table.excludedDescription",defaultMessage:"Fields that are excluded from _source when it is fetched"}),dataType:"boolean",sortable:true,render:function render(value){return _this2.renderBooleanTemplate(value,intl.formatMessage({id:"kbn.management.editIndexPattern.fields.table.isExcludedAria",defaultMessage:"Is excluded"}))}},{name:"",actions:[{name:intl.formatMessage({id:"kbn.management.editIndexPattern.fields.table.editLabel",defaultMessage:"Edit"}),description:intl.formatMessage({id:"kbn.management.editIndexPattern.fields.table.editDescription",defaultMessage:"Edit"}),icon:"pencil",onClick:editField,type:"icon"}],width:"40px"}];return _react2.default.createElement(_eui.EuiInMemoryTable,{items:items,columns:columns,pagination:pagination,sorting:true})}}]);return TableComponent}(_react.PureComponent);TableComponent.propTypes={indexPattern:_propTypes2.default.object.isRequired,items:_propTypes2.default.array.isRequired,editField:_propTypes2.default.func.isRequired};exports.Table=(0,_react3.injectI18n)(TableComponent)},7792:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _get_field_format=__webpack_require__(7793);Object.defineProperty(exports,"getFieldFormat",{enumerable:true,get:function get(){return _get_field_format.getFieldFormat}})},7793:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getFieldFormat=getFieldFormat;var _lodash=__webpack_require__(1);function getFieldFormat(indexPattern,fieldName){return indexPattern&&fieldName?(0,_lodash.get)(indexPattern,["fieldFormatMap",fieldName,"type","title"]):""}},7794:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _scripted_fields_table=__webpack_require__(7795);Object.defineProperty(exports,"ScriptedFieldsTable",{enumerable:true,get:function get(){return _scripted_fields_table.ScriptedFieldsTable}})},7795:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ScriptedFieldsTable=exports.ScriptedFieldsTableComponent=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(6);var _propTypes2=_interopRequireDefault(_propTypes);var _scripting_languages=__webpack_require__(2284);var _documentation_links=__webpack_require__(242);var _eui=__webpack_require__(2);var _components=__webpack_require__(7796);var _react3=__webpack_require__(10);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var ScriptedFieldsTableComponent=exports.ScriptedFieldsTableComponent=function(_Component){_inherits(ScriptedFieldsTableComponent,_Component);function ScriptedFieldsTableComponent(props){var _this2=this;_classCallCheck(this,ScriptedFieldsTableComponent);var _this=_possibleConstructorReturn(this,(ScriptedFieldsTableComponent.__proto__||Object.getPrototypeOf(ScriptedFieldsTableComponent)).call(this,props));_this.fetchFields=_asyncToGenerator(regeneratorRuntime.mark(function _callee(){var fields,deprecatedLangsInUse,deprecatedLangs,supportedLangs,_iteratorNormalCompletion,_didIteratorError,_iteratorError,_iterator,_step,_ref2,lang;return regeneratorRuntime.wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return _this.props.indexPattern.getScriptedFields();case 2:fields=_context.sent;deprecatedLangsInUse=[];deprecatedLangs=(0,_scripting_languages.getDeprecatedScriptingLanguages)();supportedLangs=(0,_scripting_languages.getSupportedScriptingLanguages)();_iteratorNormalCompletion=true;_didIteratorError=false;_iteratorError=void 0;_context.prev=9;for(_iterator=fields[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=true){_ref2=_step.value;lang=_ref2.lang;!deprecatedLangs.includes(lang)&&supportedLangs.includes(lang)||deprecatedLangsInUse.push(lang)}_context.next=17;break;case 13:_context.prev=13;_context.t0=_context["catch"](9);_didIteratorError=true;_iteratorError=_context.t0;case 17:_context.prev=17;_context.prev=18;!_iteratorNormalCompletion&&_iterator.return&&_iterator.return();case 20:_context.prev=20;if(!_didIteratorError){_context.next=23;break}throw _iteratorError;case 23:return _context.finish(20);case 24:return _context.finish(17);case 25:_this.setState({fields:fields,deprecatedLangsInUse:deprecatedLangsInUse});case 26:case"end":return _context.stop()}},_callee,_this2,[[9,13,17,25],[18,,20,24]])}));_this.getFilteredItems=function(){var fields=_this.state.fields;var _this$props=_this.props,fieldFilter=_this$props.fieldFilter,scriptedFieldLanguageFilter=_this$props.scriptedFieldLanguageFilter;var languageFilteredFields=fields;scriptedFieldLanguageFilter&&(languageFilteredFields=fields.filter(function(field){return field.lang===_this.props.scriptedFieldLanguageFilter}));var filteredFields=languageFilteredFields;if(fieldFilter){var normalizedFieldFilter=_this.props.fieldFilter.toLowerCase();filteredFields=languageFilteredFields.filter(function(field){return field.name.toLowerCase().includes(normalizedFieldFilter)})}return filteredFields};_this.startDeleteField=function(field){_this.setState({fieldToDelete:field,isDeleteConfirmationModalVisible:true})};_this.hideDeleteConfirmationModal=function(){_this.setState({fieldToDelete:void 0,isDeleteConfirmationModalVisible:false})};_this.deleteField=function(){var _this$props2=_this.props,indexPattern=_this$props2.indexPattern,onRemoveField=_this$props2.onRemoveField;var fieldToDelete=_this.state.fieldToDelete;indexPattern.removeScriptedField(fieldToDelete.name);onRemoveField&&onRemoveField();_this.fetchFields();_this.hideDeleteConfirmationModal()};_this.state={deprecatedLangsInUse:[],fieldToDelete:void 0,isDeleteConfirmationModalVisible:false,fields:[]};return _this}_createClass(ScriptedFieldsTableComponent,[{key:"componentWillMount",value:function componentWillMount(){this.fetchFields()}},{key:"renderCallOuts",value:function renderCallOuts(){var deprecatedLangsInUse=this.state.deprecatedLangsInUse;return _react2.default.createElement(_components.CallOuts,{deprecatedLangsInUse:deprecatedLangsInUse,painlessDocLink:_documentation_links.documentationLinks.scriptedFields.painless})}},{key:"renderDeleteConfirmationModal",value:function renderDeleteConfirmationModal(){var fieldToDelete=this.state.fieldToDelete;if(!fieldToDelete)return null;var intl=this.props.intl;var title=intl.formatMessage({id:"kbn.management.editIndexPattern.scripted.deleteFieldLabel",defaultMessage:"Delete scripted field '{fieldName}'?"},{fieldName:fieldToDelete.name});var cancelButtonText=intl.formatMessage({id:"kbn.management.editIndexPattern.scripted.deleteField.cancelButton",defaultMessage:"Cancel"});var confirmButtonText=intl.formatMessage({id:"kbn.management.editIndexPattern.scripted.deleteField.deleteButton",defaultMessage:"Delete"});return _react2.default.createElement(_eui.EuiOverlayMask,null,_react2.default.createElement(_eui.EuiConfirmModal,{title:title,onCancel:this.hideDeleteConfirmationModal,onConfirm:this.deleteField,cancelButtonText:cancelButtonText,confirmButtonText:confirmButtonText,defaultFocusedButton:_eui.EUI_MODAL_CONFIRM_BUTTON}))}},{key:"render",value:function render(){var _this3=this;var _props=this.props,helpers=_props.helpers,indexPattern=_props.indexPattern;var items=this.getFilteredItems();return _react2.default.createElement(_react3.I18nProvider,null,_react2.default.createElement("div",null,_react2.default.createElement(_components.Header,{addScriptedFieldUrl:helpers.getRouteHref(indexPattern,"addField")}),this.renderCallOuts(),_react2.default.createElement(_eui.EuiSpacer,{size:"l"}),_react2.default.createElement(_components.Table,{indexPattern:indexPattern,items:items,editField:function editField(field){return _this3.props.helpers.redirectToRoute(field,"edit")},deleteField:this.startDeleteField}),this.renderDeleteConfirmationModal()))}}]);return ScriptedFieldsTableComponent}(_react.Component);ScriptedFieldsTableComponent.propTypes={indexPattern:_propTypes2.default.object.isRequired,fieldFilter:_propTypes2.default.string,scriptedFieldLanguageFilter:_propTypes2.default.string,helpers:_propTypes2.default.shape({redirectToRoute:_propTypes2.default.func.isRequired,getRouteHref:_propTypes2.default.func.isRequired}),onRemoveField:_propTypes2.default.func};exports.ScriptedFieldsTable=(0,_react3.injectI18n)(ScriptedFieldsTableComponent)},7796:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _table=__webpack_require__(7797);Object.defineProperty(exports,"Table",{enumerable:true,get:function get(){return _table.Table}});var _header=__webpack_require__(7799);Object.defineProperty(exports,"Header",{enumerable:true,get:function get(){return _header.Header}});var _call_outs=__webpack_require__(7801);Object.defineProperty(exports,"CallOuts",{enumerable:true,get:function get(){return _call_outs.CallOuts}})},7797:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _table=__webpack_require__(7798);Object.defineProperty(exports,"Table",{enumerable:true,get:function get(){return _table.Table}})},7798:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Table=exports.TableComponent=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(6);var _propTypes2=_interopRequireDefault(_propTypes);var _eui=__webpack_require__(2);var _react3=__webpack_require__(10);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var TableComponent=exports.TableComponent=function(_PureComponent){_inherits(TableComponent,_PureComponent);function TableComponent(){var _ref;var _temp,_this,_ret;_classCallCheck(this,TableComponent);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _ret=(_temp=(_this=_possibleConstructorReturn(this,(_ref=TableComponent.__proto__||Object.getPrototypeOf(TableComponent)).call.apply(_ref,[this].concat(args))),_this),_this.renderFormatCell=function(value){var indexPattern=_this.props.indexPattern;var title=indexPattern.fieldFormatMap[value]&&indexPattern.fieldFormatMap[value].type?indexPattern.fieldFormatMap[value].type.title:"";return _react2.default.createElement("span",null,title)},_temp),_possibleConstructorReturn(_this,_ret)}_createClass(TableComponent,[{key:"render",value:function render(){var _props=this.props,items=_props.items,editField=_props.editField,deleteField=_props.deleteField,intl=_props.intl;var columns=[{field:"displayName",name:intl.formatMessage({id:"kbn.management.editIndexPattern.scripted.table.nameHeader",defaultMessage:"Name"}),description:intl.formatMessage({id:"kbn.management.editIndexPattern.scripted.table.nameDescription",defaultMessage:"Name of the field"}),dataType:"string",sortable:true,width:"38%"},{field:"lang",name:intl.formatMessage({id:"kbn.management.editIndexPattern.scripted.table.langHeader",defaultMessage:"Lang"}),description:intl.formatMessage({id:"kbn.management.editIndexPattern.scripted.table.langDescription",defaultMessage:"Language used for the field"}),dataType:"string",sortable:true,"data-test-subj":"scriptedFieldLang"},{field:"script",name:intl.formatMessage({id:"kbn.management.editIndexPattern.scripted.table.scriptHeader",defaultMessage:"Script"}),description:intl.formatMessage({id:"kbn.management.editIndexPattern.scripted.table.scriptDescription",defaultMessage:"Script for the field"}),dataType:"string",sortable:true},{field:"name",name:intl.formatMessage({id:"kbn.management.editIndexPattern.scripted.table.formatHeader",defaultMessage:"Format"}),description:intl.formatMessage({id:"kbn.management.editIndexPattern.scripted.table.formatDescription",defaultMessage:"Format used for the field"}),render:this.renderFormatCell,sortable:false},{name:"",actions:[{name:intl.formatMessage({id:"kbn.management.editIndexPattern.scripted.table.editHeader",defaultMessage:"Edit"}),description:intl.formatMessage({id:"kbn.management.editIndexPattern.scripted.table.editDescription",defaultMessage:"Edit this field"}),icon:"pencil",onClick:editField},{name:intl.formatMessage({id:"kbn.management.editIndexPattern.scripted.table.deleteHeader",defaultMessage:"Delete"}),description:intl.formatMessage({id:"kbn.management.editIndexPattern.scripted.table.deleteDescription",defaultMessage:"Delete this field"}),icon:"trash",color:"danger",onClick:deleteField}],width:"40px"}];var pagination={initialPageSize:10,pageSizeOptions:[5,10,25,50]};return _react2.default.createElement(_eui.EuiInMemoryTable,{items:items,columns:columns,pagination:pagination,sorting:true})}}]);return TableComponent}(_react.PureComponent);TableComponent.propTypes={indexPattern:_propTypes2.default.object.isRequired,items:_propTypes2.default.array.isRequired,editField:_propTypes2.default.func.isRequired,deleteField:_propTypes2.default.func.isRequired};exports.Table=(0,_react3.injectI18n)(TableComponent)},7799:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _header=__webpack_require__(7800);Object.defineProperty(exports,"Header",{enumerable:true,get:function get(){return _header.Header}})},7800:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Header=void 0;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(6);var _propTypes2=_interopRequireDefault(_propTypes);var _eui=__webpack_require__(2);var _react3=__webpack_require__(10);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var Header=exports.Header=function Header(_ref){var addScriptedFieldUrl=_ref.addScriptedFieldUrl;return _react2.default.createElement(_eui.EuiFlexGroup,{alignItems:"center"},_react2.default.createElement(_eui.EuiFlexItem,null,_react2.default.createElement(_eui.EuiTitle,{size:"s"},_react2.default.createElement("h3",null,_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.management.editIndexPattern.scriptedHeader",defaultMessage:"Scripted fields"}))),_react2.default.createElement(_eui.EuiText,null,_react2.default.createElement("p",null,_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.management.editIndexPattern.scriptedLabel",defaultMessage:"You can use scripted fields in visualizations and display them in your documents. However, you cannot search scripted fields."})))),_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiButton,{"data-test-subj":"addScriptedFieldLink",href:addScriptedFieldUrl},_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.management.editIndexPattern.scripted.addFieldButton",defaultMessage:"Add scripted field"}))))};Header.propTypes={addScriptedFieldUrl:_propTypes2.default.string.isRequired}},7801:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _call_outs=__webpack_require__(7802);Object.defineProperty(exports,"CallOuts",{enumerable:true,get:function get(){return _call_outs.CallOuts}})},7802:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.CallOuts=void 0;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _eui=__webpack_require__(2);var _react3=__webpack_require__(10);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}exports.CallOuts=function CallOuts(_ref){var deprecatedLangsInUse=_ref.deprecatedLangsInUse,painlessDocLink=_ref.painlessDocLink;if(!deprecatedLangsInUse.length)return null;return _react2.default.createElement("div",null,_react2.default.createElement(_eui.EuiCallOut,{title:_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.management.editIndexPattern.scripted.deprecationLangHeader",defaultMessage:"Deprecation languages in use"}),color:"danger",iconType:"cross"},_react2.default.createElement("p",null,_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.management.editIndexPattern.scripted.deprecationLangLabel.deprecationLangDetail",defaultMessage:"The following deprecated languages are in use: {deprecatedLangsInUse}. Support for these languages will be removed in the next major version of Kibana and Elasticsearch. Convert you scripted fields to {link} to avoid any problems.",values:{deprecatedLangsInUse:deprecatedLangsInUse.join(", "),link:_react2.default.createElement(_eui.EuiLink,{href:painlessDocLink},_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.management.editIndexPattern.scripted.deprecationLangLabel.painlessDescription",defaultMessage:"Painless"}))}}))),_react2.default.createElement(_eui.EuiSpacer,{size:"m"}))}},7803:function(module,exports){module.exports='<div class="euiPage">\n  <div class="col-md-2 sidebar-container" role="region" aria-label="{{::\'kbn.management.editIndexPatternAria\' | i18n: { defaultMessage: \'Index patterns\' } }}">\n    <div class="sidebar-list">\n      <div id="indexPatternListReact" role="region" aria-label="{{\'kbn.management.editIndexPatternLiveRegionAriaLabel\' | i18n: { defaultMessage: \'Index patterns\' } }}"></div>\n    </div>\n  </div>\n\n  <div class="col-md-10">\n    <div class="euiPanel euiPanel--paddingLarge">\n      <div ng-transclude></div>\n    </div>\n  </div>\n</div>\n'},7804:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _index_pattern_list=__webpack_require__(7805);Object.defineProperty(exports,"IndexPatternList",{enumerable:true,get:function get(){return _index_pattern_list.IndexPatternList}})},7805:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.IndexPatternList=void 0;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _header=__webpack_require__(7806);var _list=__webpack_require__(7810);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}exports.IndexPatternList=function IndexPatternList(_ref){var indexPatternCreationOptions=_ref.indexPatternCreationOptions,defaultIndex=_ref.defaultIndex,indexPatterns=_ref.indexPatterns;return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement("div",{className:"indexPatternList__headerWrapper","data-test-subj":"createIndexPatternParent"},_react2.default.createElement(_header.Header,{indexPatternCreationOptions:indexPatternCreationOptions})),_react2.default.createElement(_list.List,{indexPatterns:indexPatterns,defaultIndex:defaultIndex}))}},7806:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _header=__webpack_require__(7807);Object.defineProperty(exports,"Header",{enumerable:true,get:function get(){return _header.Header}})},7807:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Header=void 0;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _create_button=__webpack_require__(7808);var _react3=__webpack_require__(10);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}exports.Header=function Header(_ref){var indexPatternCreationOptions=_ref.indexPatternCreationOptions;return _react2.default.createElement(_react3.I18nProvider,null,_react2.default.createElement(_create_button.CreateButton,{options:indexPatternCreationOptions},_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.management.indexPatternList.header.createIndexPatternButtonLabel",defaultMessage:"Create index pattern"})))}},7808:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _create_button=__webpack_require__(7809);Object.defineProperty(exports,"CreateButton",{enumerable:true,get:function get(){return _create_button.CreateButton}})},7809:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.CreateButton=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(6);var _propTypes2=_interopRequireDefault(_propTypes);var _eui_theme_k6_light=__webpack_require__(818);var _eui=__webpack_require__(2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var CreateButton=exports.CreateButton=function(_Component){_inherits(CreateButton,_Component);function CreateButton(props){_classCallCheck(this,CreateButton);var _this=_possibleConstructorReturn(this,(CreateButton.__proto__||Object.getPrototypeOf(CreateButton)).call(this,props));_this.togglePopover=function(){_this.setState({isPopoverOpen:!_this.state.isPopoverOpen})};_this.closePopover=function(){_this.setState({isPopoverOpen:false})};_this.renderBetaBadge=function(){var color=(0,_eui.rgbToHex)(_eui_theme_k6_light.euiColorAccent);return _react2.default.createElement(_eui.EuiBadge,{color:color},"Beta")};_this.state={isPopoverOpen:false};return _this}_createClass(CreateButton,[{key:"render",value:function render(){var _this2=this;var _props=this.props,options=_props.options,children=_props.children;var isPopoverOpen=this.state.isPopoverOpen;if(!options||!options.length)return null;if(1===options.length)return _react2.default.createElement(_eui.EuiButton,{"data-test-subj":"createIndexPatternButton",fill:true,size:"s",onClick:options[0].onClick},children);var button=_react2.default.createElement(_eui.EuiButton,{"data-test-subj":"createIndexPatternButton",fill:true,size:"s",iconType:"arrowDown",iconSide:"right",onClick:this.togglePopover},children);if(options.length>1)return _react2.default.createElement(_eui.EuiPopover,{id:"singlePanel",button:button,isOpen:isPopoverOpen,closePopover:this.closePopover,panelPaddingSize:"none",anchorPosition:"downLeft"},_react2.default.createElement(_eui.EuiContextMenuPanel,{items:options.map(function(option){return _react2.default.createElement(_eui.EuiContextMenuItem,{key:option.text,onClick:option.onClick,"data-test-subj":option.testSubj},_react2.default.createElement(_eui.EuiDescriptionList,{style:{whiteSpace:"nowrap"}},_react2.default.createElement(_eui.EuiDescriptionListTitle,null,option.text,option.isBeta?_react2.default.createElement(_react.Fragment,null," ",_this2.renderBetaBadge()):null),_react2.default.createElement(_eui.EuiDescriptionListDescription,null,option.description)))})}))}}]);return CreateButton}(_react.Component);CreateButton.propTypes={options:_propTypes2.default.arrayOf(_propTypes2.default.shape({text:_propTypes2.default.string.isRequired,description:_propTypes2.default.string,onClick:_propTypes2.default.func.isRequired}))}},7810:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _list=__webpack_require__(7811);Object.defineProperty(exports,"List",{enumerable:true,get:function get(){return _list.List}})},7811:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.List=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(6);var _propTypes2=_interopRequireDefault(_propTypes);var _react3=__webpack_require__(10);var _eui=__webpack_require__(2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var ListUi=function(_Component){_inherits(ListUi,_Component);function ListUi(){_classCallCheck(this,ListUi);return _possibleConstructorReturn(this,(ListUi.__proto__||Object.getPrototypeOf(ListUi)).apply(this,arguments))}_createClass(ListUi,[{key:"renderList",value:function renderList(){var _props=this.props,indexPatterns=_props.indexPatterns,intl=_props.intl;if(indexPatterns&&indexPatterns.length)return _react2.default.createElement("div",null,indexPatterns.map(function(pattern){var id=pattern.id,isDefault=pattern.default,active=pattern.active,url=pattern.url,title=pattern.title,tag=pattern.tag;var icon=void 0;isDefault&&(icon=_react2.default.createElement(_react.Fragment,null,_react2.default.createElement("em",{"aria-label":intl.formatMessage({id:"kbn.management.indexPatternList.defaultIndexPatternIconAriaLabel",defaultMessage:"Default index pattern"}),className:"fa fa-star"})," "));var titleElement=void 0;titleElement=active?_react2.default.createElement("strong",null,title):title;var tagElement=void 0;if(tag){var key=tag.key,color=tag.color,name=tag.name;tagElement=_react2.default.createElement(_react.Fragment,{key:key}," ",_react2.default.createElement(_eui.EuiBadge,{color:color||"primary"},name))}return _react2.default.createElement("div",{key:id},_react2.default.createElement(_eui.EuiButtonEmpty,{size:"xs",href:url,"data-test-subj":"indexPatternLink"},icon,titleElement,tagElement),_react2.default.createElement(_eui.EuiSpacer,{size:"xs"}))}));return null}},{key:"renderNoDefaultMessage",value:function renderNoDefaultMessage(){var defaultIndex=this.props.defaultIndex;return defaultIndex?null:_react2.default.createElement("div",{className:"indexPatternList__headerWrapper"},_react2.default.createElement(_eui.EuiCallOut,{color:"warning",size:"s",iconType:"alert",title:_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.management.indexPatternList.noDefaultIndexPatternTitle",defaultMessage:"No default index pattern. You must select or create one to continue."})}))}},{key:"render",value:function render(){return _react2.default.createElement("div",null,this.renderNoDefaultMessage(),this.renderList())}}]);return ListUi}(_react.Component);ListUi.propTypes={indexPatterns:_propTypes2.default.array,defaultIndex:_propTypes2.default.string};exports.List=(0,_react3.injectI18n)(ListUi)},7812:function(module,exports){module.exports='<div class="app-container">\n  \x3c!-- Local nav. --\x3e\n  <kbn-top-nav name="management-subnav" data-test-subj="managementNav">\n    \x3c!-- Transcluded elements. --\x3e\n    <div data-transclude-slots>\n      \x3c!-- Breadcrumbs. --\x3e\n      <bread-crumbs\n        data-transclude-slot="topLeftCorner"\n        omit-current-page="true"\n        use-links="true"\n        omit-pages="omitPages"\n        page-title="pageTitle"\n      ></bread-crumbs>\n\n      \x3c!-- Tabs. --\x3e\n      <div data-transclude-slot="bottomRow" class="kuiLocalTabs" role="tablist" ng-show="!sectionName || section.visibleItems.length > 0">\n        <h2 class="kuiLocalTab" ng-if="!sectionName" id="tabHeader" tabindex="0" role="tab">\n          {{::section.display}}\n        </h2>\n        <a\n          role="tab"\n          ng-if="sectionName"\n          ng-repeat="item in section.visibleItems"\n          class="kuiLocalTab"\n          ng-class="{ \'kuiLocalTab-isSelected\': item.active, \'kuiLocalTab-isDisabled\': !item.active && (item.disabled || !item.url) }"\n          kbn-href="{{::item.disabled ? \'\' : item.url}}"\n          data-test-subj="{{::item.name}}"\n          tooltip="{{::item.tooltip}}"\n          tooltip-placement="bottom"\n          tooltip-popup-delay="400"\n          tooltip-append-to-body="1"\n          aria-selected="{{!!item.active}}"\n          aria-disabled="{{!!item.disabled}}"\n        >\n          {{::item.display}}\n        </a>\n      </div>\n    </div>\n  </kbn-top-nav>\n\n  <main class="management-container" ng-transclude></main>\n</div>\n'},7813:function(module,exports){module.exports='<kbn-management-app>\n  <kbn-management-landing>\n    \x3c!-- General info --\x3e\n    <div class="page-row">\n      <div class="page-row-text">Version: {{::kbnVersion}}</div>\n    </div>\n\n    \x3c!-- Management sections for the ES stack --\x3e\n    <div\n      ng-if="section.visibleItems.length > 0"\n      ng-repeat="section in sections"\n      class="page-row"\n    >\n      <div class="kuiPanel mgtPanel" role="group">\n        <div class="kuiPanelHeader">\n          <div class="kuiPanelHeaderSection">\n            <icon type="\'{{::section.icon}}\'" size="\'l\'"></icon>\n            <h3 class="kuiPanelHeader__title">\n              {{::section.display}}\n            </h3>\n          </div>\n        </div>\n\n        <div class="kuiPanelBody">\n          <div class="row">\n            <ul class="list-unstyled">\n              <li\n                class="col-xs-4 col-md-3"\n                ng-repeat="item in section.visibleItems"\n              >\n                <a\n                  data-test-subj="{{::item.id}}"\n                  class="euiLink euiLink--primary mgtPanel__link"\n                  ng-class="{ \'mgtPanel__link--disabled\': item.disabled || !item.url }"\n                  kbn-href="{{::item.disabled ? \'\' : item.url}}"\n                  tooltip="{{::item.tooltip}}"\n                  tooltip-placement="bottom"\n                  tooltip-popup-delay="400"\n                  tooltip-append-to-body="1"\n                >\n                  {{::item.display}}\n                </a>\n              </li>\n            </ul>\n          </div>\n        </div>\n      </div>\n    </div>\n  </kbn-management-landing>\n</kbn-management-app>\n'},7814:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default=function(opts){opts=opts||{};var whenMissingRedirectTo=opts.whenMissingRedirectTo||null;_routes2.default.addSetupWork(function loadDefaultIndexPattern(Private,Promise,$route,config){var getIds=Private(_get.IndexPatternsGetProvider)("id");var route=_lodash2.default.get($route,"current.$$route");return getIds().then(function(patterns){var defaultId=config.get("defaultIndex");var defined=!!defaultId;var exists=_lodash2.default.contains(patterns,defaultId);if(defined&&!exists){config.remove("defaultIndex");defaultId=defined=false}if(!defined&&route.requireDefaultIndex){if(1!==patterns.length)throw new _errors.NoDefaultIndexPattern;defaultId=patterns[0];config.set("defaultIndex",defaultId)}})}).afterWork(null,function(err,kbnUrl){var hasDefault=!(err instanceof _errors.NoDefaultIndexPattern);if(hasDefault||!whenMissingRedirectTo)throw err;kbnUrl.change(whenMissingRedirectTo);displayBanner()})};var _lodash=__webpack_require__(1);var _lodash2=_interopRequireDefault(_lodash);var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _notify=__webpack_require__(11);var _errors=__webpack_require__(71);var _get=__webpack_require__(1013);var _routes=__webpack_require__(13);var _routes2=_interopRequireDefault(_routes);var _eui=__webpack_require__(2);var _timers=__webpack_require__(719);var _i18n=__webpack_require__(18);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var bannerId=void 0;var timeoutId=void 0;function displayBanner(){(0,_timers.clearTimeout)(timeoutId);bannerId=_notify.banners.set({id:bannerId,component:_react2.default.createElement(_eui.EuiCallOut,{color:"warning",iconType:"iInCircle",title:_i18n.i18n.translate("common.ui.indexPattern.bannerLabel",{defaultMessage:"In order to visualize and explore data in Kibana, you'll need to create an index pattern to retrieve data from Elasticsearch."})})});timeoutId=setTimeout(function(){_notify.banners.remove(bannerId);timeoutId=void 0},15e3)}module.exports=exports["default"]},7815:function(module,exports,__webpack_require__){"use strict";__webpack_require__(7816)},7816:function(module,exports,__webpack_require__){"use strict";__webpack_require__(11);__webpack_require__(101);__webpack_require__(1925);__webpack_require__(331);var _index=__webpack_require__(7817);var _index2=_interopRequireDefault(_index);var _routes=__webpack_require__(13);var _routes2=_interopRequireDefault(_routes);var _modules=__webpack_require__(3);var _timefilter=__webpack_require__(17);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var app=_modules.uiModules.get("apps/doc",["kibana/notify","kibana/courier","kibana/index_patterns"]);var resolveIndexPattern={indexPattern:function indexPattern(indexPatterns,savedSearches,$route){return indexPatterns.get($route.current.params.indexPattern)}};_routes2.default.when("/doc/:indexPattern/:index/:type/:id",{template:_index2.default,resolve:resolveIndexPattern}).when("/doc/:indexPattern/:index/:type",{template:_index2.default,resolve:resolveIndexPattern});app.controller("doc",function($scope,$route,es){_timefilter.timefilter.disableAutoRefreshSelector();_timefilter.timefilter.disableTimeRangeSelector();$scope.indexPattern=$route.current.locals.indexPattern;var computedFields=$scope.indexPattern.getComputedFields();es.search({index:$route.current.params.index,body:{query:{ids:{type:$route.current.params.type,values:[$route.current.params.id]}},stored_fields:computedFields.storedFields,_source:true,script_fields:computedFields.scriptFields,docvalue_fields:computedFields.docvalueFields}}).then(function(resp){if(resp.hits)if(resp.hits.total<1)$scope.status="notFound";else{$scope.status="found";$scope.hit=resp.hits.hits[0]}}).catch(function(err){if(404===err.status)$scope.status="notFound";else{$scope.status="error";$scope.resp=err}})})},7817:function(module,exports){module.exports='<div ng-controller="doc" class="app-container">\n  <div class="kuiLocalNav">\n    <div class="kuiLocalNavRow">\n      <div class="kuiLocalNavRow__section">\n        <div class="kuiLocalTitle">\n          Single Document\n        </div>\n      </div>\n    </div>\n    <div class="kuiLocalNavRow kuiLocalNavRow--secondary">\n      <div class="kuiLocalTabs">\n        <div\n          class="kuiLocalTab kuiLocalTab-isSelected"\n          ng-bind-template="{{ hit._type }}#{{ hit._id | uriescape }}"\n          ng-if="!!hit"\n        ></div>\n        <div\n          class="kuiLocalTab kuiLocalTab-isSelected"\n          ng-if="!hit"\n        >Unknown Id</div>\n      </div>\n    </div>\n  </div>\n\n  <div class="kuiViewContent">\n    \x3c!-- no results --\x3e\n    <div class="kuiViewContentItem" ng-if="status === \'notFound\'">\n      <div class="kuiInfoPanel kuiInfoPanel--error kuiVerticalRhythm">\n        <div class="kuiInfoPanelHeader">\n          <span class="kuiInfoPanelHeader__icon kuiIcon kuiIcon--error fa-warning"></span>\n          <span class="kuiInfoPanelHeader__title">\n            Failed to locate document\n          </span>\n        </div>\n        <div class="kuiInfoPanelBody">\n          <div class="kuiInfoPanelBody__message">\n            Unfortunately I could not find any documents matching that id, of that type, in that index. I tried really hard. I wanted it to be there. Sometimes I swear documents grow legs and just walk out of the index. Sneaky. I wish I could offer some advice here, something to make you feel better\n          </div>\n        </div>\n      </div>\n    </div>\n\n    \x3c!-- error --\x3e\n    <div class="kuiViewContentItem" ng-if="status === \'error\'">\n      <div class="kuiInfoPanel kuiInfoPanel--error kuiVerticalRhythm">\n        <div class="kuiInfoPanelHeader">\n          <span class="kuiInfoPanelHeader__icon kuiIcon kuiIcon--error fa-warning"></span>\n          <span class="kuiInfoPanelHeader__title">\n            Failed to execute query\n          </span>\n        </div>\n        <div class="kuiInfoPanelBody">\n          <div class="kuiInfoPanelBody__message">\n            Oh no. Something went very wrong. Its not just that I couldn\'t find your document, I couldn\'t even try. The index was missing, or the type. Go check out Elasticsearch, something isn\'t quite right here.\n          </div>\n        </div>\n      </div>\n    </div>\n\n    \x3c!-- loading --\x3e\n    <div class="kuiViewContentItem" ng-if="status === undefined">\n      <div class="kuiPanel kuiPanel--centered">\n        <div class="kuiTableInfo">\n          Loading&hellip;\n        </div>\n      </div>\n    </div>\n\n    \x3c!-- result --\x3e\n    <div class="kuiViewContentItem" ng-if="status === \'found\'">\n      <doc-viewer hit="hit" index-pattern="indexPattern"></doc-viewer>\n    </div>\n  </div>\n</div>\n'},7818:function(module,exports,__webpack_require__){"use strict";var _routes=__webpack_require__(13);var _routes2=_interopRequireDefault(_routes);var _dev_tools=__webpack_require__(487);var _feature_catalogue=__webpack_require__(62);__webpack_require__(7819);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}_routes2.default.when("/dev_tools",{resolve:{redirect:function redirect(Private,kbnUrl){var items=Private(_dev_tools.DevToolsRegistryProvider).inOrder;kbnUrl.redirect(items[0].url.substring(1))}}});_feature_catalogue.FeatureCatalogueRegistryProvider.register(function(){return{id:"console",title:"Console",description:"Skip cURL and use this JSON interface to work with your data directly.",icon:"consoleApp",path:"/app/kibana#/dev_tools/console",showOnHomePage:true,category:_feature_catalogue.FeatureCatalogueCategory.ADMIN}})},7819:function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(3);var _dev_tools=__webpack_require__(487);var _dev_tools_app=__webpack_require__(7820);var _dev_tools_app2=_interopRequireDefault(_dev_tools_app);__webpack_require__(1031);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}_modules.uiModules.get("apps/dev_tools").directive("kbnDevToolsApp",function(Private,$location){var devToolsRegistry=Private(_dev_tools.DevToolsRegistryProvider);return{restrict:"E",replace:true,template:_dev_tools_app2.default,transclude:true,scope:{topNavConfig:"="},bindToController:true,controllerAs:"kbnDevToolsApp",controller:function controller(){this.devTools=devToolsRegistry.inOrder;this.currentPath="#"+$location.path();this.onClick=function(item,$event){item.disabled&&$event.preventDefault()}}}})},7820:function(module,exports){module.exports='<div class="devApp app-container">\n  <kbn-top-nav name="devtools" config="kbnDevToolsApp.topNavConfig">\n    \x3c!-- Transcluded elements. --\x3e\n    <div data-transclude-slots>\n      \x3c!-- Breadcrumbs. --\x3e\n      <bread-crumbs\n        data-transclude-slot="topLeftCorner"\n        omit-current-page="true"\n      ></bread-crumbs>\n\n      \x3c!-- Tabs. --\x3e\n      <div data-transclude-slot="bottomRow" class="euiTabs" role="tablist">\n        <a\n          role="tab"\n          aria-selected="{{kbnDevToolsApp.currentPath === item.url}}"\n          ng-repeat="item in kbnDevToolsApp.devTools"\n          class="euiTab"\n          ng-class="{\'euiTab-isSelected\': kbnDevToolsApp.currentPath === item.url, \'euiTab-isDisabled\': item.disabled}"\n          ng-disabled="item.disabled"\n          kbn-href="{{::item.url}}"\n          ng-click="kbnDevToolsApp.onClick(item, $event)"\n          tooltip="{{ item.tooltipContent }}"\n          tooltip-placement="bottom"\n          tooltip-popup-delay="0"\n          tooltip-append-to-body="1"\n        >\n          {{::item.display}}\n        </a>\n      </div>\n    </div>\n  </kbn-top-nav>\n  <main class="devApp__container" role="tabpanel" ng-transclude></main>\n</div>\n'},7821:function(module,exports,__webpack_require__){"use strict";var _lodash=__webpack_require__(1);var _lodash2=_interopRequireDefault(_lodash);var _query_filter=__webpack_require__(308);var _routes=__webpack_require__(13);var _routes2=_interopRequireDefault(_routes);__webpack_require__(7822);var _index=__webpack_require__(7835);var _index2=_interopRequireDefault(_index);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}_routes2.default.when("/context/:indexPatternId/:type/:id*",{controller:ContextAppRouteController,controllerAs:"contextAppRoute",resolve:{indexPattern:function indexPattern($route,indexPatterns){return indexPatterns.get($route.current.params.indexPatternId)}},template:_index2.default});function ContextAppRouteController($routeParams,$scope,AppState,chrome,config,indexPattern,Private){var _this=this;var queryFilter=Private(_query_filter.FilterBarQueryFilterProvider);this.state=new AppState(createDefaultAppState(config,indexPattern));this.state.save(true);$scope.$watchGroup(["contextAppRoute.state.columns","contextAppRoute.state.predecessorCount","contextAppRoute.state.successorCount"],function(){return _this.state.save(true)});$scope.$listen(queryFilter,"update",function(){_this.filters=_lodash2.default.cloneDeep(queryFilter.getFilters())});this.anchorType=$routeParams.type;this.anchorId=$routeParams.id;this.indexPattern=indexPattern;this.discoverUrl=chrome.getNavLinkById("kibana:discover").lastSubUrl;this.filters=_lodash2.default.cloneDeep(queryFilter.getFilters())}function createDefaultAppState(config,indexPattern){return{columns:["_source"],filters:[],predecessorCount:parseInt(config.get("context:defaultSize"),10),sort:[indexPattern.timeFieldName,"desc"],successorCount:parseInt(config.get("context:defaultSize"),10)}}},7822:function(module,exports,__webpack_require__){"use strict";var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};var _lodash=__webpack_require__(1);var _lodash2=_interopRequireDefault(_lodash);var _compat=__webpack_require__(107);var _modules=__webpack_require__(3);var _app=__webpack_require__(7823);var _app2=_interopRequireDefault(_app);__webpack_require__(7824);__webpack_require__(7827);var _sorting=__webpack_require__(2285);var _query_parameters=__webpack_require__(2286);var _query=__webpack_require__(7830);var _timefilter=__webpack_require__(17);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}return Array.from(arr)}var _module=_modules.uiModules.get("apps/context",["elasticsearch","kibana","kibana/config","kibana/notify","ngRoute"]);_module.directive("contextApp",function ContextApp(){return{bindToController:true,controller:(0,_compat.callAfterBindingsWorkaround)(ContextAppController),controllerAs:"contextApp",restrict:"E",scope:{anchorType:"=",anchorId:"=",columns:"=",indexPattern:"=",filters:"=",predecessorCount:"=",successorCount:"=",sort:"=",discoverUrl:"="},template:_app2.default}});function ContextAppController($scope,config,Private){var _this=this;var queryParameterActions=Private(_query_parameters.QueryParameterActionsProvider);var queryActions=Private(_query.QueryActionsProvider);_timefilter.timefilter.disableAutoRefreshSelector();_timefilter.timefilter.disableTimeRangeSelector();this.state=createInitialState(parseInt(config.get("context:step"),10),(0,_sorting.getFirstSortableField)(this.indexPattern,config.get("context:tieBreakerFields")),this.discoverUrl);this.actions=_lodash2.default.mapValues(_extends({},queryParameterActions,queryActions),function(action){return function(){return action(_this.state).apply(void 0,arguments)}});this.constants={FAILURE_REASONS:_query.FAILURE_REASONS,LOADING_STATUS:_query.LOADING_STATUS};$scope.$watchGroup([function(){return _this.state.rows.predecessors},function(){return _this.state.rows.anchor},function(){return _this.state.rows.successors}],function(newValues){var _actions;return(_actions=_this.actions).setAllRows.apply(_actions,_toConsumableArray(newValues))});$scope.$watchCollection(function(){return _extends({},_lodash2.default.pick(_this,_query_parameters.QUERY_PARAMETER_KEYS),{indexPatternId:_this.indexPattern.id})},function(newQueryParameters){var queryParameters=_this.state.queryParameters;newQueryParameters.indexPatternId===queryParameters.indexPatternId&&newQueryParameters.anchorType===queryParameters.anchorType&&newQueryParameters.anchorId===queryParameters.anchorId&&_lodash2.default.isEqual(newQueryParameters.sort,queryParameters.sort)?newQueryParameters.predecessorCount===queryParameters.predecessorCount&&newQueryParameters.successorCount===queryParameters.successorCount&&_lodash2.default.isEqual(newQueryParameters.filters,queryParameters.filters)||_this.actions.fetchContextRowsWithNewQueryParameters(_lodash2.default.cloneDeep(newQueryParameters)):_this.actions.fetchAllRowsWithNewQueryParameters(_lodash2.default.cloneDeep(newQueryParameters))});$scope.$watchCollection(function(){return{predecessorCount:_this.state.queryParameters.predecessorCount,successorCount:_this.state.queryParameters.successorCount}},function(newParameters){_lodash2.default.assign(_this,newParameters)})}function createInitialState(defaultStepSize,tieBreakerField,discoverUrl){return{queryParameters:(0,_query_parameters.createInitialQueryParametersState)(defaultStepSize,tieBreakerField),rows:{all:[],anchor:null,predecessors:[],successors:[]},loadingStatus:(0,_query.createInitialLoadingStatusState)(),navigation:{discover:{url:discoverUrl}}}}},7823:function(module,exports){module.exports='<div class="kuiLocalNav">\n  <div class="kuiLocalNavRow">\n    <div class="kuiLocalNavRow__section">\n      <div class="kuiLocalTitle" role="heading" aria-level="1">\n        Surrounding Documents in {{ contextApp.state.queryParameters.indexPatternId }}\n      </div>\n    </div>\n  </div>\n  <div class="kuiLocalNavRow kuiLocalNavRow--secondary">\n    <div class="kuiLocalTabs">\n      <div class="kuiLocalTab kuiLocalTab-isSelected" >\n        {{ contextApp.state.queryParameters.anchorType }}#{{ contextApp.state.queryParameters.anchorId }}\n      </div>\n    </div>\n  </div>\n</div>\n\n<filter-bar index-patterns="[contextApp.indexPattern]"></filter-bar>\n\n\x3c!-- Error feedback --\x3e\n<div\n  class="kuiViewContent kuiViewContentItem"\n  ng-if="contextApp.state.loadingStatus.anchor.status === contextApp.constants.LOADING_STATUS.FAILED"\n>\n  <div class="kuiInfoPanel kuiInfoPanel--error kuiVerticalRhythm">\n    <div class="kuiInfoPanelHeader">\n      <span class="kuiInfoPanelHeader__icon kuiIcon kuiIcon--error fa-warning"></span>\n      <span class="kuiInfoPanelHeader__title">\n        Failed to load the anchor document\n      </span>\n    </div>\n\n    <div class="kuiInfoPanelBody">\n      <div\n        class="kuiInfoPanelBody__message"\n        ng-if="contextApp.state.loadingStatus.anchor.reason === contextApp.constants.FAILURE_REASONS.INVALID_TIEBREAKER"\n      >\n        No searchable tiebreaker field could be found in the index pattern\n        {{ contextApp.state.queryParameters.indexPatternId}}.\n\n        Please change the advanced setting\n        <code>context:tieBreakerFields</code> to include a valid field for this\n        index pattern.\n      </div>\n      <div\n        class="kuiInfoPanelBody__message"\n        ng-if="contextApp.state.loadingStatus.anchor.reason === contextApp.constants.FAILURE_REASONS.UNKNOWN"\n      >\n        Please reload or visit\n        <a ng-href="{{ contextApp.state.navigation.discover.url }}">Discover</a>\n        to select a valid anchor document.\n      </div>\n    </div>\n  </div>\n</div>\n\n<main\n  class="kuiViewContent kuiViewContentItem"\n  ng-if="contextApp.state.loadingStatus.anchor.status !== contextApp.constants.LOADING_STATUS.FAILED"\n>\n  \x3c!-- Controls --\x3e\n  <div class="kuiBar kuiVerticalRhythm">\n    <div class="kuiBarSection">\n      <context-loading-button\n        data-test-subj="predecessorLoadMoreButton"\n        is-disabled="![\n          contextApp.constants.LOADING_STATUS.LOADED,\n          contextApp.constants.LOADING_STATUS.FAILED,\n        ].includes(contextApp.state.loadingStatus.predecessors.status)"\n        icon="\'fa-chevron-up\'"\n        ng-click="contextApp.actions.fetchMorePredecessorRows()"\n      >\n        Load {{ contextApp.state.queryParameters.defaultStepSize }} more\n      </context-loading-button>\n      <context-size-picker\n        count="contextApp.state.queryParameters.predecessorCount"\n        data-test-subj="predecessorCountPicker"\n        is-disabled="contextApp.state.loadingStatus.anchor.status !== contextApp.constants.LOADING_STATUS.LOADED"\n        on-change-count="contextApp.actions.fetchGivenPredecessorRows"\n      ></context-size-picker>\n      <span>newer documents</span>\n      <span\n        class="kuiStatusText kuiStatusText--warning"\n        ng-if="(contextApp.state.loadingStatus.predecessors.status === contextApp.constants.LOADING_STATUS.LOADED)\n          && (contextApp.state.queryParameters.predecessorCount > contextApp.state.rows.predecessors.length)"\n      >\n        <span class="kuiStatusText__icon kuiIcon fa-bolt"></span>\n        <span ng-bind-template="Only {{ contextApp.state.rows.predecessors.length }} documents newer than the anchor could be found."></span>\n      </span>\n    </div>\n\n    <div class="kuiBarSection">\n    </div>\n  </div>\n\n  \x3c!-- Loading feedback --\x3e\n  <div\n    ng-if="[\n      contextApp.constants.LOADING_STATUS.UNINITIALIZED,\n      contextApp.constants.LOADING_STATUS.LOADING,\n    ].includes(contextApp.state.loadingStatus.anchor.status)"\n    class="kuiPanel kuiPanel--centered kuiVerticalRhythm"\n  >\n    <div class="kuiTableInfo">\n      Loading&hellip;\n    </div>\n  </div>\n\n  \x3c!-- Table --\x3e\n  <div\n    ng-if="contextApp.state.loadingStatus.anchor.status === contextApp.constants.LOADING_STATUS.LOADED"\n    class="kuiPanel kuiVerticalRhythm"\n  >\n    <div class="discover-table" fixed-scroll>\n      <doc-table\n        filter="contextApp.actions.addFilter"\n        hits="contextApp.state.rows.all"\n        index-pattern="contextApp.indexPattern"\n        sorting="contextApp.state.queryParameters.sort"\n        columns="contextApp.state.queryParameters.columns"\n        infinite-scroll="true"\n        minimum-visible-rows="contextApp.state.rows.all.length"\n      ></doc-table>\n    </div>\n  </div>\n\n  \x3c!-- Controls --\x3e\n  <div class="kuiBar kuiVerticalRhythm">\n    <div class="kuiBarSection">\n      <context-loading-button\n        data-test-subj="successorLoadMoreButton"\n        is-disabled="![\n          contextApp.constants.LOADING_STATUS.LOADED,\n          contextApp.constants.LOADING_STATUS.FAILED,\n        ].includes(contextApp.state.loadingStatus.successors.status)"\n        icon="\'fa-chevron-down\'"\n        ng-click="contextApp.actions.fetchMoreSuccessorRows()"\n      >\n        Load {{ contextApp.state.queryParameters.defaultStepSize }} more\n      </context-loading-button>\n      <context-size-picker\n        count="contextApp.state.queryParameters.successorCount"\n        data-test-subj="successorCountPicker"\n        is-disabled="contextApp.state.loadingStatus.anchor.status !== contextApp.constants.LOADING_STATUS.LOADED"\n        on-change-count="contextApp.actions.fetchGivenSuccessorRows"\n      ></context-size-picker>\n      <div>older documents</div>\n      <span\n        class="kuiStatusText kuiStatusText--warning"\n        ng-if="(contextApp.state.loadingStatus.successors.status === contextApp.constants.LOADING_STATUS.LOADED)\n          && (contextApp.state.queryParameters.successorCount > contextApp.state.rows.successors.length)"\n      >\n        <span class="kuiStatusText__icon kuiIcon fa-bolt"></span>\n        <span ng-bind-template="Only {{ contextApp.state.rows.successors.length }} documents older than the anchor could be found."></span>\n      </span>\n    </div>\n\n    <div class="kuiBarSection">\n    </div>\n  </div>\n</main>\n'},7824:function(module,exports,__webpack_require__){"use strict";__webpack_require__(7825)},7825:function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(3);var _loading_button=__webpack_require__(7826);var _loading_button2=_interopRequireDefault(_loading_button);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _module=_modules.uiModules.get("apps/context",["kibana","ngRoute"]);_module.directive("contextLoadingButton",function ContextLoadingButton(){return{replace:true,restrict:"E",scope:{isDisabled:"=",icon:"="},template:_loading_button2.default,transclude:true}})},7826:function(module,exports){module.exports='<button\n  class="kuiButton kuiButton--basic kuiButton--iconText"\n  ng-disabled="isDisabled"\n>\n  <span class="kuiButton__inner">\n    <span\n      class="kuiButton__icon kuiIcon fa-spinner fa-spin"\n      ng-class="isDisabled ? [\'fa-spinner\', \'fa-spin\'] : [icon]"\n    />\n    <span ng-transclude />\n  </span>\n</button>\n'},7827:function(module,exports,__webpack_require__){"use strict";var _lodash=__webpack_require__(1);var _lodash2=_interopRequireDefault(_lodash);var _modules=__webpack_require__(3);var _compat=__webpack_require__(107);var _size_picker=__webpack_require__(7828);var _size_picker2=_interopRequireDefault(_size_picker);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _module=_modules.uiModules.get("apps/context",["kibana"]);_module.directive("contextSizePicker",function ContextSizePicker(){return{bindToController:true,controller:(0,_compat.callAfterBindingsWorkaround)(ContextSizePickerController),controllerAs:"contextSizePicker",link:linkContextSizePicker,replace:true,restrict:"E",require:"ngModel",scope:{count:"=",isDisabled:"=",onChangeCount:"="},template:_size_picker2.default}});function linkContextSizePicker(scope,element,attrs,ngModel){scope.countModel=ngModel}function ContextSizePickerController($scope){var _this=this;$scope.$watch(function(){return _this.count},function(){return $scope.countModel.$rollbackViewValue()});this.getOrSetCount=function(count){return _lodash2.default.isUndefined(count)?_this.count:_this.onChangeCount(count)}}},7828:function(module,exports){module.exports='<input\n  class="kuiTextInput cxtSizePicker"\n  ng-disabled="contextSizePicker.isDisabled"\n  ng-model-options="{updateOn: \'change\', getterSetter: true, debounce: 200}"\n  ng-model="contextSizePicker.getOrSetCount"\n  type="number"\n>\n'},7829:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.QueryParameterActionsProvider=QueryParameterActionsProvider;var _lodash=__webpack_require__(1);var _lodash2=_interopRequireDefault(_lodash);var _filter_manager=__webpack_require__(745);var _constants=__webpack_require__(2287);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}function QueryParameterActionsProvider(indexPatterns,Private){var _this=this;var filterManager=Private(_filter_manager.FilterManagerProvider);var setPredecessorCount=function setPredecessorCount(state){return function(predecessorCount){return state.queryParameters.predecessorCount=clamp(_constants.MIN_CONTEXT_SIZE,_constants.MAX_CONTEXT_SIZE,predecessorCount)}};var increasePredecessorCount=function increasePredecessorCount(state){return function(){var value=arguments.length>0&&void 0!==arguments[0]?arguments[0]:state.queryParameters.defaultStepSize;return setPredecessorCount(state)(state.queryParameters.predecessorCount+value)}};var setSuccessorCount=function setSuccessorCount(state){return function(successorCount){return state.queryParameters.successorCount=clamp(_constants.MIN_CONTEXT_SIZE,_constants.MAX_CONTEXT_SIZE,successorCount)}};var increaseSuccessorCount=function increaseSuccessorCount(state){return function(){var value=arguments.length>0&&void 0!==arguments[0]?arguments[0]:state.queryParameters.defaultStepSize;return setSuccessorCount(state)(state.queryParameters.successorCount+value)}};var setQueryParameters=function setQueryParameters(state){return function(queryParameters){return Object.assign(state.queryParameters,_lodash2.default.pick(queryParameters,_constants.QUERY_PARAMETER_KEYS))}};var addFilter=function addFilter(state){return _ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee(field,values,operation){var indexPatternId,indexPattern;return regeneratorRuntime.wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:indexPatternId=state.queryParameters.indexPatternId;filterManager.add(field,values,operation,indexPatternId);_context.next=4;return indexPatterns.get(indexPatternId);case 4:indexPattern=_context.sent;indexPattern.popularizeField(field.name,1);case 6:case"end":return _context.stop()}},_callee,_this)})),function(_x3,_x4,_x5){return _ref.apply(this,arguments)};var _ref};return{addFilter:addFilter,increasePredecessorCount:increasePredecessorCount,increaseSuccessorCount:increaseSuccessorCount,setPredecessorCount:setPredecessorCount,setQueryParameters:setQueryParameters,setSuccessorCount:setSuccessorCount}}function clamp(minimum,maximum,value){return Math.max(Math.min(maximum,value),minimum)}},7830:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _actions=__webpack_require__(7831);Object.defineProperty(exports,"QueryActionsProvider",{enumerable:true,get:function get(){return _actions.QueryActionsProvider}});var _constants=__webpack_require__(1281);Object.defineProperty(exports,"FAILURE_REASONS",{enumerable:true,get:function get(){return _constants.FAILURE_REASONS}});Object.defineProperty(exports,"LOADING_STATUS",{enumerable:true,get:function get(){return _constants.LOADING_STATUS}});var _state=__webpack_require__(7834);Object.defineProperty(exports,"createInitialLoadingStatusState",{enumerable:true,get:function get(){return _state.createInitialLoadingStatusState}})},7831:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};exports.QueryActionsProvider=QueryActionsProvider;var _lodash=__webpack_require__(1);var _lodash2=_interopRequireDefault(_lodash);var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _markdown=__webpack_require__(581);var _notify=__webpack_require__(11);var _anchor=__webpack_require__(7832);var _context=__webpack_require__(7833);var _query_parameters=__webpack_require__(2286);var _constants=__webpack_require__(1281);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}return Array.from(arr)}function _defineProperty(obj,key,value){key in obj?Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true}):obj[key]=value;return obj}function QueryActionsProvider(courier,Private,Promise){var fetchAnchor=Private(_anchor.fetchAnchorProvider);var _Private=Private(_context.fetchContextProvider),fetchPredecessors=_Private.fetchPredecessors,fetchSuccessors=_Private.fetchSuccessors;var _Private2=Private(_query_parameters.QueryParameterActionsProvider),increasePredecessorCount=_Private2.increasePredecessorCount,increaseSuccessorCount=_Private2.increaseSuccessorCount,setPredecessorCount=_Private2.setPredecessorCount,setQueryParameters=_Private2.setQueryParameters,setSuccessorCount=_Private2.setSuccessorCount;var setFailedStatus=function setFailedStatus(state){return function(subject){var details=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return state.loadingStatus[subject]=_extends({status:_constants.LOADING_STATUS.FAILED,reason:_constants.FAILURE_REASONS.UNKNOWN},details)}};var setLoadedStatus=function setLoadedStatus(state){return function(subject){return state.loadingStatus[subject]={status:_constants.LOADING_STATUS.LOADED}}};var setLoadingStatus=function setLoadingStatus(state){return function(subject){return state.loadingStatus[subject]={status:_constants.LOADING_STATUS.LOADING}}};var fetchAnchorRow=function fetchAnchorRow(state){return function(){var _state$queryParameter=state.queryParameters,indexPatternId=_state$queryParameter.indexPatternId,anchorType=_state$queryParameter.anchorType,anchorId=_state$queryParameter.anchorId,sort=_state$queryParameter.sort,tieBreakerField=_state$queryParameter.tieBreakerField;if(!tieBreakerField)return Promise.reject(setFailedStatus(state)("anchor",{reason:_constants.FAILURE_REASONS.INVALID_TIEBREAKER}));setLoadingStatus(state)("anchor");return Promise.try(function(){return fetchAnchor(indexPatternId,anchorType,anchorId,[_lodash2.default.zipObject([sort]),_defineProperty({},tieBreakerField,"asc")])}).then(function(anchorDocument){setLoadedStatus(state)("anchor");state.rows.anchor=anchorDocument;return anchorDocument},function(error){setFailedStatus(state)("anchor",{error:error});_notify.toastNotifications.addDanger({title:"Unable to load the anchor document",text:_react2.default.createElement(_markdown.MarkdownSimple,null,error.message)});throw error})}};var fetchPredecessorRows=function fetchPredecessorRows(state){return function(){var _state$queryParameter2=state.queryParameters,indexPatternId=_state$queryParameter2.indexPatternId,filters=_state$queryParameter2.filters,predecessorCount=_state$queryParameter2.predecessorCount,sort=_state$queryParameter2.sort,tieBreakerField=_state$queryParameter2.tieBreakerField,anchor=state.rows.anchor;if(!tieBreakerField)return Promise.reject(setFailedStatus(state)("predecessors",{reason:_constants.FAILURE_REASONS.INVALID_TIEBREAKER}));setLoadingStatus(state)("predecessors");return Promise.try(function(){return fetchPredecessors(indexPatternId,sort[0],sort[1],anchor.sort[0],tieBreakerField,"asc",anchor.sort[1],predecessorCount,filters)}).then(function(predecessorDocuments){setLoadedStatus(state)("predecessors");state.rows.predecessors=predecessorDocuments;return predecessorDocuments},function(error){setFailedStatus(state)("predecessors",{error:error});_notify.toastNotifications.addDanger({title:"Unable to load documents",text:_react2.default.createElement(_markdown.MarkdownSimple,null,error.message)});throw error})}};var fetchSuccessorRows=function fetchSuccessorRows(state){return function(){var _state$queryParameter3=state.queryParameters,indexPatternId=_state$queryParameter3.indexPatternId,filters=_state$queryParameter3.filters,sort=_state$queryParameter3.sort,successorCount=_state$queryParameter3.successorCount,tieBreakerField=_state$queryParameter3.tieBreakerField,anchor=state.rows.anchor;if(!tieBreakerField)return Promise.reject(setFailedStatus(state)("successors",{reason:_constants.FAILURE_REASONS.INVALID_TIEBREAKER}));setLoadingStatus(state)("successors");return Promise.try(function(){return fetchSuccessors(indexPatternId,sort[0],sort[1],anchor.sort[0],tieBreakerField,"asc",anchor.sort[1],successorCount,filters)}).then(function(successorDocuments){setLoadedStatus(state)("successors");state.rows.successors=successorDocuments;return successorDocuments},function(error){setFailedStatus(state)("successors",{error:error});_notify.toastNotifications.addDanger({title:"Unable to load documents",text:_react2.default.createElement(_markdown.MarkdownSimple,null,error.message)});throw error})}};var fetchContextRows=function fetchContextRows(state){return function(){return Promise.all([fetchPredecessorRows(state)(),fetchSuccessorRows(state)()])}};var fetchAllRows=function fetchAllRows(state){return function(){return Promise.try(fetchAnchorRow(state)).then(fetchContextRows(state))}};var fetchContextRowsWithNewQueryParameters=function fetchContextRowsWithNewQueryParameters(state){return function(queryParameters){setQueryParameters(state)(queryParameters);return fetchContextRows(state)()}};var fetchAllRowsWithNewQueryParameters=function fetchAllRowsWithNewQueryParameters(state){return function(queryParameters){setQueryParameters(state)(queryParameters);return fetchAllRows(state)()}};var fetchGivenPredecessorRows=function fetchGivenPredecessorRows(state){return function(count){setPredecessorCount(state)(count);return fetchPredecessorRows(state)()}};var fetchGivenSuccessorRows=function fetchGivenSuccessorRows(state){return function(count){setSuccessorCount(state)(count);return fetchSuccessorRows(state)()}};var fetchMorePredecessorRows=function fetchMorePredecessorRows(state){return function(){increasePredecessorCount(state)();return fetchPredecessorRows(state)()}};var fetchMoreSuccessorRows=function fetchMoreSuccessorRows(state){return function(){increaseSuccessorCount(state)();return fetchSuccessorRows(state)()}};var setAllRows=function setAllRows(state){return function(predecessorRows,anchorRow,successorRows){return state.rows.all=[].concat(_toConsumableArray(predecessorRows||[]),_toConsumableArray(anchorRow?[anchorRow]:[]),_toConsumableArray(successorRows||[]))}};return{fetchAllRows:fetchAllRows,fetchAllRowsWithNewQueryParameters:fetchAllRowsWithNewQueryParameters,fetchAnchorRow:fetchAnchorRow,fetchContextRows:fetchContextRows,fetchContextRowsWithNewQueryParameters:fetchContextRowsWithNewQueryParameters,fetchGivenPredecessorRows:fetchGivenPredecessorRows,fetchGivenSuccessorRows:fetchGivenSuccessorRows,fetchMorePredecessorRows:fetchMorePredecessorRows,fetchMoreSuccessorRows:fetchMoreSuccessorRows,fetchPredecessorRows:fetchPredecessorRows,fetchSuccessorRows:fetchSuccessorRows,setAllRows:setAllRows}}},7832:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};exports.fetchAnchorProvider=fetchAnchorProvider;var _lodash=__webpack_require__(1);var _lodash2=_interopRequireDefault(_lodash);var _courier=__webpack_require__(101);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}function fetchAnchorProvider(indexPatterns,Private){var SearchSource=Private(_courier.SearchSourceProvider);return function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee(indexPatternId,anchorType,anchorId,sort){var indexPattern,searchSource,response;return regeneratorRuntime.wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return indexPatterns.get(indexPatternId);case 2:indexPattern=_context.sent;searchSource=(new SearchSource).setParent(false).setField("index",indexPattern).setField("version",true).setField("size",1).setField("query",{query:{constant_score:{filter:{ids:{type:anchorType,values:[anchorId]}}}},language:"lucene"}).setField("sort",sort);_context.next=6;return searchSource.fetch();case 6:response=_context.sent;if(!(_lodash2.default.get(response,["hits","total"],0)<1)){_context.next=9;break}throw new Error("Failed to load anchor document.");case 9:return _context.abrupt("return",_extends({},_lodash2.default.get(response,["hits","hits",0]),{$$_isAnchor:true}));case 10:case"end":return _context.stop()}},_callee,this)}));function fetchAnchor(_x,_x2,_x3,_x4){return _ref.apply(this,arguments)}return fetchAnchor}()}},7833:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.fetchContextProvider=void 0;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};var _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[];var _n=true;var _d=false;var _e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{!_n&&_i["return"]&&_i["return"]()}finally{if(_d)throw _e}}return _arr}return function(arr,i){if(Array.isArray(arr))return arr;if(Symbol.iterator in Object(arr))return sliceIterator(arr,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();var _courier=__webpack_require__(101);var _sorting=__webpack_require__(2285);var _marked=regeneratorRuntime.mark(asPairs);function _defineProperty(obj,key,value){key in obj?Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true}):obj[key]=value;return obj}function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}return Array.from(arr)}function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}var DAY_MILLIS=864e5;var LOOKUP_OFFSETS=[0,1,7,30,365,1e4].map(function(days){return days*DAY_MILLIS});function fetchContextProvider(indexPatterns,Private){var fetchSuccessors=(_ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee(indexPatternId,timeField,timeSortDirection,timeValue,tieBreakerField,tieBreakerSortDirection,tieBreakerValue,size,filters){var searchSource,offsetSign,intervals,successors,_iteratorNormalCompletion,_didIteratorError,_iteratorError,_iterator,_step,_ref2,_ref3,startTimeValue,endTimeValue,remainingSize,_ref4,_ref5,afterTimeValue,afterTieBreakerValue,hits;return regeneratorRuntime.wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return createSearchSource(indexPatternId,filters);case 2:searchSource=_context.sent;offsetSign="asc"===timeSortDirection?1:-1;intervals=asPairs([].concat(_toConsumableArray(LOOKUP_OFFSETS.map(function(offset){return timeValue+offset*offsetSign})),[null]));successors=[];_iteratorNormalCompletion=true;_didIteratorError=false;_iteratorError=void 0;_context.prev=9;_iterator=intervals[Symbol.iterator]();case 11:if(_iteratorNormalCompletion=(_step=_iterator.next()).done){_context.next=27;break}_ref2=_step.value;_ref3=_slicedToArray(_ref2,2);startTimeValue=_ref3[0];endTimeValue=_ref3[1];remainingSize=size-successors.length;if(!(remainingSize<=0)){_context.next=19;break}return _context.abrupt("break",27);case 19:_ref4=successors.length>0?successors[successors.length-1].sort:[timeValue,tieBreakerValue],_ref5=_slicedToArray(_ref4,2),afterTimeValue=_ref5[0],afterTieBreakerValue=_ref5[1];_context.next=22;return fetchHitsInInterval(searchSource,timeField,timeSortDirection,startTimeValue,endTimeValue,afterTimeValue,tieBreakerField,tieBreakerSortDirection,afterTieBreakerValue,remainingSize);case 22:hits=_context.sent;successors=[].concat(_toConsumableArray(successors),_toConsumableArray(hits));case 24:_iteratorNormalCompletion=true;_context.next=11;break;case 27:_context.next=33;break;case 29:_context.prev=29;_context.t0=_context["catch"](9);_didIteratorError=true;_iteratorError=_context.t0;case 33:_context.prev=33;_context.prev=34;!_iteratorNormalCompletion&&_iterator.return&&_iterator.return();case 36:_context.prev=36;if(!_didIteratorError){_context.next=39;break}throw _iteratorError;case 39:return _context.finish(36);case 40:return _context.finish(33);case 41:return _context.abrupt("return",successors);case 42:case"end":return _context.stop()}},_callee,this,[[9,29,33,41],[34,,36,40]])})),function fetchSuccessors(_x,_x2,_x3,_x4,_x5,_x6,_x7,_x8,_x9){return _ref.apply(this,arguments)});var _ref;var fetchPredecessors=(_ref6=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(indexPatternId,timeField,timeSortDirection,timeValue,tieBreakerField,tieBreakerSortDirection,tieBreakerValue,size,filters){var searchSource,offsetSign,intervals,predecessors,_iteratorNormalCompletion2,_didIteratorError2,_iteratorError2,_iterator2,_step2,_ref7,_ref8,startTimeValue,endTimeValue,remainingSize,_ref9,_ref10,afterTimeValue,afterTieBreakerValue,hits;return regeneratorRuntime.wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.next=2;return createSearchSource(indexPatternId,filters);case 2:searchSource=_context2.sent;offsetSign="desc"===timeSortDirection?1:-1;intervals=asPairs([].concat(_toConsumableArray(LOOKUP_OFFSETS.map(function(offset){return timeValue+offset*offsetSign})),[null]));predecessors=[];_iteratorNormalCompletion2=true;_didIteratorError2=false;_iteratorError2=void 0;_context2.prev=9;_iterator2=intervals[Symbol.iterator]();case 11:if(_iteratorNormalCompletion2=(_step2=_iterator2.next()).done){_context2.next=27;break}_ref7=_step2.value;_ref8=_slicedToArray(_ref7,2);startTimeValue=_ref8[0];endTimeValue=_ref8[1];remainingSize=size-predecessors.length;if(!(remainingSize<=0)){_context2.next=19;break}return _context2.abrupt("break",27);case 19:_ref9=predecessors.length>0?predecessors[0].sort:[timeValue,tieBreakerValue],_ref10=_slicedToArray(_ref9,2),afterTimeValue=_ref10[0],afterTieBreakerValue=_ref10[1];_context2.next=22;return fetchHitsInInterval(searchSource,timeField,(0,_sorting.reverseSortDirection)(timeSortDirection),startTimeValue,endTimeValue,afterTimeValue,tieBreakerField,(0,_sorting.reverseSortDirection)(tieBreakerSortDirection),afterTieBreakerValue,remainingSize);case 22:hits=_context2.sent;predecessors=[].concat(_toConsumableArray(hits.slice().reverse()),_toConsumableArray(predecessors));case 24:_iteratorNormalCompletion2=true;_context2.next=11;break;case 27:_context2.next=33;break;case 29:_context2.prev=29;_context2.t0=_context2["catch"](9);_didIteratorError2=true;_iteratorError2=_context2.t0;case 33:_context2.prev=33;_context2.prev=34;!_iteratorNormalCompletion2&&_iterator2.return&&_iterator2.return();case 36:_context2.prev=36;if(!_didIteratorError2){_context2.next=39;break}throw _iteratorError2;case 39:return _context2.finish(36);case 40:return _context2.finish(33);case 41:return _context2.abrupt("return",predecessors);case 42:case"end":return _context2.stop()}},_callee2,this,[[9,29,33,41],[34,,36,40]])})),function fetchPredecessors(_x10,_x11,_x12,_x13,_x14,_x15,_x16,_x17,_x18){return _ref6.apply(this,arguments)});var _ref6;var createSearchSource=(_ref11=_asyncToGenerator(regeneratorRuntime.mark(function _callee3(indexPatternId,filters){var indexPattern;return regeneratorRuntime.wrap(function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:_context3.next=2;return indexPatterns.get(indexPatternId);case 2:indexPattern=_context3.sent;return _context3.abrupt("return",(new SearchSource).setParent(false).setField("index",indexPattern).setField("filter",filters));case 4:case"end":return _context3.stop()}},_callee3,this)})),function createSearchSource(_x19,_x20){return _ref11.apply(this,arguments)});var _ref11;var fetchHitsInInterval=(_ref12=_asyncToGenerator(regeneratorRuntime.mark(function _callee4(searchSource,timeField,timeSortDirection,startTimeValue,endTimeValue,afterTimeValue,tieBreakerField,tieBreakerSortDirection,tieBreakerValue,maxCount){var startRange,endRange,response;return regeneratorRuntime.wrap(function _callee4$(_context4){while(1)switch(_context4.prev=_context4.next){case 0:startRange=_defineProperty({},"asc"===timeSortDirection?"gte":"lte",startTimeValue);endRange=null===endTimeValue?{}:_defineProperty({},"asc"===timeSortDirection?"lte":"gte",endTimeValue);_context4.next=4;return searchSource.setField("size",maxCount).setField("query",{query:{constant_score:{filter:{range:_defineProperty({},timeField,_extends({format:"epoch_millis"},startRange,endRange))}}},language:"lucene"}).setField("searchAfter",[null!==afterTimeValue?afterTimeValue:startTimeValue,tieBreakerValue]).setField("sort",[_defineProperty({},timeField,timeSortDirection),_defineProperty({},tieBreakerField,tieBreakerSortDirection)]).setField("version",true).fetch();case 4:response=_context4.sent;return _context4.abrupt("return",response.hits?response.hits.hits:[]);case 6:case"end":return _context4.stop()}},_callee4,this)})),function fetchHitsInInterval(_x21,_x22,_x23,_x24,_x25,_x26,_x27,_x28,_x29,_x30){return _ref12.apply(this,arguments)});var _ref12;var SearchSource=Private(_courier.SearchSourceProvider);return{fetchPredecessors:fetchPredecessors,fetchSuccessors:fetchSuccessors}}function asPairs(iterable){var currentPair,_iteratorNormalCompletion3,_didIteratorError3,_iteratorError3,_iterator3,_step3,value;return regeneratorRuntime.wrap(function asPairs$(_context5){while(1)switch(_context5.prev=_context5.next){case 0:currentPair=[];_iteratorNormalCompletion3=true;_didIteratorError3=false;_iteratorError3=void 0;_context5.prev=4;_iterator3=iterable[Symbol.iterator]();case 6:if(_iteratorNormalCompletion3=(_step3=_iterator3.next()).done){_context5.next=15;break}value=_step3.value;currentPair=[].concat(_toConsumableArray(currentPair),[value]).slice(-2);if(!(2===currentPair.length)){_context5.next=12;break}_context5.next=12;return currentPair;case 12:_iteratorNormalCompletion3=true;_context5.next=6;break;case 15:_context5.next=21;break;case 17:_context5.prev=17;_context5.t0=_context5["catch"](4);_didIteratorError3=true;_iteratorError3=_context5.t0;case 21:_context5.prev=21;_context5.prev=22;!_iteratorNormalCompletion3&&_iterator3.return&&_iterator3.return();case 24:_context5.prev=24;if(!_didIteratorError3){_context5.next=27;break}throw _iteratorError3;case 27:return _context5.finish(24);case 28:return _context5.finish(21);case 29:case"end":return _context5.stop()}},_marked,this,[[4,17,21,29],[22,,24,28]])}exports.fetchContextProvider=fetchContextProvider},7834:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.createInitialLoadingStatusState=createInitialLoadingStatusState;var _constants=__webpack_require__(1281);function createInitialLoadingStatusState(){return{anchor:_constants.LOADING_STATUS.UNINITIALIZED,predecessors:_constants.LOADING_STATUS.UNINITIALIZED,successors:_constants.LOADING_STATUS.UNINITIALIZED}}},7835:function(module,exports){module.exports='<context-app\n  anchor-type="contextAppRoute.anchorType"\n  anchor-id="contextAppRoute.anchorId"\n  columns="contextAppRoute.state.columns"\n  discover-url="contextAppRoute.discoverUrl"\n  index-pattern="contextAppRoute.indexPattern"\n  filters="contextAppRoute.filters"\n  predecessor-count="contextAppRoute.state.predecessorCount"\n  successor-count="contextAppRoute.state.successorCount"\n  sort="contextAppRoute.state.sort"\n></context-app>\n'},81:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _api=__webpack_require__(7055);Object.defineProperty(exports,"createJob",{enumerable:true,get:function get(){return _api.createJob}});Object.defineProperty(exports,"deleteJobs",{enumerable:true,get:function get(){return _api.deleteJobs}});Object.defineProperty(exports,"loadJobs",{enumerable:true,get:function get(){return _api.loadJobs}});Object.defineProperty(exports,"startJobs",{enumerable:true,get:function get(){return _api.startJobs}});Object.defineProperty(exports,"stopJobs",{enumerable:true,get:function get(){return _api.stopJobs}});Object.defineProperty(exports,"validateIndexPattern",{enumerable:true,get:function get(){return _api.validateIndexPattern}});var _api_errors=__webpack_require__(7056);Object.defineProperty(exports,"showApiError",{enumerable:true,get:function get(){return _api_errors.showApiError}});Object.defineProperty(exports,"showApiWarning",{enumerable:true,get:function get(){return _api_errors.showApiWarning}});var _cron=__webpack_require__(7057);Object.defineProperty(exports,"cronExpressionToParts",{enumerable:true,get:function get(){return _cron.cronExpressionToParts}});Object.defineProperty(exports,"cronPartsToExpression",{enumerable:true,get:function get(){return _cron.cronPartsToExpression}});Object.defineProperty(exports,"MINUTE",{enumerable:true,get:function get(){return _cron.MINUTE}});Object.defineProperty(exports,"HOUR",{enumerable:true,get:function get(){return _cron.HOUR}});Object.defineProperty(exports,"DAY",{enumerable:true,get:function get(){return _cron.DAY}});Object.defineProperty(exports,"WEEK",{enumerable:true,get:function get(){return _cron.WEEK}});Object.defineProperty(exports,"MONTH",{enumerable:true,get:function get(){return _cron.MONTH}});Object.defineProperty(exports,"YEAR",{enumerable:true,get:function get(){return _cron.YEAR}});var _documentation_links=__webpack_require__(7058);Object.defineProperty(exports,"logisticalDetailsUrl",{enumerable:true,get:function get(){return _documentation_links.logisticalDetailsUrl}});Object.defineProperty(exports,"dateHistogramDetailsUrl",{enumerable:true,get:function get(){return _documentation_links.dateHistogramDetailsUrl}});Object.defineProperty(exports,"dateHistogramAggregationUrl",{enumerable:true,get:function get(){return _documentation_links.dateHistogramAggregationUrl}});Object.defineProperty(exports,"termsDetailsUrl",{enumerable:true,get:function get(){return _documentation_links.termsDetailsUrl}});Object.defineProperty(exports,"histogramDetailsUrl",{enumerable:true,get:function get(){return _documentation_links.histogramDetailsUrl}});Object.defineProperty(exports,"metricsDetailsUrl",{enumerable:true,get:function get(){return _documentation_links.metricsDetailsUrl}});Object.defineProperty(exports,"cronUrl",{enumerable:true,get:function get(){return _documentation_links.cronUrl}});var _filter_items=__webpack_require__(7059);Object.defineProperty(exports,"filterItems",{enumerable:true,get:function get(){return _filter_items.filterItems}});var _flatten_panel_tree=__webpack_require__(7060);Object.defineProperty(exports,"flattenPanelTree",{enumerable:true,get:function get(){return _flatten_panel_tree.flattenPanelTree}});var _format_fields=__webpack_require__(7061);Object.defineProperty(exports,"formatFields",{enumerable:true,get:function get(){return _format_fields.formatFields}});var _http_provider=__webpack_require__(2219);Object.defineProperty(exports,"setHttp",{enumerable:true,get:function get(){return _http_provider.setHttp}});Object.defineProperty(exports,"getHttp",{enumerable:true,get:function get(){return _http_provider.getHttp}});var _humanized_numbers=__webpack_require__(7062);Object.defineProperty(exports,"getOrdinalValue",{enumerable:true,get:function get(){return _humanized_numbers.getOrdinalValue}});Object.defineProperty(exports,"getDayName",{enumerable:true,get:function get(){return _humanized_numbers.getDayName}});Object.defineProperty(exports,"getMonthName",{enumerable:true,get:function get(){return _humanized_numbers.getMonthName}});var _jobs=__webpack_require__(7063);Object.defineProperty(exports,"serializeJob",{enumerable:true,get:function get(){return _jobs.serializeJob}});Object.defineProperty(exports,"deserializeJob",{enumerable:true,get:function get(){return _jobs.deserializeJob}});Object.defineProperty(exports,"deserializeJobs",{enumerable:true,get:function get(){return _jobs.deserializeJobs}});var _noticeable_delay=__webpack_require__(7064);Object.defineProperty(exports,"createNoticeableDelay",{enumerable:true,get:function get(){return _noticeable_delay.createNoticeableDelay}});var _query_params=__webpack_require__(7065);Object.defineProperty(exports,"extractQueryParams",{enumerable:true,get:function get(){return _query_params.extractQueryParams}});var _routing=__webpack_require__(7066);Object.defineProperty(exports,"setUserHasLeftApp",{enumerable:true,get:function get(){return _routing.setUserHasLeftApp}});Object.defineProperty(exports,"getUserHasLeftApp",{enumerable:true,get:function get(){return _routing.getUserHasLeftApp}});Object.defineProperty(exports,"registerRouter",{enumerable:true,get:function get(){return _routing.registerRouter}});Object.defineProperty(exports,"getRouter",{enumerable:true,get:function get(){return _routing.getRouter}});Object.defineProperty(exports,"getRouterLinkProps",{enumerable:true,get:function get(){return _routing.getRouterLinkProps}});var _sort_table=__webpack_require__(7067);Object.defineProperty(exports,"sortTable",{enumerable:true,get:function get(){return _sort_table.sortTable}})},841:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var filebeatInputConfig=[{id:"paths",ui:{label:"Paths",type:"multi-input",helpText:"Put each of the paths on a seperate line",placeholder:"first/path/to/file.json                   second/path/to/otherfile.json"},validations:"isPaths",error:"One file path per line",required:true},{id:"other",ui:{label:"Other Config",type:"code",helpText:"Use YAML format to specify other settings for the Filebeat Input"},validations:"isYaml",error:"Use valid YAML format"}];var filebeatModuleConfig=[{id:"module",ui:{label:"Module",type:"select"},options:[{value:"apache2",text:"apache2"},{value:"auditd",text:"auditd"},{value:"elasticsearch",text:"elasticsearch"},{value:"haproxy",text:"haproxy"},{value:"icinga",text:"icinga"},{value:"iis",text:"iis"},{value:"kafka",text:"kafka"},{value:"kibana",text:"kibana"},{value:"logstash",text:"logstash"},{value:"mongodb",text:"mongodb"},{value:"mysql",text:"mysql"},{value:"nginx",text:"nginx"},{value:"osquery",text:"osquery"},{value:"postgresql",text:"postgresql"},{value:"redis",text:"redis"},{value:"system",text:"system"},{value:"traefik",text:"traefik"}],error:"Please select a module",required:true},{id:"other",ui:{label:"Other Config",type:"code",helpText:"Use YAML format to specify other settings for the Filebeat Module"},validations:"isYaml",error:"Use valid YAML format"}];var metricbeatModuleConfig=[{id:"module",ui:{label:"Module",type:"select"},options:[{value:"aerospike",text:"aerospike"},{value:"apache",text:"apache"},{value:"ceph",text:"ceph"},{value:"couchbase",text:"couchbase"},{value:"docker",text:"docker"},{value:"dropwizard",text:"dropwizard"},{value:"elasticsearch",text:"elasticsearch"},{value:"envoyproxy",text:"envoyproxy"},{value:"etcd",text:"etcd"},{value:"golang",text:"golang"},{value:"graphite",text:"graphite"},{value:"haproxy",text:"haproxy"},{value:"http",text:"http"},{value:"jolokia",text:"jolokia"},{value:"kafka",text:"kafka"},{value:"kibana",text:"kibana"},{value:"kubernetes",text:"kubernetes"},{value:"kvm",text:"kvm"},{value:"logstash",text:"logstash"},{value:"memcached",text:"memcached"},{value:"mongodb",text:"mongodb"},{value:"munin",text:"munin"},{value:"mysql",text:"mysql"},{value:"nginx",text:"nginx"},{value:"php_fpm",text:"php_fpm"},{value:"postgresql",text:"postgresql"},{value:"prometheus",text:"prometheus"},{value:"rabbitmq",text:"rabbitmq"},{value:"redis",text:"redis"},{value:"system",text:"system"},{value:"traefik",text:"traefik"},{value:"uwsgi",text:"uwsgi"},{value:"vsphere",text:"vsphere"},{value:"windows",text:"windows"},{value:"zookeeper",text:"zookeeper"}],error:"Please select a module",required:true},{id:"hosts",ui:{label:"Hosts",type:"multi-input",helpText:"Put each of the paths on a seperate line",placeholder:"somehost.local                                                             otherhost.local"},validations:"isHosts",error:"One file host per line",required:false},{id:"period",ui:{label:"Period",type:"input"},defaultValue:"10s",validations:"isPeriod",error:"Invalid Period, must be formatted as `10s` for 10 seconds",required:true},{id:"other",ui:{label:"Other Config",type:"code",helpText:"Use YAML format to specify other settings for the Metricbeat Module"},validations:"isYaml",error:"Use valid YAML format"}];var outputConfig=[{id:"output",ui:{label:"Output Type",type:"select"},options:[{value:"elasticsearch",text:"Elasticsearch"},{value:"logstash",text:"Logstash"},{value:"kafka",text:"Kafka"},{value:"console",text:"Console"}],error:"Please select an output type",required:true},{id:"{{output}}.hosts",ui:{label:"Hosts",type:"multi-input"},validations:"isHosts",error:"One file host per line",parseValidResult:function parseValidResult(v){return v.split("\n")}},{id:"{{output}}.username",ui:{label:"Username",type:"input"},validations:"isString",error:"Unprocessable username"},{id:"{{output}}.password",ui:{label:"Password",type:"password"},validations:"isString",error:"Unprocessable password"}];exports.supportedConfigs=[{text:"Filebeat Input",value:"filebeat.inputs",config:filebeatInputConfig},{text:"Filebeat Module",value:"filebeat.modules",config:filebeatModuleConfig},{text:"Metricbeat Module",value:"metricbeat.modules",config:metricbeatModuleConfig},{text:"Output",value:"output",config:outputConfig}]},842:function(module,exports,__webpack_require__){"use strict";var Schema=__webpack_require__(539);module.exports=Schema.DEFAULT=new Schema({include:[__webpack_require__(643)],explicit:[__webpack_require__(6839),__webpack_require__(6840),__webpack_require__(6841)]})},843:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tag_badge_1=__webpack_require__(1255);exports.TagBadge=tag_badge_1.TagBadge;var tag_edit_1=__webpack_require__(6851);exports.TagEdit=tag_edit_1.TagEdit},844:function(module,exports,__webpack_require__){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _templateObject=_taggedTemplateLiteral(["\n  padding: 16px;\n"],["\n  padding: 16px;\n"]);function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function _taggedTemplateLiteral(strings,raw){return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var eui_1=__webpack_require__(2);var react_1=tslib_1.__importDefault(__webpack_require__(0));var styled_components_1=tslib_1.__importDefault(__webpack_require__(20));var constants_1=__webpack_require__(390);var controls_1=__webpack_require__(2192);(function(AssignmentActionType){AssignmentActionType[AssignmentActionType["Add"]=0]="Add";AssignmentActionType[AssignmentActionType["Assign"]=1]="Assign";AssignmentActionType[AssignmentActionType["Delete"]=2]="Delete";AssignmentActionType[AssignmentActionType["Edit"]=3]="Edit";AssignmentActionType[AssignmentActionType["Reload"]=4]="Reload";AssignmentActionType[AssignmentActionType["Search"]=5]="Search"})(exports.AssignmentActionType||(exports.AssignmentActionType={}));var TableContainer=styled_components_1.default.div(_templateObject);var Table=function(_react_1$default$Comp){_inherits(Table,_react_1$default$Comp);function Table(props){_classCallCheck(this,Table);var _this=_possibleConstructorReturn(this,(Table.__proto__||Object.getPrototypeOf(Table)).call(this,props));_this.resetSelection=function(){_this.setSelection([])};_this.setSelection=function(selection){_this.setState({selection:selection})};_this.state={selection:[]};return _this}_createClass(Table,[{key:"render",value:function render(){var _props=this.props,assignmentOptions=_props.assignmentOptions,hideTableControls=_props.hideTableControls,items=_props.items,kueryBarProps=_props.kueryBarProps,type=_props.type;var pagination={initialPageSize:constants_1.TABLE_CONFIG.INITIAL_ROW_SIZE,pageSizeOptions:constants_1.TABLE_CONFIG.PAGE_SIZE_OPTIONS};var selectionOptions=hideTableControls?null:{onSelectionChange:this.setSelection,selectable:function selectable(){return true},selectableMessage:function selectableMessage(){return"Select this beat"},selection:this.state.selection};return react_1.default.createElement(TableContainer,null,!hideTableControls&&assignmentOptions&&react_1.default.createElement(controls_1.ControlBar,{itemType:type.itemType,assignmentOptions:assignmentOptions,kueryBarProps:kueryBarProps,selectionCount:this.state.selection.length}),react_1.default.createElement(eui_1.EuiSpacer,{size:"m"}),react_1.default.createElement(eui_1.EuiInMemoryTable,{columns:type.columnDefinitions,items:items,itemId:"id",isSelectable:true,pagination:pagination,selection:selectionOptions,sorting:true}))}}]);return Table}(react_1.default.Component);exports.Table=Table},845:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var react_1=tslib_1.__importDefault(__webpack_require__(0));var react_router_dom_1=__webpack_require__(49);var eui_1=__webpack_require__(2);exports.NoDataLayout=react_router_dom_1.withRouter(function(_ref){var actionSection=_ref.actionSection,title=_ref.title,modalRender=_ref.modalRender,modalClosePath=_ref.modalClosePath,children=_ref.children,history=_ref.history;var modalContent=modalRender&&modalRender();return react_1.default.createElement(eui_1.EuiPage,null,react_1.default.createElement(eui_1.EuiPageBody,null,react_1.default.createElement(eui_1.EuiFlexGroup,{justifyContent:"spaceAround",style:{marginTop:50}},react_1.default.createElement(eui_1.EuiFlexItem,{grow:false},react_1.default.createElement(eui_1.EuiPageContent,null,react_1.default.createElement(eui_1.EuiEmptyPrompt,{iconType:"logoBeats",title:react_1.default.createElement("h2",null,title),body:children,actions:actionSection}))))),modalContent&&react_1.default.createElement(eui_1.EuiOverlayMask,null,react_1.default.createElement(eui_1.EuiModal,{onClose:function onClose(){history.push(modalClosePath)},style:{width:"640px"}},modalContent)))})},846:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getTelemetryFetcher=exports.showTelemetryOptIn=exports.optInToTelemetry=exports.setTelemetryOptInService=exports.setHttpClient=exports.setTelemetryEnabled=exports.OptInExampleFlyout=exports.TelemetryOptInProvider=exports.PRIVACY_STATEMENT_URL=void 0;var _constants=__webpack_require__(586);Object.defineProperty(exports,"PRIVACY_STATEMENT_URL",{enumerable:true,get:function get(){return _constants.PRIVACY_STATEMENT_URL}});var _telemetry_opt_in=__webpack_require__(1005);Object.defineProperty(exports,"TelemetryOptInProvider",{enumerable:true,get:function get(){return _telemetry_opt_in.TelemetryOptInProvider}});var _components=__webpack_require__(587);Object.defineProperty(exports,"OptInExampleFlyout",{enumerable:true,get:function get(){return _components.OptInExampleFlyout}});var _fetch_telemetry=__webpack_require__(1001);function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}var telemetryEnabled=void 0;var httpClient=void 0;var telemetryOptInService=void 0;exports.setTelemetryEnabled=function setTelemetryEnabled(isTelemetryEnabled){telemetryEnabled=isTelemetryEnabled};exports.setHttpClient=function setHttpClient(anHttpClient){httpClient=anHttpClient};exports.setTelemetryOptInService=function setTelemetryOptInService(aTelemetryOptInService){telemetryOptInService=aTelemetryOptInService};exports.optInToTelemetry=(_ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee(enableTelemetry){return regeneratorRuntime.wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return telemetryOptInService.setOptIn(enableTelemetry);case 2:case"end":return _context.stop()}},_callee,void 0)})),function optInToTelemetry(_x){return _ref.apply(this,arguments)});var _ref;exports.showTelemetryOptIn=function showTelemetryOptIn(){return telemetryEnabled&&!telemetryOptInService.getOptIn()};exports.getTelemetryFetcher=function getTelemetryFetcher(){return(0,_fetch_telemetry.fetchTelemetry)(httpClient)}},847:function(module,exports,__webpack_require__){"use strict";__webpack_require__(6995)},848:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _field_list=__webpack_require__(7081);Object.defineProperty(exports,"FieldList",{enumerable:true,get:function get(){return _field_list.FieldList}})},849:function(module,exports,__webpack_require__){var getNative=__webpack_require__(973),isArrayLike=__webpack_require__(2223),isObject=__webpack_require__(363),shimKeys=__webpack_require__(7113);var nativeKeys=getNative(Object,"keys");var keys=nativeKeys?function(object){var Ctor=null==object?void 0:object.constructor;if("function"==typeof Ctor&&Ctor.prototype===object||"function"!=typeof object&&isArrayLike(object))return shimKeys(object);return isObject(object)?nativeKeys(object):[]}:shimKeys;module.exports=keys},850:function(module,exports,__webpack_require__){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}return Array.from(arr)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var eui_1=__webpack_require__(2);var react_1=tslib_1.__importStar(__webpack_require__(0));var constants_1=__webpack_require__(546);var PrivilegeSelector=function(_react_1$Component){_inherits(PrivilegeSelector,_react_1$Component);function PrivilegeSelector(){_classCallCheck(this,PrivilegeSelector);var _this=_possibleConstructorReturn(this,(PrivilegeSelector.__proto__||Object.getPrototypeOf(PrivilegeSelector)).apply(this,arguments));_this.state={};_this.onChange=function(e){_this.props.onChange(e.target.value)};return _this}_createClass(PrivilegeSelector,[{key:"render",value:function render(){var _props=this.props,availablePrivileges=_props.availablePrivileges,value=_props.value,disabled=_props.disabled,allowNone=_props.allowNone,compressed=_props.compressed;var options=[];allowNone&&options.push({value:constants_1.NO_PRIVILEGE_VALUE,text:"none"});options.push.apply(options,_toConsumableArray(availablePrivileges.map(function(p){return{value:p,text:p}})));return react_1.default.createElement(eui_1.EuiSelect,{"data-test-subj":this.props["data-test-subj"],options:options,hasNoInitialSelection:!allowNone&&!value,value:value||void 0,onChange:this.onChange,disabled:disabled,compressed:compressed})}}]);return PrivilegeSelector}(react_1.Component);exports.PrivilegeSelector=PrivilegeSelector},851:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.BaseAction=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _lodash=__webpack_require__(1);var _i18n=__webpack_require__(18);function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var BaseAction=exports.BaseAction=function(){function BaseAction(){var props=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,BaseAction);this.id=(0,_lodash.get)(props,"id");this.type=(0,_lodash.get)(props,"type")}_createClass(BaseAction,[{key:"upstreamJson",get:function get(){var result={id:this.id,type:this.type};return result}},{key:"typeName",get:function get(){return this.constructor.typeName}},{key:"iconClass",get:function get(){return this.constructor.iconClass}},{key:"selectMessage",get:function get(){return this.constructor.selectMessage}},{key:"simulateMessage",get:function get(){return _i18n.i18n.translate("xpack.watcher.models.baseAction.simulateMessage",{defaultMessage:"Action {id} simulated successfully",values:{id:this.id}})}},{key:"simulatePrompt",get:function get(){return this.constructor.simulatePrompt}},{key:"template",get:function get(){return this.constructor.template}}]);return BaseAction}();BaseAction.typeName=_i18n.i18n.translate("xpack.watcher.models.baseAction.typeName",{defaultMessage:"Action"});BaseAction.iconClass="fa-cog";BaseAction.template="";BaseAction.selectMessage=_i18n.i18n.translate("xpack.watcher.models.baseAction.selectMessageText",{defaultMessage:"Perform an action."});BaseAction.simulatePrompt=_i18n.i18n.translate("xpack.watcher.models.baseAction.simulateButtonLabel",{defaultMessage:"Simulate this action now"})},852:function(module,exports,__webpack_require__){"use strict";__webpack_require__(7312)},853:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.IndexPatternCreationConfigRegistry=exports.IndexPatternCreationConfig=exports.IndexPatternCreationFactory=void 0;var _index_pattern_creation=__webpack_require__(7518);Object.defineProperty(exports,"IndexPatternCreationFactory",{enumerable:true,get:function get(){return _index_pattern_creation.IndexPatternCreationFactory}});var _index_pattern_creation_config=__webpack_require__(2261);Object.defineProperty(exports,"IndexPatternCreationConfig",{enumerable:true,get:function get(){return _index_pattern_creation_config.IndexPatternCreationConfig}});var _index_pattern_creation_config_registry=__webpack_require__(1271);Object.defineProperty(exports,"IndexPatternCreationConfigRegistry",{enumerable:true,get:function get(){return _index_pattern_creation_config_registry.IndexPatternCreationConfigRegistry}});__webpack_require__(7519)},854:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.IndexPatternListConfigRegistry=exports.IndexPatternListConfig=exports.IndexPatternListFactory=void 0;var _index_pattern_list=__webpack_require__(7526);Object.defineProperty(exports,"IndexPatternListFactory",{enumerable:true,get:function get(){return _index_pattern_list.IndexPatternListFactory}});var _index_pattern_list_config=__webpack_require__(2262);Object.defineProperty(exports,"IndexPatternListConfig",{enumerable:true,get:function get(){return _index_pattern_list_config.IndexPatternListConfig}});var _index_pattern_list_config_registry=__webpack_require__(1272);Object.defineProperty(exports,"IndexPatternListConfigRegistry",{enumerable:true,get:function get(){return _index_pattern_list_config_registry.IndexPatternListConfigRegistry}});__webpack_require__(7527)},855:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _routes=__webpack_require__(7579);Object.defineProperty(exports,"ROUTES",{enumerable:true,get:function get(){return _routes.ROUTES}});var _plugin=__webpack_require__(7580);Object.defineProperty(exports,"PLUGIN",{enumerable:true,get:function get(){return _plugin.PLUGIN}});var _editor=__webpack_require__(7581);Object.defineProperty(exports,"EDITOR",{enumerable:true,get:function get(){return _editor.EDITOR}})},856:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _get_in_app_url=__webpack_require__(2282);Object.keys(_get_in_app_url).forEach(function(key){if("default"===key||"__esModule"===key)return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _get_in_app_url[key]}})});var _get_relationships=__webpack_require__(7707);Object.keys(_get_relationships).forEach(function(key){if("default"===key||"__esModule"===key)return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _get_relationships[key]}})});var _get_saved_object_counts=__webpack_require__(7708);Object.keys(_get_saved_object_counts).forEach(function(key){if("default"===key||"__esModule"===key)return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _get_saved_object_counts[key]}})});var _get_saved_object_icon=__webpack_require__(7709);Object.keys(_get_saved_object_icon).forEach(function(key){if("default"===key||"__esModule"===key)return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _get_saved_object_icon[key]}})});var _get_saved_object_label=__webpack_require__(7710);Object.keys(_get_saved_object_label).forEach(function(key){if("default"===key||"__esModule"===key)return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _get_saved_object_label[key]}})});var _import_file=__webpack_require__(2280);Object.keys(_import_file).forEach(function(key){if("default"===key||"__esModule"===key)return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _import_file[key]}})});var _parse_query=__webpack_require__(7711);Object.keys(_parse_query).forEach(function(key){if("default"===key||"__esModule"===key)return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _parse_query[key]}})});var _resolve_saved_objects=__webpack_require__(2281);Object.keys(_resolve_saved_objects).forEach(function(key){if("default"===key||"__esModule"===key)return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _resolve_saved_objects[key]}})});var _retrieve_and_export_docs=__webpack_require__(7712);Object.keys(_retrieve_and_export_docs).forEach(function(key){if("default"===key||"__esModule"===key)return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _retrieve_and_export_docs[key]}})});var _save_to_file=__webpack_require__(7713);Object.keys(_save_to_file).forEach(function(key){if("default"===key||"__esModule"===key)return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _save_to_file[key]}})});var _scan_all_types=__webpack_require__(7714);Object.keys(_scan_all_types).forEach(function(key){if("default"===key||"__esModule"===key)return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _scan_all_types[key]}})})},857:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var ESTIMATED_NUMBER_OF_SYSTEM_INDICES=exports.ESTIMATED_NUMBER_OF_SYSTEM_INDICES=100;var MAX_NUMBER_OF_MATCHING_INDICES=exports.MAX_NUMBER_OF_MATCHING_INDICES=100;exports.MAX_SEARCH_SIZE=MAX_NUMBER_OF_MATCHING_INDICES+ESTIMATED_NUMBER_OF_SYSTEM_INDICES;exports.PER_PAGE_INCREMENTS=[5,10,20,50]}},[6748]);