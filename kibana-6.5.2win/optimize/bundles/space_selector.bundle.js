/*! Copyright Elasticsearch B.V. and/or license to Elasticsearch B.V. under one or more contributor license agreements
 * Licensed under the Elastic License; you may not use this file except in compliance with the Elastic License. */
webpackJsonp([11],{5131:function(module,exports,__webpack_require__){"use strict";__webpack_require__(132);__webpack_require__(134);__webpack_require__(135);__webpack_require__(136);__webpack_require__(137);__webpack_require__(138);__webpack_require__(139);__webpack_require__(140);__webpack_require__(141);__webpack_require__(142);__webpack_require__(143);__webpack_require__(144);__webpack_require__(145);__webpack_require__(146);__webpack_require__(147);__webpack_require__(148);__webpack_require__(149);__webpack_require__(150);__webpack_require__(151);__webpack_require__(152);__webpack_require__(153);__webpack_require__(154);__webpack_require__(155);__webpack_require__(156);__webpack_require__(157);__webpack_require__(158);__webpack_require__(159);__webpack_require__(160);__webpack_require__(161);__webpack_require__(162);__webpack_require__(163);__webpack_require__(164);__webpack_require__(165);__webpack_require__(166);__webpack_require__(167);__webpack_require__(168);__webpack_require__(169);__webpack_require__(170);__webpack_require__(171);__webpack_require__(172);__webpack_require__(173);__webpack_require__(174);__webpack_require__(175);__webpack_require__(176);__webpack_require__(177);__webpack_require__(178);__webpack_require__(179);__webpack_require__(180);__webpack_require__(181);__webpack_require__(182);__webpack_require__(183);__webpack_require__(110);__webpack_require__(184);__webpack_require__(185);__webpack_require__(186);__webpack_require__(187);__webpack_require__(188);__webpack_require__(189);__webpack_require__(190);__webpack_require__(191);__webpack_require__(192);__webpack_require__(193);__webpack_require__(194);__webpack_require__(195);__webpack_require__(196);__webpack_require__(197);__webpack_require__(198);__webpack_require__(199);__webpack_require__(200);__webpack_require__(201);__webpack_require__(202);__webpack_require__(203);__webpack_require__(204);__webpack_require__(205);__webpack_require__(206);__webpack_require__(207);__webpack_require__(208);__webpack_require__(209);__webpack_require__(210);__webpack_require__(211);__webpack_require__(212);__webpack_require__(213);__webpack_require__(214);__webpack_require__(215);__webpack_require__(216);__webpack_require__(217);__webpack_require__(218);__webpack_require__(219);__webpack_require__(220);__webpack_require__(221);var _i18n=__webpack_require__(18);var _kibanaCore__=__webpack_require__(222);var injectedMetadata=JSON.parse(document.querySelector("kbn-injected-metadata").getAttribute("data"));_i18n.i18n.init(injectedMetadata.legacyMetadata.translations);new _kibanaCore__.CoreSystem({injectedMetadata:injectedMetadata,rootDomElement:document.body,requireLegacyFiles:function requireLegacyFiles(){__webpack_require__(5132)}}).start()},5132:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var spaces_manager_1=__webpack_require__(729);var space_selector_html_1=tslib_1.__importDefault(__webpack_require__(5133));__webpack_require__(366);var chrome_1=tslib_1.__importDefault(__webpack_require__(9));var modules_1=__webpack_require__(3);__webpack_require__(5134);var react_1=tslib_1.__importDefault(__webpack_require__(0));var react_dom_1=__webpack_require__(14);var space_selector_1=__webpack_require__(5135);var _module=modules_1.uiModules.get("spaces_selector",[]);_module.controller("spacesSelectorController",function($scope,$http,spaces,spaceSelectorURL){var domNode=document.getElementById("spaceSelectorRoot");var spacesManager=new spaces_manager_1.SpacesManager($http,chrome_1.default,spaceSelectorURL);react_dom_1.render(react_1.default.createElement(space_selector_1.SpaceSelector,{spaces:spaces,spacesManager:spacesManager}),domNode);$scope.$on("$destroy",function(){domNode&&react_dom_1.unmountComponentAtNode(domNode)})});chrome_1.default.setVisible(false).setRootTemplate(space_selector_html_1.default)},5133:function(module,exports){module.exports='<div ng-controller="spacesSelectorController" id="spaceSelectorRootWrap">\n  <div id="spaceSelectorRoot" />\n</div>\n'},5134:function(module,exports){},5135:function(module,exports,__webpack_require__){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}return Array.from(arr)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var eui_1=__webpack_require__(2);var react_1=tslib_1.__importStar(__webpack_require__(0));var constants_1=__webpack_require__(585);var space_cards_1=__webpack_require__(5136);var SpaceSelector=function(_react_1$Component){_inherits(SpaceSelector,_react_1$Component);function SpaceSelector(props){_classCallCheck(this,SpaceSelector);var _this=_possibleConstructorReturn(this,(SpaceSelector.__proto__||Object.getPrototypeOf(SpaceSelector)).call(this,props));_this.getSearchField=function(){if(!_this.props.spaces||_this.props.spaces.length<constants_1.SPACE_SEARCH_COUNT_THRESHOLD)return null;return react_1.default.createElement(eui_1.EuiFlexItem,{className:"spcSpaceSelector__searchHolder"},react_1.default.createElement(eui_1.EuiFieldSearch,{className:"spcSpaceSelector__searchField",placeholder:"Find a space",incremental:true,onSearch:_this.onSearch}))};_this.onSearch=function(){var searchTerm=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";_this.setState({searchTerm:searchTerm.trim().toLowerCase()})};_this.onSelectSpace=function(space){_this.props.spacesManager.changeSelectedSpace(space)};var state={loading:false,searchTerm:"",spaces:[]};Array.isArray(props.spaces)&&(state.spaces=[].concat(_toConsumableArray(props.spaces)));_this.state=state;return _this}_createClass(SpaceSelector,[{key:"componentDidMount",value:function componentDidMount(){0===this.state.spaces.length&&this.loadSpaces()}},{key:"loadSpaces",value:function loadSpaces(){var _this2=this;this.setState({loading:true});var spacesManager=this.props.spacesManager;spacesManager.getSpaces().then(function(spaces){_this2.setState({loading:false,spaces:spaces})})}},{key:"render",value:function render(){var _state=this.state,spaces=_state.spaces,searchTerm=_state.searchTerm;var filteredSpaces=spaces;searchTerm&&(filteredSpaces=spaces.filter(function(space){return space.name.toLowerCase().indexOf(searchTerm)>=0||(space.description||"").toLowerCase().indexOf(searchTerm)>=0}));return react_1.default.createElement(eui_1.EuiPage,{className:"spcSpaceSelector","data-test-subj":"kibanaSpaceSelector"},react_1.default.createElement(eui_1.EuiPageBody,null,react_1.default.createElement(eui_1.EuiPageHeader,{className:"spcSpaceSelector__heading"},react_1.default.createElement(eui_1.EuiSpacer,{size:"xxl"}),react_1.default.createElement("span",{className:"spcSpaceSelector__logo"},react_1.default.createElement(eui_1.EuiIcon,{size:"xxl",type:"logoKibana"})),react_1.default.createElement(eui_1.EuiTitle,{size:"l"},react_1.default.createElement("h1",null,"Select your space")),react_1.default.createElement(eui_1.EuiText,{size:"s",color:"subdued"},react_1.default.createElement("p",null,"You can change your space at anytime"))),react_1.default.createElement(eui_1.EuiPageContent,{className:"spcSpaceSelector__pageContent"},react_1.default.createElement(eui_1.EuiFlexGroup,{direction:"column",alignItems:"center",responsive:false},this.getSearchField()),react_1.default.createElement(eui_1.EuiSpacer,{size:"xl"}),react_1.default.createElement(space_cards_1.SpaceCards,{spaces:filteredSpaces,onSpaceSelect:this.onSelectSpace}),0===filteredSpaces.length&&react_1.default.createElement(react_1.Fragment,null,react_1.default.createElement(eui_1.EuiSpacer,null),react_1.default.createElement(eui_1.EuiText,{color:"subdued",textAlign:"center"},"No spaces match search criteria")))))}}]);return SpaceSelector}(react_1.Component);exports.SpaceSelector=SpaceSelector},5136:function(module,exports,__webpack_require__){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var eui_1=__webpack_require__(2);var react_1=tslib_1.__importStar(__webpack_require__(0));var space_card_1=__webpack_require__(5137);var SpaceCards=function(_react_1$Component){_inherits(SpaceCards,_react_1$Component);function SpaceCards(){_classCallCheck(this,SpaceCards);var _this=_possibleConstructorReturn(this,(SpaceCards.__proto__||Object.getPrototypeOf(SpaceCards)).apply(this,arguments));_this.renderSpace=function(space){return react_1.default.createElement(eui_1.EuiFlexItem,{key:space.id,grow:false},react_1.default.createElement(space_card_1.SpaceCard,{space:space,onClick:_this.createSpaceClickHandler(space)}))};_this.createSpaceClickHandler=function(space){return function(){_this.props.onSpaceSelect(space)}};return _this}_createClass(SpaceCards,[{key:"render",value:function render(){return react_1.default.createElement("div",{className:"spaceCards"},react_1.default.createElement(eui_1.EuiFlexGroup,{gutterSize:"l",justifyContent:"center",wrap:true,responsive:false},this.props.spaces.map(this.renderSpace)))}}]);return SpaceCards}(react_1.Component);exports.SpaceCards=SpaceCards},5137:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var eui_1=__webpack_require__(2);var react_1=tslib_1.__importDefault(__webpack_require__(0));var components_1=__webpack_require__(329);exports.SpaceCard=function(props){var space=props.space,onClick=props.onClick;return react_1.default.createElement(eui_1.EuiCard,{className:"spaceCard","data-test-subj":"space-card-"+space.id,icon:renderSpaceAvatar(space),title:space.name,description:renderSpaceDescription(space),onClick:onClick})};function renderSpaceAvatar(space){return react_1.default.createElement(components_1.SpaceAvatar,{space:space,size:"l"})}function renderSpaceDescription(space){var description=space.description||"";var needsTruncation=description.length>120;needsTruncation&&(description=description.substr(0,120)+"…");return react_1.default.createElement("span",{title:description,className:"eui-textBreakWord euiTextColor--subdued"},description)}}},[5131]);